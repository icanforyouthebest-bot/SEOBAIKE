var Afe=Object.defineProperty;var P$=e=>{throw TypeError(e)};var Pfe=(e,t,n)=>t in e?Afe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ix=(e,t,n)=>Pfe(e,typeof t!="symbol"?t+"":t,n),dE=(e,t,n)=>t.has(e)||P$("Cannot "+n);var J=(e,t,n)=>(dE(e,t,"read from private field"),n?n.call(e):t.get(e)),ht=(e,t,n)=>t.has(e)?P$("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ze=(e,t,n,r)=>(dE(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Kt=(e,t,n)=>(dE(e,t,"access private method"),n);var yw=(e,t,n,r)=>({set _(i){ze(e,t,i,n)},get _(){return J(e,t,r)}});function Ife(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function un(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $K={exports:{}},Ek={},FK={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb=Symbol.for("react.element"),Ofe=Symbol.for("react.portal"),Rfe=Symbol.for("react.fragment"),Mfe=Symbol.for("react.strict_mode"),Dfe=Symbol.for("react.profiler"),Lfe=Symbol.for("react.provider"),$fe=Symbol.for("react.context"),Ffe=Symbol.for("react.forward_ref"),Bfe=Symbol.for("react.suspense"),Ufe=Symbol.for("react.memo"),zfe=Symbol.for("react.lazy"),I$=Symbol.iterator;function Vfe(e){return e===null||typeof e!="object"?null:(e=I$&&e[I$]||e["@@iterator"],typeof e=="function"?e:null)}var BK={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UK=Object.assign,zK={};function Ug(e,t,n){this.props=e,this.context=t,this.refs=zK,this.updater=n||BK}Ug.prototype.isReactComponent={};Ug.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ug.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VK(){}VK.prototype=Ug.prototype;function k4(e,t,n){this.props=e,this.context=t,this.refs=zK,this.updater=n||BK}var _4=k4.prototype=new VK;_4.constructor=k4;UK(_4,Ug.prototype);_4.isPureReactComponent=!0;var O$=Array.isArray,qK=Object.prototype.hasOwnProperty,C4={current:null},WK={key:!0,ref:!0,__self:!0,__source:!0};function HK(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)qK.call(t,r)&&!WK.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:gb,type:e,key:a,ref:o,props:i,_owner:C4.current}}function qfe(e,t){return{$$typeof:gb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function E4(e){return typeof e=="object"&&e!==null&&e.$$typeof===gb}function Wfe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var R$=/\/+/g;function uE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wfe(""+e.key):t.toString(36)}function B1(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gb:case Ofe:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+uE(o,0):r,O$(i)?(n="",e!=null&&(n=e.replace(R$,"$&/")+"/"),B1(i,t,n,"",function(d){return d})):i!=null&&(E4(i)&&(i=qfe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(R$,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",O$(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+uE(a,l);o+=B1(a,t,n,c,i)}else if(c=Vfe(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+uE(a,l++),o+=B1(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vw(e,t,n){if(e==null)return e;var r=[],i=0;return B1(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Hfe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var oi={current:null},U1={transition:null},Kfe={ReactCurrentDispatcher:oi,ReactCurrentBatchConfig:U1,ReactCurrentOwner:C4};function KK(){throw Error("act(...) is not supported in production builds of React.")}Vt.Children={map:vw,forEach:function(e,t,n){vw(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vw(e,function(){t++}),t},toArray:function(e){return vw(e,function(t){return t})||[]},only:function(e){if(!E4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vt.Component=Ug;Vt.Fragment=Rfe;Vt.Profiler=Dfe;Vt.PureComponent=k4;Vt.StrictMode=Mfe;Vt.Suspense=Bfe;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kfe;Vt.act=KK;Vt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=UK({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=C4.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)qK.call(t,c)&&!WK.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:gb,type:e.type,key:i,ref:a,props:r,_owner:o}};Vt.createContext=function(e){return e={$$typeof:$fe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Lfe,_context:e},e.Consumer=e};Vt.createElement=HK;Vt.createFactory=function(e){var t=HK.bind(null,e);return t.type=e,t};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(e){return{$$typeof:Ffe,render:e}};Vt.isValidElement=E4;Vt.lazy=function(e){return{$$typeof:zfe,_payload:{_status:-1,_result:e},_init:Hfe}};Vt.memo=function(e,t){return{$$typeof:Ufe,type:e,compare:t===void 0?null:t}};Vt.startTransition=function(e){var t=U1.transition;U1.transition={};try{e()}finally{U1.transition=t}};Vt.unstable_act=KK;Vt.useCallback=function(e,t){return oi.current.useCallback(e,t)};Vt.useContext=function(e){return oi.current.useContext(e)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(e){return oi.current.useDeferredValue(e)};Vt.useEffect=function(e,t){return oi.current.useEffect(e,t)};Vt.useId=function(){return oi.current.useId()};Vt.useImperativeHandle=function(e,t,n){return oi.current.useImperativeHandle(e,t,n)};Vt.useInsertionEffect=function(e,t){return oi.current.useInsertionEffect(e,t)};Vt.useLayoutEffect=function(e,t){return oi.current.useLayoutEffect(e,t)};Vt.useMemo=function(e,t){return oi.current.useMemo(e,t)};Vt.useReducer=function(e,t,n){return oi.current.useReducer(e,t,n)};Vt.useRef=function(e){return oi.current.useRef(e)};Vt.useState=function(e){return oi.current.useState(e)};Vt.useSyncExternalStore=function(e,t,n){return oi.current.useSyncExternalStore(e,t,n)};Vt.useTransition=function(){return oi.current.useTransition()};Vt.version="18.3.1";FK.exports=Vt;var x=FK.exports;const V=un(x),T4=Ife({__proto__:null,default:V},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gfe=x,Yfe=Symbol.for("react.element"),Xfe=Symbol.for("react.fragment"),Jfe=Object.prototype.hasOwnProperty,Qfe=Gfe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zfe={key:!0,ref:!0,__self:!0,__source:!0};function GK(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Jfe.call(t,r)&&!Zfe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Yfe,type:e,key:a,ref:o,props:i,_owner:Qfe.current}}Ek.Fragment=Xfe;Ek.jsx=GK;Ek.jsxs=GK;$K.exports=Ek;var s=$K.exports,YK={exports:{}},ga={},XK={exports:{}},JK={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,L){var I=O.length;O.push(L);e:for(;0<I;){var z=I-1>>>1,H=O[z];if(0<i(H,L))O[z]=L,O[I]=H,I=z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],I=O.pop();if(I!==L){O[0]=I;e:for(var z=0,H=O.length,U=H>>>1;z<U;){var X=2*(z+1)-1,le=O[X],de=X+1,oe=O[de];if(0>i(le,I))de<H&&0>i(oe,le)?(O[z]=oe,O[de]=I,z=de):(O[z]=le,O[X]=I,z=X);else if(de<H&&0>i(oe,I))O[z]=oe,O[de]=I,z=de;else break e}}return L}function i(O,L){var I=O.sortIndex-L.sortIndex;return I!==0?I:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=O)r(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(d)}}function S(O){if(g=!1,w(O),!p)if(n(c)!==null)p=!0,M(j);else{var L=n(d);L!==null&&F(S,L.startTime-O)}}function j(O,L){p=!1,g&&(g=!1,v(_),_=-1),f=!0;var I=m;try{for(w(L),h=n(c);h!==null&&(!(h.expirationTime>L)||O&&!A());){var z=h.callback;if(typeof z=="function"){h.callback=null,m=h.priorityLevel;var H=z(h.expirationTime<=L);L=e.unstable_now(),typeof H=="function"?h.callback=H:h===n(c)&&r(c),w(L)}else r(c);h=n(c)}if(h!==null)var U=!0;else{var X=n(d);X!==null&&F(S,X.startTime-L),U=!1}return U}finally{h=null,m=I,f=!1}}var N=!1,k=null,_=-1,C=5,T=-1;function A(){return!(e.unstable_now()-T<C)}function P(){if(k!==null){var O=e.unstable_now();T=O;var L=!0;try{L=k(!0,O)}finally{L?R():(N=!1,k=null)}}else N=!1}var R;if(typeof b=="function")R=function(){b(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=P,R=function(){$.postMessage(null)}}else R=function(){y(P,0)};function M(O){k=O,N||(N=!0,R())}function F(O,L){_=y(function(){O(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,M(j))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var I=m;m=L;try{return O()}finally{m=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=m;m=O;try{return L()}finally{m=I}},e.unstable_scheduleCallback=function(O,L,I){var z=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?z+I:z):I=z,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=I+H,O={id:u++,callback:L,priorityLevel:O,startTime:I,expirationTime:H,sortIndex:-1},I>z?(O.sortIndex=I,t(d,O),n(c)===null&&O===n(d)&&(g?(v(_),_=-1):g=!0,F(S,I-z))):(O.sortIndex=H,t(c,O),p||f||(p=!0,M(j))),O},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(O){var L=m;return function(){var I=m;m=L;try{return O.apply(this,arguments)}finally{m=I}}}})(JK);XK.exports=JK;var epe=XK.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tpe=x,da=epe;function we(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QK=new Set,wv={};function km(e,t){Mp(e,t),Mp(e+"Capture",t)}function Mp(e,t){for(wv[e]=t,e=0;e<t.length;e++)QK.add(t[e])}var bc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dA=Object.prototype.hasOwnProperty,npe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M$={},D$={};function rpe(e){return dA.call(D$,e)?!0:dA.call(M$,e)?!1:npe.test(e)?D$[e]=!0:(M$[e]=!0,!1)}function spe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ipe(e,t,n,r){if(t===null||typeof t>"u"||spe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function li(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var _s={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_s[e]=new li(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_s[t]=new li(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_s[e]=new li(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_s[e]=new li(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_s[e]=new li(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_s[e]=new li(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_s[e]=new li(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_s[e]=new li(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_s[e]=new li(e,5,!1,e.toLowerCase(),null,!1,!1)});var A4=/[\-:]([a-z])/g;function P4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A4,P4);_s[t]=new li(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A4,P4);_s[t]=new li(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A4,P4);_s[t]=new li(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_s[e]=new li(e,1,!1,e.toLowerCase(),null,!1,!1)});_s.xlinkHref=new li("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_s[e]=new li(e,1,!1,e.toLowerCase(),null,!0,!0)});function I4(e,t,n,r){var i=_s.hasOwnProperty(t)?_s[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ipe(t,n,i,r)&&(n=null),r||i===null?rpe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fc=tpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bw=Symbol.for("react.element"),yf=Symbol.for("react.portal"),vf=Symbol.for("react.fragment"),O4=Symbol.for("react.strict_mode"),uA=Symbol.for("react.profiler"),ZK=Symbol.for("react.provider"),eG=Symbol.for("react.context"),R4=Symbol.for("react.forward_ref"),hA=Symbol.for("react.suspense"),mA=Symbol.for("react.suspense_list"),M4=Symbol.for("react.memo"),dd=Symbol.for("react.lazy"),tG=Symbol.for("react.offscreen"),L$=Symbol.iterator;function Ox(e){return e===null||typeof e!="object"?null:(e=L$&&e[L$]||e["@@iterator"],typeof e=="function"?e:null)}var ur=Object.assign,hE;function jy(e){if(hE===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hE=t&&t[1]||""}return`
`+hE+e}var mE=!1;function fE(e,t){if(!e||mE)return"";mE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{mE=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jy(e):""}function ape(e){switch(e.tag){case 5:return jy(e.type);case 16:return jy("Lazy");case 13:return jy("Suspense");case 19:return jy("SuspenseList");case 0:case 2:case 15:return e=fE(e.type,!1),e;case 11:return e=fE(e.type.render,!1),e;case 1:return e=fE(e.type,!0),e;default:return""}}function fA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vf:return"Fragment";case yf:return"Portal";case uA:return"Profiler";case O4:return"StrictMode";case hA:return"Suspense";case mA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eG:return(e.displayName||"Context")+".Consumer";case ZK:return(e._context.displayName||"Context")+".Provider";case R4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M4:return t=e.displayName||null,t!==null?t:fA(e.type)||"Memo";case dd:t=e._payload,e=e._init;try{return fA(e(t))}catch{}}return null}function ope(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fA(t);case 8:return t===O4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nG(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lpe(e){var t=nG(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ww(e){e._valueTracker||(e._valueTracker=lpe(e))}function rG(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nG(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Lj(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pA(e,t){var n=t.checked;return ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $$(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=lu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sG(e,t){t=t.checked,t!=null&&I4(e,"checked",t,!1)}function gA(e,t){sG(e,t);var n=lu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xA(e,t.type,n):t.hasOwnProperty("defaultValue")&&xA(e,t.type,lu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function F$(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xA(e,t,n){(t!=="number"||Lj(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sy=Array.isArray;function Gf(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+lu(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function yA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(we(91));return ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function B$(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(we(92));if(Sy(n)){if(1<n.length)throw Error(we(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:lu(n)}}function iG(e,t){var n=lu(t.value),r=lu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function U$(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function aG(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?aG(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jw,oG=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jw=jw||document.createElement("div"),jw.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jw.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cpe=["Webkit","ms","Moz","O"];Object.keys(Fy).forEach(function(e){cpe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fy[t]=Fy[e]})});function lG(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fy.hasOwnProperty(e)&&Fy[e]?(""+t).trim():t+"px"}function cG(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lG(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var dpe=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bA(e,t){if(t){if(dpe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(we(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(we(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(we(61))}if(t.style!=null&&typeof t.style!="object")throw Error(we(62))}}function wA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jA=null;function D4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var SA=null,Yf=null,Xf=null;function z$(e){if(e=vb(e)){if(typeof SA!="function")throw Error(we(280));var t=e.stateNode;t&&(t=Ok(t),SA(e.stateNode,e.type,t))}}function dG(e){Yf?Xf?Xf.push(e):Xf=[e]:Yf=e}function uG(){if(Yf){var e=Yf,t=Xf;if(Xf=Yf=null,z$(e),t)for(e=0;e<t.length;e++)z$(t[e])}}function hG(e,t){return e(t)}function mG(){}var pE=!1;function fG(e,t,n){if(pE)return e(t,n);pE=!0;try{return hG(e,t,n)}finally{pE=!1,(Yf!==null||Xf!==null)&&(mG(),uG())}}function Sv(e,t){var n=e.stateNode;if(n===null)return null;var r=Ok(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(we(231,t,typeof n));return n}var NA=!1;if(bc)try{var Rx={};Object.defineProperty(Rx,"passive",{get:function(){NA=!0}}),window.addEventListener("test",Rx,Rx),window.removeEventListener("test",Rx,Rx)}catch{NA=!1}function upe(e,t,n,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var By=!1,$j=null,Fj=!1,kA=null,hpe={onError:function(e){By=!0,$j=e}};function mpe(e,t,n,r,i,a,o,l,c){By=!1,$j=null,upe.apply(hpe,arguments)}function fpe(e,t,n,r,i,a,o,l,c){if(mpe.apply(this,arguments),By){if(By){var d=$j;By=!1,$j=null}else throw Error(we(198));Fj||(Fj=!0,kA=d)}}function _m(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pG(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function V$(e){if(_m(e)!==e)throw Error(we(188))}function ppe(e){var t=e.alternate;if(!t){if(t=_m(e),t===null)throw Error(we(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return V$(i),e;if(a===r)return V$(i),t;a=a.sibling}throw Error(we(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(we(189))}}if(n.alternate!==r)throw Error(we(190))}if(n.tag!==3)throw Error(we(188));return n.stateNode.current===n?e:t}function gG(e){return e=ppe(e),e!==null?xG(e):null}function xG(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xG(e);if(t!==null)return t;e=e.sibling}return null}var yG=da.unstable_scheduleCallback,q$=da.unstable_cancelCallback,gpe=da.unstable_shouldYield,xpe=da.unstable_requestPaint,Cr=da.unstable_now,ype=da.unstable_getCurrentPriorityLevel,L4=da.unstable_ImmediatePriority,vG=da.unstable_UserBlockingPriority,Bj=da.unstable_NormalPriority,vpe=da.unstable_LowPriority,bG=da.unstable_IdlePriority,Tk=null,ul=null;function bpe(e){if(ul&&typeof ul.onCommitFiberRoot=="function")try{ul.onCommitFiberRoot(Tk,e,void 0,(e.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:Spe,wpe=Math.log,jpe=Math.LN2;function Spe(e){return e>>>=0,e===0?32:31-(wpe(e)/jpe|0)|0}var Sw=64,Nw=4194304;function Ny(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Uj(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ny(l):(a&=o,a!==0&&(r=Ny(a)))}else o=n&~i,o!==0?r=Ny(o):a!==0&&(r=Ny(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Oo(t),i=1<<n,r|=e[n],t&=~i;return r}function Npe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kpe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Oo(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=Npe(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function _A(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wG(){var e=Sw;return Sw<<=1,!(Sw&4194240)&&(Sw=64),e}function gE(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xb(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Oo(t),e[t]=n}function _pe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Oo(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function $4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Oo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wn=0;function jG(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SG,F4,NG,kG,_G,CA=!1,kw=[],Fd=null,Bd=null,Ud=null,Nv=new Map,kv=new Map,xd=[],Cpe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W$(e,t){switch(e){case"focusin":case"focusout":Fd=null;break;case"dragenter":case"dragleave":Bd=null;break;case"mouseover":case"mouseout":Ud=null;break;case"pointerover":case"pointerout":Nv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kv.delete(t.pointerId)}}function Mx(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=vb(t),t!==null&&F4(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Epe(e,t,n,r,i){switch(t){case"focusin":return Fd=Mx(Fd,e,t,n,r,i),!0;case"dragenter":return Bd=Mx(Bd,e,t,n,r,i),!0;case"mouseover":return Ud=Mx(Ud,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nv.set(a,Mx(Nv.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,kv.set(a,Mx(kv.get(a)||null,e,t,n,r,i)),!0}return!1}function CG(e){var t=vh(e.target);if(t!==null){var n=_m(t);if(n!==null){if(t=n.tag,t===13){if(t=pG(n),t!==null){e.blockedOn=t,_G(e.priority,function(){NG(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function z1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=EA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jA=r,n.target.dispatchEvent(r),jA=null}else return t=vb(n),t!==null&&F4(t),e.blockedOn=n,!1;t.shift()}return!0}function H$(e,t,n){z1(e)&&n.delete(t)}function Tpe(){CA=!1,Fd!==null&&z1(Fd)&&(Fd=null),Bd!==null&&z1(Bd)&&(Bd=null),Ud!==null&&z1(Ud)&&(Ud=null),Nv.forEach(H$),kv.forEach(H$)}function Dx(e,t){e.blockedOn===t&&(e.blockedOn=null,CA||(CA=!0,da.unstable_scheduleCallback(da.unstable_NormalPriority,Tpe)))}function _v(e){function t(i){return Dx(i,e)}if(0<kw.length){Dx(kw[0],e);for(var n=1;n<kw.length;n++){var r=kw[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fd!==null&&Dx(Fd,e),Bd!==null&&Dx(Bd,e),Ud!==null&&Dx(Ud,e),Nv.forEach(t),kv.forEach(t),n=0;n<xd.length;n++)r=xd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xd.length&&(n=xd[0],n.blockedOn===null);)CG(n),n.blockedOn===null&&xd.shift()}var Jf=Fc.ReactCurrentBatchConfig,zj=!0;function Ape(e,t,n,r){var i=wn,a=Jf.transition;Jf.transition=null;try{wn=1,B4(e,t,n,r)}finally{wn=i,Jf.transition=a}}function Ppe(e,t,n,r){var i=wn,a=Jf.transition;Jf.transition=null;try{wn=4,B4(e,t,n,r)}finally{wn=i,Jf.transition=a}}function B4(e,t,n,r){if(zj){var i=EA(e,t,n,r);if(i===null)_E(e,t,r,Vj,n),W$(e,r);else if(Epe(i,e,t,n,r))r.stopPropagation();else if(W$(e,r),t&4&&-1<Cpe.indexOf(e)){for(;i!==null;){var a=vb(i);if(a!==null&&SG(a),a=EA(e,t,n,r),a===null&&_E(e,t,r,Vj,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else _E(e,t,r,null,n)}}var Vj=null;function EA(e,t,n,r){if(Vj=null,e=D4(r),e=vh(e),e!==null)if(t=_m(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pG(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vj=e,null}function EG(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ype()){case L4:return 1;case vG:return 4;case Bj:case vpe:return 16;case bG:return 536870912;default:return 16}default:return 16}}var Pd=null,U4=null,V1=null;function TG(){if(V1)return V1;var e,t=U4,n=t.length,r,i="value"in Pd?Pd.value:Pd.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return V1=i.slice(e,1<r?1-r:void 0)}function q1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _w(){return!0}function K$(){return!1}function xa(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?_w:K$,this.isPropagationStopped=K$,this}return ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_w)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_w)},persist:function(){},isPersistent:_w}),t}var zg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z4=xa(zg),yb=ur({},zg,{view:0,detail:0}),Ipe=xa(yb),xE,yE,Lx,Ak=ur({},yb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lx&&(Lx&&e.type==="mousemove"?(xE=e.screenX-Lx.screenX,yE=e.screenY-Lx.screenY):yE=xE=0,Lx=e),xE)},movementY:function(e){return"movementY"in e?e.movementY:yE}}),G$=xa(Ak),Ope=ur({},Ak,{dataTransfer:0}),Rpe=xa(Ope),Mpe=ur({},yb,{relatedTarget:0}),vE=xa(Mpe),Dpe=ur({},zg,{animationName:0,elapsedTime:0,pseudoElement:0}),Lpe=xa(Dpe),$pe=ur({},zg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fpe=xa($pe),Bpe=ur({},zg,{data:0}),Y$=xa(Bpe),Upe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zpe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vpe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qpe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vpe[e])?!!t[e]:!1}function V4(){return qpe}var Wpe=ur({},yb,{key:function(e){if(e.key){var t=Upe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=q1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zpe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V4,charCode:function(e){return e.type==="keypress"?q1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?q1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hpe=xa(Wpe),Kpe=ur({},Ak,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X$=xa(Kpe),Gpe=ur({},yb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V4}),Ype=xa(Gpe),Xpe=ur({},zg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jpe=xa(Xpe),Qpe=ur({},Ak,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zpe=xa(Qpe),ege=[9,13,27,32],q4=bc&&"CompositionEvent"in window,Uy=null;bc&&"documentMode"in document&&(Uy=document.documentMode);var tge=bc&&"TextEvent"in window&&!Uy,AG=bc&&(!q4||Uy&&8<Uy&&11>=Uy),J$=" ",Q$=!1;function PG(e,t){switch(e){case"keyup":return ege.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IG(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bf=!1;function nge(e,t){switch(e){case"compositionend":return IG(t);case"keypress":return t.which!==32?null:(Q$=!0,J$);case"textInput":return e=t.data,e===J$&&Q$?null:e;default:return null}}function rge(e,t){if(bf)return e==="compositionend"||!q4&&PG(e,t)?(e=TG(),V1=U4=Pd=null,bf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AG&&t.locale!=="ko"?null:t.data;default:return null}}var sge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z$(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sge[e.type]:t==="textarea"}function OG(e,t,n,r){dG(r),t=qj(t,"onChange"),0<t.length&&(n=new z4("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zy=null,Cv=null;function ige(e){qG(e,0)}function Pk(e){var t=Sf(e);if(rG(t))return e}function age(e,t){if(e==="change")return t}var RG=!1;if(bc){var bE;if(bc){var wE="oninput"in document;if(!wE){var e6=document.createElement("div");e6.setAttribute("oninput","return;"),wE=typeof e6.oninput=="function"}bE=wE}else bE=!1;RG=bE&&(!document.documentMode||9<document.documentMode)}function t6(){zy&&(zy.detachEvent("onpropertychange",MG),Cv=zy=null)}function MG(e){if(e.propertyName==="value"&&Pk(Cv)){var t=[];OG(t,Cv,e,D4(e)),fG(ige,t)}}function oge(e,t,n){e==="focusin"?(t6(),zy=t,Cv=n,zy.attachEvent("onpropertychange",MG)):e==="focusout"&&t6()}function lge(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pk(Cv)}function cge(e,t){if(e==="click")return Pk(t)}function dge(e,t){if(e==="input"||e==="change")return Pk(t)}function uge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fo=typeof Object.is=="function"?Object.is:uge;function Ev(e,t){if(Fo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dA.call(t,i)||!Fo(e[i],t[i]))return!1}return!0}function n6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r6(e,t){var n=n6(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n6(n)}}function DG(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?DG(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function LG(){for(var e=window,t=Lj();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lj(e.document)}return t}function W4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hge(e){var t=LG(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&DG(n.ownerDocument.documentElement,n)){if(r!==null&&W4(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=r6(n,a);var o=r6(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mge=bc&&"documentMode"in document&&11>=document.documentMode,wf=null,TA=null,Vy=null,AA=!1;function s6(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;AA||wf==null||wf!==Lj(r)||(r=wf,"selectionStart"in r&&W4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vy&&Ev(Vy,r)||(Vy=r,r=qj(TA,"onSelect"),0<r.length&&(t=new z4("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wf)))}function Cw(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jf={animationend:Cw("Animation","AnimationEnd"),animationiteration:Cw("Animation","AnimationIteration"),animationstart:Cw("Animation","AnimationStart"),transitionend:Cw("Transition","TransitionEnd")},jE={},$G={};bc&&($G=document.createElement("div").style,"AnimationEvent"in window||(delete jf.animationend.animation,delete jf.animationiteration.animation,delete jf.animationstart.animation),"TransitionEvent"in window||delete jf.transitionend.transition);function Ik(e){if(jE[e])return jE[e];if(!jf[e])return e;var t=jf[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $G)return jE[e]=t[n];return e}var FG=Ik("animationend"),BG=Ik("animationiteration"),UG=Ik("animationstart"),zG=Ik("transitionend"),VG=new Map,i6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eu(e,t){VG.set(e,t),km(t,[e])}for(var SE=0;SE<i6.length;SE++){var NE=i6[SE],fge=NE.toLowerCase(),pge=NE[0].toUpperCase()+NE.slice(1);Eu(fge,"on"+pge)}Eu(FG,"onAnimationEnd");Eu(BG,"onAnimationIteration");Eu(UG,"onAnimationStart");Eu("dblclick","onDoubleClick");Eu("focusin","onFocus");Eu("focusout","onBlur");Eu(zG,"onTransitionEnd");Mp("onMouseEnter",["mouseout","mouseover"]);Mp("onMouseLeave",["mouseout","mouseover"]);Mp("onPointerEnter",["pointerout","pointerover"]);Mp("onPointerLeave",["pointerout","pointerover"]);km("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));km("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));km("onBeforeInput",["compositionend","keypress","textInput","paste"]);km("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));km("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));km("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ky="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gge=new Set("cancel close invalid load scroll toggle".split(" ").concat(ky));function a6(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fpe(r,t,void 0,e),e.currentTarget=null}function qG(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;a6(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;a6(i,l,d),a=c}}}if(Fj)throw e=kA,Fj=!1,kA=null,e}function qn(e,t){var n=t[MA];n===void 0&&(n=t[MA]=new Set);var r=e+"__bubble";n.has(r)||(WG(t,e,2,!1),n.add(r))}function kE(e,t,n){var r=0;t&&(r|=4),WG(n,e,r,t)}var Ew="_reactListening"+Math.random().toString(36).slice(2);function Tv(e){if(!e[Ew]){e[Ew]=!0,QK.forEach(function(n){n!=="selectionchange"&&(gge.has(n)||kE(n,!1,e),kE(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ew]||(t[Ew]=!0,kE("selectionchange",!1,t))}}function WG(e,t,n,r){switch(EG(t)){case 1:var i=Ape;break;case 4:i=Ppe;break;default:i=B4}n=i.bind(null,t,n,e),i=void 0,!NA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function _E(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=vh(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}fG(function(){var d=a,u=D4(n),h=[];e:{var m=VG.get(e);if(m!==void 0){var f=z4,p=e;switch(e){case"keypress":if(q1(n)===0)break e;case"keydown":case"keyup":f=Hpe;break;case"focusin":p="focus",f=vE;break;case"focusout":p="blur",f=vE;break;case"beforeblur":case"afterblur":f=vE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=G$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Rpe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ype;break;case FG:case BG:case UG:f=Lpe;break;case zG:f=Jpe;break;case"scroll":f=Ipe;break;case"wheel":f=Zpe;break;case"copy":case"cut":case"paste":f=Fpe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=X$}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?m!==null?m+"Capture":null:m;g=[];for(var b=d,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=Sv(b,v),S!=null&&g.push(Av(b,S,w)))),y)break;b=b.return}0<g.length&&(m=new f(m,p,null,n,u),h.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&n!==jA&&(p=n.relatedTarget||n.fromElement)&&(vh(p)||p[wc]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=d,p=p?vh(p):null,p!==null&&(y=_m(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=d),f!==p)){if(g=G$,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=X$,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=f==null?m:Sf(f),w=p==null?m:Sf(p),m=new g(S,b+"leave",f,n,u),m.target=y,m.relatedTarget=w,S=null,vh(u)===d&&(g=new g(v,b+"enter",p,n,u),g.target=w,g.relatedTarget=y,S=g),y=S,f&&p)t:{for(g=f,v=p,b=0,w=g;w;w=zm(w))b++;for(w=0,S=v;S;S=zm(S))w++;for(;0<b-w;)g=zm(g),b--;for(;0<w-b;)v=zm(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=zm(g),v=zm(v)}g=null}else g=null;f!==null&&o6(h,m,f,g,!1),p!==null&&y!==null&&o6(h,y,p,g,!0)}}e:{if(m=d?Sf(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var j=age;else if(Z$(m))if(RG)j=dge;else{j=lge;var N=oge}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=cge);if(j&&(j=j(e,d))){OG(h,j,n,u);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&xA(m,"number",m.value)}switch(N=d?Sf(d):window,e){case"focusin":(Z$(N)||N.contentEditable==="true")&&(wf=N,TA=d,Vy=null);break;case"focusout":Vy=TA=wf=null;break;case"mousedown":AA=!0;break;case"contextmenu":case"mouseup":case"dragend":AA=!1,s6(h,n,u);break;case"selectionchange":if(mge)break;case"keydown":case"keyup":s6(h,n,u)}var k;if(q4)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else bf?PG(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(AG&&n.locale!=="ko"&&(bf||_!=="onCompositionStart"?_==="onCompositionEnd"&&bf&&(k=TG()):(Pd=u,U4="value"in Pd?Pd.value:Pd.textContent,bf=!0)),N=qj(d,_),0<N.length&&(_=new Y$(_,e,null,n,u),h.push({event:_,listeners:N}),k?_.data=k:(k=IG(n),k!==null&&(_.data=k)))),(k=tge?nge(e,n):rge(e,n))&&(d=qj(d,"onBeforeInput"),0<d.length&&(u=new Y$("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=k))}qG(h,t)})}function Av(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qj(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Sv(e,n),a!=null&&r.unshift(Av(e,a,i)),a=Sv(e,t),a!=null&&r.push(Av(e,a,i))),e=e.return}return r}function zm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function o6(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Sv(n,a),c!=null&&o.unshift(Av(n,c,l))):i||(c=Sv(n,a),c!=null&&o.push(Av(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var xge=/\r\n?/g,yge=/\u0000|\uFFFD/g;function l6(e){return(typeof e=="string"?e:""+e).replace(xge,`
`).replace(yge,"")}function Tw(e,t,n){if(t=l6(t),l6(e)!==t&&n)throw Error(we(425))}function Wj(){}var PA=null,IA=null;function OA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var RA=typeof setTimeout=="function"?setTimeout:void 0,vge=typeof clearTimeout=="function"?clearTimeout:void 0,c6=typeof Promise=="function"?Promise:void 0,bge=typeof queueMicrotask=="function"?queueMicrotask:typeof c6<"u"?function(e){return c6.resolve(null).then(e).catch(wge)}:RA;function wge(e){setTimeout(function(){throw e})}function CE(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),_v(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_v(t)}function zd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function d6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vg=Math.random().toString(36).slice(2),rl="__reactFiber$"+Vg,Pv="__reactProps$"+Vg,wc="__reactContainer$"+Vg,MA="__reactEvents$"+Vg,jge="__reactListeners$"+Vg,Sge="__reactHandles$"+Vg;function vh(e){var t=e[rl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wc]||n[rl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=d6(e);e!==null;){if(n=e[rl])return n;e=d6(e)}return t}e=n,n=e.parentNode}return null}function vb(e){return e=e[rl]||e[wc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(we(33))}function Ok(e){return e[Pv]||null}var DA=[],Nf=-1;function Tu(e){return{current:e}}function Kn(e){0>Nf||(e.current=DA[Nf],DA[Nf]=null,Nf--)}function Fn(e,t){Nf++,DA[Nf]=e.current,e.current=t}var cu={},Fs=Tu(cu),ki=Tu(!1),Qh=cu;function Dp(e,t){var n=e.type.contextTypes;if(!n)return cu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _i(e){return e=e.childContextTypes,e!=null}function Hj(){Kn(ki),Kn(Fs)}function u6(e,t,n){if(Fs.current!==cu)throw Error(we(168));Fn(Fs,t),Fn(ki,n)}function HG(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(we(108,ope(e)||"Unknown",i));return ur({},n,r)}function Kj(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cu,Qh=Fs.current,Fn(Fs,e),Fn(ki,ki.current),!0}function h6(e,t,n){var r=e.stateNode;if(!r)throw Error(we(169));n?(e=HG(e,t,Qh),r.__reactInternalMemoizedMergedChildContext=e,Kn(ki),Kn(Fs),Fn(Fs,e)):Kn(ki),Fn(ki,n)}var ec=null,Rk=!1,EE=!1;function KG(e){ec===null?ec=[e]:ec.push(e)}function Nge(e){Rk=!0,KG(e)}function Au(){if(!EE&&ec!==null){EE=!0;var e=0,t=wn;try{var n=ec;for(wn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ec=null,Rk=!1}catch(i){throw ec!==null&&(ec=ec.slice(e+1)),yG(L4,Au),i}finally{wn=t,EE=!1}}return null}var kf=[],_f=0,Gj=null,Yj=0,Aa=[],Pa=0,Zh=null,oc=1,lc="";function rh(e,t){kf[_f++]=Yj,kf[_f++]=Gj,Gj=e,Yj=t}function GG(e,t,n){Aa[Pa++]=oc,Aa[Pa++]=lc,Aa[Pa++]=Zh,Zh=e;var r=oc;e=lc;var i=32-Oo(r)-1;r&=~(1<<i),n+=1;var a=32-Oo(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,oc=1<<32-Oo(t)+i|n<<i|r,lc=a+e}else oc=1<<a|n<<i|r,lc=e}function H4(e){e.return!==null&&(rh(e,1),GG(e,1,0))}function K4(e){for(;e===Gj;)Gj=kf[--_f],kf[_f]=null,Yj=kf[--_f],kf[_f]=null;for(;e===Zh;)Zh=Aa[--Pa],Aa[Pa]=null,lc=Aa[--Pa],Aa[Pa]=null,oc=Aa[--Pa],Aa[Pa]=null}var ia=null,na=null,Zn=!1,_o=null;function YG(e,t){var n=Ma(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function m6(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ia=e,na=zd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ia=e,na=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zh!==null?{id:oc,overflow:lc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ma(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ia=e,na=null,!0):!1;default:return!1}}function LA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $A(e){if(Zn){var t=na;if(t){var n=t;if(!m6(e,t)){if(LA(e))throw Error(we(418));t=zd(n.nextSibling);var r=ia;t&&m6(e,t)?YG(r,n):(e.flags=e.flags&-4097|2,Zn=!1,ia=e)}}else{if(LA(e))throw Error(we(418));e.flags=e.flags&-4097|2,Zn=!1,ia=e}}}function f6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ia=e}function Aw(e){if(e!==ia)return!1;if(!Zn)return f6(e),Zn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!OA(e.type,e.memoizedProps)),t&&(t=na)){if(LA(e))throw XG(),Error(we(418));for(;t;)YG(e,t),t=zd(t.nextSibling)}if(f6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(we(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){na=zd(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}na=null}}else na=ia?zd(e.stateNode.nextSibling):null;return!0}function XG(){for(var e=na;e;)e=zd(e.nextSibling)}function Lp(){na=ia=null,Zn=!1}function G4(e){_o===null?_o=[e]:_o.push(e)}var kge=Fc.ReactCurrentBatchConfig;function $x(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(we(309));var r=n.stateNode}if(!r)throw Error(we(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(we(284));if(!n._owner)throw Error(we(290,e))}return e}function Pw(e,t){throw e=Object.prototype.toString.call(t),Error(we(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function p6(e){var t=e._init;return t(e._payload)}function JG(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Hd(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,w,S){return b===null||b.tag!==6?(b=ME(w,v.mode,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function c(v,b,w,S){var j=w.type;return j===vf?u(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===dd&&p6(j)===b.type)?(S=i(b,w.props),S.ref=$x(v,b,w),S.return=v,S):(S=J1(w.type,w.key,w.props,null,v.mode,S),S.ref=$x(v,b,w),S.return=v,S)}function d(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=DE(w,v.mode,S),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function u(v,b,w,S,j){return b===null||b.tag!==7?(b=Uh(w,v.mode,S,j),b.return=v,b):(b=i(b,w),b.return=v,b)}function h(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ME(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bw:return w=J1(b.type,b.key,b.props,null,v.mode,w),w.ref=$x(v,null,b),w.return=v,w;case yf:return b=DE(b,v.mode,w),b.return=v,b;case dd:var S=b._init;return h(v,S(b._payload),w)}if(Sy(b)||Ox(b))return b=Uh(b,v.mode,w,null),b.return=v,b;Pw(v,b)}return null}function m(v,b,w,S){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bw:return w.key===j?c(v,b,w,S):null;case yf:return w.key===j?d(v,b,w,S):null;case dd:return j=w._init,m(v,b,j(w._payload),S)}if(Sy(w)||Ox(w))return j!==null?null:u(v,b,w,S,null);Pw(v,w)}return null}function f(v,b,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,l(b,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bw:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,j);case yf:return v=v.get(S.key===null?w:S.key)||null,d(b,v,S,j);case dd:var N=S._init;return f(v,b,w,N(S._payload),j)}if(Sy(S)||Ox(S))return v=v.get(w)||null,u(b,v,S,j,null);Pw(b,S)}return null}function p(v,b,w,S){for(var j=null,N=null,k=b,_=b=0,C=null;k!==null&&_<w.length;_++){k.index>_?(C=k,k=null):C=k.sibling;var T=m(v,k,w[_],S);if(T===null){k===null&&(k=C);break}e&&k&&T.alternate===null&&t(v,k),b=a(T,b,_),N===null?j=T:N.sibling=T,N=T,k=C}if(_===w.length)return n(v,k),Zn&&rh(v,_),j;if(k===null){for(;_<w.length;_++)k=h(v,w[_],S),k!==null&&(b=a(k,b,_),N===null?j=k:N.sibling=k,N=k);return Zn&&rh(v,_),j}for(k=r(v,k);_<w.length;_++)C=f(k,v,_,w[_],S),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?_:C.key),b=a(C,b,_),N===null?j=C:N.sibling=C,N=C);return e&&k.forEach(function(A){return t(v,A)}),Zn&&rh(v,_),j}function g(v,b,w,S){var j=Ox(w);if(typeof j!="function")throw Error(we(150));if(w=j.call(w),w==null)throw Error(we(151));for(var N=j=null,k=b,_=b=0,C=null,T=w.next();k!==null&&!T.done;_++,T=w.next()){k.index>_?(C=k,k=null):C=k.sibling;var A=m(v,k,T.value,S);if(A===null){k===null&&(k=C);break}e&&k&&A.alternate===null&&t(v,k),b=a(A,b,_),N===null?j=A:N.sibling=A,N=A,k=C}if(T.done)return n(v,k),Zn&&rh(v,_),j;if(k===null){for(;!T.done;_++,T=w.next())T=h(v,T.value,S),T!==null&&(b=a(T,b,_),N===null?j=T:N.sibling=T,N=T);return Zn&&rh(v,_),j}for(k=r(v,k);!T.done;_++,T=w.next())T=f(k,v,_,T.value,S),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?_:T.key),b=a(T,b,_),N===null?j=T:N.sibling=T,N=T);return e&&k.forEach(function(P){return t(v,P)}),Zn&&rh(v,_),j}function y(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===vf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case bw:e:{for(var j=w.key,N=b;N!==null;){if(N.key===j){if(j=w.type,j===vf){if(N.tag===7){n(v,N.sibling),b=i(N,w.props.children),b.return=v,v=b;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===dd&&p6(j)===N.type){n(v,N.sibling),b=i(N,w.props),b.ref=$x(v,N,w),b.return=v,v=b;break e}n(v,N);break}else t(v,N);N=N.sibling}w.type===vf?(b=Uh(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=J1(w.type,w.key,w.props,null,v.mode,S),S.ref=$x(v,b,w),S.return=v,v=S)}return o(v);case yf:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=DE(w,v.mode,S),b.return=v,v=b}return o(v);case dd:return N=w._init,y(v,b,N(w._payload),S)}if(Sy(w))return p(v,b,w,S);if(Ox(w))return g(v,b,w,S);Pw(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=ME(w,v.mode,S),b.return=v,v=b),o(v)):n(v,b)}return y}var $p=JG(!0),QG=JG(!1),Xj=Tu(null),Jj=null,Cf=null,Y4=null;function X4(){Y4=Cf=Jj=null}function J4(e){var t=Xj.current;Kn(Xj),e._currentValue=t}function FA(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qf(e,t){Jj=e,Y4=Cf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bi=!0),e.firstContext=null)}function Wa(e){var t=e._currentValue;if(Y4!==e)if(e={context:e,memoizedValue:t,next:null},Cf===null){if(Jj===null)throw Error(we(308));Cf=e,Jj.dependencies={lanes:0,firstContext:e}}else Cf=Cf.next=e;return t}var bh=null;function Q4(e){bh===null?bh=[e]:bh.push(e)}function ZG(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Q4(t)):(n.next=i.next,i.next=n),t.interleaved=n,jc(e,r)}function jc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ud=!1;function Z4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eY(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vd(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,en&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jc(e,n)}return i=r.interleaved,i===null?(t.next=t,Q4(r)):(t.next=i.next,i.next=t),r.interleaved=t,jc(e,n)}function W1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$4(e,n)}}function g6(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qj(e,t,n,r){var i=e.updateQueue;ud=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,f=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(m=t,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,m);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,m=typeof p=="function"?p.call(f,h,m):p,m==null)break e;h=ur({},h,m);break e;case 2:ud=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);tm|=o,e.lanes=o,e.memoizedState=h}}function x6(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(we(191,i));i.call(r)}}}var bb={},hl=Tu(bb),Iv=Tu(bb),Ov=Tu(bb);function wh(e){if(e===bb)throw Error(we(174));return e}function e5(e,t){switch(Fn(Ov,t),Fn(Iv,e),Fn(hl,bb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vA(t,e)}Kn(hl),Fn(hl,t)}function Fp(){Kn(hl),Kn(Iv),Kn(Ov)}function tY(e){wh(Ov.current);var t=wh(hl.current),n=vA(t,e.type);t!==n&&(Fn(Iv,e),Fn(hl,n))}function t5(e){Iv.current===e&&(Kn(hl),Kn(Iv))}var ir=Tu(0);function Zj(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var TE=[];function n5(){for(var e=0;e<TE.length;e++)TE[e]._workInProgressVersionPrimary=null;TE.length=0}var H1=Fc.ReactCurrentDispatcher,AE=Fc.ReactCurrentBatchConfig,em=0,lr=null,Jr=null,os=null,eS=!1,qy=!1,Rv=0,_ge=0;function Ts(){throw Error(we(321))}function r5(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fo(e[n],t[n]))return!1;return!0}function s5(e,t,n,r,i,a){if(em=a,lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H1.current=e===null||e.memoizedState===null?Age:Pge,e=n(r,i),qy){a=0;do{if(qy=!1,Rv=0,25<=a)throw Error(we(301));a+=1,os=Jr=null,t.updateQueue=null,H1.current=Ige,e=n(r,i)}while(qy)}if(H1.current=tS,t=Jr!==null&&Jr.next!==null,em=0,os=Jr=lr=null,eS=!1,t)throw Error(we(300));return e}function i5(){var e=Rv!==0;return Rv=0,e}function Jo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return os===null?lr.memoizedState=os=e:os=os.next=e,os}function Ha(){if(Jr===null){var e=lr.alternate;e=e!==null?e.memoizedState:null}else e=Jr.next;var t=os===null?lr.memoizedState:os.next;if(t!==null)os=t,Jr=e;else{if(e===null)throw Error(we(310));Jr=e,e={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},os===null?lr.memoizedState=os=e:os=os.next=e}return os}function Mv(e,t){return typeof t=="function"?t(e):t}function PE(e){var t=Ha(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var r=Jr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((em&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,lr.lanes|=u,tm|=u}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Fo(r,t.memoizedState)||(bi=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,lr.lanes|=a,tm|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function IE(e){var t=Ha(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Fo(a,t.memoizedState)||(bi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function nY(){}function rY(e,t){var n=lr,r=Ha(),i=t(),a=!Fo(r.memoizedState,i);if(a&&(r.memoizedState=i,bi=!0),r=r.queue,a5(aY.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||os!==null&&os.memoizedState.tag&1){if(n.flags|=2048,Dv(9,iY.bind(null,n,r,i,t),void 0,null),us===null)throw Error(we(349));em&30||sY(n,t,i)}return i}function sY(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function iY(e,t,n,r){t.value=n,t.getSnapshot=r,oY(t)&&lY(e)}function aY(e,t,n){return n(function(){oY(t)&&lY(e)})}function oY(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fo(e,n)}catch{return!0}}function lY(e){var t=jc(e,1);t!==null&&Ro(t,e,1,-1)}function y6(e){var t=Jo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mv,lastRenderedState:e},t.queue=e,e=e.dispatch=Tge.bind(null,lr,e),[t.memoizedState,e]}function Dv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cY(){return Ha().memoizedState}function K1(e,t,n,r){var i=Jo();lr.flags|=e,i.memoizedState=Dv(1|t,n,void 0,r===void 0?null:r)}function Mk(e,t,n,r){var i=Ha();r=r===void 0?null:r;var a=void 0;if(Jr!==null){var o=Jr.memoizedState;if(a=o.destroy,r!==null&&r5(r,o.deps)){i.memoizedState=Dv(t,n,a,r);return}}lr.flags|=e,i.memoizedState=Dv(1|t,n,a,r)}function v6(e,t){return K1(8390656,8,e,t)}function a5(e,t){return Mk(2048,8,e,t)}function dY(e,t){return Mk(4,2,e,t)}function uY(e,t){return Mk(4,4,e,t)}function hY(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mY(e,t,n){return n=n!=null?n.concat([e]):null,Mk(4,4,hY.bind(null,t,e),n)}function o5(){}function fY(e,t){var n=Ha();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&r5(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pY(e,t){var n=Ha();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&r5(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gY(e,t,n){return em&21?(Fo(n,t)||(n=wG(),lr.lanes|=n,tm|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n)}function Cge(e,t){var n=wn;wn=n!==0&&4>n?n:4,e(!0);var r=AE.transition;AE.transition={};try{e(!1),t()}finally{wn=n,AE.transition=r}}function xY(){return Ha().memoizedState}function Ege(e,t,n){var r=Wd(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yY(e))vY(t,n);else if(n=ZG(e,t,n,r),n!==null){var i=ri();Ro(n,e,r,i),bY(n,t,r)}}function Tge(e,t,n){var r=Wd(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yY(e))vY(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Fo(l,o)){var c=t.interleaved;c===null?(i.next=i,Q4(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=ZG(e,t,i,r),n!==null&&(i=ri(),Ro(n,e,r,i),bY(n,t,r))}}function yY(e){var t=e.alternate;return e===lr||t!==null&&t===lr}function vY(e,t){qy=eS=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bY(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$4(e,n)}}var tS={readContext:Wa,useCallback:Ts,useContext:Ts,useEffect:Ts,useImperativeHandle:Ts,useInsertionEffect:Ts,useLayoutEffect:Ts,useMemo:Ts,useReducer:Ts,useRef:Ts,useState:Ts,useDebugValue:Ts,useDeferredValue:Ts,useTransition:Ts,useMutableSource:Ts,useSyncExternalStore:Ts,useId:Ts,unstable_isNewReconciler:!1},Age={readContext:Wa,useCallback:function(e,t){return Jo().memoizedState=[e,t===void 0?null:t],e},useContext:Wa,useEffect:v6,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,K1(4194308,4,hY.bind(null,t,e),n)},useLayoutEffect:function(e,t){return K1(4194308,4,e,t)},useInsertionEffect:function(e,t){return K1(4,2,e,t)},useMemo:function(e,t){var n=Jo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ege.bind(null,lr,e),[r.memoizedState,e]},useRef:function(e){var t=Jo();return e={current:e},t.memoizedState=e},useState:y6,useDebugValue:o5,useDeferredValue:function(e){return Jo().memoizedState=e},useTransition:function(){var e=y6(!1),t=e[0];return e=Cge.bind(null,e[1]),Jo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lr,i=Jo();if(Zn){if(n===void 0)throw Error(we(407));n=n()}else{if(n=t(),us===null)throw Error(we(349));em&30||sY(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,v6(aY.bind(null,r,a,e),[e]),r.flags|=2048,Dv(9,iY.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Jo(),t=us.identifierPrefix;if(Zn){var n=lc,r=oc;n=(r&~(1<<32-Oo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_ge++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pge={readContext:Wa,useCallback:fY,useContext:Wa,useEffect:a5,useImperativeHandle:mY,useInsertionEffect:dY,useLayoutEffect:uY,useMemo:pY,useReducer:PE,useRef:cY,useState:function(){return PE(Mv)},useDebugValue:o5,useDeferredValue:function(e){var t=Ha();return gY(t,Jr.memoizedState,e)},useTransition:function(){var e=PE(Mv)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:nY,useSyncExternalStore:rY,useId:xY,unstable_isNewReconciler:!1},Ige={readContext:Wa,useCallback:fY,useContext:Wa,useEffect:a5,useImperativeHandle:mY,useInsertionEffect:dY,useLayoutEffect:uY,useMemo:pY,useReducer:IE,useRef:cY,useState:function(){return IE(Mv)},useDebugValue:o5,useDeferredValue:function(e){var t=Ha();return Jr===null?t.memoizedState=e:gY(t,Jr.memoizedState,e)},useTransition:function(){var e=IE(Mv)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:nY,useSyncExternalStore:rY,useId:xY,unstable_isNewReconciler:!1};function po(e,t){if(e&&e.defaultProps){t=ur({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function BA(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ur({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dk={isMounted:function(e){return(e=e._reactInternals)?_m(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ri(),i=Wd(e),a=hc(r,i);a.payload=t,n!=null&&(a.callback=n),t=Vd(e,a,i),t!==null&&(Ro(t,e,i,r),W1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ri(),i=Wd(e),a=hc(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Vd(e,a,i),t!==null&&(Ro(t,e,i,r),W1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ri(),r=Wd(e),i=hc(n,r);i.tag=2,t!=null&&(i.callback=t),t=Vd(e,i,r),t!==null&&(Ro(t,e,r,n),W1(t,e,r))}};function b6(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ev(n,r)||!Ev(i,a):!0}function wY(e,t,n){var r=!1,i=cu,a=t.contextType;return typeof a=="object"&&a!==null?a=Wa(a):(i=_i(t)?Qh:Fs.current,r=t.contextTypes,a=(r=r!=null)?Dp(e,i):cu),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dk,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function w6(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dk.enqueueReplaceState(t,t.state,null)}function UA(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Z4(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Wa(a):(a=_i(t)?Qh:Fs.current,i.context=Dp(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(BA(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Dk.enqueueReplaceState(i,i.state,null),Qj(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Bp(e,t){try{var n="",r=t;do n+=ape(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function OE(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zA(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Oge=typeof WeakMap=="function"?WeakMap:Map;function jY(e,t,n){n=hc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rS||(rS=!0,QA=r),zA(e,t)},n}function SY(e,t,n){n=hc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){zA(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){zA(e,t),typeof r!="function"&&(qd===null?qd=new Set([this]):qd.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function j6(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Oge;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Kge.bind(null,e,t,n),t.then(e,e))}function S6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function N6(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hc(-1,1),t.tag=2,Vd(n,t,1))),n.lanes|=1),e)}var Rge=Fc.ReactCurrentOwner,bi=!1;function Hs(e,t,n,r){t.child=e===null?QG(t,null,n,r):$p(t,e.child,n,r)}function k6(e,t,n,r,i){n=n.render;var a=t.ref;return Qf(t,i),r=s5(e,t,n,r,a,i),n=i5(),e!==null&&!bi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sc(e,t,i)):(Zn&&n&&H4(t),t.flags|=1,Hs(e,t,r,i),t.child)}function _6(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!p5(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,NY(e,t,a,r,i)):(e=J1(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ev,n(o,r)&&e.ref===t.ref)return Sc(e,t,i)}return t.flags|=1,e=Hd(a,r),e.ref=t.ref,e.return=t,t.child=e}function NY(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Ev(a,r)&&e.ref===t.ref)if(bi=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(bi=!0);else return t.lanes=e.lanes,Sc(e,t,i)}return VA(e,t,n,r,i)}function kY(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fn(Tf,Wi),Wi|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fn(Tf,Wi),Wi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Fn(Tf,Wi),Wi|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Fn(Tf,Wi),Wi|=r;return Hs(e,t,i,n),t.child}function _Y(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function VA(e,t,n,r,i){var a=_i(n)?Qh:Fs.current;return a=Dp(t,a),Qf(t,i),n=s5(e,t,n,r,a,i),r=i5(),e!==null&&!bi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sc(e,t,i)):(Zn&&r&&H4(t),t.flags|=1,Hs(e,t,n,i),t.child)}function C6(e,t,n,r,i){if(_i(n)){var a=!0;Kj(t)}else a=!1;if(Qf(t,i),t.stateNode===null)G1(e,t),wY(t,n,r),UA(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Wa(d):(d=_i(n)?Qh:Fs.current,d=Dp(t,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&w6(t,o,r,d),ud=!1;var m=t.memoizedState;o.state=m,Qj(t,r,o,i),c=t.memoizedState,l!==r||m!==c||ki.current||ud?(typeof u=="function"&&(BA(t,n,u,r),c=t.memoizedState),(l=ud||b6(t,n,l,r,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,eY(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:po(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Wa(c):(c=_i(n)?Qh:Fs.current,c=Dp(t,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&w6(t,o,r,c),ud=!1,m=t.memoizedState,o.state=m,Qj(t,r,o,i);var p=t.memoizedState;l!==h||m!==p||ki.current||ud?(typeof f=="function"&&(BA(t,n,f,r),p=t.memoizedState),(d=ud||b6(t,n,d,r,m,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return qA(e,t,n,r,a,i)}function qA(e,t,n,r,i,a){_Y(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&h6(t,n,!1),Sc(e,t,a);r=t.stateNode,Rge.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=$p(t,e.child,null,a),t.child=$p(t,null,l,a)):Hs(e,t,l,a),t.memoizedState=r.state,i&&h6(t,n,!0),t.child}function CY(e){var t=e.stateNode;t.pendingContext?u6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&u6(e,t.context,!1),e5(e,t.containerInfo)}function E6(e,t,n,r,i){return Lp(),G4(i),t.flags|=256,Hs(e,t,n,r),t.child}var WA={dehydrated:null,treeContext:null,retryLane:0};function HA(e){return{baseLanes:e,cachePool:null,transitions:null}}function EY(e,t,n){var r=t.pendingProps,i=ir.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fn(ir,i&1),e===null)return $A(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Fk(o,r,0,null),e=Uh(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=HA(n),t.memoizedState=WA,e):l5(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Mge(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Hd(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Hd(l,a):(a=Uh(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?HA(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=WA,r}return a=e.child,e=a.sibling,r=Hd(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function l5(e,t){return t=Fk({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Iw(e,t,n,r){return r!==null&&G4(r),$p(t,e.child,null,n),e=l5(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mge(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=OE(Error(we(422))),Iw(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fk({mode:"visible",children:r.children},i,0,null),a=Uh(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&$p(t,e.child,null,o),t.child.memoizedState=HA(o),t.memoizedState=WA,a);if(!(t.mode&1))return Iw(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(we(419)),r=OE(a,r,void 0),Iw(e,t,o,r)}if(l=(o&e.childLanes)!==0,bi||l){if(r=us,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,jc(e,i),Ro(r,e,i,-1))}return f5(),r=OE(Error(we(421))),Iw(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Gge.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,na=zd(i.nextSibling),ia=t,Zn=!0,_o=null,e!==null&&(Aa[Pa++]=oc,Aa[Pa++]=lc,Aa[Pa++]=Zh,oc=e.id,lc=e.overflow,Zh=t),t=l5(t,r.children),t.flags|=4096,t)}function T6(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),FA(e.return,t,n)}function RE(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function TY(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Hs(e,t,r.children,n),r=ir.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&T6(e,n,t);else if(e.tag===19)T6(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fn(ir,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Zj(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),RE(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Zj(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}RE(t,!0,n,null,a);break;case"together":RE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function G1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tm|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(we(153));if(t.child!==null){for(e=t.child,n=Hd(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hd(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dge(e,t,n){switch(t.tag){case 3:CY(t),Lp();break;case 5:tY(t);break;case 1:_i(t.type)&&Kj(t);break;case 4:e5(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fn(Xj,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fn(ir,ir.current&1),t.flags|=128,null):n&t.child.childLanes?EY(e,t,n):(Fn(ir,ir.current&1),e=Sc(e,t,n),e!==null?e.sibling:null);Fn(ir,ir.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return TY(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fn(ir,ir.current),r)break;return null;case 22:case 23:return t.lanes=0,kY(e,t,n)}return Sc(e,t,n)}var AY,KA,PY,IY;AY=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};KA=function(){};PY=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wh(hl.current);var a=null;switch(n){case"input":i=pA(e,i),r=pA(e,r),a=[];break;case"select":i=ur({},i,{value:void 0}),r=ur({},r,{value:void 0}),a=[];break;case"textarea":i=yA(e,i),r=yA(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wj)}bA(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(wv.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(wv.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&qn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};IY=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fx(e,t){if(!Zn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function As(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Lge(e,t,n){var r=t.pendingProps;switch(K4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return As(t),null;case 1:return _i(t.type)&&Hj(),As(t),null;case 3:return r=t.stateNode,Fp(),Kn(ki),Kn(Fs),n5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Aw(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_o!==null&&(tP(_o),_o=null))),KA(e,t),As(t),null;case 5:t5(t);var i=wh(Ov.current);if(n=t.type,e!==null&&t.stateNode!=null)PY(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(we(166));return As(t),null}if(e=wh(hl.current),Aw(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[rl]=t,r[Pv]=a,e=(t.mode&1)!==0,n){case"dialog":qn("cancel",r),qn("close",r);break;case"iframe":case"object":case"embed":qn("load",r);break;case"video":case"audio":for(i=0;i<ky.length;i++)qn(ky[i],r);break;case"source":qn("error",r);break;case"img":case"image":case"link":qn("error",r),qn("load",r);break;case"details":qn("toggle",r);break;case"input":$$(r,a),qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},qn("invalid",r);break;case"textarea":B$(r,a),qn("invalid",r)}bA(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Tw(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Tw(r.textContent,l,e),i=["children",""+l]):wv.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qn("scroll",r)}switch(n){case"input":ww(r),F$(r,a,!0);break;case"textarea":ww(r),U$(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Wj)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=aG(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[rl]=t,e[Pv]=r,AY(e,t,!1,!1),t.stateNode=e;e:{switch(o=wA(n,r),n){case"dialog":qn("cancel",e),qn("close",e),i=r;break;case"iframe":case"object":case"embed":qn("load",e),i=r;break;case"video":case"audio":for(i=0;i<ky.length;i++)qn(ky[i],e);i=r;break;case"source":qn("error",e),i=r;break;case"img":case"image":case"link":qn("error",e),qn("load",e),i=r;break;case"details":qn("toggle",e),i=r;break;case"input":$$(e,r),i=pA(e,r),qn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ur({},r,{value:void 0}),qn("invalid",e);break;case"textarea":B$(e,r),i=yA(e,r),qn("invalid",e);break;default:i=r}bA(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?cG(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&oG(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&jv(e,c):typeof c=="number"&&jv(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wv.hasOwnProperty(a)?c!=null&&a==="onScroll"&&qn("scroll",e):c!=null&&I4(e,a,c,o))}switch(n){case"input":ww(e),F$(e,r,!1);break;case"textarea":ww(e),U$(e);break;case"option":r.value!=null&&e.setAttribute("value",""+lu(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Gf(e,!!r.multiple,a,!1):r.defaultValue!=null&&Gf(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Wj)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return As(t),null;case 6:if(e&&t.stateNode!=null)IY(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(we(166));if(n=wh(Ov.current),wh(hl.current),Aw(t)){if(r=t.stateNode,n=t.memoizedProps,r[rl]=t,(a=r.nodeValue!==n)&&(e=ia,e!==null))switch(e.tag){case 3:Tw(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tw(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rl]=t,t.stateNode=r}return As(t),null;case 13:if(Kn(ir),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Zn&&na!==null&&t.mode&1&&!(t.flags&128))XG(),Lp(),t.flags|=98560,a=!1;else if(a=Aw(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(we(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(we(317));a[rl]=t}else Lp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;As(t),a=!1}else _o!==null&&(tP(_o),_o=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ir.current&1?ts===0&&(ts=3):f5())),t.updateQueue!==null&&(t.flags|=4),As(t),null);case 4:return Fp(),KA(e,t),e===null&&Tv(t.stateNode.containerInfo),As(t),null;case 10:return J4(t.type._context),As(t),null;case 17:return _i(t.type)&&Hj(),As(t),null;case 19:if(Kn(ir),a=t.memoizedState,a===null)return As(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Fx(a,!1);else{if(ts!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Zj(e),o!==null){for(t.flags|=128,Fx(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fn(ir,ir.current&1|2),t.child}e=e.sibling}a.tail!==null&&Cr()>Up&&(t.flags|=128,r=!0,Fx(a,!1),t.lanes=4194304)}else{if(!r)if(e=Zj(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fx(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Zn)return As(t),null}else 2*Cr()-a.renderingStartTime>Up&&n!==1073741824&&(t.flags|=128,r=!0,Fx(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Cr(),t.sibling=null,n=ir.current,Fn(ir,r?n&1|2:n&1),t):(As(t),null);case 22:case 23:return m5(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wi&1073741824&&(As(t),t.subtreeFlags&6&&(t.flags|=8192)):As(t),null;case 24:return null;case 25:return null}throw Error(we(156,t.tag))}function $ge(e,t){switch(K4(t),t.tag){case 1:return _i(t.type)&&Hj(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fp(),Kn(ki),Kn(Fs),n5(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return t5(t),null;case 13:if(Kn(ir),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(we(340));Lp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kn(ir),null;case 4:return Fp(),null;case 10:return J4(t.type._context),null;case 22:case 23:return m5(),null;case 24:return null;default:return null}}var Ow=!1,Os=!1,Fge=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Ef(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vr(e,t,r)}else n.current=null}function GA(e,t,n){try{n()}catch(r){vr(e,t,r)}}var A6=!1;function Bge(e,t){if(PA=zj,e=LG(),W4(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++d===i&&(l=o),m===a&&++u===r&&(c=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(IA={focusedElem:e,selectionRange:n},zj=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){t=Be;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:po(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(S){vr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}return p=A6,A6=!1,p}function Wy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&GA(t,n,a)}i=i.next}while(i!==r)}}function Lk(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function YA(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function OY(e){var t=e.alternate;t!==null&&(e.alternate=null,OY(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rl],delete t[Pv],delete t[MA],delete t[jge],delete t[Sge])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function RY(e){return e.tag===5||e.tag===3||e.tag===4}function P6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||RY(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function XA(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wj));else if(r!==4&&(e=e.child,e!==null))for(XA(e,t,n),e=e.sibling;e!==null;)XA(e,t,n),e=e.sibling}function JA(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(JA(e,t,n),e=e.sibling;e!==null;)JA(e,t,n),e=e.sibling}var vs=null,vo=!1;function Xc(e,t,n){for(n=n.child;n!==null;)MY(e,t,n),n=n.sibling}function MY(e,t,n){if(ul&&typeof ul.onCommitFiberUnmount=="function")try{ul.onCommitFiberUnmount(Tk,n)}catch{}switch(n.tag){case 5:Os||Ef(n,t);case 6:var r=vs,i=vo;vs=null,Xc(e,t,n),vs=r,vo=i,vs!==null&&(vo?(e=vs,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vs.removeChild(n.stateNode));break;case 18:vs!==null&&(vo?(e=vs,n=n.stateNode,e.nodeType===8?CE(e.parentNode,n):e.nodeType===1&&CE(e,n),_v(e)):CE(vs,n.stateNode));break;case 4:r=vs,i=vo,vs=n.stateNode.containerInfo,vo=!0,Xc(e,t,n),vs=r,vo=i;break;case 0:case 11:case 14:case 15:if(!Os&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&GA(n,t,o),i=i.next}while(i!==r)}Xc(e,t,n);break;case 1:if(!Os&&(Ef(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){vr(n,t,l)}Xc(e,t,n);break;case 21:Xc(e,t,n);break;case 22:n.mode&1?(Os=(r=Os)||n.memoizedState!==null,Xc(e,t,n),Os=r):Xc(e,t,n);break;default:Xc(e,t,n)}}function I6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fge),t.forEach(function(r){var i=Yge.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function io(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:vs=l.stateNode,vo=!1;break e;case 3:vs=l.stateNode.containerInfo,vo=!0;break e;case 4:vs=l.stateNode.containerInfo,vo=!0;break e}l=l.return}if(vs===null)throw Error(we(160));MY(a,o,i),vs=null,vo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){vr(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DY(t,e),t=t.sibling}function DY(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(io(t,e),Yo(e),r&4){try{Wy(3,e,e.return),Lk(3,e)}catch(g){vr(e,e.return,g)}try{Wy(5,e,e.return)}catch(g){vr(e,e.return,g)}}break;case 1:io(t,e),Yo(e),r&512&&n!==null&&Ef(n,n.return);break;case 5:if(io(t,e),Yo(e),r&512&&n!==null&&Ef(n,n.return),e.flags&32){var i=e.stateNode;try{jv(i,"")}catch(g){vr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&sG(i,a),wA(l,o);var d=wA(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?cG(i,h):u==="dangerouslySetInnerHTML"?oG(i,h):u==="children"?jv(i,h):I4(i,u,h,d)}switch(l){case"input":gA(i,a);break;case"textarea":iG(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Gf(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?Gf(i,!!a.multiple,a.defaultValue,!0):Gf(i,!!a.multiple,a.multiple?[]:"",!1))}i[Pv]=a}catch(g){vr(e,e.return,g)}}break;case 6:if(io(t,e),Yo(e),r&4){if(e.stateNode===null)throw Error(we(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){vr(e,e.return,g)}}break;case 3:if(io(t,e),Yo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_v(t.containerInfo)}catch(g){vr(e,e.return,g)}break;case 4:io(t,e),Yo(e);break;case 13:io(t,e),Yo(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(u5=Cr())),r&4&&I6(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Os=(d=Os)||u,io(t,e),Os=d):io(t,e),Yo(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Be=e,u=e.child;u!==null;){for(h=Be=u;Be!==null;){switch(m=Be,f=m.child,m.tag){case 0:case 11:case 14:case 15:Wy(4,m,m.return);break;case 1:Ef(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){vr(r,n,g)}}break;case 5:Ef(m,m.return);break;case 22:if(m.memoizedState!==null){R6(h);continue}}f!==null?(f.return=m,Be=f):R6(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=lG("display",o))}catch(g){vr(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){vr(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:io(t,e),Yo(e),r&4&&I6(e);break;case 21:break;default:io(t,e),Yo(e)}}function Yo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(RY(n)){var r=n;break e}n=n.return}throw Error(we(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jv(i,""),r.flags&=-33);var a=P6(e);JA(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=P6(e);XA(e,l,o);break;default:throw Error(we(161))}}catch(c){vr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uge(e,t,n){Be=e,LY(e)}function LY(e,t,n){for(var r=(e.mode&1)!==0;Be!==null;){var i=Be,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ow;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Os;l=Ow;var d=Os;if(Ow=o,(Os=c)&&!d)for(Be=i;Be!==null;)o=Be,c=o.child,o.tag===22&&o.memoizedState!==null?M6(i):c!==null?(c.return=o,Be=c):M6(i);for(;a!==null;)Be=a,LY(a),a=a.sibling;Be=i,Ow=l,Os=d}O6(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Be=a):O6(e)}}function O6(e){for(;Be!==null;){var t=Be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Os||Lk(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Os)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:po(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&x6(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}x6(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&_v(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Os||t.flags&512&&YA(t)}catch(m){vr(t,t.return,m)}}if(t===e){Be=null;break}if(n=t.sibling,n!==null){n.return=t.return,Be=n;break}Be=t.return}}function R6(e){for(;Be!==null;){var t=Be;if(t===e){Be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Be=n;break}Be=t.return}}function M6(e){for(;Be!==null;){var t=Be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Lk(4,t)}catch(c){vr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){vr(t,i,c)}}var a=t.return;try{YA(t)}catch(c){vr(t,a,c)}break;case 5:var o=t.return;try{YA(t)}catch(c){vr(t,o,c)}}}catch(c){vr(t,t.return,c)}if(t===e){Be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Be=l;break}Be=t.return}}var zge=Math.ceil,nS=Fc.ReactCurrentDispatcher,c5=Fc.ReactCurrentOwner,Ba=Fc.ReactCurrentBatchConfig,en=0,us=null,Fr=null,Ns=0,Wi=0,Tf=Tu(0),ts=0,Lv=null,tm=0,$k=0,d5=0,Hy=null,yi=null,u5=0,Up=1/0,Jl=null,rS=!1,QA=null,qd=null,Rw=!1,Id=null,sS=0,Ky=0,ZA=null,Y1=-1,X1=0;function ri(){return en&6?Cr():Y1!==-1?Y1:Y1=Cr()}function Wd(e){return e.mode&1?en&2&&Ns!==0?Ns&-Ns:kge.transition!==null?(X1===0&&(X1=wG()),X1):(e=wn,e!==0||(e=window.event,e=e===void 0?16:EG(e.type)),e):1}function Ro(e,t,n,r){if(50<Ky)throw Ky=0,ZA=null,Error(we(185));xb(e,n,r),(!(en&2)||e!==us)&&(e===us&&(!(en&2)&&($k|=n),ts===4&&yd(e,Ns)),Ci(e,r),n===1&&en===0&&!(t.mode&1)&&(Up=Cr()+500,Rk&&Au()))}function Ci(e,t){var n=e.callbackNode;kpe(e,t);var r=Uj(e,e===us?Ns:0);if(r===0)n!==null&&q$(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&q$(n),t===1)e.tag===0?Nge(D6.bind(null,e)):KG(D6.bind(null,e)),bge(function(){!(en&6)&&Au()}),n=null;else{switch(jG(r)){case 1:n=L4;break;case 4:n=vG;break;case 16:n=Bj;break;case 536870912:n=bG;break;default:n=Bj}n=WY(n,$Y.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $Y(e,t){if(Y1=-1,X1=0,en&6)throw Error(we(327));var n=e.callbackNode;if(Zf()&&e.callbackNode!==n)return null;var r=Uj(e,e===us?Ns:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=iS(e,r);else{t=r;var i=en;en|=2;var a=BY();(us!==e||Ns!==t)&&(Jl=null,Up=Cr()+500,Bh(e,t));do try{Wge();break}catch(l){FY(e,l)}while(!0);X4(),nS.current=a,en=i,Fr!==null?t=0:(us=null,Ns=0,t=ts)}if(t!==0){if(t===2&&(i=_A(e),i!==0&&(r=i,t=eP(e,i))),t===1)throw n=Lv,Bh(e,0),yd(e,r),Ci(e,Cr()),n;if(t===6)yd(e,r);else{if(i=e.current.alternate,!(r&30)&&!Vge(i)&&(t=iS(e,r),t===2&&(a=_A(e),a!==0&&(r=a,t=eP(e,a))),t===1))throw n=Lv,Bh(e,0),yd(e,r),Ci(e,Cr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(we(345));case 2:sh(e,yi,Jl);break;case 3:if(yd(e,r),(r&130023424)===r&&(t=u5+500-Cr(),10<t)){if(Uj(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ri(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=RA(sh.bind(null,e,yi,Jl),t);break}sh(e,yi,Jl);break;case 4:if(yd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Oo(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Cr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zge(r/1960))-r,10<r){e.timeoutHandle=RA(sh.bind(null,e,yi,Jl),r);break}sh(e,yi,Jl);break;case 5:sh(e,yi,Jl);break;default:throw Error(we(329))}}}return Ci(e,Cr()),e.callbackNode===n?$Y.bind(null,e):null}function eP(e,t){var n=Hy;return e.current.memoizedState.isDehydrated&&(Bh(e,t).flags|=256),e=iS(e,t),e!==2&&(t=yi,yi=n,t!==null&&tP(t)),e}function tP(e){yi===null?yi=e:yi.push.apply(yi,e)}function Vge(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Fo(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yd(e,t){for(t&=~d5,t&=~$k,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Oo(t),r=1<<n;e[n]=-1,t&=~r}}function D6(e){if(en&6)throw Error(we(327));Zf();var t=Uj(e,0);if(!(t&1))return Ci(e,Cr()),null;var n=iS(e,t);if(e.tag!==0&&n===2){var r=_A(e);r!==0&&(t=r,n=eP(e,r))}if(n===1)throw n=Lv,Bh(e,0),yd(e,t),Ci(e,Cr()),n;if(n===6)throw Error(we(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sh(e,yi,Jl),Ci(e,Cr()),null}function h5(e,t){var n=en;en|=1;try{return e(t)}finally{en=n,en===0&&(Up=Cr()+500,Rk&&Au())}}function nm(e){Id!==null&&Id.tag===0&&!(en&6)&&Zf();var t=en;en|=1;var n=Ba.transition,r=wn;try{if(Ba.transition=null,wn=1,e)return e()}finally{wn=r,Ba.transition=n,en=t,!(en&6)&&Au()}}function m5(){Wi=Tf.current,Kn(Tf)}function Bh(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vge(n)),Fr!==null)for(n=Fr.return;n!==null;){var r=n;switch(K4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hj();break;case 3:Fp(),Kn(ki),Kn(Fs),n5();break;case 5:t5(r);break;case 4:Fp();break;case 13:Kn(ir);break;case 19:Kn(ir);break;case 10:J4(r.type._context);break;case 22:case 23:m5()}n=n.return}if(us=e,Fr=e=Hd(e.current,null),Ns=Wi=t,ts=0,Lv=null,d5=$k=tm=0,yi=Hy=null,bh!==null){for(t=0;t<bh.length;t++)if(n=bh[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}bh=null}return e}function FY(e,t){do{var n=Fr;try{if(X4(),H1.current=tS,eS){for(var r=lr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}eS=!1}if(em=0,os=Jr=lr=null,qy=!1,Rv=0,c5.current=null,n===null||n.return===null){ts=1,Lv=t,Fr=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ns,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=S6(o);if(f!==null){f.flags&=-257,N6(f,o,l,a,t),f.mode&1&&j6(a,d,t),t=f,c=d;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){j6(a,d,t),f5();break e}c=Error(we(426))}}else if(Zn&&l.mode&1){var y=S6(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),N6(y,o,l,a,t),G4(Bp(c,l));break e}}a=c=Bp(c,l),ts!==4&&(ts=2),Hy===null?Hy=[a]:Hy.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=jY(a,c,t);g6(a,v);break e;case 1:l=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qd===null||!qd.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=SY(a,l,t);g6(a,S);break e}}a=a.return}while(a!==null)}zY(n)}catch(j){t=j,Fr===n&&n!==null&&(Fr=n=n.return);continue}break}while(!0)}function BY(){var e=nS.current;return nS.current=tS,e===null?tS:e}function f5(){(ts===0||ts===3||ts===2)&&(ts=4),us===null||!(tm&268435455)&&!($k&268435455)||yd(us,Ns)}function iS(e,t){var n=en;en|=2;var r=BY();(us!==e||Ns!==t)&&(Jl=null,Bh(e,t));do try{qge();break}catch(i){FY(e,i)}while(!0);if(X4(),en=n,nS.current=r,Fr!==null)throw Error(we(261));return us=null,Ns=0,ts}function qge(){for(;Fr!==null;)UY(Fr)}function Wge(){for(;Fr!==null&&!gpe();)UY(Fr)}function UY(e){var t=qY(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,t===null?zY(e):Fr=t,c5.current=null}function zY(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$ge(n,t),n!==null){n.flags&=32767,Fr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ts=6,Fr=null;return}}else if(n=Lge(n,t,Wi),n!==null){Fr=n;return}if(t=t.sibling,t!==null){Fr=t;return}Fr=t=e}while(t!==null);ts===0&&(ts=5)}function sh(e,t,n){var r=wn,i=Ba.transition;try{Ba.transition=null,wn=1,Hge(e,t,n,r)}finally{Ba.transition=i,wn=r}return null}function Hge(e,t,n,r){do Zf();while(Id!==null);if(en&6)throw Error(we(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(we(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(_pe(e,a),e===us&&(Fr=us=null,Ns=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rw||(Rw=!0,WY(Bj,function(){return Zf(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ba.transition,Ba.transition=null;var o=wn;wn=1;var l=en;en|=4,c5.current=null,Bge(e,n),DY(n,e),hge(IA),zj=!!PA,IA=PA=null,e.current=n,Uge(n),xpe(),en=l,wn=o,Ba.transition=a}else e.current=n;if(Rw&&(Rw=!1,Id=e,sS=i),a=e.pendingLanes,a===0&&(qd=null),bpe(n.stateNode),Ci(e,Cr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rS)throw rS=!1,e=QA,QA=null,e;return sS&1&&e.tag!==0&&Zf(),a=e.pendingLanes,a&1?e===ZA?Ky++:(Ky=0,ZA=e):Ky=0,Au(),null}function Zf(){if(Id!==null){var e=jG(sS),t=Ba.transition,n=wn;try{if(Ba.transition=null,wn=16>e?16:e,Id===null)var r=!1;else{if(e=Id,Id=null,sS=0,en&6)throw Error(we(331));var i=en;for(en|=4,Be=e.current;Be!==null;){var a=Be,o=a.child;if(Be.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Be=d;Be!==null;){var u=Be;switch(u.tag){case 0:case 11:case 15:Wy(8,u,a)}var h=u.child;if(h!==null)h.return=u,Be=h;else for(;Be!==null;){u=Be;var m=u.sibling,f=u.return;if(OY(u),u===d){Be=null;break}if(m!==null){m.return=f,Be=m;break}Be=f}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Be=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Be=o;else e:for(;Be!==null;){if(a=Be,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wy(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Be=v;break e}Be=a.return}}var b=e.current;for(Be=b;Be!==null;){o=Be;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Be=w;else e:for(o=b;Be!==null;){if(l=Be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lk(9,l)}}catch(j){vr(l,l.return,j)}if(l===o){Be=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Be=S;break e}Be=l.return}}if(en=i,Au(),ul&&typeof ul.onPostCommitFiberRoot=="function")try{ul.onPostCommitFiberRoot(Tk,e)}catch{}r=!0}return r}finally{wn=n,Ba.transition=t}}return!1}function L6(e,t,n){t=Bp(n,t),t=jY(e,t,1),e=Vd(e,t,1),t=ri(),e!==null&&(xb(e,1,t),Ci(e,t))}function vr(e,t,n){if(e.tag===3)L6(e,e,n);else for(;t!==null;){if(t.tag===3){L6(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qd===null||!qd.has(r))){e=Bp(n,e),e=SY(t,e,1),t=Vd(t,e,1),e=ri(),t!==null&&(xb(t,1,e),Ci(t,e));break}}t=t.return}}function Kge(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ri(),e.pingedLanes|=e.suspendedLanes&n,us===e&&(Ns&n)===n&&(ts===4||ts===3&&(Ns&130023424)===Ns&&500>Cr()-u5?Bh(e,0):d5|=n),Ci(e,t)}function VY(e,t){t===0&&(e.mode&1?(t=Nw,Nw<<=1,!(Nw&130023424)&&(Nw=4194304)):t=1);var n=ri();e=jc(e,t),e!==null&&(xb(e,t,n),Ci(e,n))}function Gge(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),VY(e,n)}function Yge(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(we(314))}r!==null&&r.delete(t),VY(e,n)}var qY;qY=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ki.current)bi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bi=!1,Dge(e,t,n);bi=!!(e.flags&131072)}else bi=!1,Zn&&t.flags&1048576&&GG(t,Yj,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;G1(e,t),e=t.pendingProps;var i=Dp(t,Fs.current);Qf(t,n),i=s5(null,t,r,e,i,n);var a=i5();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)?(a=!0,Kj(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z4(t),i.updater=Dk,t.stateNode=i,i._reactInternals=t,UA(t,r,e,n),t=qA(null,t,r,!0,a,n)):(t.tag=0,Zn&&a&&H4(t),Hs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(G1(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Jge(r),e=po(r,e),i){case 0:t=VA(null,t,r,e,n);break e;case 1:t=C6(null,t,r,e,n);break e;case 11:t=k6(null,t,r,e,n);break e;case 14:t=_6(null,t,r,po(r.type,e),n);break e}throw Error(we(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:po(r,i),VA(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:po(r,i),C6(e,t,r,i,n);case 3:e:{if(CY(t),e===null)throw Error(we(387));r=t.pendingProps,a=t.memoizedState,i=a.element,eY(e,t),Qj(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Bp(Error(we(423)),t),t=E6(e,t,r,n,i);break e}else if(r!==i){i=Bp(Error(we(424)),t),t=E6(e,t,r,n,i);break e}else for(na=zd(t.stateNode.containerInfo.firstChild),ia=t,Zn=!0,_o=null,n=QG(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lp(),r===i){t=Sc(e,t,n);break e}Hs(e,t,r,n)}t=t.child}return t;case 5:return tY(t),e===null&&$A(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,OA(r,i)?o=null:a!==null&&OA(r,a)&&(t.flags|=32),_Y(e,t),Hs(e,t,o,n),t.child;case 6:return e===null&&$A(t),null;case 13:return EY(e,t,n);case 4:return e5(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$p(t,null,r,n):Hs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:po(r,i),k6(e,t,r,i,n);case 7:return Hs(e,t,t.pendingProps,n),t.child;case 8:return Hs(e,t,t.pendingProps.children,n),t.child;case 12:return Hs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Fn(Xj,r._currentValue),r._currentValue=o,a!==null)if(Fo(a.value,o)){if(a.children===i.children&&!ki.current){t=Sc(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=hc(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),FA(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(we(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),FA(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Hs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qf(t,n),i=Wa(i),r=r(i),t.flags|=1,Hs(e,t,r,n),t.child;case 14:return r=t.type,i=po(r,t.pendingProps),i=po(r.type,i),_6(e,t,r,i,n);case 15:return NY(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:po(r,i),G1(e,t),t.tag=1,_i(r)?(e=!0,Kj(t)):e=!1,Qf(t,n),wY(t,r,i),UA(t,r,i,n),qA(null,t,r,!0,e,n);case 19:return TY(e,t,n);case 22:return kY(e,t,n)}throw Error(we(156,t.tag))};function WY(e,t){return yG(e,t)}function Xge(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(e,t,n,r){return new Xge(e,t,n,r)}function p5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jge(e){if(typeof e=="function")return p5(e)?1:0;if(e!=null){if(e=e.$$typeof,e===R4)return 11;if(e===M4)return 14}return 2}function Hd(e,t){var n=e.alternate;return n===null?(n=Ma(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function J1(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")p5(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case vf:return Uh(n.children,i,a,t);case O4:o=8,i|=8;break;case uA:return e=Ma(12,n,t,i|2),e.elementType=uA,e.lanes=a,e;case hA:return e=Ma(13,n,t,i),e.elementType=hA,e.lanes=a,e;case mA:return e=Ma(19,n,t,i),e.elementType=mA,e.lanes=a,e;case tG:return Fk(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZK:o=10;break e;case eG:o=9;break e;case R4:o=11;break e;case M4:o=14;break e;case dd:o=16,r=null;break e}throw Error(we(130,e==null?e:typeof e,""))}return t=Ma(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Uh(e,t,n,r){return e=Ma(7,e,r,t),e.lanes=n,e}function Fk(e,t,n,r){return e=Ma(22,e,r,t),e.elementType=tG,e.lanes=n,e.stateNode={isHidden:!1},e}function ME(e,t,n){return e=Ma(6,e,null,t),e.lanes=n,e}function DE(e,t,n){return t=Ma(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qge(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gE(0),this.expirationTimes=gE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function g5(e,t,n,r,i,a,o,l,c){return e=new Qge(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ma(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z4(a),e}function Zge(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yf,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function HY(e){if(!e)return cu;e=e._reactInternals;e:{if(_m(e)!==e||e.tag!==1)throw Error(we(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_i(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(we(171))}if(e.tag===1){var n=e.type;if(_i(n))return HG(e,n,t)}return t}function KY(e,t,n,r,i,a,o,l,c){return e=g5(n,r,!0,e,i,a,o,l,c),e.context=HY(null),n=e.current,r=ri(),i=Wd(n),a=hc(r,i),a.callback=t??null,Vd(n,a,i),e.current.lanes=i,xb(e,i,r),Ci(e,r),e}function Bk(e,t,n,r){var i=t.current,a=ri(),o=Wd(i);return n=HY(n),t.context===null?t.context=n:t.pendingContext=n,t=hc(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vd(i,t,o),e!==null&&(Ro(e,i,o,a),W1(e,i,o)),o}function aS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function x5(e,t){$6(e,t),(e=e.alternate)&&$6(e,t)}function exe(){return null}var GY=typeof reportError=="function"?reportError:function(e){console.error(e)};function y5(e){this._internalRoot=e}Uk.prototype.render=y5.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(we(409));Bk(e,t,null,null)};Uk.prototype.unmount=y5.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nm(function(){Bk(null,e,null,null)}),t[wc]=null}};function Uk(e){this._internalRoot=e}Uk.prototype.unstable_scheduleHydration=function(e){if(e){var t=kG();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xd.length&&t!==0&&t<xd[n].priority;n++);xd.splice(n,0,e),n===0&&CG(e)}};function v5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function F6(){}function txe(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=aS(o);a.call(d)}}var o=KY(t,r,e,0,null,!1,!1,"",F6);return e._reactRootContainer=o,e[wc]=o.current,Tv(e.nodeType===8?e.parentNode:e),nm(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=aS(c);l.call(d)}}var c=g5(e,0,!1,null,null,!1,!1,"",F6);return e._reactRootContainer=c,e[wc]=c.current,Tv(e.nodeType===8?e.parentNode:e),nm(function(){Bk(t,c,n,r)}),c}function Vk(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=aS(o);l.call(c)}}Bk(t,o,e,i)}else o=txe(n,t,e,i,r);return aS(o)}SG=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ny(t.pendingLanes);n!==0&&($4(t,n|1),Ci(t,Cr()),!(en&6)&&(Up=Cr()+500,Au()))}break;case 13:nm(function(){var r=jc(e,1);if(r!==null){var i=ri();Ro(r,e,1,i)}}),x5(e,1)}};F4=function(e){if(e.tag===13){var t=jc(e,134217728);if(t!==null){var n=ri();Ro(t,e,134217728,n)}x5(e,134217728)}};NG=function(e){if(e.tag===13){var t=Wd(e),n=jc(e,t);if(n!==null){var r=ri();Ro(n,e,t,r)}x5(e,t)}};kG=function(){return wn};_G=function(e,t){var n=wn;try{return wn=e,t()}finally{wn=n}};SA=function(e,t,n){switch(t){case"input":if(gA(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ok(r);if(!i)throw Error(we(90));rG(r),gA(r,i)}}}break;case"textarea":iG(e,n);break;case"select":t=n.value,t!=null&&Gf(e,!!n.multiple,t,!1)}};hG=h5;mG=nm;var nxe={usingClientEntryPoint:!1,Events:[vb,Sf,Ok,dG,uG,h5]},Bx={findFiberByHostInstance:vh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rxe={bundleType:Bx.bundleType,version:Bx.version,rendererPackageName:Bx.rendererPackageName,rendererConfig:Bx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gG(e),e===null?null:e.stateNode},findFiberByHostInstance:Bx.findFiberByHostInstance||exe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mw.isDisabled&&Mw.supportsFiber)try{Tk=Mw.inject(rxe),ul=Mw}catch{}}ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nxe;ga.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v5(t))throw Error(we(200));return Zge(e,t,null,n)};ga.createRoot=function(e,t){if(!v5(e))throw Error(we(299));var n=!1,r="",i=GY;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=g5(e,1,!1,null,null,n,!1,r,i),e[wc]=t.current,Tv(e.nodeType===8?e.parentNode:e),new y5(t)};ga.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(we(188)):(e=Object.keys(e).join(","),Error(we(268,e)));return e=gG(t),e=e===null?null:e.stateNode,e};ga.flushSync=function(e){return nm(e)};ga.hydrate=function(e,t,n){if(!zk(t))throw Error(we(200));return Vk(null,e,t,!0,n)};ga.hydrateRoot=function(e,t,n){if(!v5(e))throw Error(we(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=GY;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=KY(t,null,e,1,n??null,i,!1,a,o),e[wc]=t.current,Tv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Uk(t)};ga.render=function(e,t,n){if(!zk(t))throw Error(we(200));return Vk(null,e,t,!1,n)};ga.unmountComponentAtNode=function(e){if(!zk(e))throw Error(we(40));return e._reactRootContainer?(nm(function(){Vk(null,null,e,!1,function(){e._reactRootContainer=null,e[wc]=null})}),!0):!1};ga.unstable_batchedUpdates=h5;ga.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zk(n))throw Error(we(200));if(e==null||e._reactInternals===void 0)throw Error(we(38));return Vk(e,t,n,!1,r)};ga.version="18.3.1-next-f1338f8080-20240426";function YY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YY)}catch(e){console.error(e)}}YY(),YK.exports=ga;var Cm=YK.exports;const XY=un(Cm);var JY,B6=Cm;JY=B6.createRoot,B6.hydrateRoot;const et=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Wt=globalThis,zh="10.36.0";function Em(){return qk(Wt),Wt}function qk(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||zh,t[zh]=t[zh]||{}}function qg(e,t,n=Wt){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[zh]=r[zh]||{};return i[e]||(i[e]=t())}const sxe=["debug","info","warn","error","log","assert","trace"],ixe="Sentry Logger ",oS={};function Tm(e){if(!("console"in Wt))return e();const t=Wt.console,n={},r=Object.keys(oS);r.forEach(i=>{const a=oS[i];n[i]=t[i],t[i]=a});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function axe(){w5().enabled=!0}function oxe(){w5().enabled=!1}function QY(){return w5().enabled}function lxe(...e){b5("log",...e)}function cxe(...e){b5("warn",...e)}function dxe(...e){b5("error",...e)}function b5(e,...t){et&&QY()&&Tm(()=>{Wt.console[e](`${ixe}[${e}]:`,...t)})}function w5(){return et?qg("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const Te={enable:axe,disable:oxe,isEnabled:QY,log:lxe,warn:cxe,error:dxe},ZY=50,rm="?",U6=/\(error: (.*)\)/,z6=/captureMessage|captureException/;function eX(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const a=[],o=n.split(`
`);for(let l=r;l<o.length;l++){let c=o[l];c.length>1024&&(c=c.slice(0,1024));const d=U6.test(c)?c.replace(U6,"$1"):c;if(!d.match(/\S*Error: /)){for(const u of t){const h=u(d);if(h){a.push(h);break}}if(a.length>=ZY+i)break}}return hxe(a.slice(i))}}function uxe(e){return Array.isArray(e)?eX(...e):e}function hxe(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Dw(t).function||"")&&t.pop(),t.reverse(),z6.test(Dw(t).function||"")&&(t.pop(),z6.test(Dw(t).function||"")&&t.pop()),t.slice(0,ZY).map(n=>({...n,filename:n.filename||Dw(t).filename,function:n.function||rm}))}function Dw(e){return e[e.length-1]||{}}const LE="<anonymous>";function Nc(e){try{return!e||typeof e!="function"?LE:e.name||LE}catch{return LE}}function V6(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function tX(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Q1={},q6={};function Pu(e,t){Q1[e]=Q1[e]||[],Q1[e].push(t)}function Iu(e,t){if(!q6[e]){q6[e]=!0;try{t()}catch(n){et&&Te.error(`Error while instrumenting ${e}`,n)}}}function Ua(e,t){const n=e&&Q1[e];if(n)for(const r of n)try{r(t)}catch(i){et&&Te.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Nc(r)}
Error:`,i)}}let $E=null;function nX(e){const t="error";Pu(t,e),Iu(t,mxe)}function mxe(){$E=Wt.onerror,Wt.onerror=function(e,t,n,r,i){return Ua("error",{column:r,error:i,line:n,msg:e,url:t}),$E?$E.apply(this,arguments):!1},Wt.onerror.__SENTRY_INSTRUMENTED__=!0}let FE=null;function rX(e){const t="unhandledrejection";Pu(t,e),Iu(t,fxe)}function fxe(){FE=Wt.onunhandledrejection,Wt.onunhandledrejection=function(e){return Ua("unhandledrejection",e),FE?FE.apply(this,arguments):!0},Wt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const sX=Object.prototype.toString;function Wk(e){switch(sX.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return kc(e,Error)}}function Wg(e,t){return sX.call(e)===`[object ${t}]`}function iX(e){return Wg(e,"ErrorEvent")}function W6(e){return Wg(e,"DOMError")}function pxe(e){return Wg(e,"DOMException")}function mc(e){return Wg(e,"String")}function j5(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function zp(e){return e===null||j5(e)||typeof e!="object"&&typeof e!="function"}function $v(e){return Wg(e,"Object")}function Hk(e){return typeof Event<"u"&&kc(e,Event)}function gxe(e){return typeof Element<"u"&&kc(e,Element)}function xxe(e){return Wg(e,"RegExp")}function Hg(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function yxe(e){return $v(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function kc(e,t){try{return e instanceof t}catch{return!1}}function aX(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function S5(e){return typeof Request<"u"&&kc(e,Request)}const N5=Wt,vxe=80;function Pi(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let a=0,o=0;const l=" > ",c=l.length;let d;const u=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||vxe;for(;n&&a++<r&&(d=bxe(n,u),!(d==="html"||a>1&&o+i.length*c+d.length>=h));)i.push(d),o+=d.length,n=n.parentNode;return i.reverse().join(l)}catch{return"<unknown>"}}function bxe(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(N5.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t!=null&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i!=null&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&mc(o)){const l=o.split(/\s+/);for(const c of l)r.push(`.${c}`)}}const a=["aria-label","type","name","title","alt"];for(const o of a){const l=n.getAttribute(o);l&&r.push(`[${o}="${l}"]`)}return r.join("")}function Kg(){try{return N5.document.location.href}catch{return""}}function oX(e){if(!N5.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function wi(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const i=n(r);typeof i=="function"&&lX(i,r);try{e[t]=i}catch{et&&Te.log(`Failed to replace method "${t}" in object`,e)}}function Ii(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{et&&Te.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function lX(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ii(e,"__sentry_original__",t)}catch{}}function k5(e){return e.__sentry_original__}function cX(e){if(Wk(e))return{message:e.message,name:e.name,stack:e.stack,...K6(e)};if(Hk(e)){const t={type:e.type,target:H6(e.target),currentTarget:H6(e.currentTarget),...K6(e)};return typeof CustomEvent<"u"&&kc(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function H6(e){try{return gxe(e)?Pi(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function K6(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function wxe(e){const t=Object.keys(cX(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}let Vm;function wb(e){if(Vm!==void 0)return Vm?Vm(e):e();const t=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),n=Wt;return t in n&&typeof n[t]=="function"?(Vm=n[t],Vm(e)):(Vm=null,e())}function Kd(){return wb(()=>Math.random())}function jb(){return wb(()=>Date.now())}function nP(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function G6(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{aX(i)?n.push(tX(i)):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Z1(e,t,n=!1){return mc(e)?xxe(t)?t.test(e):mc(t)?n?e===t:e.includes(t):!1:!1}function fc(e,t=[],n=!1){return t.some(r=>Z1(e,r,n))}function jxe(){const e=Wt;return e.crypto||e.msCrypto}let BE;function Sxe(){return Kd()*16}function aa(e=jxe()){try{if(e!=null&&e.randomUUID)return wb(()=>e.randomUUID()).replace(/-/g,"")}catch{}return BE||(BE="10000000100040008000"+1e11),BE.replace(/[018]/g,t=>(t^(Sxe()&15)>>t/4).toString(16))}function dX(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function mh(e){const{message:t,event_id:n}=e;if(t)return t;const r=dX(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function rP(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type="Error")}function Vp(e,t){const n=dX(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const a={...i==null?void 0:i.data,...t.data};n.mechanism.data=a}}function Y6(e){if(Nxe(e))return!0;try{Ii(e,"__sentry_captured__",!0)}catch{}return!1}function Nxe(e){try{return e.__sentry_captured__}catch{}}const uX=1e3;function Am(){return jb()/uX}function kxe(){const{performance:e}=Wt;if(!(e!=null&&e.now)||!e.timeOrigin)return Am;const t=e.timeOrigin;return()=>(t+wb(()=>e.now()))/uX}let X6;function hs(){return(X6??(X6=kxe()))()}let UE=null;function _xe(){var o;const{performance:e}=Wt;if(!(e!=null&&e.now))return;const t=3e5,n=wb(()=>e.now()),r=jb(),i=e.timeOrigin;if(typeof i=="number"&&Math.abs(i+n-r)<t)return i;const a=(o=e.timing)==null?void 0:o.navigationStart;return typeof a=="number"&&Math.abs(a+n-r)<t?a:r-n}function Li(){return UE===null&&(UE=_xe()),UE}function Cxe(e){const t=hs(),n={sid:aa(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Txe(n)};return e&&qp(n,e),n}function qp(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||hs(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:aa()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Exe(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),qp(e,n)}function Txe(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Sb(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Sb(r[i],t[i],n-1));return r}function _c(){return aa()}function pc(){return aa().substring(16)}const sP="_sentrySpan";function Wp(e,t){t?Ii(e,sP,t):delete e[sP]}function lS(e){return e[sP]}const Axe=100;class jl{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:_c(),sampleRand:Kd()}}clone(){const t=new jl;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Wp(t,lS(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&qp(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof jl?n.getScopeData():$v(n)?t:void 0,{tags:i,attributes:a,extra:o,user:l,contexts:c,level:d,fingerprint:u=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...a},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),d&&(this._level=d),u.length&&(this._fingerprint=u),h&&(this._propagationContext=h),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Wp(this,void 0),this._attachments=[],this.setPropagationContext({traceId:_c(),sampleRand:Kd()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var a;const r=typeof n=="number"?n:Axe;if(r<=0)return this;const i={timestamp:Am(),...t,message:t.message?nP(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(a=this._client)==null||a.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:lS(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Sb(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||aa();if(!this._client)return et&&Te.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=(r==null?void 0:r.event_id)||aa();if(!this._client)return et&&Te.warn("No client configured on scope - will not capture message!"),i;const a=(r==null?void 0:r.syntheticException)??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:a,...r,event_id:i},this),i}captureEvent(t,n){const r=(n==null?void 0:n.event_id)||aa();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(et&&Te.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Pxe(){return qg("defaultCurrentScope",()=>new jl)}function Ixe(){return qg("defaultIsolationScope",()=>new jl)}class Oxe{constructor(t,n){let r;t?r=t:r=new jl;let i;n?i=n:i=new jl,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return Hg(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Hp(){const e=Em(),t=qk(e);return t.stack=t.stack||new Oxe(Pxe(),Ixe())}function Rxe(e){return Hp().withScope(e)}function Mxe(e,t){const n=Hp();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function J6(e){return Hp().withScope(()=>e(Hp().getIsolationScope()))}function Dxe(){return{withIsolationScope:J6,withScope:Rxe,withSetScope:Mxe,withSetIsolationScope:(e,t)=>J6(t),getCurrentScope:()=>Hp().getScope(),getIsolationScope:()=>Hp().getIsolationScope()}}function Gg(e){const t=qk(e);return t.acs?t.acs:Dxe()}function jn(){const e=Em();return Gg(e).getCurrentScope()}function Rl(){const e=Em();return Gg(e).getIsolationScope()}function Lxe(){return qg("globalScope",()=>new jl)}function Kk(...e){const t=Em(),n=Gg(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Ht(){return jn().getClient()}function $xe(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:i}=t,a={trace_id:n,span_id:i||pc()};return r&&(a.parent_span_id=r),a}const Po="sentry.source",_5="sentry.sample_rate",hX="sentry.previous_trace_sample_rate",Cc="sentry.op",ss="sentry.origin",Fv="sentry.idle_span_finish_reason",Nb="sentry.measurement_unit",kb="sentry.measurement_value",Q6="sentry.custom_span_name",C5="sentry.profile_id",Yg="sentry.exclusive_time",Fxe="sentry.link.type",Bxe=0,E5=1,Xr=2;function Uxe(e){if(e<400&&e>=100)return{code:E5};if(e>=400&&e<500)switch(e){case 401:return{code:Xr,message:"unauthenticated"};case 403:return{code:Xr,message:"permission_denied"};case 404:return{code:Xr,message:"not_found"};case 409:return{code:Xr,message:"already_exists"};case 413:return{code:Xr,message:"failed_precondition"};case 429:return{code:Xr,message:"resource_exhausted"};case 499:return{code:Xr,message:"cancelled"};default:return{code:Xr,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Xr,message:"unimplemented"};case 503:return{code:Xr,message:"unavailable"};case 504:return{code:Xr,message:"deadline_exceeded"};default:return{code:Xr,message:"internal_error"}}return{code:Xr,message:"internal_error"}}function mX(e,t){e.setAttribute("http.response.status_code",t);const n=Uxe(t);n.message!=="unknown_error"&&e.setStatus(n)}const fX="_sentryScope",pX="_sentryIsolationScope";function zxe(e){try{const t=Wt.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function Vxe(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function qxe(e,t,n){e&&(Ii(e,pX,zxe(n)),Ii(e,fX,t))}function cS(e){const t=e;return{scope:t[fX],isolationScope:Vxe(t[pX])}}const T5="sentry-",Wxe=/^sentry-/,Hxe=8192;function gX(e){const t=Gxe(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,a])=>{if(i.match(Wxe)){const o=i.slice(T5.length);r[o]=a}return r},{});if(Object.keys(n).length>0)return n}function Kxe(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${T5}${r}`]=i),n),{});return Yxe(t)}function Gxe(e){if(!(!e||!mc(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Z6(n);return Object.entries(r).forEach(([i,a])=>{t[i]=a}),t},{}):Z6(e)}function Z6(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),i=t.slice(n+1);return[r,i].map(a=>{try{return decodeURIComponent(a.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Yxe(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const a=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?a:`${t},${a}`;return o.length>Hxe?(et&&Te.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Xxe=/^o(\d+)\./,Jxe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function Qxe(e){return e==="http"||e==="https"}function Xg(e,t=!1){const{host:n,path:r,pass:i,port:a,projectId:o,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&i?`:${i}`:""}@${n}${a?`:${a}`:""}/${r&&`${r}/`}${o}`}function Zxe(e){const t=Jxe.exec(e);if(!t){Tm(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",a="",o="",l=""]=t.slice(1);let c="",d=l;const u=d.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),d=u.pop()),d){const h=d.match(/^\d+/);h&&(d=h[0])}return xX({host:a,pass:i,path:c,projectId:d,port:o,protocol:n,publicKey:r})}function xX(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function eye(e){if(!et)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(Te.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Qxe(r)?t&&isNaN(parseInt(t,10))?(Te.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Te.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Te.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function tye(e){const t=e.match(Xxe);return t==null?void 0:t[1]}function nye(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=tye(n)),r}function rye(e){const t=typeof e=="string"?Zxe(e):xX(e);if(!(!t||!eye(t)))return t}function sm(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const yX=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function sye(e){if(!e)return;const t=e.match(yX);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function iye(e,t){const n=sye(e),r=gX(t);if(!(n!=null&&n.traceId))return{traceId:_c(),sampleRand:Kd()};const i=aye(n,r);r&&(r.sample_rand=i.toString());const{traceId:a,parentSpanId:o,parentSampled:l}=n;return{traceId:a,parentSpanId:o,sampled:l,dsc:r||{},sampleRand:i}}function vX(e=_c(),t=pc(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function bX(e=_c(),t=pc(),n){return`00-${e}-${t}-${n?"01":"00"}`}function aye(e,t){const n=sm(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=sm(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Kd()*r:r+Kd()*(1-r):Kd()}const wX=0,A5=1;let eF=!1;function oye(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:a,status:o,origin:l,links:c}=tn(e);return{parent_span_id:a,span_id:t,trace_id:n,data:r,op:i,status:o,origin:l,links:c}}function lye(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:tn(e).parent_span_id,a=cS(e).scope,o=r?(a==null?void 0:a.getPropagationContext().propagationSpanId)||pc():t;return{parent_span_id:i,span_id:o,trace_id:n}}function cye(e){const{traceId:t,spanId:n}=e.spanContext(),r=Ou(e);return vX(t,n,r)}function dye(e){const{traceId:t,spanId:n}=e.spanContext(),r=Ou(e);return bX(t,n,r)}function jX(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...i},attributes:a})=>({span_id:t,trace_id:n,sampled:r===A5,attributes:a,...i}))}function Vh(e){return typeof e=="number"?tF(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?tF(e.getTime()):hs()}function tF(e){return e>9999999999?e/1e3:e}function tn(e){var r;if(hye(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(uye(e)){const{attributes:i,startTime:a,name:o,endTime:l,status:c,links:d}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:i,description:o,parent_span_id:u,start_timestamp:Vh(a),timestamp:Vh(l)||void 0,status:SX(c),op:i[Cc],origin:i[ss],links:jX(d)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function uye(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function hye(e){return typeof e.getSpanJSON=="function"}function Ou(e){const{traceFlags:t}=e.spanContext();return t===A5}function SX(e){if(!(!e||e.code===Bxe))return e.code===E5?"ok":e.message||"internal_error"}const qh="_sentryChildSpans",iP="_sentryRootSpan";function NX(e,t){const n=e[iP]||e;Ii(t,iP,n),e[qh]?e[qh].add(t):Ii(e,qh,new Set([t]))}function mye(e,t){e[qh]&&e[qh].delete(t)}function ej(e){const t=new Set;function n(r){if(!t.has(r)&&Ou(r)){t.add(r);const i=r[qh]?Array.from(r[qh]):[];for(const a of i)n(a)}}return n(e),Array.from(t)}function Ds(e){return e[iP]||e}function ci(){const e=Em(),t=Gg(e);return t.getActiveSpan?t.getActiveSpan():lS(jn())}function aP(){eF||(Tm(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),eF=!0)}let nF=!1;function fye(){if(nF)return;function e(){const t=ci(),n=t&&Ds(t);if(n){const r="internal_error";et&&Te.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:Xr,message:r})}}e.tag="sentry_tracingErrorCallback",nF=!0,nX(e),rX(e)}function Mo(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=Ht())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function rF(e){Te.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function dS(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(gye(n)){if(Z1(e.description,n))return et&&rF(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?Z1(e.description,n.name):!0,i=n.op?e.op&&Z1(e.op,n.op):!0;if(r&&i)return et&&rF(e),!0}return!1}function pye(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const i of e)i.parent_span_id===r&&(i.parent_span_id=n)}function gye(e){return typeof e=="string"||e instanceof RegExp}const P5="production",kX="_frozenDsc";function tj(e,t){Ii(e,kX,t)}function _X(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||P5,release:n.release,public_key:r,trace_id:e,org_id:nye(t)};return t.emit("createDsc",i),i}function CX(e,t){const n=t.getPropagationContext();return n.dsc||_X(n.traceId,e)}function Ec(e){var p;const t=Ht();if(!t)return{};const n=Ds(e),r=tn(n),i=r.data,a=n.spanContext().traceState,o=(a==null?void 0:a.get("sentry.sample_rate"))??i[_5]??i[hX];function l(g){return(typeof o=="number"||typeof o=="string")&&(g.sample_rate=`${o}`),g}const c=n[kX];if(c)return l(c);const d=a==null?void 0:a.get("sentry.dsc"),u=d&&gX(d);if(u)return l(u);const h=_X(e.spanContext().traceId,t),m=i[Po],f=r.description;return m!=="url"&&f&&(h.transaction=f),Mo()&&(h.sampled=String(Ou(n)),h.sample_rand=(a==null?void 0:a.get("sentry.sample_rand"))??((p=cS(n).scope)==null?void 0:p.getPropagationContext().sampleRand.toString())),l(h),t.emit("createDsc",h,n),h}class du{constructor(t={}){this._traceId=t.traceId||_c(),this._spanId=t.spanId||pc()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:wX}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function bo(e,t=100,n=1/0){try{return oP("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function EX(e,t=3,n=100*1024){const r=bo(e,t);return bye(r)>n?EX(e,t-1,n):r}function oP(e,t,n=1/0,r=1/0,i=wye()){const[a,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=xye(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return l.replace("object ","");if(a(t))return"[Circular ~]";const d=t;if(d&&typeof d.toJSON=="function")try{const f=d.toJSON();return oP("",f,c-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let h=0;const m=cX(t);for(const f in m){if(!Object.prototype.hasOwnProperty.call(m,f))continue;if(h>=r){u[f]="[MaxProperties ~]";break}const p=m[f];u[f]=oP(f,p,c-1,r,i),h++}return o(t),u}function xye(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(aX(t))return tX(t);if(yxe(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Nc(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=yye(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function yye(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function vye(e){return~-encodeURI(e).split(/%..|./).length}function bye(e){return vye(JSON.stringify(e))}function wye(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Ru(e,t=[]){return[e,t]}function jye(e,t){const[n,r]=e;return[n,[...r,t]]}function lP(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function Sye(e,t){return lP(e,(n,r)=>t.includes(r))}function cP(e){const t=qk(Wt);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Nye(e){const[t,n]=e;let r=JSON.stringify(t);function i(a){typeof r=="string"?r=typeof a=="string"?r+a:[cP(r),a]:r.push(typeof a=="string"?cP(a):a)}for(const a of n){const[o,l]=a;if(i(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(bo(l))}i(c)}}return typeof r=="string"?r:kye(r)}function kye(e){const t=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function _ye(e){return[{type:"span"},e]}function Cye(e){const t=typeof e.data=="string"?cP(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Eye={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function sF(e){return Eye[e]}function I5(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function TX(e,t,n,r){var a;const i=(a=e.sdkProcessingMetadata)==null?void 0:a.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Xg(r)},...i&&{trace:i}}}function Tye(e,t){var r,i,a,o;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((i=e.sdk)==null?void 0:i.packages)||[],...t.packages||[]],settings:(a=e.sdk)!=null&&a.settings||t.settings?{...(o=e.sdk)==null?void 0:o.settings,...t.settings}:void 0},e}function Aye(e,t,n,r){const i=I5(n),a={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Xg(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ru(a,[o])}function Pye(e,t,n,r){const i=I5(n),a=e.type&&e.type!=="replay_event"?e.type:"event";Tye(e,n==null?void 0:n.sdk);const o=TX(e,i,r,t);return delete e.sdkProcessingMetadata,Ru(o,[[{type:a},e]])}function Iye(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=Ec(e[0]),i=t==null?void 0:t.getDsn(),a=t==null?void 0:t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!a&&i&&{dsn:Xg(i)}},{beforeSendSpan:l,ignoreSpans:c}=(t==null?void 0:t.getOptions())||{},d=c!=null&&c.length?e.filter(f=>!dS(tn(f),c)):e,u=e.length-d.length;u&&(t==null||t.recordDroppedEvent("before_send","span",u));const h=l?f=>{const p=tn(f),g=l(p);return g||(aP(),p)}:tn,m=[];for(const f of d){const p=h(f);p&&m.push(_ye(p))}return Ru(o,m)}function Oye(e){if(!et)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=tn(e),{spanId:i}=e.spanContext(),a=Ou(e),o=Ds(e),l=o===e,c=`[Tracing] Starting ${a?"sampled":"unsampled"} ${l?"root ":""}span`,d=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&d.push(`parent ID: ${r}`),!l){const{op:u,description:h}=tn(o);d.push(`root ID: ${o.spanContext().spanId}`),u&&d.push(`root op: ${u}`),h&&d.push(`root description: ${h}`)}Te.log(`${c}
  ${d.join(`
  `)}`)}function Rye(e){if(!et)return;const{description:t="< unknown name >",op:n="< unknown op >"}=tn(e),{spanId:r}=e.spanContext(),a=Ds(e)===e,o=`[Tracing] Finishing "${n}" ${a?"root ":""}span "${t}" with ID ${r}`;Te.log(o)}function Mye(e,t,n,r=ci()){const i=r&&Ds(r);i&&(et&&Te.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[kb]:t,[Nb]:n}))}function iF(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[Nb],a=r[kb];typeof i=="string"&&typeof a=="number"&&(t[n.name]={value:a,unit:i})}),t}const aF=1e3;class Gk{constructor(t={}){this._traceId=t.traceId||_c(),this._spanId=t.spanId||pc(),this._startTime=t.startTimestamp||hs(),this._links=t.links,this._attributes={},this.setAttributes({[ss]:"manual",[Cc]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?A5:wX}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Vh(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Po,"custom"),this}end(t){this._endTime||(this._endTime=Vh(t),Rye(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Cc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:SX(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ss],profile_id:this._attributes[C5],exclusive_time:this._attributes[Yg],measurements:iF(this._events),is_segment:this._isStandaloneSpan&&Ds(this)===this||void 0,segment_id:this._isStandaloneSpan?Ds(this).spanContext().spanId:void 0,links:jX(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){et&&Te.log("[Tracing] Adding an event to span:",t);const i=oF(n)?n:r||hs(),a=oF(n)?{}:n||{},o={name:t,time:Vh(i),attributes:a};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Ht();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Ds(this)))return;if(this._isStandaloneSpan){this._sampled?Lye(Iye([this],t)):(et&&Te.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(cS(this).scope||jn()).captureEvent(r)}_convertSpanToTransaction(){var u;if(!lF(tn(this)))return;this._name||(et&&Te.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=cS(this),r=(u=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:u.normalizedRequest;if(this._sampled!==!0)return;const a=ej(this).filter(h=>h!==this&&!Dye(h)).map(h=>tn(h)).filter(lF),o=this._attributes[Po];delete this._attributes[Q6],a.forEach(h=>{delete h.data[Q6]});const l={contexts:{trace:oye(this)},spans:a.length>aF?a.sort((h,m)=>h.start_timestamp-m.start_timestamp).slice(0,aF):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Ec(this)},request:r,...o&&{transaction_info:{source:o}}},c=iF(this._events);return c&&Object.keys(c).length&&(et&&Te.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function oF(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function lF(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Dye(e){return e instanceof Gk&&e.isStandaloneSpan()}function Lye(e){const t=Ht();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function $ye(e,t,n=()=>{},r=()=>{}){let i;try{i=e()}catch(a){throw t(a),n(),a}return Fye(i,t,n,r)}function Fye(e,t,n,r){return Hg(e)?e.then(i=>(n(),r(i),i),i=>{throw t(i),n(),i}):(n(),r(e),e)}function Bye(e,t,n){if(!Mo(e))return[!1];let r,i;typeof e.tracesSampler=="function"?(i=e.tracesSampler({...t,inheritOrSampleWith:l=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):l}),r=!0):t.parentSampled!==void 0?i=t.parentSampled:typeof e.tracesSampleRate<"u"&&(i=e.tracesSampleRate,r=!0);const a=sm(i);if(a===void 0)return et&&Te.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!a)return et&&Te.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,a,r];const o=n<a;return o||et&&Te.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[o,a,r]}const AX="__SENTRY_SUPPRESS_TRACING__";function Uye(e,t){const n=R5();if(n.startSpan)return n.startSpan(e,t);const r=IX(e),{forceTransaction:i,parentSpan:a,scope:o}=e,l=o==null?void 0:o.clone();return Kk(l,()=>Vye(a)(()=>{const d=jn(),u=OX(d,a),m=e.onlyIfParent&&!u?new du:PX({parentSpan:u,spanArguments:r,forceTransaction:i,scope:d});return Wp(d,m),$ye(()=>t(m),()=>{const{status:f}=tn(m);m.isRecording()&&(!f||f==="ok")&&m.setStatus({code:Xr,message:"internal_error"})},()=>{m.end()})}))}function Jg(e){const t=R5();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=IX(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>Kk(e.scope,o):i!==void 0?o=>O5(i,o):o=>o())(()=>{const o=jn(),l=OX(o,i);return e.onlyIfParent&&!l?new du:PX({parentSpan:l,spanArguments:n,forceTransaction:r,scope:o})})}function O5(e,t){const n=R5();return n.withActiveSpan?n.withActiveSpan(e,t):Kk(r=>(Wp(r,e||void 0),t(r)))}function PX({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Mo()){const o=new du;if(n||!e){const l={sampled:"false",sample_rate:"0",transaction:t.name,...Ec(o)};tj(o,l)}return o}const i=Rl();let a;if(e&&!n)a=zye(e,r,t),NX(e,a);else if(e){const o=Ec(e),{traceId:l,spanId:c}=e.spanContext(),d=Ou(e);a=cF({traceId:l,parentSpanId:c,...t},r,d),tj(a,o)}else{const{traceId:o,dsc:l,parentSpanId:c,sampled:d}={...i.getPropagationContext(),...r.getPropagationContext()};a=cF({traceId:o,parentSpanId:c,...t},r,d),l&&tj(a,l)}return Oye(a),qxe(a,r,i),a}function IX(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Vh(e.startTime),delete r.startTime,r}return n}function R5(){const e=Em();return Gg(e)}function cF(e,t,n){var p;const r=Ht(),i=(r==null?void 0:r.getOptions())||{},{name:a=""}=e,o={spanAttributes:{...e.attributes},spanName:a,parentSampled:n};r==null||r.emit("beforeSampling",o,{decision:!1});const l=o.parentSampled??n,c=o.spanAttributes,d=t.getPropagationContext(),[u,h,m]=t.getScopeData().sdkProcessingMetadata[AX]?[!1]:Bye(i,{name:a,parentSampled:l,attributes:c,parentSampleRate:sm((p=d.dsc)==null?void 0:p.sample_rate)},d.sampleRand),f=new Gk({...e,attributes:{[Po]:"custom",[_5]:h!==void 0&&m?h:void 0,...c},sampled:u});return!u&&r&&(et&&Te.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function zye(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),a=t.getScopeData().sdkProcessingMetadata[AX]?!1:Ou(e),o=a?new Gk({...n,parentSpanId:r,traceId:i,sampled:a}):new du({traceId:i});NX(e,o);const l=Ht();return l&&(l.emit("spanStart",o),n.endTimestamp&&l.emit("spanEnd",o)),o}function OX(e,t){if(t)return t;if(t===null)return;const n=lS(e);if(!n)return;const r=Ht();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Ds(n):n}function Vye(e){return e!==void 0?t=>O5(e,t):t=>t()}const nj={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},qye="heartbeatFailed",Wye="idleTimeout",Hye="finalTimeout",Kye="externalFinish";function RX(e,t={}){const n=new Map;let r=!1,i,a=Kye,o=!t.disableAutoFinish;const l=[],{idleTimeout:c=nj.idleTimeout,finalTimeout:d=nj.finalTimeout,childSpanTimeout:u=nj.childSpanTimeout,beforeSpanEnd:h,trimIdleSpanEndTimestamp:m=!0}=t,f=Ht();if(!f||!Mo()){const k=new du,_={sample_rate:"0",sampled:"false",...Ec(k)};return tj(k,_),k}const p=jn(),g=ci(),y=Gye(e);y.end=new Proxy(y.end,{apply(k,_,C){if(h&&h(y),_ instanceof du)return;const[T,...A]=C,P=T||hs(),R=Vh(P),D=ej(y).filter(I=>I!==y),$=tn(y);if(!D.length||!m)return N(R),Reflect.apply(k,_,[R,...A]);const M=f.getOptions().ignoreSpans,F=D==null?void 0:D.reduce((I,z)=>{const H=tn(z);return!H.timestamp||M&&dS(H,M)?I:I?Math.max(I,H.timestamp):H.timestamp},void 0),O=$.start_timestamp,L=Math.min(O?O+d/1e3:1/0,Math.max(O||-1/0,Math.min(R,F||1/0)));return N(L),Reflect.apply(k,_,[L,...A])}});function v(){i&&(clearTimeout(i),i=void 0)}function b(k){v(),i=setTimeout(()=>{!r&&n.size===0&&o&&(a=Wye,y.end(k))},c)}function w(k){i=setTimeout(()=>{!r&&o&&(a=qye,y.end(k))},u)}function S(k){v(),n.set(k,!0);const _=hs();w(_+u/1e3)}function j(k){if(n.has(k)&&n.delete(k),n.size===0){const _=hs();b(_+c/1e3)}}function N(k){r=!0,n.clear(),l.forEach(D=>D()),Wp(p,g);const _=tn(y),{start_timestamp:C}=_;if(!C)return;_.data[Fv]||y.setAttribute(Fv,a);const A=_.status;(!A||A==="unknown")&&y.setStatus({code:E5}),Te.log(`[Tracing] Idle span "${_.op}" finished`);const P=ej(y).filter(D=>D!==y);let R=0;P.forEach(D=>{D.isRecording()&&(D.setStatus({code:Xr,message:"cancelled"}),D.end(k),et&&Te.log("[Tracing] Cancelling span since span ended early",JSON.stringify(D,void 0,2)));const $=tn(D),{timestamp:M=0,start_timestamp:F=0}=$,O=F<=k,L=(d+c)/1e3,I=M-F<=L;if(et){const z=JSON.stringify(D,void 0,2);O?I||Te.log("[Tracing] Discarding span since it finished after idle span final timeout",z):Te.log("[Tracing] Discarding span since it happened after idle span was finished",z)}(!I||!O)&&(mye(y,D),R++)}),R>0&&y.setAttribute("sentry.idle_span_discarded_spans",R)}return l.push(f.on("spanStart",k=>{if(r||k===y||tn(k).timestamp||k instanceof Gk&&k.isStandaloneSpan())return;ej(y).includes(k)&&S(k.spanContext().spanId)})),l.push(f.on("spanEnd",k=>{r||j(k.spanContext().spanId)})),l.push(f.on("idleSpanEnableAutoFinish",k=>{k===y&&(o=!0,b(),n.size&&w())})),t.disableAutoFinish||b(),setTimeout(()=>{r||(y.setStatus({code:Xr,message:"deadline_exceeded"}),a=Hye,y.end())},d),y}function Gye(e){const t=Jg(e);return Wp(jn(),t),et&&Te.log("[Tracing] Started span is an idle span"),t}const zE=0,dF=1,uF=2;function Yk(e){return new Bv(t=>{t(e)})}function M5(e){return new Bv((t,n)=>{n(e)})}class Bv{constructor(t){this._state=zE,this._handlers=[],this._runExecutor(t)}then(t,n){return new Bv((r,i)=>{this._handlers.push([!1,a=>{if(!t)r(a);else try{r(t(a))}catch(o){i(o)}},a=>{if(!n)i(a);else try{r(n(a))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Bv((n,r)=>{let i,a;return this.then(o=>{a=!1,i=o,t&&t()},o=>{a=!0,i=o,t&&t()}).then(()=>{if(a){r(i);return}n(i)})})}_executeHandlers(){if(this._state===zE)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===dF&&n[1](this._value),this._state===uF&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(a,o)=>{if(this._state===zE){if(Hg(o)){o.then(r,i);return}this._state=a,this._value=o,this._executeHandlers()}},r=a=>{n(dF,a)},i=a=>{n(uF,a)};try{t(r,i)}catch(a){i(a)}}}function Yye(e,t,n,r=0){try{const i=dP(t,n,e,r);return Hg(i)?i:Yk(i)}catch(i){return M5(i)}}function dP(e,t,n,r){const i=n[r];if(!e||!i)return e;const a=i({...e},t);return et&&a===null&&Te.log(`Event processor "${i.id||"?"}" dropped event`),Hg(a)?a.then(o=>dP(o,t,n,r+1)):dP(a,t,n,r+1)}let ql,hF,mF,Jc;function Xye(e){const t=Wt._sentryDebugIds,n=Wt._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],i=n?Object.keys(n):[];if(Jc&&r.length===hF&&i.length===mF)return Jc;hF=r.length,mF=i.length,Jc={},ql||(ql={});const a=(o,l)=>{for(const c of o){const d=l[c],u=ql==null?void 0:ql[c];if(u&&Jc&&d)Jc[u[0]]=d,ql&&(ql[c]=[u[0],d]);else if(d){const h=e(c);for(let m=h.length-1;m>=0;m--){const f=h[m],p=f==null?void 0:f.filename;if(p&&Jc&&ql){Jc[p]=d,ql[c]=[p,d];break}}}}};return t&&a(r,t),n&&a(i,n),Jc}function Jye(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:a}=t;Zye(e,t),r&&nve(e,r),rve(e,n),eve(e,i),tve(e,a)}function fF(e,t){const{extra:n,tags:r,attributes:i,user:a,contexts:o,level:l,sdkProcessingMetadata:c,breadcrumbs:d,fingerprint:u,eventProcessors:h,attachments:m,propagationContext:f,transactionName:p,span:g}=t;Ux(e,"extra",n),Ux(e,"tags",r),Ux(e,"attributes",i),Ux(e,"user",a),Ux(e,"contexts",o),e.sdkProcessingMetadata=Sb(e.sdkProcessingMetadata,c,2),l&&(e.level=l),p&&(e.transactionName=p),g&&(e.span=g),d.length&&(e.breadcrumbs=[...e.breadcrumbs,...d]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),h.length&&(e.eventProcessors=[...e.eventProcessors,...h]),m.length&&(e.attachments=[...e.attachments,...m]),e.propagationContext={...e.propagationContext,...f}}function Ux(e,t,n){e[t]=Sb(e[t],n,1)}function Qye(e,t){const n=Lxe().getScopeData();return e&&fF(n,e.getScopeData()),t&&fF(n,t.getScopeData()),n}function Zye(e,t){const{extra:n,tags:r,user:i,contexts:a,level:o,transactionName:l}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(a).length&&(e.contexts={...a,...e.contexts}),o&&(e.level=o),l&&e.type!=="transaction"&&(e.transaction=l)}function eve(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function tve(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function nve(e,t){e.contexts={trace:lye(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Ec(t),...e.sdkProcessingMetadata};const n=Ds(t),r=tn(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function rve(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function MX(e,t,n,r,i,a){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||n.event_id||aa(),timestamp:t.timestamp||Am()},d=n.integrations||e.integrations.map(y=>y.name);sve(c,e),ove(c,d),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&ive(c,e.stackParser);const u=cve(r,n.captureContext);n.mechanism&&Vp(c,n.mechanism);const h=i?i.getEventProcessors():[],m=Qye(a,u),f=[...n.attachments||[],...m.attachments];f.length&&(n.attachments=f),Jye(c,m);const p=[...h,...m.eventProcessors];return Yye(p,c,n).then(y=>(y&&ave(y),typeof o=="number"&&o>0?lve(y,o,l):y))}function sve(e,t){var l,c;const{environment:n,release:r,dist:i,maxValueLength:a}=t;e.environment=e.environment||n||P5,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);const o=e.request;o!=null&&o.url&&a&&(o.url=nP(o.url,a)),a&&((c=(l=e.exception)==null?void 0:l.values)==null||c.forEach(d=>{d.value&&(d.value=nP(d.value,a))}))}function ive(e,t){var r,i;const n=Xye(t);(i=(r=e.exception)==null?void 0:r.values)==null||i.forEach(a=>{var o,l;(l=(o=a.stacktrace)==null?void 0:o.frames)==null||l.forEach(c=>{c.filename&&(c.debug_id=n[c.filename])})})}function ave(e){var r,i;const t={};if((i=(r=e.exception)==null?void 0:r.values)==null||i.forEach(a=>{var o,l;(l=(o=a.stacktrace)==null?void 0:o.frames)==null||l.forEach(c=>{c.debug_id&&(c.abs_path?t[c.abs_path]=c.debug_id:c.filename&&(t[c.filename]=c.debug_id),delete c.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([a,o])=>{n.push({type:"sourcemap",code_file:a,debug_id:o})})}function ove(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function lve(e,t,n){var i,a;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:bo(o.data,t,n)}}))},...e.user&&{user:bo(e.user,t,n)},...e.contexts&&{contexts:bo(e.contexts,t,n)},...e.extra&&{extra:bo(e.extra,t,n)}};return(i=e.contexts)!=null&&i.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=bo(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:bo(o.data,t,n)}}))),(a=e.contexts)!=null&&a.flags&&r.contexts&&(r.contexts.flags=bo(e.contexts.flags,3,n)),r}function cve(e,t){if(!t)return e;const n=e?e.clone():new jl;return n.update(t),n}function dve(e){if(e)return uve(e)?{captureContext:e}:mve(e)?{captureContext:e}:e}function uve(e){return e instanceof jl||typeof e=="function"}const hve=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function mve(e){return Object.keys(e).some(t=>hve.includes(t))}function DX(e,t){return jn().captureException(e,dve(t))}function LX(e,t){return jn().captureEvent(e,t)}function $X(e,t){Rl().setContext(e,t)}function fve(){const e=Ht();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function pve(e){Rl().addEventProcessor(e)}function pF(e){const t=Rl(),n=jn(),{userAgent:r}=Wt.navigator||{},i=Cxe({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),a=t.getSession();return(a==null?void 0:a.status)==="ok"&&qp(a,{status:"exited"}),FX(),t.setSession(i),i}function FX(){const e=Rl(),n=jn().getSession()||e.getSession();n&&Exe(n),BX(),e.setSession()}function BX(){const e=Rl(),t=Ht(),n=e.getSession();n&&t&&t.captureSession(n)}function gF(e=!1){if(e){FX();return}BX()}const gve="7";function xve(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function yve(e){return`${xve(e)}${e.projectId}/envelope/`}function vve(e,t){const n={sentry_version:gve};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function bve(e,t,n){return t||`${yve(e)}?${vve(e,n)}`}const xF=[];function wve(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function jve(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;return wve(r)}function Sve(e,t){const n={};return t.forEach(r=>{r&&UX(e,r,n)}),n}function yF(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function UX(e,t,n){if(n[t.name]){et&&Te.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!xF.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),xF.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,a)=>r(i,a,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((a,o)=>r(a,o,e),{id:t.name});e.addEventProcessor(i)}et&&Te.log(`Integration installed: ${t.name}`)}function Nve(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function kve(e,t,n,r){const i={};return t!=null&&t.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=Xg(r)),Ru(i,[Nve(e)])}function zX(e,t){const n=t??_ve(e)??[];if(n.length===0)return;const r=e.getOptions(),i=kve(n,r._metadata,r.tunnel,e.getDsn());VX().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function _ve(e){return VX().get(e)}function VX(){return qg("clientToLogBufferMap",()=>new WeakMap)}function Cve(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function Eve(e,t,n,r){const i={};return t!=null&&t.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=Xg(r)),Ru(i,[Cve(e)])}function qX(e,t){const n=t??Tve(e)??[];if(n.length===0)return;const r=e.getOptions(),i=Eve(n,r._metadata,r.tunnel,e.getDsn());WX().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(i)}function Tve(e){return WX().get(e)}function WX(){return qg("clientToMetricBufferMap",()=>new WeakMap)}const D5=Symbol.for("SentryBufferFullError");function L5(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function i(o){if(!n())return M5(D5);const l=o();return t.add(l),l.then(()=>r(l),()=>r(l)),l}function a(o){if(!t.size)return Yk(!0);const l=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return l;const c=[l,new Promise(d=>setTimeout(()=>d(!1),o))];return Promise.race(c)}return{get $(){return Array.from(t)},add:i,drain:a}}const Ave=60*1e3;function Pve(e,t=jb()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Ave:r-t}function Ive(e,t){return e[t]||e.all||0}function HX(e,t,n=jb()){return Ive(e,t)>n}function KX(e,{statusCode:t,headers:n},r=jb()){const i={...e},a=n==null?void 0:n["x-sentry-rate-limits"],o=n==null?void 0:n["retry-after"];if(a)for(const l of a.trim().split(",")){const[c,d,,,u]=l.split(":",5),h=parseInt(c,10),m=(isNaN(h)?60:h)*1e3;if(!d)i.all=r+m;else for(const f of d.split(";"))f==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(i[f]=r+m):i[f]=r+m}else o?i.all=r+Pve(o,r):t===429&&(i.all=r+60*1e3);return i}const GX=64;function Ove(e,t,n=L5(e.bufferSize||GX)){let r={};const i=o=>n.drain(o);function a(o){const l=[];if(lP(o,(h,m)=>{const f=sF(m);HX(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):l.push(h)}),l.length===0)return Promise.resolve({});const c=Ru(o[0],l),d=h=>{if(Sye(c,["client_report"])){et&&Te.warn(`Dropping client report. Will not send outcomes (reason: ${h}).`);return}lP(c,(m,f)=>{e.recordDroppedEvent(h,sF(f))})},u=()=>t({body:Nye(c)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&et&&Te.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),r=KX(r,h),h),h=>{throw d("network_error"),et&&Te.error("Encountered error running transport request:",h),h});return n.add(u).then(h=>h,h=>{if(h===D5)return et&&Te.error("Skipped sending event because buffer is full."),d("queue_overflow"),Promise.resolve({});throw h})}return{send:a,flush:i}}function Rve(e,t,n){const r=[{type:"client_report"},{timestamp:Am(),discarded_events:e}];return Ru(t?{dsn:t}:{},[r])}function YX(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function Mve(e){var c;const{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:a,data:o,op:l}=((c=e.contexts)==null?void 0:c.trace)??{};return{data:o??{},description:e.transaction,op:l,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:a,profile_id:o==null?void 0:o[C5],exclusive_time:o==null?void 0:o[Yg],measurements:e.measurements,is_segment:!0}}function Dve(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[C5]:e.profile_id},...e.exclusive_time&&{[Yg]:e.exclusive_time}}}},measurements:e.measurements}}const vF="Not capturing exception because it's already been captured.",bF="Discarded session because of missing or non-string release",XX=Symbol.for("SentryInternalError"),JX=Symbol.for("SentryDoNotSendEventError"),Lve=5e3;function rj(e){return{message:e,[XX]:!0}}function VE(e){return{message:e,[JX]:!0}}function wF(e){return!!e&&typeof e=="object"&&XX in e}function jF(e){return!!e&&typeof e=="object"&&JX in e}function SF(e,t,n,r,i){let a=0,o,l=!1;e.on(n,()=>{a=0,clearTimeout(o),l=!1}),e.on(t,c=>{a+=r(c),a>=8e5?i(e):l||(l=!0,o=setTimeout(()=>{i(e)},Lve))}),e.on("flush",()=>{i(e)})}class $ve{constructor(t){var r,i,a;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=L5(((r=t.transportOptions)==null?void 0:r.bufferSize)??GX),t.dsn?this._dsn=rye(t.dsn):et&&Te.warn("No DSN provided, client will not send events."),this._dsn){const o=bve(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:o})}this._options.enableLogs=this._options.enableLogs??((i=this._options._experiments)==null?void 0:i.enableLogs),this._options.enableLogs&&SF(this,"afterCaptureLog","flushLogs",zve,zX),(this._options.enableMetrics??((a=this._options._experiments)==null?void 0:a.enableMetrics)??!0)&&SF(this,"afterCaptureMetric","flushMetrics",Uve,qX)}captureException(t,n,r){const i=aa();if(Y6(t))return et&&Te.log(vF),i;const a={event_id:i,...n};return this._process(()=>this.eventFromException(t,a).then(o=>this._captureEvent(o,a,r)).then(o=>o),"error"),a.event_id}captureMessage(t,n,r,i){const a={event_id:aa(),...r},o=j5(t)?t:String(t),l=zp(t),c=l?this.eventFromMessage(o,n,a):this.eventFromException(t,a);return this._process(()=>c.then(d=>this._captureEvent(d,a,i)),l?"unknown":"error"),a.event_id}captureEvent(t,n,r){const i=aa();if(n!=null&&n.originalException&&Y6(n.originalException))return et&&Te.log(vF),i;const a={event_id:i,...n},o=t.sdkProcessingMetadata||{},l=o.capturedSpanScope,c=o.capturedSpanIsolationScope,d=NF(t.type);return this._process(()=>this._captureEvent(t,a,l||r,c),d),a.event_id}captureSession(t){this.sendSession(t),qp(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),i=await n.flush(t);return r&&i}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];UX(this,t,this._integrations),n||yF(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Pye(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=jye(r,Cye(i));this.sendEnvelope(r).then(i=>this.emit("afterSendEvent",t,i))}sendSession(t){const{release:n,environment:r=P5}=this._options;if("aggregates"in t){const a=t.attrs||{};if(!a.release&&!n){et&&Te.warn(bF);return}a.release=a.release||n,a.environment=a.environment||r,t.attrs=a}else{if(!t.release&&!n){et&&Te.warn(bF);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const i=Aye(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const i=`${t}:${n}`;et&&Te.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,i=(...a)=>n(...a);return r.add(i),()=>{r.delete(i)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return et&&Te.error("Error while sending envelope:",n),{}}return et&&Te.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Sve(this,t),yF(this,t)}_updateSessionFromEvent(t,n){var c,d;let r=n.level==="fatal",i=!1;const a=(c=n.exception)==null?void 0:c.values;if(a){i=!0,r=!1;for(const u of a)if(((d=u.mechanism)==null?void 0:d.handled)===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(qp(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i){const a=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&(o!=null&&o.length)&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),MX(a,t,n,r,this,i).then(l=>{if(l===null)return l;this.emit("postprocessEvent",l,n),l.contexts={trace:$xe(r),...l.contexts};const c=CX(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,n={},r=jn(),i=Rl()){return et&&uP(t)&&Te.log(`Captured error event \`${YX(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,i).then(a=>a.event_id,a=>{et&&(jF(a)?Te.log(a.message):wF(a)?Te.warn(a.message):Te.warn(a))})}_processEvent(t,n,r,i){const a=this.getOptions(),{sampleRate:o}=a,l=QX(t),c=uP(t),u=`before send for type \`${t.type||"error"}\``,h=typeof o>"u"?void 0:sm(o);if(c&&typeof h=="number"&&Kd()>h)return this.recordDroppedEvent("sample_rate","error"),M5(VE(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const m=NF(t.type);return this._prepareEvent(t,n,r,i).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",m),VE("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;const g=Bve(this,a,f,n);return Fve(g,u)}).then(f=>{var y;if(f===null){if(this.recordDroppedEvent("before_send",m),l){const b=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",b)}throw VE(`${u} returned \`null\`, will not send event.`)}const p=r.getSession()||i.getSession();if(c&&p&&this._updateSessionFromEvent(p,f),l){const v=((y=f.sdkProcessingMetadata)==null?void 0:y.spanCountBeforeProcessing)||0,b=f.spans?f.spans.length:0,w=v-b;w>0&&this.recordDroppedEvent("before_send","span",w)}const g=f.transaction_info;if(l&&g&&f.transaction!==t.transaction){const v="custom";f.transaction_info={...g,source:v}}return this.sendEvent(f,n),f}).then(null,f=>{throw jF(f)||wF(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),rj(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===D5&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,a]=n.split(":");return{reason:i,category:a,quantity:r}})}_flushOutcomes(){et&&Te.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){et&&Te.log("No outcomes to send");return}if(!this._dsn){et&&Te.log("No dsn provided, will not send outcomes");return}et&&Te.log("Sending outcomes:",t);const n=Rve(t,this._options.tunnel&&Xg(this._dsn));this.sendEnvelope(n)}}function NF(e){return e==="replay_event"?"replay":e||"error"}function Fve(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Hg(e))return e.then(r=>{if(!$v(r)&&r!==null)throw rj(n);return r},r=>{throw rj(`${t} rejected with ${r}`)});if(!$v(e)&&e!==null)throw rj(n);return e}function Bve(e,t,n,r){const{beforeSend:i,beforeSendTransaction:a,beforeSendSpan:o,ignoreSpans:l}=t;let c=n;if(uP(c)&&i)return i(c,r);if(QX(c)){if(o||l){const d=Mve(c);if(l!=null&&l.length&&dS(d,l))return null;if(o){const u=o(d);u?c=Sb(n,Dve(u)):aP()}if(c.spans){const u=[],h=c.spans;for(const f of h){if(l!=null&&l.length&&dS(f,l)){pye(h,f);continue}if(o){const p=o(f);p?u.push(p):(aP(),u.push(f))}else u.push(f)}const m=c.spans.length-u.length;m&&e.recordDroppedEvent("before_send","span",m),c.spans=u}}if(a){if(c.spans){const d=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:d}}return a(c,r)}}return c}function uP(e){return e.type===void 0}function QX(e){return e.type==="transaction"}function Uve(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+ZX(e.attributes)}function zve(e){let t=0;return e.message&&(t+=e.message.length*2),t+ZX(e.attributes)}function ZX(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*kF(n[0]):zp(n)?t+=kF(n):t+=100}),t}function kF(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function Vve(e){return Wk(e)&&"__sentry_fetch_url_host__"in e&&typeof e.__sentry_fetch_url_host__=="string"}function _F(e){return Vve(e)?`${e.message} (${e.__sentry_fetch_url_host__})`:e.message}function qve(e,t){t.debug===!0&&(et?Te.enable():Tm(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),jn().update(t.initialScope);const r=new e(t);return Wve(r),r.init(),r}function Wve(e){jn().setClient(e)}const Hve="thismessage:/";function $5(e){return"isRelative"in e}function F5(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?Hve:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const i=new URL(e,r);return n?{isRelative:n,pathname:i.pathname,search:i.search,hash:i.hash}:i}catch{}}function Kve(e){if($5(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Wh(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Gve(e){return e.split(/[?#]/,1)[0]}function Gd(e,t=!0){if(e.startsWith("data:")){const n=e.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",i=e.includes(";base64,"),a=e.indexOf(",");let o="";if(t&&a!==-1){const l=e.slice(a+1);o=l.length>10?`${l.slice(0,10)}... [truncated]`:l}return`data:${r}${i?",base64":""}${o?`,${o}`:""}`}return e}function Yve(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return Jve(e,n)||Xve(e,r)}function Xve(e,t){return t?CF(e)===CF(t):!1}function Jve(e,t){const n=F5(e);return!n||$5(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function CF(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Qve(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function eJ(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(a=>({name:`${r}:@sentry/${a}`,version:zh})),version:zh}),e._metadata=i}function tJ(e={}){const t=e.client||Ht();if(!fve()||!t)return{};const n=Em(),r=Gg(n);if(r.getTraceData)return r.getTraceData(e);const i=e.scope||jn(),a=e.span||ci(),o=a?cye(a):Zve(i),l=a?Ec(a):CX(t,i),c=Kxe(l);if(!yX.test(o))return Te.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const u={"sentry-trace":o,baggage:c};return e.propagateTraceparent&&(u.traceparent=a?dye(a):e0e(i)),u}function Zve(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return vX(t,r,n)}function e0e(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return bX(t,r,n)}function t0e(e,t,n){let r,i,a;const o=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,l=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function c(){return d(),r=e(),r}function d(){i!==void 0&&clearTimeout(i),a!==void 0&&clearTimeout(a),i=a=void 0}function u(){return i!==void 0||a!==void 0?c():r}function h(){return i&&clearTimeout(i),i=l(c,t),o&&a===void 0&&(a=l(c,o)),r}return h.cancel=d,h.flush=u,h}const n0e=100;function uu(e,t){const n=Ht(),r=Rl();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=n0e}=n.getOptions();if(a<=0)return;const l={timestamp:Am(),...e},c=i?Tm(()=>i(l,t)):l;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,a))}let EF;const r0e="FunctionToString",TF=new WeakMap,s0e=()=>({name:r0e,setupOnce(){EF=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=k5(this),n=TF.has(Ht())&&t!==void 0?t:this;return EF.apply(n,e)}}catch{}},setup(e){TF.set(e,!0)}}),i0e=s0e,a0e=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],o0e="EventFilters",l0e=(e={})=>{let t;return{name:o0e,setup(n){const r=n.getOptions();t=AF(e,r)},processEvent(n,r,i){if(!t){const a=i.getOptions();t=AF(e,a)}return d0e(n,t)?null:n}}},c0e=(e={})=>({...l0e(e),name:"InboundFilters"});function AF(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:a0e],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function d0e(e,t){if(e.type){if(e.type==="transaction"&&h0e(e,t.ignoreTransactions))return et&&Te.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${mh(e)}`),!0}else{if(u0e(e,t.ignoreErrors))return et&&Te.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${mh(e)}`),!0;if(g0e(e))return et&&Te.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${mh(e)}`),!0;if(m0e(e,t.denyUrls))return et&&Te.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${mh(e)}.
Url: ${uS(e)}`),!0;if(!f0e(e,t.allowUrls))return et&&Te.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${mh(e)}.
Url: ${uS(e)}`),!0}return!1}function u0e(e,t){return t!=null&&t.length?YX(e).some(n=>fc(n,t)):!1}function h0e(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?fc(n,t):!1}function m0e(e,t){if(!(t!=null&&t.length))return!1;const n=uS(e);return n?fc(n,t):!1}function f0e(e,t){if(!(t!=null&&t.length))return!0;const n=uS(e);return n?fc(n,t):!0}function p0e(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function uS(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(a=>{var o,l,c;return((o=a.mechanism)==null?void 0:o.parent_id)===void 0&&((c=(l=a.stacktrace)==null?void 0:l.frames)==null?void 0:c.length)}),i=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return i?p0e(i):null}catch{return et&&Te.error(`Cannot extract url for event ${mh(e)}`),null}}function g0e(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function x0e(e,t,n,r,i,a){var l;if(!((l=i.exception)!=null&&l.values)||!a||!kc(a.originalException,Error))return;const o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=hP(e,t,r,a.originalException,n,i.exception.values,o,0))}function hP(e,t,n,r,i,a,o,l){if(a.length>=n+1)return a;let c=[...a];if(kc(r[i],Error)){PF(o,l);const d=e(t,r[i]),u=c.length;IF(d,i,u,l),c=hP(e,t,n,r[i],i,[d,...c],d,u)}return Array.isArray(r.errors)&&r.errors.forEach((d,u)=>{if(kc(d,Error)){PF(o,l);const h=e(t,d),m=c.length;IF(h,`errors[${u}]`,m,l),c=hP(e,t,n,d,i,[h,...c],h,m)}}),c}function PF(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function IF(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function y0e(e){const t="console";Pu(t,e),Iu(t,v0e)}function v0e(){"console"in Wt&&sxe.forEach(function(e){e in Wt.console&&wi(Wt.console,e,function(t){return oS[e]=t,function(...n){Ua("console",{args:n,level:e});const i=oS[e];i==null||i.apply(Wt.console,n)}})})}function nJ(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const b0e="Dedupe",w0e=()=>{let e;return{name:b0e,processEvent(t){if(t.type)return t;try{if(S0e(t,e))return et&&Te.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},j0e=w0e;function S0e(e,t){return t?!!(N0e(e,t)||k0e(e,t)):!1}function N0e(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!sJ(e,t)||!rJ(e,t))}function k0e(e,t){const n=OF(t),r=OF(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!sJ(e,t)||!rJ(e,t))}function rJ(e,t){let n=V6(e),r=V6(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const a=r[i],o=n[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function sJ(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function OF(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function _0e(e,t,n,r,i){if(!e.fetchData)return;const{method:a,url:o}=e.fetchData,l=Mo()&&t(o);if(e.endTimestamp&&l){const f=e.fetchData.__span;if(!f)return;const p=r[f];p&&(T0e(p,e),C0e(p,e,i),delete r[f]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:d=!1}=typeof i=="object"?i:{spanOrigin:i},u=!!ci(),h=l&&u?Jg(P0e(o,a,c)):new du;if(e.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h,n(e.fetchData.url)){const f=e.args[0],p={...e.args[1]||{}},g=E0e(f,p,Mo()&&u?h:void 0,d);g&&(e.args[1]=p,p.headers=g)}const m=Ht();if(m){const f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};m.emit("beforeOutgoingRequestSpan",h,f)}return h}function C0e(e,t,n){var i;const r=typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0;r==null||r(e,{headers:(i=t.response)==null?void 0:i.headers,error:t.error})}function E0e(e,t,n,r){const i=tJ({span:n,propagateTraceparent:r}),a=i["sentry-trace"],o=i.baggage,l=i.traceparent;if(!a)return;const c=t.headers||(S5(e)?e.headers:void 0);if(c)if(A0e(c)){const d=new Headers(c);if(d.get("sentry-trace")||d.set("sentry-trace",a),r&&l&&!d.get("traceparent")&&d.set("traceparent",l),o){const u=d.get("baggage");u?Lw(u)||d.set("baggage",`${u},${o}`):d.set("baggage",o)}return d}else if(Array.isArray(c)){const d=[...c];c.find(h=>h[0]==="sentry-trace")||d.push(["sentry-trace",a]),r&&l&&!c.find(h=>h[0]==="traceparent")&&d.push(["traceparent",l]);const u=c.find(h=>h[0]==="baggage"&&Lw(h[1]));return o&&!u&&d.push(["baggage",o]),d}else{const d="sentry-trace"in c?c["sentry-trace"]:void 0,u="traceparent"in c?c.traceparent:void 0,h="baggage"in c?c.baggage:void 0,m=h?Array.isArray(h)?[...h]:[h]:[],f=h&&(Array.isArray(h)?h.find(g=>Lw(g)):Lw(h));o&&!f&&m.push(o);const p={...c,"sentry-trace":d??a,baggage:m.length>0?m.join(","):void 0};return r&&l&&!u&&(p.traceparent=l),p}else return{...i}}function T0e(e,t){var n,r;if(t.response){mX(e,t.response.status);const i=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(i){const a=parseInt(i);a>0&&e.setAttribute("http.response_content_length",a)}}else t.error&&e.setStatus({code:Xr,message:"internal_error"});e.end()}function Lw(e){return e.split(",").some(t=>t.trim().startsWith(T5))}function A0e(e){return typeof Headers<"u"&&kc(e,Headers)}function P0e(e,t,n){if(e.startsWith("data:")){const a=Gd(e);return{name:`${t} ${a}`,attributes:RF(e,void 0,t,n)}}const r=F5(e),i=r?Kve(r):e;return{name:`${t} ${i}`,attributes:RF(e,r,t,n)}}function RF(e,t,n,r){const i={url:Gd(e),type:"fetch","http.method":n,[ss]:r,[Cc]:"http.client"};return t&&($5(t)||(i["http.url"]=Gd(t.href),i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}function iJ(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Uv=Wt;function I0e(){return"history"in Uv&&!!Uv.history}function O0e(){if(!("fetch"in Uv))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function mP(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function R0e(){var n;if(typeof EdgeRuntime=="string")return!0;if(!O0e())return!1;if(mP(Uv.fetch))return!0;let e=!1;const t=Uv.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=mP(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){et&&Te.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function aJ(e,t){const n="fetch";Pu(n,e),Iu(n,()=>oJ(void 0,t))}function M0e(e){const t="fetch-body-resolved";Pu(t,e),Iu(t,()=>oJ(L0e))}function oJ(e,t=!1){t&&!R0e()||wi(Wt,"fetch",function(n){return function(...r){const i=new Error,{method:a,url:o}=$0e(r),l={args:r,fetchData:{method:a,url:o},startTimestamp:hs()*1e3,virtualError:i,headers:F0e(r)};return e||Ua("fetch",{...l}),n.apply(Wt,r).then(async c=>(e?e(c):Ua("fetch",{...l,endTimestamp:hs()*1e3,response:c}),c),c=>{Ua("fetch",{...l,endTimestamp:hs()*1e3,error:c}),Wk(c)&&c.stack===void 0&&(c.stack=i.stack,Ii(c,"framesToPop",1));const d=Ht(),u=(d==null?void 0:d.getOptions().enhanceFetchErrorMessages)??"always";if(u!==!1&&c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const f=new URL(l.fetchData.url).host;u==="always"?c.message=`${c.message} (${f})`:Ii(c,"__sentry_fetch_url_host__",f)}catch{}throw c})}})}async function D0e(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let a=!0;for(;a;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:l}=await r.read();clearTimeout(o),l&&(t(),a=!1)}catch{a=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function L0e(e){let t;try{t=e.clone()}catch{return}D0e(t,()=>{Ua("fetch-body-resolved",{endTimestamp:hs()*1e3,response:e})})}function sj(e,t){return!!e&&typeof e=="object"&&!!e[t]}function MF(e){return typeof e=="string"?e:e?sj(e,"url")?e.url:e.toString?e.toString():"":""}function $0e(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:MF(n),method:sj(r,"method")?String(r.method).toUpperCase():S5(n)&&sj(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:MF(t),method:sj(t,"method")?String(t.method).toUpperCase():"GET"}}function F0e(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(S5(t))return new Headers(t.headers)}catch{}}function B0e(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function U0e(){return"npm"}function z0e(){return!B0e()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function fP(){return typeof window<"u"&&(!z0e()||V0e())}function V0e(){const e=Wt.process;return(e==null?void 0:e.type)==="renderer"}const nn=Wt;let pP=0;function lJ(){return pP>0}function q0e(){pP++,setTimeout(()=>{pP--})}function Kp(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(k5(e))return e}catch{return e}const r=function(...i){try{const a=i.map(o=>Kp(o,t));return e.apply(this,a)}catch(a){throw q0e(),Kk(o=>{o.addEventProcessor(l=>(t.mechanism&&(rP(l,void 0),Vp(l,t.mechanism)),l.extra={...l.extra,arguments:i},l)),DX(a)}),a}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}lX(r,e),Ii(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function B5(){const e=Kg(),{referrer:t}=nn.document||{},{userAgent:n}=nn.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function U5(e,t){const n=z5(e,t),r={type:Y0e(t),value:X0e(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function W0e(e,t,n,r){const i=Ht(),a=i==null?void 0:i.getOptions().normalizeDepth,o=tbe(t),l={__serialized__:EX(t,a)};if(o)return{exception:{values:[U5(e,o)]},extra:l};const c={exception:{values:[{type:Hk(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Z0e(t,{isUnhandledRejection:r})}]},extra:l};if(n){const d=z5(e,n);d.length&&(c.exception.values[0].stacktrace={frames:d})}return c}function qE(e,t){return{exception:{values:[U5(e,t)]}}}function z5(e,t){const n=t.stacktrace||t.stack||"",r=K0e(t),i=G0e(t);try{return e(n,r,i)}catch{}return[]}const H0e=/Minified React error #\d+;/i;function K0e(e){return e&&H0e.test(e.message)?1:0}function G0e(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function cJ(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Y0e(e){const t=e==null?void 0:e.name;return!t&&cJ(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function X0e(e){const t=e==null?void 0:e.message;return cJ(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?_F(t.error):_F(e):"No error message"}function J0e(e,t,n,r){const i=(n==null?void 0:n.syntheticException)||void 0,a=V5(e,t,i,r);return Vp(a),a.level="error",n!=null&&n.event_id&&(a.event_id=n.event_id),Yk(a)}function Q0e(e,t,n="info",r,i){const a=(r==null?void 0:r.syntheticException)||void 0,o=gP(e,t,a,i);return o.level=n,r!=null&&r.event_id&&(o.event_id=r.event_id),Yk(o)}function V5(e,t,n,r,i){let a;if(iX(t)&&t.error)return qE(e,t.error);if(W6(t)||pxe(t)){const o=t;if("stack"in t)a=qE(e,t);else{const l=o.name||(W6(o)?"DOMError":"DOMException"),c=o.message?`${l}: ${o.message}`:l;a=gP(e,c,n,r),rP(a,c)}return"code"in o&&(a.tags={...a.tags,"DOMException.code":`${o.code}`}),a}return Wk(t)?qE(e,t):$v(t)||Hk(t)?(a=W0e(e,t,n,i),Vp(a,{synthetic:!0}),a):(a=gP(e,t,n,r),rP(a,`${t}`),Vp(a,{synthetic:!0}),a)}function gP(e,t,n,r){const i={};if(r&&n){const a=z5(e,n);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]}),Vp(i,{synthetic:!0})}if(j5(t)){const{__sentry_template_string__:a,__sentry_template_values__:o}=t;return i.logentry={message:a,params:o},i}return i.message=t,i}function Z0e(e,{isUnhandledRejection:t}){const n=wxe(e),r=t?"promise rejection":"exception";return iX(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Hk(e)?`Event \`${ebe(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function ebe(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function tbe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class nbe extends $ve{constructor(t){var u;const n=rbe(t),r=nn.SENTRY_SDK_SOURCE||U0e();eJ(n,"browser",["browser"],r),(u=n._metadata)!=null&&u.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:i,sendClientReports:a,enableLogs:o,_experiments:l,enableMetrics:c}=this._options,d=c??(l==null?void 0:l.enableMetrics)??!0;nn.document&&(a||o||d)&&nn.document.addEventListener("visibilitychange",()=>{nn.document.visibilityState==="hidden"&&(a&&this._flushOutcomes(),o&&zX(this),d&&qX(this))}),i&&this.on("beforeSendSession",Qve)}eventFromException(t,n){return J0e(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Q0e(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,i)}}function rbe(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=nn.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const im=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,vt=Wt,sbe=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",_b=(e,t,n,r)=>{let i,a;return o=>{t.value>=0&&(o||r)&&(a=t.value-(i??0),(a||i===void 0)&&(i=t.value,t.delta=a,t.rating=sbe(t.value,n),e(t)))}},Cb=(e=!0)=>{var n,r;const t=(r=(n=vt.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Qg=()=>{const e=Cb();return(e==null?void 0:e.activationStart)??0};function Yd(e,t,n){vt.document&&vt.addEventListener(e,t,n)}function hS(e,t,n){vt.document&&vt.removeEventListener(e,t,n)}let ep=-1;const dJ=new Set,ibe=()=>{var e,t;return((e=vt.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=vt.document)!=null&&t.prerendering)?0:1/0},ij=e=>{if(abe(e)&&ep>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of dJ)t();isFinite(ep)||(ep=e.type==="visibilitychange"?e.timeStamp:0,hS("prerenderingchange",ij,!0))}},Eb=()=>{var e;if(vt.document&&ep<0){const t=Qg();ep=(vt.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??ibe(),Yd("visibilitychange",ij,!0),Yd("pagehide",ij,!0),Yd("prerenderingchange",ij,!0)}return{get firstHiddenTime(){return ep},onHidden(t){dJ.add(t)}}};function abe(e){var t;return e.type==="pagehide"||((t=vt.document)==null?void 0:t.visibilityState)==="hidden"}const obe=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Tb=(e,t=-1)=>{var a,o;const n=Cb();let r="navigate";return n&&((a=vt.document)!=null&&a.prerendering||Qg()>0?r="prerender":(o=vt.document)!=null&&o.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:obe(),navigationType:r}},WE=new WeakMap;function q5(e,t){try{return WE.get(e)||WE.set(e,new t),WE.get(e)}catch{return new t}}class mS{constructor(){mS.prototype.__init.call(this),mS.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var i;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(i=this._onAfterProcessingUnexpectedShift)==null||i.call(this,t)}}const Zg=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},W5=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Xk=e=>{var t;(t=vt.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},lbe=[1800,3e3],cbe=(e,t={})=>{Xk(()=>{const n=Eb(),r=Tb("FCP");let i;const o=Zg("paint",l=>{for(const c of l)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Qg(),0),r.entries.push(c),i(!0)))});o&&(i=_b(e,r,lbe,t.reportAllChanges))})},dbe=[.1,.25],ube=(e,t={})=>{cbe(W5(()=>{var c;const n=Tb("CLS",0);let r;const i=Eb(),a=q5(t,mS),o=d=>{for(const u of d)a._processEntry(u);a._sessionValue>n.value&&(n.value=a._sessionValue,n.entries=a._sessionEntries,r())},l=Zg("layout-shift",o);l&&(r=_b(e,n,dbe,t.reportAllChanges),i.onHidden(()=>{o(l.takeRecords()),r(!0)}),(c=vt==null?void 0:vt.setTimeout)==null||c.call(vt,r))}))};let uJ=0,HE=1/0,$w=0;const hbe=e=>{e.forEach(t=>{t.interactionId&&(HE=Math.min(HE,t.interactionId),$w=Math.max($w,t.interactionId),uJ=$w?($w-HE)/7+1:0)})};let xP;const hJ=()=>xP?uJ:performance.interactionCount||0,mbe=()=>{"interactionCount"in performance||xP||(xP=Zg("event",hbe,{type:"event",buffered:!0,durationThreshold:0}))},KE=10;let mJ=0;const fbe=()=>hJ()-mJ;class fS{constructor(){fS.prototype.__init.call(this),fS.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){mJ=hJ(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(fbe()/50));return this._longestInteractionList[t]}_processEntry(t){var i,a;if((i=this._onBeforeProcessingEntry)==null||i.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<KE||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,l)=>l._latency-o._latency),this._longestInteractionList.length>KE){const o=this._longestInteractionList.splice(KE);for(const l of o)this._longestInteractionMap.delete(l.id)}(a=this._onAfterProcessingINPCandidate)==null||a.call(this,r)}}}const fJ=e=>{var n;const t=vt.requestIdleCallback||vt.setTimeout;((n=vt.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=W5(e),Yd("visibilitychange",e,{once:!0,capture:!0}),Yd("pagehide",e,{once:!0,capture:!0}),t(()=>{e(),hS("visibilitychange",e,{capture:!0}),hS("pagehide",e,{capture:!0})}))},pbe=[200,500],gbe=40,xbe=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=Eb();Xk(()=>{mbe();const r=Tb("INP");let i;const a=q5(t,fS),o=c=>{fJ(()=>{for(const u of c)a._processEntry(u);const d=a._estimateP98LongestInteraction();d&&d._latency!==r.value&&(r.value=d._latency,r.entries=d.entries,i())})},l=Zg("event",o,{durationThreshold:t.durationThreshold??gbe});i=_b(e,r,pbe,t.reportAllChanges),l&&(l.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(l.takeRecords()),i(!0)}))})};class ybe{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const vbe=[2500,4e3],bbe=(e,t={})=>{Xk(()=>{const n=Eb(),r=Tb("LCP");let i;const a=q5(t,ybe),o=c=>{t.reportAllChanges||(c=c.slice(-1));for(const d of c)a._processEntry(d),d.startTime<n.firstHiddenTime&&(r.value=Math.max(d.startTime-Qg(),0),r.entries=[d],i())},l=Zg("largest-contentful-paint",o);if(l){i=_b(e,r,vbe,t.reportAllChanges);const c=W5(()=>{o(l.takeRecords()),l.disconnect(),i(!0)}),d=u=>{u.isTrusted&&(fJ(c),hS(u.type,d,{capture:!0}))};for(const u of["keydown","click","visibilitychange"])Yd(u,d,{capture:!0})}})},wbe=[800,1800],yP=e=>{var t,n;(t=vt.document)!=null&&t.prerendering?Xk(()=>yP(e)):((n=vt.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>yP(e),!0):setTimeout(e)},jbe=(e,t={})=>{const n=Tb("TTFB"),r=_b(e,n,wbe,t.reportAllChanges);yP(()=>{const i=Cb();i&&(n.value=Math.max(i.responseStart-Qg(),0),n.entries=[i],r(!0))})},Gy={},pS={};let pJ,gJ,xJ,yJ;function H5(e,t=!1){return Jk("cls",e,Nbe,pJ,t)}function K5(e,t=!1){return Jk("lcp",e,kbe,gJ,t)}function Sbe(e){return Jk("ttfb",e,_be,xJ)}function vJ(e){return Jk("inp",e,Cbe,yJ)}function am(e,t){return bJ(e,t),pS[e]||(Ebe(e),pS[e]=!0),wJ(e,t)}function Ab(e,t){const n=Gy[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(i){im&&Te.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Nc(r)}
Error:`,i)}}function Nbe(){return ube(e=>{Ab("cls",{metric:e}),pJ=e},{reportAllChanges:!0})}function kbe(){return bbe(e=>{Ab("lcp",{metric:e}),gJ=e},{reportAllChanges:!0})}function _be(){return jbe(e=>{Ab("ttfb",{metric:e}),xJ=e})}function Cbe(){return xbe(e=>{Ab("inp",{metric:e}),yJ=e})}function Jk(e,t,n,r,i=!1){bJ(e,t);let a;return pS[e]||(a=n(),pS[e]=!0),r&&t({metric:r}),wJ(e,t,i?a:void 0)}function Ebe(e){const t={};e==="event"&&(t.durationThreshold=0),Zg(e,n=>{Ab(e,{entries:n})},t)}function bJ(e,t){Gy[e]=Gy[e]||[],Gy[e].push(t)}function wJ(e,t,n){return()=>{n&&n();const r=Gy[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function Tbe(e){return"duration"in e}const Abe=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=vt.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};Yd("visibilitychange",t,{capture:!0,once:!0}),Yd("pagehide",t,{capture:!0,once:!0})};function GE(e){return typeof e=="number"&&isFinite(e)}function hu(e,t,n,{...r}){const i=tn(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),O5(e,()=>{const a=Jg({startTime:t,...r});return a&&a.end(n),a})}function G5(e){var y;const t=Ht();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:a}=e,{release:o,environment:l,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay"),u=d==null?void 0:d.getReplayId(),h=jn(),m=h.getUser(),f=m!==void 0?m.email||m.id||m.ip_address:void 0;let p;try{p=h.getScopeData().contexts.profile.profile_id}catch{}const g={release:o,environment:l,user:f||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":(y=vt.navigator)==null?void 0:y.userAgent,"client.address":c?"{{auto}}":void 0,...i};return Jg({name:n,attributes:g,startTime:a,experimental:{standalone:!0}})}function Pb(){return vt.addEventListener&&vt.performance}function Sr(e){return e/1e3}function Pbe(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function jJ(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function SJ(e,t){let n,r=!1;function i(l){!r&&n&&t(l,n),r=!0}Abe(()=>{i("pagehide")});const a=e.on("beforeStartNavigationSpan",(l,c)=>{c!=null&&c.isRedirect||(i("navigation"),a(),o())}),o=e.on("afterStartPageLoadSpan",l=>{n=l.spanContext().spanId,o()})}function Ibe(e){let t=0,n;if(!jJ("layout-shift"))return;const r=H5(({metric:i})=>{const a=i.entries[i.entries.length-1];a&&(t=i.value,n=a)},!0);SJ(e,(i,a)=>{Obe(t,n,a,i),r()})}function Obe(e,t,n,r){var d;im&&Te.log(`Sending CLS span (${e})`);const i=t?Sr((Li()||0)+t.startTime):hs(),a=jn().getScopeData().transactionName,o=t?Pi((d=t.sources[0])==null?void 0:d.node):"Layout shift",l={[ss]:"auto.http.browser.cls",[Cc]:"ui.webvital.cls",[Yg]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((u,h)=>{l[`cls.source.${h+1}`]=Pi(u.node)});const c=G5({name:o,transaction:a,attributes:l,startTime:i});c&&(c.addEvent("cls",{[Nb]:"",[kb]:e}),c.end(i))}function Rbe(e){let t=0,n;if(!jJ("largest-contentful-paint"))return;const r=K5(({metric:i})=>{const a=i.entries[i.entries.length-1];a&&(t=i.value,n=a)},!0);SJ(e,(i,a)=>{Mbe(t,n,a,i),r()})}function Mbe(e,t,n,r){im&&Te.log(`Sending LCP span (${e})`);const i=Sr((Li()||0)+((t==null?void 0:t.startTime)||0)),a=jn().getScopeData().transactionName,o=t?Pi(t.element):"Largest contentful paint",l={[ss]:"auto.http.browser.lcp",[Cc]:"ui.webvital.lcp",[Yg]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(l["lcp.element"]=Pi(t.element)),t.id&&(l["lcp.id"]=t.id),t.url&&(l["lcp.url"]=t.url),t.loadTime!=null&&(l["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(l["lcp.renderTime"]=t.renderTime),t.size!=null&&(l["lcp.size"]=t.size));const c=G5({name:o,transaction:a,attributes:l,startTime:i});c&&(c.addEvent("lcp",{[Nb]:"millisecond",[kb]:e}),c.end(i))}function ba(e){return e&&((Li()||performance.timeOrigin)+e)/1e3}function NJ(e){var n;const t={};if(e.nextHopProtocol!=null){const{name:r,version:i}=Pbe(e.nextHopProtocol);t["network.protocol.version"]=i,t["network.protocol.name"]=r}return Li()||(n=Pb())!=null&&n.timeOrigin?Dbe({...t,"http.request.redirect_start":ba(e.redirectStart),"http.request.redirect_end":ba(e.redirectEnd),"http.request.worker_start":ba(e.workerStart),"http.request.fetch_start":ba(e.fetchStart),"http.request.domain_lookup_start":ba(e.domainLookupStart),"http.request.domain_lookup_end":ba(e.domainLookupEnd),"http.request.connect_start":ba(e.connectStart),"http.request.secure_connection_start":ba(e.secureConnectionStart),"http.request.connection_end":ba(e.connectEnd),"http.request.request_start":ba(e.requestStart),"http.request.response_start":ba(e.responseStart),"http.request.response_end":ba(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function Dbe(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const Lbe=2147483647;let DF=0,wo={},fi,Af;function $be({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=Pb();if(r&&Li()){r.mark&&vt.performance.mark("sentry-tracing-init");const i=t?Rbe(n):Vbe(),a=qbe(),o=e?Ibe(n):zbe();return()=>{i==null||i(),a(),o==null||o()}}return()=>{}}function Fbe(){am("longtask",({entries:e})=>{const t=ci();if(!t)return;const{op:n,start_timestamp:r}=tn(t);for(const i of e){const a=Sr(Li()+i.startTime),o=Sr(i.duration);n==="navigation"&&r&&a<r||hu(t,a,a+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ss]:"auto.ui.browser.metrics"}})}})}function Bbe(){new PerformanceObserver(t=>{const n=ci();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=Sr(Li()+r.startTime),{start_timestamp:a,op:o}=tn(n);if(o==="navigation"&&a&&i<a)continue;const l=Sr(r.duration),c={[ss]:"auto.ui.browser.metrics"},d=r.scripts[0],{invoker:u,invokerType:h,sourceURL:m,sourceFunctionName:f,sourceCharPosition:p}=d;c["browser.script.invoker"]=u,c["browser.script.invoker_type"]=h,m&&(c["code.filepath"]=m),f&&(c["code.function"]=f),p!==-1&&(c["browser.script.source_char_position"]=p),hu(n,i,i+l,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Ube(){am("event",({entries:e})=>{const t=ci();if(t){for(const n of e)if(n.name==="click"){const r=Sr(Li()+n.startTime),i=Sr(n.duration),a={name:Pi(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ss]:"auto.ui.browser.metrics"}},o=oX(n.target);o&&(a.attributes["ui.component_name"]=o),hu(t,r,r+i,a)}}})}function zbe(){return H5(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(wo.cls={value:e.value,unit:""},Af=t)},!0)}function Vbe(){return K5(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(wo.lcp={value:e.value,unit:"millisecond"},fi=t)},!0)}function qbe(){return Sbe(({metric:e})=>{e.entries[e.entries.length-1]&&(wo.ttfb={value:e.value,unit:"millisecond"})})}function Wbe(e,t){const n=Pb(),r=Li();if(!(n!=null&&n.getEntries)||!r)return;const i=Sr(r),a=n.getEntries(),{op:o,start_timestamp:l}=tn(e);a.slice(DF).forEach(c=>{const d=Sr(c.startTime),u=Sr(Math.max(0,c.duration));if(!(o==="navigation"&&l&&i+d<l))switch(c.entryType){case"navigation":{Ybe(e,c,i);break}case"mark":case"paint":case"measure":{Kbe(e,c,d,u,i,t.ignorePerformanceApiSpans);const h=Eb(),m=c.startTime<h.firstHiddenTime;c.name==="first-paint"&&m&&(wo.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&m&&(wo.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Qbe(e,c,c.name,d,u,i,t.ignoreResourceSpans);break}}}),DF=Math.max(a.length-1,0),Zbe(e),o==="pageload"&&(nwe(wo),t.recordClsOnPageloadSpan||delete wo.cls,t.recordLcpOnPageloadSpan||delete wo.lcp,Object.entries(wo).forEach(([c,d])=>{Mye(c,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",Qg()),ewe(e,t)),fi=void 0,Af=void 0,wo={}}function Hbe(e){if((e==null?void 0:e.entryType)==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function Kbe(e,t,n,r,i,a){if(Hbe(t)||["mark","measure"].includes(t.entryType)&&fc(t.name,a))return;const o=Cb(!1),l=Sr(o?o.requestStart:0),c=i+Math.max(n,l),d=i+n,u=d+r,h={[ss]:"auto.resource.browser.metrics"};c!==d&&(h["sentry.browser.measure_happened_before_request"]=!0,h["sentry.browser.measure_start_time"]=c),Gbe(h,t),c<=u&&hu(e,c,u,{name:t.name,op:t.entryType,attributes:h})}function Gbe(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,i]of Object.entries(n))if(i&&zp(i))e[`sentry.browser.measure.detail.${r}`]=i;else if(i!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(i)}catch{}return}if(zp(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function Ybe(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Fw(e,t,r,n)}),Fw(e,t,"secureConnection",n,"TLS/SSL"),Fw(e,t,"fetch",n,"cache"),Fw(e,t,"domainLookup",n,"DNS"),Jbe(e,t,n)}function Fw(e,t,n,r,i=n){const a=Xbe(n),o=t[a],l=t[`${n}Start`];!l||!o||hu(e,r+Sr(l),r+Sr(o),{op:`browser.${i}`,name:t.name,attributes:{[ss]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function Xbe(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Jbe(e,t,n){const r=n+Sr(t.requestStart),i=n+Sr(t.responseEnd),a=n+Sr(t.responseStart);t.responseEnd&&(hu(e,r,i,{op:"browser.request",name:t.name,attributes:{[ss]:"auto.ui.browser.metrics"}}),hu(e,a,i,{op:"browser.response",name:t.name,attributes:{[ss]:"auto.ui.browser.metrics"}}))}function Qbe(e,t,n,r,i,a,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const l=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o!=null&&o.includes(l))return;const c={[ss]:"auto.resource.browser.metrics"},d=Wh(n);d.protocol&&(c["url.scheme"]=d.protocol.split(":").pop()),d.host&&(c["server.address"]=d.host),c["url.same_origin"]=n.includes(vt.location.origin),twe(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const u={...c,...NJ(t)},h=a+r,m=h+i;hu(e,h,m,{name:n.replace(vt.location.origin,""),op:l,attributes:u})}function Zbe(e){const t=vt.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),GE(n.rtt)&&(wo["connection.rtt"]={value:n.rtt,unit:"millisecond"})),GE(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),GE(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function ewe(e,t){fi&&t.recordLcpOnPageloadSpan&&(fi.element&&e.setAttribute("lcp.element",Pi(fi.element)),fi.id&&e.setAttribute("lcp.id",fi.id),fi.url&&e.setAttribute("lcp.url",fi.url.trim().slice(0,200)),fi.loadTime!=null&&e.setAttribute("lcp.loadTime",fi.loadTime),fi.renderTime!=null&&e.setAttribute("lcp.renderTime",fi.renderTime),e.setAttribute("lcp.size",fi.size)),Af!=null&&Af.sources&&t.recordClsOnPageloadSpan&&Af.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Pi(n.node)))}function twe(e,t,n){n.forEach(([r,i])=>{const a=e[r];a!=null&&(typeof a=="number"&&a<Lbe||typeof a=="string")&&(t[i]=a)})}function nwe(e){const t=Cb(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function rwe(){return Pb()&&Li()?am("element",swe):()=>{}}const swe=({entries:e})=>{const t=ci(),n=t?Ds(t):void 0,r=n?tn(n).description:jn().getScopeData().transactionName;e.forEach(i=>{var f,p;const a=i;if(!a.identifier)return;const o=a.name,l=a.renderTime,c=a.loadTime,[d,u]=c?[Sr(c),"load-time"]:l?[Sr(l),"render-time"]:[hs(),"entry-emission"],h=o==="image-paint"?Sr(Math.max(0,(l??0)-(c??0))):0,m={[ss]:"auto.ui.browser.elementtiming",[Cc]:"ui.elementtiming",[Po]:"component","sentry.span_start_time_source":u,"sentry.transaction_name":r,"element.id":a.id,"element.type":((p=(f=a.element)==null?void 0:f.tagName)==null?void 0:p.toLowerCase())||"unknown","element.size":a.naturalWidth&&a.naturalHeight?`${a.naturalWidth}x${a.naturalHeight}`:void 0,"element.render_time":l,"element.load_time":c,"element.url":a.url||void 0,"element.identifier":a.identifier,"element.paint_type":o};Uye({name:`element[${a.identifier}]`,attributes:m,startTime:d,onlyIfParent:!0},g=>{g.end(d+h)})})},iwe=1e3;let LF,vP,bP;function kJ(e){const t="dom";Pu(t,e),Iu(t,awe)}function awe(){if(!vt.document)return;const e=Ua.bind(null,"dom"),t=$F(e,!0);vt.document.addEventListener("click",t,!1),vt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var a,o;const i=(a=vt[n])==null?void 0:a.prototype;(o=i==null?void 0:i.hasOwnProperty)!=null&&o.call(i,"addEventListener")&&(wi(i,"addEventListener",function(l){return function(c,d,u){if(c==="click"||c=="keypress")try{const h=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},m=h[c]=h[c]||{refCount:0};if(!m.handler){const f=$F(e);m.handler=f,l.call(this,c,f,u)}m.refCount++}catch{}return l.call(this,c,d,u)}}),wi(i,"removeEventListener",function(l){return function(c,d,u){if(c==="click"||c=="keypress")try{const h=this.__sentry_instrumentation_handlers__||{},m=h[c];m&&(m.refCount--,m.refCount<=0&&(l.call(this,c,m.handler,u),m.handler=void 0,delete h[c]),Object.keys(h).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return l.call(this,c,d,u)}}))})}function owe(e){if(e.type!==vP)return!1;try{if(!e.target||e.target._sentryId!==bP)return!1}catch{}return!0}function lwe(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function $F(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=cwe(n);if(lwe(n.type,r))return;Ii(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ii(r,"_sentryId",aa());const i=n.type==="keypress"?"input":n.type;owe(n)||(e({event:n,name:i,global:t}),vP=n.type,bP=r?r._sentryId:void 0),clearTimeout(LF),LF=vt.setTimeout(()=>{bP=void 0,vP=void 0},iwe)}}function cwe(e){try{return e.target}catch{return null}}let Bw;function Qk(e){const t="history";Pu(t,e),Iu(t,dwe)}function dwe(){if(vt.addEventListener("popstate",()=>{const t=vt.location.href,n=Bw;if(Bw=t,n===t)return;Ua("history",{from:n,to:t})}),!I0e())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const i=Bw,a=uwe(String(r));if(Bw=a,i===a)return t.apply(this,n);Ua("history",{from:i,to:a})}return t.apply(this,n)}}wi(vt.history,"pushState",e),wi(vt.history,"replaceState",e)}function uwe(e){try{return new URL(e,vt.location.origin).toString()}catch{return e}}const aj={};function _J(e){const t=aj[e];if(t)return t;let n=vt[e];if(mP(n))return aj[e]=n.bind(vt);const r=vt.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const a=i.contentWindow;a!=null&&a[e]&&(n=a[e]),r.head.removeChild(i)}catch(i){im&&Te.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(aj[e]=n.bind(vt))}function hwe(e){aj[e]=void 0}function Ib(...e){return _J("setTimeout")(...e)}const jh="__sentry_xhr_v3__";function CJ(e){const t="xhr";Pu(t,e),Iu(t,mwe)}function mwe(){if(!vt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,a=hs()*1e3,o=mc(r[0])?r[0].toUpperCase():void 0,l=fwe(r[1]);if(!o||!l)return t.apply(n,r);n[jh]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const d=n[jh];if(d&&n.readyState===4){try{d.status_code=n.status}catch{}const u={endTimestamp:hs()*1e3,startTimestamp:a,xhr:n,virtualError:i};Ua("xhr",u)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(d,u,h){return c(),d.apply(u,h)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(d,u,h){const[m,f]=h,p=u[jh];return p&&mc(m)&&mc(f)&&(p.request_headers[m.toLowerCase()]=f),d.apply(u,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[jh];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const a={startTimestamp:hs()*1e3,xhr:n};return Ua("xhr",a),t.apply(n,r)}})}function fwe(e){if(mc(e))return e;try{return e.toString()}catch{}}const pwe=Symbol.for("sentry__originalRequestBody");function EJ(e){return new URLSearchParams(e).toString()}function TJ(e,t=Te){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[EJ(e)];if(!e)return[void 0]}catch(n){return im&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return im&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function AJ(e=[]){if(e.length>=2&&e[1]&&typeof e[1]=="object"&&"body"in e[1])return e[1].body;if(e.length>=1&&e[0]instanceof Request){const n=e[0][pwe];return n!==void 0?n:void 0}}function PJ(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return im&&Te.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[i,a]=r.split(": ");return a&&(n[i.toLowerCase()]=a),n},{}):{}}const YE=[],oj=new Map,qm=new Map,gwe=60;function xwe(){if(Pb()&&Li()){const t=ywe();return()=>{t()}}return()=>{}}const wP={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function ywe(){return vJ(vwe)}const vwe=({metric:e})=>{if(e.value==null)return;const t=Sr(e.value);if(t>gwe)return;const n=e.entries.find(p=>p.duration===e.value&&wP[p.name]);if(!n)return;const{interactionId:r}=n,i=wP[n.name],a=Sr(Li()+n.startTime),o=ci(),l=o?Ds(o):void 0,c=r!=null?oj.get(r):void 0,d=(c==null?void 0:c.span)||l,u=d?tn(d).description:jn().getScopeData().transactionName,h=(c==null?void 0:c.elementName)||Pi(n.target),m={[ss]:"auto.http.browser.inp",[Cc]:`ui.interaction.${i}`,[Yg]:n.duration},f=G5({name:h,transaction:u,attributes:m,startTime:a});f&&(f.addEvent("inp",{[Nb]:"millisecond",[kb]:e.value}),f.end(a+t))};function bwe(){const e=Object.keys(wP);fP()&&e.forEach(i=>{vt.addEventListener(i,t,{capture:!0,passive:!0})});function t(i){const a=i.target;if(!a)return;const o=Pi(a),l=Math.round(i.timeStamp);if(qm.set(l,o),qm.size>50){const c=qm.keys().next().value;c!==void 0&&qm.delete(c)}}function n(i){const a=Math.round(i.startTime);let o=qm.get(a);if(!o)for(let l=-5;l<=5;l++){const c=qm.get(a+l);if(c){o=c;break}}return o||"<unknown>"}const r=({entries:i})=>{const a=ci(),o=a&&Ds(a);i.forEach(l=>{if(!Tbe(l))return;const c=l.interactionId;if(c==null||oj.has(c))return;const d=l.target?Pi(l.target):n(l);if(YE.length>10){const u=YE.shift();oj.delete(u)}YE.push(c),oj.set(c,{span:o,elementName:d})})};am("event",r),am("first-input",r)}const wwe=40;function jwe(e,t=_J("fetch")){let n=0,r=0;async function i(a){const o=a.body.length;n+=o,r++;const l={body:a.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,l);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw hwe("fetch"),c}finally{n-=o,r--}}return Ove(e,i,L5(e.bufferSize||wwe))}const Ka=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Swe=30,Nwe=50;function jP(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?rm:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const kwe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,_we=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Cwe=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ewe=/at (.+?) ?\(data:(.+?),/,Twe=e=>{const t=e.match(Ewe);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=kwe.exec(e);if(n){const[,i,a,o]=n;return jP(i,rm,+a,+o)}const r=_we.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const l=Cwe.exec(r[2]);l&&(r[2]=l[1],r[3]=l[2],r[4]=l[3])}const[a,o]=IJ(r[1]||rm,r[2]);return jP(o,a,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Awe=[Swe,Twe],Pwe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Iwe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Owe=e=>{const t=Pwe.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=Iwe.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let r=t[3],i=t[1]||rm;return[i,r]=IJ(i,r),jP(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Rwe=[Nwe,Owe],Mwe=[Awe,Rwe],Dwe=eX(...Mwe),IJ=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:rm,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Uw=1024,Lwe="Breadcrumbs",$we=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Lwe,setup(n){t.console&&y0e(zwe(n)),t.dom&&kJ(Uwe(n,t.dom)),t.xhr&&CJ(Vwe(n)),t.fetch&&aJ(qwe(n)),t.history&&Qk(Wwe(n)),t.sentry&&n.on("beforeSendEvent",Bwe(n))}}},Fwe=$we;function Bwe(e){return function(n){Ht()===e&&uu({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:mh(n)},{event:n})}}function Uwe(e,t){return function(r){if(Ht()!==e)return;let i,a,o=typeof t=="object"?t.serializeAttribute:void 0,l=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;l&&l>Uw&&(Ka&&Te.warn(`\`dom.maxStringLength\` cannot exceed ${Uw}, but a value of ${l} was configured. Sentry will use ${Uw} instead.`),l=Uw),typeof o=="string"&&(o=[o]);try{const d=r.event,u=Hwe(d)?d.target:d;i=Pi(u,{keyAttrs:o,maxStringLength:l}),a=oX(u)}catch{i="<unknown>"}if(i.length===0)return;const c={category:`ui.${r.name}`,message:i};a&&(c.data={"ui.component_name":a}),uu(c,{event:r.event,name:r.name,global:r.global})}}function zwe(e){return function(n){if(Ht()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:nJ(n.level),message:G6(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${G6(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;uu(r,{input:n.args,level:n.level})}}function Vwe(e){return function(n){if(Ht()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,a=n.xhr[jh];if(!r||!i||!a)return;const{method:o,url:l,status_code:c,body:d}=a,u={method:o,url:l,status_code:c},h={xhr:n.xhr,input:d,startTimestamp:r,endTimestamp:i},m={category:"xhr",data:u,type:"http",level:iJ(c)};e.emit("beforeOutgoingRequestBreadcrumb",m,h),uu(m,h)}}function qwe(e){return function(n){if(Ht()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const a=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i},l={category:"fetch",data:a,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",l,o),uu(l,o)}else{const a=n.response,o={...n.fetchData,status_code:a==null?void 0:a.status};n.fetchData.request_body_size,n.fetchData.response_body_size,a==null||a.status;const l={input:n.args,response:a,startTimestamp:r,endTimestamp:i},c={category:"fetch",data:o,type:"http",level:iJ(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,l),uu(c,l)}}}function Wwe(e){return function(n){if(Ht()!==e)return;let r=n.from,i=n.to;const a=Wh(nn.location.href);let o=r?Wh(r):void 0;const l=Wh(i);o!=null&&o.path||(o=a),a.protocol===l.protocol&&a.host===l.host&&(i=l.relative),a.protocol===o.protocol&&a.host===o.host&&(r=o.relative),uu({category:"navigation",data:{from:r,to:i}})}}function Hwe(e){return!!e&&!!e.target}const Kwe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Gwe="BrowserApiErrors",Ywe=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Gwe,setupOnce(){t.setTimeout&&wi(nn,"setTimeout",FF),t.setInterval&&wi(nn,"setInterval",FF),t.requestAnimationFrame&&wi(nn,"requestAnimationFrame",Jwe),t.XMLHttpRequest&&"XMLHttpRequest"in nn&&wi(XMLHttpRequest.prototype,"send",Qwe);const n=t.eventTarget;n&&(Array.isArray(n)?n:Kwe).forEach(i=>Zwe(i,t))}}},Xwe=Ywe;function FF(e){return function(...t){const n=t[0];return t[0]=Kp(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Nc(e)}`}}),e.apply(this,t)}}function Jwe(e){return function(t){return e.apply(this,[Kp(t,{mechanism:{data:{handler:Nc(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function Qwe(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&wi(n,i,function(a){const o={mechanism:{data:{handler:Nc(a)},handled:!1,type:`auto.browser.browserapierrors.xhr.${i}`}},l=k5(a);return l&&(o.mechanism.data.handler=Nc(l)),Kp(a,o)})}),e.apply(this,t)}}function Zwe(e,t){var i,a;const r=(i=nn[e])==null?void 0:i.prototype;(a=r==null?void 0:r.hasOwnProperty)!=null&&a.call(r,"addEventListener")&&(wi(r,"addEventListener",function(o){return function(l,c,d){try{e1e(c)&&(c.handleEvent=Kp(c.handleEvent,{mechanism:{data:{handler:Nc(c),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&t1e(this,l,c),o.apply(this,[l,Kp(c,{mechanism:{data:{handler:Nc(c),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),d])}}),wi(r,"removeEventListener",function(o){return function(l,c,d){try{const u=c.__sentry_wrapped__;u&&o.call(this,l,u,d)}catch{}return o.call(this,l,c,d)}}))}function e1e(e){return typeof e.handleEvent=="function"}function t1e(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const n1e=()=>({name:"BrowserSession",setupOnce(){if(typeof nn.document>"u"){Ka&&Te.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}pF({ignoreDuration:!0}),gF(),Qk(({from:e,to:t})=>{e!==void 0&&e!==t&&(pF({ignoreDuration:!0}),gF())})}}),r1e="GlobalHandlers",s1e=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:r1e,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(a1e(n),BF("onerror")),t.onunhandledrejection&&(o1e(n),BF("onunhandledrejection"))}}},i1e=s1e;function a1e(e){nX(t=>{const{stackParser:n,attachStacktrace:r}=OJ();if(Ht()!==e||lJ())return;const{msg:i,url:a,line:o,column:l,error:c}=t,d=d1e(V5(n,c||i,void 0,r,!1),a,o,l);d.level="error",LX(d,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function o1e(e){rX(t=>{const{stackParser:n,attachStacktrace:r}=OJ();if(Ht()!==e||lJ())return;const i=l1e(t),a=zp(i)?c1e(i):V5(n,i,void 0,r,!0);a.level="error",LX(a,{originalException:i,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function l1e(e){if(zp(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function c1e(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function d1e(e,t,n,r){const i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},l=o.stacktrace=o.stacktrace||{},c=l.frames=l.frames||[],d=r,u=n,h=u1e(t)??Kg();return c.length===0&&c.push({colno:d,filename:h,function:rm,in_app:!0,lineno:u}),e}function BF(e){Ka&&Te.log(`Global Handler attached: ${e}`)}function OJ(){const e=Ht();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function u1e(e){if(!(!mc(e)||e.length===0))return e.startsWith("data:")?`<${Gd(e,!1)}>`:e}const h1e=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!nn.navigator&&!nn.location&&!nn.document)return;const t=B5(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),m1e="cause",f1e=5,p1e="LinkedErrors",g1e=(e={})=>{const t=e.limit||f1e,n=e.key||m1e;return{name:p1e,preprocessEvent(r,i,a){const o=a.getOptions();x0e(U5,o.stackParser,n,t,r,i)}}},x1e=g1e;function y1e(){return v1e()?(Ka&&Tm(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function v1e(){var a;if(typeof nn.window>"u")return!1;const e=nn;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((a=t==null?void 0:t.runtime)!=null&&a.id))return!1;const n=Kg(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(nn===nn.top&&r.some(o=>n.startsWith(`${o}://`)))}function b1e(e){return[c0e(),i0e(),Xwe(),Fwe(),i1e(),x1e(),j0e(),h1e(),n1e()]}function w1e(e={}){const t=!e.skipBrowserExtensionCheck&&y1e();let n=e.defaultIntegrations==null?b1e():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:uxe(e.stackParser||Dwe),integrations:jve({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||jwe};return qve(nbe,r)}const Ln=Wt,Y5="sentryReplaySession",j1e="replay_event",X5="Unable to send Replay",S1e=3e5,N1e=9e5,k1e=5e3,_1e=5500,C1e=6e4,E1e=5e3,T1e=3,UF=15e4,zw=5e3,A1e=3e3,P1e=300,J5=2e7,I1e=4999,O1e=5e4,zF=36e5;var R1e=Object.defineProperty,M1e=(e,t,n)=>t in e?R1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VF=(e,t,n)=>M1e(e,typeof t!="symbol"?t+"":t,n),Lr=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Lr||{});function D1e(e){return e.nodeType===e.ELEMENT_NODE}function Yy(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function Xy(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function L1e(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function $1e(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function gS(e){try{const t=e.rules||e.cssRules;return t?L1e(Array.from(t,RJ).join("")):null}catch{return null}}function F1e(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],a=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${a?" !important":""};`}return`${e.selectorText} { ${t} }`}function RJ(e){let t;if(U1e(e))try{t=gS(e.styleSheet)||$1e(e)}catch{}else if(z1e(e)){let n=e.cssText;const r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=F1e(e)),r&&(n=B1e(n)),r||i)return n}return t||e.cssText}function B1e(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function U1e(e){return"styleSheet"in e}function z1e(e){return"selectorText"in e}class MJ{constructor(){VF(this,"idNodeMap",new Map),VF(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function V1e(){return new MJ}function Zk({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function zv({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function Gp(e){return e.toLowerCase()}function SP(e){return e.toUpperCase()}const qF="__rrweb_original__";function q1e(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const a=t.getImageData,o=qF in a?a[qF]:a;if(new Uint32Array(o.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(c=>c!==0))return!1}return!0}function Q5(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Gp(t):null}function xS(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function DJ(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,i=n.pathname.match(r);return(i==null?void 0:i[1])??null}const WF={};function LJ(e){const t=WF[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const a=i.contentWindow;a&&a[e]&&(r=a[e]),n.head.removeChild(i)}catch{}return WF[e]=r.bind(window)}function NP(...e){return LJ("setTimeout")(...e)}function $J(...e){return LJ("clearTimeout")(...e)}function FJ(e){try{return e.contentDocument}catch{}}let W1e=1;const H1e=new RegExp("[^a-z0-9-_:]"),Vv=-2;function Z5(){return W1e++}function K1e(e){if(e instanceof HTMLFormElement)return"form";const t=Gp(e.tagName);return H1e.test(t)?"div":t}function G1e(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Wm,HF;const Y1e=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,X1e=/^(?:[a-z+]+:)?\/\//i,J1e=/^www\..*/i,Q1e=/^(data:)([^,]*),(.*)/i;function Z1e(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let i of n){if(i=i.trim(),!i)continue;const a=i.indexOf(":");if(a===-1){r.push(i);continue}const o=i.slice(0,a).trim();t.has(o)||r.push(i)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function yS(e,t){return(e||"").replace(Y1e,(n,r,i,a,o,l)=>{const c=i||o||l,d=r||a||"";if(!c)return n;if(X1e.test(c)||J1e.test(c))return`url(${d}${c}${d})`;if(Q1e.test(c))return`url(${d}${c}${d})`;if(c[0]==="/")return`url(${d}${G1e(t)+c}${d})`;const u=t.split("/"),h=c.split("/");u.pop();for(const m of h)m!=="."&&(m===".."?u.pop():u.push(m));return`url(${d}${u.join("/")}${d})`})}const eje=/^[^ \t\n\r\u000c]+/,tje=/^[, \t\n\r\u000c]+/;function nje(e,t){if(t.trim()==="")return t;let n=0;function r(a){let o;const l=a.exec(t.substring(n));return l?(o=l[0],n+=o.length,o):""}const i=[];for(;r(tje),!(n>=t.length);){let a=r(eje);if(a.slice(-1)===",")a=Pf(e,a.substring(0,a.length-1)),i.push(a);else{let o="";a=Pf(e,a);let l=!1;for(;;){const c=t.charAt(n);if(c===""){i.push((a+o).trim());break}else if(l)c===")"&&(l=!1);else if(c===","){n+=1,i.push((a+o).trim());break}else c==="("&&(l=!0);o+=c,n+=1}}}return i.join(", ")}const KF=new WeakMap;function Pf(e,t){return!t||t.trim()===""?t:e_(e,t)}function rje(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function e_(e,t){let n=KF.get(e);if(n||(n=e.createElement("a"),KF.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function BJ(e,t,n,r,i,a,o){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return Pf(e,r);if(n==="xlink:href"&&r[0]!=="#")return Pf(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return Pf(e,r);if(n==="srcset")return nje(e,r);if(n==="style"){let l=yS(r,e_(e));return o&&o.size>0&&(l=Z1e(l,o)),l}else if(t==="object"&&n==="data")return Pf(e,r);return typeof a=="function"?a(n,r,i):r}function UJ(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function sje(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const a=e.classList[i];if(t.test(a))return!0}if(n)return e.matches(n)}catch{}return!1}function ije(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Sh(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Sh(e.parentNode,t,n,r+1)}function If(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(ije(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Yp(e,t,n,r,i,a){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const d=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(d))return!0}let l=-1,c=-1;if(a){if(c=Sh(o,If(r,i)),c<0)return!0;l=Sh(o,If(t,n),c>=0?c:1/0)}else{if(l=Sh(o,If(t,n)),l<0)return!1;c=Sh(o,If(r,i),l>=0?l:1/0)}return l>=0?c>=0?l<=c:!0:c>=0?!1:!!a}catch{}return!!a}function aje(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,a;try{a=r.document.readyState}catch{return}if(a!=="complete"){const l=NP(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{$J(l),i=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return NP(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function oje(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const a=NP(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{$J(a),r=!0,t()})}function lje(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:l,maskAttributeFn:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:m,inlineStylesheet:f,maskInputOptions:p={},maskTextFn:g,maskInputFn:y,dataURLOptions:v={},inlineImages:b,recordCanvas:w,keepIframeSrcFn:S,newlyAddedElement:j=!1,ignoreCSSAttributes:N}=t,k=cje(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Lr.Document,childNodes:[],compatMode:e.compatMode}:{type:Lr.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Lr.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return uje(e,{doc:n,blockClass:i,blockSelector:a,unblockSelector:o,inlineStylesheet:f,maskAttributeFn:c,maskInputOptions:p,maskInputFn:y,dataURLOptions:v,inlineImages:b,recordCanvas:w,keepIframeSrcFn:S,newlyAddedElement:j,rootId:k,maskTextClass:d,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:m,ignoreCSSAttributes:N});case e.TEXT_NODE:return dje(e,{doc:n,maskAllText:l,maskTextClass:d,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:m,maskTextFn:g,maskInputOptions:p,maskInputFn:y,rootId:k});case e.CDATA_SECTION_NODE:return{type:Lr.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:Lr.Comment,textContent:e.textContent||"",rootId:k};default:return!1}}function cje(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function dje(e,t){var v;const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:a,unmaskTextSelector:o,maskTextFn:l,maskInputOptions:c,maskInputFn:d,rootId:u}=t,h=e.parentNode&&e.parentNode.tagName;let m=e.textContent;const f=h==="STYLE"?!0:void 0,p=h==="SCRIPT"?!0:void 0,g=h==="TEXTAREA"?!0:void 0;if(f&&m){try{e.nextSibling||e.previousSibling||(v=e.parentNode.sheet)!=null&&v.cssRules&&(m=gS(e.parentNode.sheet))}catch(b){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${b}`,e)}m=yS(m,e_(t.doc))}p&&(m="SCRIPT_PLACEHOLDER");const y=Yp(e,r,a,i,o,n);if(!f&&!p&&!g&&m&&y&&(m=l?l(m,e.parentElement):m.replace(/[\S]/g,"*")),g&&m&&(c.textarea||y)&&(m=d?d(m,e.parentNode):m.replace(/[\S]/g,"*")),h==="OPTION"&&m){const b=Zk({type:null,tagName:h,maskInputOptions:c});m=zv({isMasked:Yp(e,r,a,i,o,b),element:e,value:m,maskInputFn:d})}return{type:Lr.Text,textContent:m||"",isStyle:f,rootId:u}}function uje(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:a,inlineStylesheet:o,maskInputOptions:l={},maskAttributeFn:c,maskInputFn:d,dataURLOptions:u={},inlineImages:h,recordCanvas:m,keepIframeSrcFn:f,newlyAddedElement:p=!1,rootId:g,maskTextClass:y,unmaskTextClass:v,maskTextSelector:b,unmaskTextSelector:w,ignoreCSSAttributes:S}=t,j=sje(e,r,i,a),N=K1e(e);let k={};const _=e.attributes.length;for(let T=0;T<_;T++){const A=e.attributes[T];A.name&&!UJ(N,A.name,A.value)&&(k[A.name]=BJ(n,N,Gp(A.name),A.value,e,c,S))}if(N==="link"&&o){const T=Array.from(n.styleSheets).find(P=>P.href===e.href);let A=null;T&&(A=gS(T)),A&&(k.rel=null,k.href=null,k.crossorigin=null,k._cssText=yS(A,T.href))}if(N==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const T=gS(e.sheet);T&&(k._cssText=yS(T,e_(n)))}if(N==="input"||N==="textarea"||N==="select"||N==="option"){const T=e,A=Q5(T),P=xS(T,SP(N),A),R=T.checked;if(A!=="submit"&&A!=="button"&&P){const D=Yp(T,y,b,v,w,Zk({type:A,tagName:SP(N),maskInputOptions:l}));k.value=zv({isMasked:D,element:T,value:P,maskInputFn:d})}R&&(k.checked=R)}if(N==="option"&&(e.selected&&!l.select?k.selected=!0:delete k.selected),N==="canvas"&&m){if(e.__context==="2d")q1e(e)||(k.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const T=e.toDataURL(u.type,u.quality),A=n.createElement("canvas");A.width=e.width,A.height=e.height;const P=A.toDataURL(u.type,u.quality);T!==P&&(k.rr_dataURL=T)}}if(N==="img"&&h){Wm||(Wm=n.createElement("canvas"),HF=Wm.getContext("2d"));const T=e,A=T.currentSrc||T.getAttribute("src")||"<unknown-src>",P=T.crossOrigin,R=()=>{T.removeEventListener("load",R);try{Wm.width=T.naturalWidth,Wm.height=T.naturalHeight,HF.drawImage(T,0,0),k.rr_dataURL=Wm.toDataURL(u.type,u.quality)}catch(D){if(T.crossOrigin!=="anonymous"){T.crossOrigin="anonymous",T.complete&&T.naturalWidth!==0?R():T.addEventListener("load",R);return}else console.warn(`Cannot inline img src=${A}! Error: ${D}`)}T.crossOrigin==="anonymous"&&(P?k.crossOrigin=P:T.removeAttribute("crossorigin"))};T.complete&&T.naturalWidth!==0?R():T.addEventListener("load",R)}if((N==="audio"||N==="video")&&(k.rr_mediaState=e.paused?"paused":"played",k.rr_mediaCurrentTime=e.currentTime),p||(e.scrollLeft&&(k.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(k.rr_scrollTop=e.scrollTop)),j){const{width:T,height:A}=e.getBoundingClientRect();k={class:k.class,rr_width:`${T}px`,rr_height:`${A}px`}}N==="iframe"&&!f(k.src)&&(!j&&!FJ(e)&&(k.rr_src=k.src),delete k.src);let C;try{customElements.get(N)&&(C=!0)}catch{}return{type:Lr.Element,tagName:N,attributes:k,childNodes:[],isSVG:rje(e)||void 0,needBlock:j,rootId:g,isCustom:C}}function On(e){return e==null?"":e.toLowerCase()}function hje(e,t){if(t.comment&&e.type===Lr.Comment)return!0;if(e.type===Lr.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&DJ(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(On(e.attributes.name).match(/^msapplication-tile(image|color)$/)||On(e.attributes.name)==="application-name"||On(e.attributes.rel)==="icon"||On(e.attributes.rel)==="apple-touch-icon"||On(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&On(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(On(e.attributes.property).match(/^(og|twitter|fb):/)||On(e.attributes.name).match(/^(og|twitter):/)||On(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(On(e.attributes.name)==="robots"||On(e.attributes.name)==="googlebot"||On(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(On(e.attributes.name)==="author"||On(e.attributes.name)==="generator"||On(e.attributes.name)==="framework"||On(e.attributes.name)==="publisher"||On(e.attributes.name)==="progid"||On(e.attributes.property).match(/^article:/)||On(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(On(e.attributes.name)==="google-site-verification"||On(e.attributes.name)==="yandex-verification"||On(e.attributes.name)==="csrf-token"||On(e.attributes.name)==="p:domain_verify"||On(e.attributes.name)==="verify-v1"||On(e.attributes.name)==="verification"||On(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Of(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:l,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:h,skipChild:m=!1,inlineStylesheet:f=!0,maskInputOptions:p={},maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:b,dataURLOptions:w={},inlineImages:S=!1,recordCanvas:j=!1,onSerialize:N,onIframeLoad:k,iframeLoadTimeout:_=5e3,onBlockedImageLoad:C,onStylesheetLoad:T,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:P=()=>!1,newlyAddedElement:R=!1,ignoreCSSAttributes:D}=t;let{preserveWhiteSpace:$=!0}=t;const M=lje(e,{doc:n,mirror:r,blockClass:i,blockSelector:a,maskAllText:l,unblockSelector:o,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,dataURLOptions:w,inlineImages:S,recordCanvas:j,keepIframeSrcFn:P,newlyAddedElement:R,ignoreCSSAttributes:D});if(!M)return console.warn(e,"not serialized"),null;let F;r.hasNode(e)?F=r.getId(e):hje(M,b)||!$&&M.type===Lr.Text&&!M.isStyle&&!M.textContent.replace(/^\s+|\s+$/gm,"").length?F=Vv:F=Z5();const O=Object.assign(M,{id:F});if(r.add(e,O),F===Vv)return null;N&&N(e);let L=!m;if(O.type===Lr.Element){L=L&&!O.needBlock;const I=e.shadowRoot;I&&Xy(I)&&(O.isShadowHost=!0)}if((O.type===Lr.Document||O.type===Lr.Element)&&L){b.headWhitespace&&O.type===Lr.Element&&O.tagName==="head"&&($=!1);const I={doc:n,mirror:r,blockClass:i,blockSelector:a,maskAllText:l,unblockSelector:o,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:h,skipChild:m,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:b,dataURLOptions:w,inlineImages:S,recordCanvas:j,preserveWhiteSpace:$,onSerialize:N,onIframeLoad:k,iframeLoadTimeout:_,onBlockedImageLoad:C,onStylesheetLoad:T,stylesheetLoadTimeout:A,keepIframeSrcFn:P,ignoreCSSAttributes:D},z=e.childNodes?Array.from(e.childNodes):[];for(const H of z){const U=Of(H,I);U&&O.childNodes.push(U)}if(D1e(e)&&e.shadowRoot)for(const H of Array.from(e.shadowRoot.childNodes)){const U=Of(H,I);U&&(Xy(e.shadowRoot)&&(U.isShadow=!0),O.childNodes.push(U))}}if(e.parentNode&&Yy(e.parentNode)&&Xy(e.parentNode)&&(O.isShadow=!0),O.type===Lr.Element&&O.tagName==="iframe"&&!O.needBlock&&aje(e,()=>{const I=FJ(e);if(I&&k){const z=Of(I,{doc:I,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:l,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:b,dataURLOptions:w,inlineImages:S,recordCanvas:j,preserveWhiteSpace:$,onSerialize:N,onIframeLoad:k,iframeLoadTimeout:_,onStylesheetLoad:T,stylesheetLoadTimeout:A,keepIframeSrcFn:P,ignoreCSSAttributes:D});z&&k(e,z)}},_),O.type===Lr.Element&&O.tagName==="img"&&!e.complete&&O.needBlock){const I=e,z=()=>{if(I.isConnected&&!I.complete&&C)try{const H=I.getBoundingClientRect();H.width>0&&H.height>0&&C(I,O,H)}catch{}I.removeEventListener("load",z)};I.isConnected&&I.addEventListener("load",z)}return O.type===Lr.Element&&O.tagName==="link"&&typeof O.attributes.rel=="string"&&(O.attributes.rel==="stylesheet"||O.attributes.rel==="preload"&&typeof O.attributes.href=="string"&&DJ(O.attributes.href)==="css")&&oje(e,()=>{if(T){const I=Of(e,{doc:n,mirror:r,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:l,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:b,dataURLOptions:w,inlineImages:S,recordCanvas:j,preserveWhiteSpace:$,onSerialize:N,onIframeLoad:k,iframeLoadTimeout:_,onStylesheetLoad:T,stylesheetLoadTimeout:A,keepIframeSrcFn:P,ignoreCSSAttributes:D});I&&T(e,I)}},A),O.type===Lr.Element&&delete O.needBlock,O}function mje(e,t){const{mirror:n=new MJ,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:a=null,maskAllText:o=!1,maskTextClass:l="rr-mask",unmaskTextClass:c=null,maskTextSelector:d=null,unmaskTextSelector:u=null,inlineStylesheet:h=!0,inlineImages:m=!1,recordCanvas:f=!1,maskAllInputs:p=!1,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOM:b=!1,dataURLOptions:w,preserveWhiteSpace:S,onSerialize:j,onIframeLoad:N,iframeLoadTimeout:k,onBlockedImageLoad:_,onStylesheetLoad:C,stylesheetLoadTimeout:T,keepIframeSrcFn:A=()=>!1,ignoreCSSAttributes:P=new Set([])}=t||{};return Of(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,maskAllText:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:h,maskInputOptions:p===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:p===!1?{}:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:b==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:b===!1?{}:b,dataURLOptions:w,inlineImages:m,recordCanvas:f,preserveWhiteSpace:S,onSerialize:j,onIframeLoad:N,iframeLoadTimeout:k,onBlockedImageLoad:_,onStylesheetLoad:C,stylesheetLoadTimeout:T,keepIframeSrcFn:A,newlyAddedElement:!1,ignoreCSSAttributes:P})}function Xs(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const uf=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let GF={map:{},getId(){return console.error(uf),-1},getNode(){return console.error(uf),null},removeNodeFromMap(){console.error(uf)},has(){return console.error(uf),!1},reset(){console.error(uf)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(GF=new Proxy(GF,{get(e,t,n){return t==="map"&&console.error(uf),Reflect.get(e,t,n)}}));function qv(e,t,n={}){let r=null,i=0;return function(...a){const o=Date.now();!i&&n.leading===!1&&(i=o);const l=t-(o-i),c=this;l<=0||l>t?(r&&(bje(r),r=null),i=o,e.apply(c,a)):!r&&n.trailing!==!1&&(r=t_(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(c,a)},l))}}function zJ(e,t,n,r,i=window){const a=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(o){t_(()=>{n.set.call(this,o)},0),a&&a.set&&a.set.call(this,o)}}),()=>zJ(e,t,a||{},!0)}function eM(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let vS=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(vS=()=>new Date().getTime());function VJ(e){var n,r,i,a,o,l;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((i=t==null?void 0:t.body)==null?void 0:i.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((o=(a=t==null?void 0:t.body)==null?void 0:a.parentElement)==null?void 0:o.scrollTop)||((l=t==null?void 0:t.body)==null?void 0:l.scrollTop)||0}}function qJ(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function WJ(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function HJ(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Yi(e,t,n,r,i){if(!e)return!1;const a=HJ(e);if(!a)return!1;const o=If(t,n);if(!i){const d=r&&a.matches(r);return o(a)&&!d}const l=Sh(a,o);let c=-1;return l<0?!1:(r&&(c=Sh(a,If(null,r))),l>-1&&c<0?!0:l<c)}function fje(e,t){return t.getId(e)!==-1}function XE(e,t){return t.getId(e)===Vv}function KJ(e,t){if(Yy(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?KJ(e.parentNode,t):!0:!0}function kP(e){return!!e.changedTouches}function pje(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function GJ(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function YJ(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function _P(e){return!!(e!=null&&e.shadowRoot)}class gje{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function XJ(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function xje(e){let t=e,n;for(;n=XJ(t);)t=n;return t}function yje(e){const t=e.ownerDocument;if(!t)return!1;const n=xje(e);return t.contains(n)}function JJ(e){const t=e.ownerDocument;return t?t.contains(e)||yje(e):!1}const YF={};function tM(e){const t=YF[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const a=i.contentWindow;a&&a[e]&&(r=a[e]),n.head.removeChild(i)}catch{}return YF[e]=r.bind(window)}function vje(...e){return tM("requestAnimationFrame")(...e)}function t_(...e){return tM("setTimeout")(...e)}function bje(...e){return tM("clearTimeout")(...e)}var Mt=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Mt||{}),bt=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(bt||{}),Vs=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Vs||{}),Gl=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Gl||{}),hf=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(hf||{});function nM(e){try{return e.contentDocument}catch{}}function wje(e){try{return e.contentWindow}catch{}}function XF(e){return"__ln"in e}class jje{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&XF(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&XF(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const JF=(e,t)=>`${e}@${t}`;class Sje{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new jje,i=c=>{let d=c,u=Vv;for(;u===Vv;)d=d&&d.nextSibling,u=d&&this.mirror.getId(d);return u},a=c=>{if(!c.parentNode||!JJ(c))return;const d=Yy(c.parentNode)?this.mirror.getId(XJ(c)):this.mirror.getId(c.parentNode),u=i(c);if(d===-1||u===-1)return r.addNode(c);const h=Of(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:m=>{GJ(m,this.mirror)&&!Yi(m,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(m),YJ(m,this.mirror)&&this.stylesheetManager.trackLinkElement(m),_P(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(m,f)=>{Yi(m,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(m,f),m.contentWindow&&this.canvasManager.addWindow(m.contentWindow),this.shadowDomManager.observeAttachShadow(m))},onStylesheetLoad:(m,f)=>{this.stylesheetManager.attachLinkElement(m,f)},onBlockedImageLoad:(m,f,{width:p,height:g})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:f.id,attributes:{style:{width:`${p}px`,height:`${g}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});h&&(t.push({parentId:d,nextId:u,node:h}),n.add(h.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)QF(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||a(c);for(const c of this.addedSet)!ZF(this.droppedSet,c)&&!QF(this.removes,c,this.mirror)||ZF(this.movedSet,c)?a(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const d=this.mirror.getId(o.value.parentNode),u=i(o.value);d!==-1&&u!==-1&&(c=o)}if(!c){let d=r.tail;for(;d;){const u=d;if(d=d.previous,u){const h=this.mirror.getId(u.value.parentNode);if(i(u.value)===-1)continue;if(h!==-1){c=u;break}else{const f=u.value;if(f.parentNode&&f.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const p=f.parentNode.host;if(this.mirror.getId(p)!==-1){c=u;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),a(c.value)}const l={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:d}=c;if(typeof d.style=="string"){const u=JSON.stringify(c.styleDiff),h=JSON.stringify(c._unchangedStyles);u.length<d.style.length&&(u+h).split("var(").length===d.style.split("var(").length&&(d.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:d}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!l.texts.length&&!l.attributes.length&&!l.removes.length&&!l.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(l))},this.processMutation=t=>{if(!XE(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Yi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Yp(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,HJ(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){const o=Q5(n),l=n.tagName;i=xS(n,l,o);const c=Zk({maskInputOptions:this.maskInputOptions,tagName:l,type:o}),d=Yp(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);i=zv({isMasked:d,element:n,value:i,maskInputFn:this.maskInputFn})}if(Yi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let a=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!nM(n))r="rr_src";else return;if(a||(a={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(a),this.attributeMap.set(t.target,a)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!UJ(n.tagName,r)&&(a.attributes[r]=BJ(this.doc,Gp(n.tagName),Gp(r),i,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const l of Array.from(n.style)){const c=n.style.getPropertyValue(l),d=n.style.getPropertyPriority(l);c!==o.style.getPropertyValue(l)||d!==o.style.getPropertyPriority(l)?d===""?a.styleDiff[l]=c:a.styleDiff[l]=[c,d]:a._unchangedStyles[l]=[c,d]}for(const l of Array.from(o.style))n.style.getPropertyValue(l)===""&&(a.styleDiff[l]=!1)}break}case"childList":{if(Yi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=Yy(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Yi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||XE(n,this.mirror)||!fje(n,this.mirror)||(this.addedSet.has(n)?(CP(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||KJ(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[JF(r,i)]?CP(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:Yy(t.target)&&Xy(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(XE(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[JF(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Yi(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),_P(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function CP(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>CP(e,r))}function QF(e,t,n){return e.length===0?!1:Nje(e,t,n)}function Nje(e,t,n){let r=t.parentNode;for(;r;){const i=n.getId(r);if(e.some(a=>a.id===i))return!0;r=r.parentNode}return!1}function ZF(e,t){return e.size===0?!1:QJ(e,t)}function QJ(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:QJ(e,n):!1}let Jy;function kje(e){Jy=e}function _je(){Jy=void 0}const Xt=e=>Jy?(...n)=>{try{return e(...n)}catch(r){if(Jy&&Jy(r)===!0)return()=>{};throw r}}:e,Rf=[];function Ob(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function ZJ(e,t){var o,l;const n=new Sje;Rf.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=(l=(o=window==null?void 0:window.Zone)==null?void 0:o.__symbol__)==null?void 0:l.call(o,"MutationObserver");i&&window[i]&&(r=window[i]);const a=new r(Xt(c=>{e.onMutation&&e.onMutation(c)===!1||n.processMutations.bind(n)(c)}));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Cje({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,a=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],l;const c=qv(Xt(h=>{const m=Date.now()-l;e(o.map(f=>(f.timeOffset-=m,f)),h),o=[],l=null}),a),d=Xt(qv(Xt(h=>{const m=Ob(h),{clientX:f,clientY:p}=kP(h)?h.changedTouches[0]:h;l||(l=vS()),o.push({x:f,y:p,id:r.getId(m),timeOffset:vS()-l}),c(typeof DragEvent<"u"&&h instanceof DragEvent?bt.Drag:h instanceof MouseEvent?bt.MouseMove:bt.TouchMove)}),i,{trailing:!1})),u=[Xs("mousemove",d,n),Xs("touchmove",d,n),Xs("drag",d,n)];return Xt(()=>{u.forEach(h=>h())})}function Eje({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const l=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let d=null;const u=h=>m=>{const f=Ob(m);if(Yi(f,r,i,a,!0))return;let p=null,g=h;if("pointerType"in m){switch(m.pointerType){case"mouse":p=Gl.Mouse;break;case"touch":p=Gl.Touch;break;case"pen":p=Gl.Pen;break}p===Gl.Touch?Vs[h]===Vs.MouseDown?g="TouchStart":Vs[h]===Vs.MouseUp&&(g="TouchEnd"):Gl.Pen}else kP(m)&&(p=Gl.Touch);p!==null?(d=p,(g.startsWith("Touch")&&p===Gl.Touch||g.startsWith("Mouse")&&p===Gl.Mouse)&&(p=null)):Vs[h]===Vs.Click&&(p=d,d=null);const y=kP(m)?m.changedTouches[0]:m;if(!y)return;const v=n.getId(f),{clientX:b,clientY:w}=y;Xt(e)({type:Vs[g],id:v,x:b,y:w,...p!==null&&{pointerType:p}})};return Object.keys(Vs).filter(h=>Number.isNaN(Number(h))&&!h.endsWith("_Departed")&&l[h]!==!1).forEach(h=>{let m=Gp(h);const f=u(h);if(window.PointerEvent)switch(Vs[h]){case Vs.MouseDown:case Vs.MouseUp:m=m.replace("mouse","pointer");break;case Vs.TouchStart:case Vs.TouchEnd:return}c.push(Xs(m,f,t))}),Xt(()=>{c.forEach(h=>h())})}function eQ({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,sampling:o}){const l=Xt(qv(Xt(c=>{const d=Ob(c);if(!d||Yi(d,r,i,a,!0))return;const u=n.getId(d);if(d===t&&t.defaultView){const h=VJ(t.defaultView);e({id:u,x:h.left,y:h.top})}else e({id:u,x:d.scrollLeft,y:d.scrollTop})}),o.scroll||100));return Xs("scroll",l,t)}function Tje({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=Xt(qv(Xt(()=>{const a=qJ(),o=WJ();(n!==a||r!==o)&&(e({width:Number(o),height:Number(a)}),n=a,r=o)}),200));return Xs("resize",i,t)}const Aje=["INPUT","TEXTAREA","SELECT"],e8=new WeakMap;function Pje({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,ignoreClass:o,ignoreSelector:l,maskInputOptions:c,maskInputFn:d,sampling:u,userTriggeredOnInput:h,maskTextClass:m,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g}){function y(k){let _=Ob(k);const C=k.isTrusted,T=_&&SP(_.tagName);if(T==="OPTION"&&(_=_.parentElement),!_||!T||Aje.indexOf(T)<0||Yi(_,r,i,a,!0))return;const A=_;if(A.classList.contains(o)||l&&A.matches(l))return;const P=Q5(_);let R=xS(A,T,P),D=!1;const $=Zk({maskInputOptions:c,tagName:T,type:P}),M=Yp(_,m,p,f,g,$);(P==="radio"||P==="checkbox")&&(D=_.checked),R=zv({isMasked:M,element:_,value:R,maskInputFn:d}),v(_,h?{text:R,isChecked:D,userTriggered:C}:{text:R,isChecked:D});const F=_.name;P==="radio"&&F&&D&&t.querySelectorAll(`input[type="radio"][name="${F}"]`).forEach(O=>{if(O!==_){const L=zv({isMasked:M,element:O,value:xS(O,T,P),maskInputFn:d});v(O,h?{text:L,isChecked:!D,userTriggered:!1}:{text:L,isChecked:!D})}})}function v(k,_){const C=e8.get(k);if(!C||C.text!==_.text||C.isChecked!==_.isChecked){e8.set(k,_);const T=n.getId(k);Xt(e)({..._,id:T})}}const w=(u.input==="last"?["change"]:["input","change"]).map(k=>Xs(k,Xt(y),t)),S=t.defaultView;if(!S)return()=>{w.forEach(k=>k())};const j=S.Object.getOwnPropertyDescriptor(S.HTMLInputElement.prototype,"value"),N=[[S.HTMLInputElement.prototype,"value"],[S.HTMLInputElement.prototype,"checked"],[S.HTMLSelectElement.prototype,"value"],[S.HTMLTextAreaElement.prototype,"value"],[S.HTMLSelectElement.prototype,"selectedIndex"],[S.HTMLOptionElement.prototype,"selected"]];return j&&j.set&&w.push(...N.map(k=>zJ(k[0],k[1],{set(){Xt(y)({target:this,isTrusted:!1})}},!1,S))),Xt(()=>{w.forEach(k=>k())})}function bS(e){const t=[];function n(r,i){if(Vw("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Vw("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Vw("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Vw("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function hd(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function Ije({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Xt((u,h,m)=>{const[f,p]=m,{id:g,styleId:y}=hd(h,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:f,index:p}]}),u.apply(h,m)})});const a=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:Xt((u,h,m)=>{const[f]=m,{id:p,styleId:g}=hd(h,t,n.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,removes:[{index:f}]}),u.apply(h,m)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:Xt((u,h,m)=>{const[f]=m,{id:p,styleId:g}=hd(h,t,n.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,replace:f}),u.apply(h,m)})}));let l;r.CSSStyleSheet.prototype.replaceSync&&(l=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:Xt((u,h,m)=>{const[f]=m,{id:p,styleId:g}=hd(h,t,n.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,replaceSync:f}),u.apply(h,m)})}));const c={};qw("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(qw("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),qw("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),qw("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const d={};return Object.entries(c).forEach(([u,h])=>{d[u]={insertRule:h.prototype.insertRule,deleteRule:h.prototype.deleteRule},h.prototype.insertRule=new Proxy(d[u].insertRule,{apply:Xt((m,f,p)=>{const[g,y]=p,{id:v,styleId:b}=hd(f.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||b&&b!==-1)&&e({id:v,styleId:b,adds:[{rule:g,index:[...bS(f),y||0]}]}),m.apply(f,p)})}),h.prototype.deleteRule=new Proxy(d[u].deleteRule,{apply:Xt((m,f,p)=>{const[g]=p,{id:y,styleId:v}=hd(f.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||v&&v!==-1)&&e({id:y,styleId:v,removes:[{index:[...bS(f),g]}]}),m.apply(f,p)})})}),Xt(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=a,o&&(r.CSSStyleSheet.prototype.replace=o),l&&(r.CSSStyleSheet.prototype.replaceSync=l),Object.entries(c).forEach(([u,h])=>{h.prototype.insertRule=d[u].insertRule,h.prototype.deleteRule=d[u].deleteRule})})}function tQ({mirror:e,stylesheetManager:t},n){var o,l,c;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?(o=n.defaultView)==null?void 0:o.Document:(c=(l=n.ownerDocument)==null?void 0:l.defaultView)==null?void 0:c.ShadowRoot,a=i!=null&&i.prototype?Object.getOwnPropertyDescriptor(i==null?void 0:i.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!a?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get(){var d;return(d=a.get)==null?void 0:d.call(this)},set(d){var h;const u=(h=a.set)==null?void 0:h.call(this,d);if(r!==null&&r!==-1)try{t.adoptStyleSheets(d,r)}catch{}return u}}),Xt(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:a.set})}))}function Oje({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const a=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:Xt((l,c,d)=>{var g;const[u,h,m]=d;if(n.has(u))return a.apply(c,[u,h,m]);const{id:f,styleId:p}=hd((g=c.parentRule)==null?void 0:g.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||p&&p!==-1)&&e({id:f,styleId:p,set:{property:u,value:h,priority:m},index:bS(c.parentRule)}),l.apply(c,d)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:Xt((l,c,d)=>{var f;const[u]=d;if(n.has(u))return o.apply(c,[u]);const{id:h,styleId:m}=hd((f=c.parentRule)==null?void 0:f.parentStyleSheet,t,r.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,remove:{property:u},index:bS(c.parentRule)}),l.apply(c,d)})}),Xt(()=>{i.CSSStyleDeclaration.prototype.setProperty=a,i.CSSStyleDeclaration.prototype.removeProperty=o})}function Rje({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:a,doc:o}){const l=Xt(d=>qv(Xt(u=>{const h=Ob(u);if(!h||Yi(h,t,n,r,!0))return;const{currentTime:m,volume:f,muted:p,playbackRate:g}=h;e({type:d,id:i.getId(h),currentTime:m,volume:f,muted:p,playbackRate:g})}),a.media||500)),c=[Xs("play",l(hf.Play),o),Xs("pause",l(hf.Pause),o),Xs("seeked",l(hf.Seeked),o),Xs("volumechange",l(hf.VolumeChange),o),Xs("ratechange",l(hf.RateChange),o)];return Xt(()=>{c.forEach(d=>d())})}function Mje({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,a=n.FontFace;n.FontFace=function(c,d,u){const h=new a(c,d,u);return i.set(h,{family:c,buffer:typeof d!="string",descriptors:u,fontSource:typeof d=="string"?d:JSON.stringify(Array.from(new Uint8Array(d)))}),h};const o=eM(t.fonts,"add",function(l){return function(c){return t_(Xt(()=>{const d=i.get(c);d&&(e(d),i.delete(c))}),0),l.apply(this,[c])}});return r.push(()=>{n.FontFace=a}),r.push(o),Xt(()=>{r.forEach(l=>l())})}function Dje(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:a,selectionCb:o}=e;let l=!0;const c=Xt(()=>{const d=t.getSelection();if(!d||l&&(d!=null&&d.isCollapsed))return;l=d.isCollapsed||!1;const u=[],h=d.rangeCount||0;for(let m=0;m<h;m++){const f=d.getRangeAt(m),{startContainer:p,startOffset:g,endContainer:y,endOffset:v}=f;Yi(p,r,i,a,!0)||Yi(y,r,i,a,!0)||u.push({start:n.getId(p),startOffset:g,end:n.getId(y),endOffset:v})}o({ranges:u})});return c(),Xs("selectionchange",c)}function Lje({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:eM(n.customElements,"define",function(i){return function(a,o,l){try{t({define:{name:a}})}catch{}return i.apply(this,[a,o,l])}})}function $je(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=ZJ(e,e.doc));const i=Cje(e),a=Eje(e),o=eQ(e),l=Tje(e,{win:n}),c=Pje(e),d=Rje(e);let u=()=>{},h=()=>{},m=()=>{},f=()=>{};e.recordDOM&&(u=Ije(e,{win:n}),h=tQ(e,e.doc),m=Oje(e,{win:n}),e.collectFonts&&(f=Mje(e)));const p=Dje(e),g=Lje(e),y=[];for(const v of e.plugins)y.push(v.observer(v.callback,n,v.options));return Xt(()=>{Rf.forEach(v=>v.reset()),r==null||r.disconnect(),i(),a(),o(),l(),c(),d(),u(),h(),m(),f(),p(),g(),y.forEach(v=>v())})}function Vw(e){return typeof window[e]<"u"}function qw(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class EP{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const a=r||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let l=a.get(n);return l||(l=this.generateIdFn(),a.set(n,l),o.set(l,n)),l}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(a=>this.getId(t,a,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const a=i.get(n);return a||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class Fje{constructor(){this.crossOriginIframeMirror=new EP(Z5),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Bje{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new EP(Z5),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new EP(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var i,a;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((i=t.contentWindow)==null||i.addEventListener("message",this.handleMessage.bind(this))),(a=this.loadListener)==null||a.call(this,t);const r=nM(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const a=this.transformCrossOriginEvent(i,n.data.event);a&&this.wrappedEmit(a,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case Mt.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const i=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,i),this.patchRootIdOnNode(n.data.node,i),{timestamp:n.timestamp,type:Mt.IncrementalSnapshot,data:{source:bt.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Mt.Meta:case Mt.Load:case Mt.DomContentLoaded:return!1;case Mt.Plugin:return n;case Mt.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Mt.IncrementalSnapshot:switch(n.data.source){case bt.Mutation:return n.data.adds.forEach(i=>{this.replaceIds(i,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,t);const a=this.crossOriginIframeRootIdMap.get(t);a&&this.patchRootIdOnNode(i.node,a)}),n.data.removes.forEach(i=>{this.replaceIds(i,t,["parentId","id"])}),n.data.attributes.forEach(i=>{this.replaceIds(i,t,["id"])}),n.data.texts.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case bt.Drag:case bt.TouchMove:case bt.MouseMove:return n.data.positions.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case bt.ViewportResize:return!1;case bt.MediaInteraction:case bt.MouseInteraction:case bt.Scroll:case bt.CanvasMutation:case bt.Input:return this.replaceIds(n.data,t,["id"]),n;case bt.StyleSheetRule:case bt.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case bt.Font:return n;case bt.Selection:return n.data.ranges.forEach(i=>{this.replaceIds(i,t,["start","end"])}),n;case bt.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(i=>{this.replaceStyleIds(i,t,["styleId"])}),n}}return!1}replace(t,n,r,i){for(const a of i)!Array.isArray(n[a])&&typeof n[a]!="number"||(Array.isArray(n[a])?n[a]=t.getIds(r,n[a]):n[a]=t.getId(r,n[a]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Lr.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Uje{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class zje{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Xy(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=ZJ({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(eQ({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),t_(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(tQ({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=nM(t),r=wje(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(eM(t.prototype,"attachShadow",function(i){return function(a){const o=i.call(this,a);return this.shadowRoot&&JJ(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var t8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vje=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ww=0;Ww<t8.length;Ww++)Vje[t8.charCodeAt(Ww)]=Ww;class n8{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class qje{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new gje,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const a of t){let o;this.styleMirror.has(a)?o=this.styleMirror.getId(a):(o=this.styleMirror.add(a),i.push({styleId:o,rules:Array.from(a.rules||CSSRule,(l,c)=>({rule:RJ(l),index:c}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Wje{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,vje(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let fr,wS;var EK;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((EK=e.contentWindow)==null?void 0:EK.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const uo=V1e();function gc(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:a=null,unblockSelector:o=null,ignoreClass:l="rr-ignore",ignoreSelector:c=null,maskAllText:d=!1,maskTextClass:u="rr-mask",unmaskTextClass:h=null,maskTextSelector:m=null,unmaskTextSelector:f=null,inlineStylesheet:p=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:v,maskAttributeFn:b,maskInputFn:w,maskTextFn:S,maxCanvasSize:j=null,packFn:N,sampling:k={},dataURLOptions:_={},mousemoveWait:C,recordDOM:T=!0,recordCanvas:A=!1,recordCrossOriginIframes:P=!1,recordAfter:R=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:D=!1,collectFonts:$=!1,inlineImages:M=!1,plugins:F,keepIframeSrcFn:O=()=>!1,ignoreCSSAttributes:L=new Set([]),errorHandler:I,onMutation:z,getCanvasManager:H}=e;kje(I);const U=P?window.parent===window:!0;let X=!1;if(!U)try{window.parent.document&&(X=!1)}catch{X=!0}if(U&&!t)throw new Error("emit function is required");if(!U&&!X)return()=>{};C!==void 0&&k.mousemove===void 0&&(k.mousemove=C),uo.reset();const le=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},de=v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:v==="all",headMetaDescKeywords:v==="all"}:v||{};pje();let oe,Ne=0;const K=Ve=>{for(const Re of F||[])Re.eventProcessor&&(Ve=Re.eventProcessor(Ve));return N&&!X&&(Ve=N(Ve)),Ve};fr=(Ve,Re)=>{var Me;const Le=Ve;if(Le.timestamp=vS(),(Me=Rf[0])!=null&&Me.isFrozen()&&Le.type!==Mt.FullSnapshot&&!(Le.type===Mt.IncrementalSnapshot&&Le.data.source===bt.Mutation)&&Rf.forEach(Ae=>Ae.unfreeze()),U)t==null||t(K(Le),Re);else if(X){const Ae={type:"rrweb",event:K(Le),origin:window.location.origin,isCheckout:Re};window.parent.postMessage(Ae,"*")}if(Le.type===Mt.FullSnapshot)oe=Le,Ne=0;else if(Le.type===Mt.IncrementalSnapshot){if(Le.data.source===bt.Mutation&&Le.data.isAttachIframe)return;Ne++;const Ae=r&&Ne>=r,rt=n&&oe&&Le.timestamp-oe.timestamp>n;(Ae||rt)&&wt(!0)}};const he=Ve=>{fr({type:Mt.IncrementalSnapshot,data:{source:bt.Mutation,...Ve}})},re=Ve=>fr({type:Mt.IncrementalSnapshot,data:{source:bt.Scroll,...Ve}}),Q=Ve=>fr({type:Mt.IncrementalSnapshot,data:{source:bt.CanvasMutation,...Ve}}),ge=Ve=>fr({type:Mt.IncrementalSnapshot,data:{source:bt.AdoptedStyleSheet,...Ve}}),Oe=new qje({mutationCb:he,adoptedStyleSheetCb:ge}),ut=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Fje:new Bje({mirror:uo,mutationCb:he,stylesheetManager:Oe,recordCrossOriginIframes:P,wrappedEmit:fr});for(const Ve of F||[])Ve.getMirror&&Ve.getMirror({nodeMirror:uo,crossOriginIframeMirror:ut.crossOriginIframeMirror,crossOriginIframeStyleMirror:ut.crossOriginIframeStyleMirror});const nt=new Wje,ne=Kje(H,{mirror:uo,win:window,mutationCb:Ve=>fr({type:Mt.IncrementalSnapshot,data:{source:bt.CanvasMutation,...Ve}}),recordCanvas:A,blockClass:i,blockSelector:a,unblockSelector:o,maxCanvasSize:j,sampling:k.canvas,dataURLOptions:_,errorHandler:I}),Xe=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Uje:new zje({mutationCb:he,scrollCb:re,bypassOptions:{onMutation:z,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:d,maskTextClass:u,unmaskTextClass:h,maskTextSelector:m,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:le,dataURLOptions:_,maskAttributeFn:b,maskTextFn:S,maskInputFn:w,recordCanvas:A,inlineImages:M,sampling:k,slimDOMOptions:de,iframeManager:ut,stylesheetManager:Oe,canvasManager:ne,keepIframeSrcFn:O,processedNodeManager:nt,ignoreCSSAttributes:L},mirror:uo}),wt=(Ve=!1)=>{if(!T)return;fr({type:Mt.Meta,data:{href:window.location.href,width:WJ(),height:qJ()}},Ve),Oe.reset(),Xe.init(),Rf.forEach(Le=>Le.lock());const Re=mje(document,{mirror:uo,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:d,maskTextClass:u,unmaskTextClass:h,maskTextSelector:m,unmaskTextSelector:f,inlineStylesheet:p,maskAllInputs:le,maskAttributeFn:b,maskInputFn:w,maskTextFn:S,slimDOM:de,dataURLOptions:_,recordCanvas:A,inlineImages:M,onSerialize:Le=>{GJ(Le,uo)&&ut.addIframe(Le),YJ(Le,uo)&&Oe.trackLinkElement(Le),_P(Le)&&Xe.addShadowRoot(Le.shadowRoot,document)},onIframeLoad:(Le,Me)=>{ut.attachIframe(Le,Me),Le.contentWindow&&ne.addWindow(Le.contentWindow),Xe.observeAttachShadow(Le)},onStylesheetLoad:(Le,Me)=>{Oe.attachLinkElement(Le,Me)},onBlockedImageLoad:(Le,Me,{width:Ae,height:rt})=>{he({adds:[],removes:[],texts:[],attributes:[{id:Me.id,attributes:{style:{width:`${Ae}px`,height:`${rt}px`}}}]})},keepIframeSrcFn:O,ignoreCSSAttributes:L});if(!Re)return console.warn("Failed to snapshot the document");fr({type:Mt.FullSnapshot,data:{node:Re,initialOffset:VJ(window)}}),Rf.forEach(Le=>Le.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Oe.adoptStyleSheets(document.adoptedStyleSheets,uo.getId(document))};wS=wt;try{const Ve=[],Re=Me=>{var Ae;return Xt($je)({onMutation:z,mutationCb:he,mousemoveCb:(rt,ie)=>fr({type:Mt.IncrementalSnapshot,data:{source:ie,positions:rt}}),mouseInteractionCb:rt=>fr({type:Mt.IncrementalSnapshot,data:{source:bt.MouseInteraction,...rt}}),scrollCb:re,viewportResizeCb:rt=>fr({type:Mt.IncrementalSnapshot,data:{source:bt.ViewportResize,...rt}}),inputCb:rt=>fr({type:Mt.IncrementalSnapshot,data:{source:bt.Input,...rt}}),mediaInteractionCb:rt=>fr({type:Mt.IncrementalSnapshot,data:{source:bt.MediaInteraction,...rt}}),styleSheetRuleCb:rt=>fr({type:Mt.IncrementalSnapshot,data:{source:bt.StyleSheetRule,...rt}}),styleDeclarationCb:rt=>fr({type:Mt.IncrementalSnapshot,data:{source:bt.StyleDeclaration,...rt}}),canvasMutationCb:Q,fontCb:rt=>fr({type:Mt.IncrementalSnapshot,data:{source:bt.Font,...rt}}),selectionCb:rt=>{fr({type:Mt.IncrementalSnapshot,data:{source:bt.Selection,...rt}})},customElementCb:rt=>{fr({type:Mt.IncrementalSnapshot,data:{source:bt.CustomElement,...rt}})},blockClass:i,ignoreClass:l,ignoreSelector:c,maskAllText:d,maskTextClass:u,unmaskTextClass:h,maskTextSelector:m,unmaskTextSelector:f,maskInputOptions:le,inlineStylesheet:p,sampling:k,recordDOM:T,recordCanvas:A,inlineImages:M,userTriggeredOnInput:D,collectFonts:$,doc:Me,maskAttributeFn:b,maskInputFn:w,maskTextFn:S,keepIframeSrcFn:O,blockSelector:a,unblockSelector:o,slimDOMOptions:de,dataURLOptions:_,mirror:uo,iframeManager:ut,stylesheetManager:Oe,shadowDomManager:Xe,processedNodeManager:nt,canvasManager:ne,ignoreCSSAttributes:L,plugins:((Ae=F==null?void 0:F.filter(rt=>rt.observer))==null?void 0:Ae.map(rt=>({observer:rt.observer,options:rt.options,callback:ie=>fr({type:Mt.Plugin,data:{plugin:rt.name,payload:ie}})})))||[]},{})};ut.addLoadListener(Me=>{try{Ve.push(Re(Me.contentDocument))}catch(Ae){console.warn(Ae)}});const Le=()=>{wt(),Ve.push(Re(document))};return document.readyState==="interactive"||document.readyState==="complete"?Le():(Ve.push(Xs("DOMContentLoaded",()=>{fr({type:Mt.DomContentLoaded,data:{}}),R==="DOMContentLoaded"&&Le()})),Ve.push(Xs("load",()=>{fr({type:Mt.Load,data:{}}),R==="load"&&Le()},window))),()=>{Ve.forEach(Me=>Me()),nt.destroy(),wS=void 0,_je()}}catch(Ve){console.warn(Ve)}}function Hje(e){if(!wS)throw new Error("please take full snapshot after start recording");wS(e)}gc.mirror=uo;gc.takeFullSnapshot=Hje;function Kje(e,t){try{return e?e(t):new n8}catch{return console.warn("Unable to initialize CanvasManager"),new n8}}var r8;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(r8||(r8={}));const Gje=3,Yje=5;function rM(e){return e>9999999999?e:e*1e3}function JE(e){return e>9999999999?e/1e3:e}function Rb(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Mt.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:bo(t,10,1e3)}}),t.category==="console")))}const Xje="button,a";function nQ(e){return e.closest(Xje)||e}function rQ(e){const t=sQ(e);return!t||!(t instanceof Element)?t:nQ(t)}function sQ(e){return Jje(e)?e.target:e}function Jje(e){return typeof e=="object"&&!!e&&"target"in e}let md;function Qje(e){return md||(md=[],Zje()),md.push(e),()=>{const t=md?md.indexOf(e):-1;t>-1&&md.splice(t,1)}}function Zje(){wi(Ln,"open",function(e){return function(...t){if(md)try{md.forEach(n=>n())}catch{}return e.apply(Ln,t)}})}const eSe=new Set([bt.Mutation,bt.StyleSheetRule,bt.StyleDeclaration,bt.AdoptedStyleSheet,bt.CanvasMutation,bt.Selection,bt.MediaInteraction]);function tSe(e,t,n){e.handleClick(t,n)}class nSe{constructor(t,n,r=Rb){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=Qje(()=>{this._lastMutation=s8()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(sSe(n,this._ignoreSelector)||!iSe(t))return;const r={timestamp:JE(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=JE(t)}registerScroll(t=Date.now()){this._lastScroll=JE(t)}registerClick(t){const n=nQ(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=s8();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,a=!r&&!i,{clickCount:o,clickBreadcrumb:l}=t;if(a){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,d=c<this._timeout*1e3?"mutation":"timeout",u={type:"default",message:l.message,timestamp:l.timestamp,category:"ui.slowClickDetected",data:{...l.data,url:Ln.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:d,clickCount:o||1}};this._addBreadcrumbEvent(n,u);return}if(o>1){const c={type:"default",message:l.message,timestamp:l.timestamp,category:"ui.multiClick",data:{...l.data,url:Ln.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Ib(()=>this._checkClicks(),1e3)}}const rSe=["A","BUTTON","INPUT"];function sSe(e,t){return!!(!rSe.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function iSe(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function s8(){return Date.now()/1e3}function aSe(e,t){try{if(!oSe(t))return;const{source:n}=t.data;if(eSe.has(n)&&e.registerMutation(t.timestamp),n===bt.Scroll&&e.registerScroll(t.timestamp),lSe(t)){const{type:r,id:i}=t.data,a=gc.mirror.getNode(i);a instanceof HTMLElement&&r===Vs.Click&&e.registerClick(a)}}catch{}}function oSe(e){return e.type===Gje}function lSe(e){return e.data.source===bt.MouseInteraction}function ll(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var sM=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(sM||{});const cSe=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function dSe(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(cSe.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const uSe=e=>t=>{if(!e.isEnabled())return;const n=hSe(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&(i!=null&&i.target)&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&tSe(e.clickDetector,n,rQ(t.event)),Rb(e,n)};function iQ(e,t){const n=gc.mirror.getId(e),r=n&&gc.mirror.getNode(n),i=r&&gc.mirror.getMeta(r),a=i&&fSe(i)?i:null;return{message:t,data:a?{nodeId:n,node:{id:n,tagName:a.tagName,textContent:Array.from(a.childNodes).map(o=>o.type===sM.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:dSe(a.attributes)}}:{}}}function hSe(e){const{target:t,message:n}=mSe(e);return ll({category:`ui.${e.name}`,...iQ(t,n)})}function mSe(e){const t=e.name==="click";let n,r=null;try{r=t?rQ(e.event):sQ(e.event),n=Pi(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function fSe(e){return e.type===sM.Element}function pSe(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=gSe(t);n&&Rb(e,n)}function gSe(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:a,target:o}=e;if(!o||xSe(o)||!a)return null;const l=t||r||i,c=a.length===1;if(!l&&c)return null;const d=Pi(o,{maxStringLength:200})||"<unknown>",u=iQ(o,d);return ll({category:"ui.keyDown",message:d,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:a}})}function xSe(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const ySe={resource:SSe,paint:wSe,navigation:jSe};function QE(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function vSe(e){return e.map(bSe).filter(Boolean)}function bSe(e){const t=ySe[e.entryType];return t?t(e):null}function Xp(e){return((Li()||Ln.performance.timeOrigin)+e)/1e3}function wSe(e){const{duration:t,entryType:n,name:r,startTime:i}=e,a=Xp(i);return{type:n,name:r,start:a,end:a+t,data:void 0}}function jSe(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:a,encodedBodySize:o,domContentLoadedEventStart:l,domContentLoadedEventEnd:c,domInteractive:d,loadEventStart:u,loadEventEnd:h,redirectCount:m,startTime:f,transferSize:p,type:g}=e;return i===0?null:{type:`${t}.${g}`,start:Xp(f),end:Xp(a),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:d,domContentLoadedEventStart:l,domContentLoadedEventEnd:c,loadEventStart:u,loadEventEnd:h,domComplete:a,redirectCount:m}}}function SSe(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:a,decodedBodySize:o,encodedBodySize:l,responseStatus:c,transferSize:d}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Xp(a),end:Xp(i),name:r,data:{size:d,statusCode:c,decodedBodySize:o,encodedBodySize:l}}}function NSe(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return iM(e,"largest-contentful-paint",n)}function kSe(e){return e.sources!==void 0}function _Se(e){const t=[],n=[];for(const r of e.entries)if(kSe(r)){const i=[];for(const a of r.sources)if(a.node){n.push(a.node);const o=gc.mirror.getId(a.node);o&&i.push(o)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return iM(e,"cumulative-layout-shift",n,t)}function CSe(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return iM(e,"interaction-to-next-paint",n)}function iM(e,t,n,r){const i=e.value,a=e.rating,o=Xp(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:a,nodeIds:n?n.map(l=>gc.mirror.getId(l)):void 0,attributions:r}}}function ESe(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(am(i,n))}),r.push(K5(QE(NSe,e)),H5(QE(_Se,e)),vJ(QE(CSe,e))),()=>{r.forEach(i=>i())}}const pt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,TSe='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function ASe(){const e=new Blob([TSe]);return URL.createObjectURL(e)}const i8=["log","warn","error"],lj="[Replay] ";function ZE(e,t="info"){uu({category:"console",data:{logger:"replay"},level:t,message:`${lj}${e}`},{level:t})}function PSe(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return pt?(i8.forEach(r=>{n[r]=(...i)=>{Te[r](lj,...i),t&&ZE(i.join(""),nJ(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),Te.error(lj,r),e?DX(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&ZE(r,"error")},n.infoTick=(...r)=>{Te.log(lj,...r),t&&setTimeout(()=>ZE(r[0]),0)}):i8.forEach(r=>{n[r]=()=>{}}),n}const gt=PSe();class aM extends Error{constructor(){super(`Event buffer exceeded maximum size of ${J5}.`)}}class aQ{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>J5)throw new aM;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?rM(t):null}}class ISe{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){pt&&gt.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((i,a)=>{const o=({data:l})=>{const c=l;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){pt&&gt.error("Error in compression worker: ",c.response),a(new Error("Error in compression worker"));return}i(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class OSe{constructor(t){this._worker=new ISe(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=rM(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>J5?Promise.reject(new aM):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{pt&&gt.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class RSe{constructor(t){this._fallback=new aQ,this._compression=new OSe(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){pt&&gt.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,i=[];for(const a of t)i.push(this._compression.addEvent(a));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(a){pt&&gt.exception(a,"Failed to add events when switching buffers.")}}}function MSe({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=DSe(t);if(n)return n}return pt&&gt.log("Using simple buffer"),new aQ}function DSe(e){try{const t=e||LSe();if(!t)return;pt&&gt.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new RSe(n)}catch(t){pt&&gt.exception(t,"Failed to create compression worker")}}function LSe(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?ASe():""}function oM(){try{return"sessionStorage"in Ln&&!!Ln.sessionStorage}catch{return!1}}function $Se(e){FSe(),e.session=void 0}function FSe(){if(oM())try{Ln.sessionStorage.removeItem(Y5)}catch{}}function oQ(e){return e===void 0?!1:Math.random()<e}function n_(e){if(oM())try{Ln.sessionStorage.setItem(Y5,JSON.stringify(e))}catch{}}function lQ(e){const t=Date.now(),n=e.id||aa(),r=e.started||t,i=e.lastActivity||t,a=e.segmentId||0,o=e.sampled,l=e.previousSessionId,c=e.dirty||!1;return{id:n,started:r,lastActivity:i,segmentId:a,sampled:o,previousSessionId:l,dirty:c}}function BSe(e,t){return oQ(e)?"session":t?"buffer":!1}function a8({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=BSe(e,t),a=lQ({sampled:i,previousSessionId:r});return n&&n_(a),a}function USe(){if(!oM())return null;try{const e=Ln.sessionStorage.getItem(Y5);if(!e)return null;const t=JSON.parse(e);return pt&&gt.infoTick("Loading existing session"),lQ(t)}catch{return null}}function TP(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function cQ(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return TP(e.started,t,r)||TP(e.lastActivity,n,r)}function dQ(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!cQ(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function eT({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&USe();return i?dQ(i,{sessionIdleExpire:e,maxReplayDuration:t})?(pt&&gt.infoTick("Session in sessionStorage is expired, creating new one..."),a8(r,{previousSessionId:i.id})):i:(pt&&gt.infoTick("Creating new session"),a8(r,{previousSessionId:n}))}function zSe(e){return e.type===Mt.Custom}function lM(e,t,n){return hQ(e,t)?(uQ(e,t,n),!0):!1}function VSe(e,t,n){return hQ(e,t)?uQ(e,t,n):Promise.resolve(null)}async function uQ(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const a=e.getOptions(),o=qSe(t,a.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(a){const o=a&&a instanceof aM,l=o?"addEventSizeExceeded":"addEvent",c=Ht();if(c){const d=o?"buffer_overflow":"internal_sdk_error";c.recordDroppedEvent(d,"replay")}if(o&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(a),await e.stop({reason:l})}}function hQ(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=rM(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(pt&&gt.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function qSe(e,t){try{if(typeof t=="function"&&zSe(e))return t(e)}catch(n){return pt&&gt.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function cM(e){return!e.type}function AP(e){return e.type==="transaction"}function WSe(e){return e.type==="replay_event"}function o8(e){return e.type==="feedback"}function HSe(e){return(t,n)=>{if(!e.isEnabled()||!cM(t)&&!AP(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(AP(t)){KSe(e,t);return}GSe(e,t)}}}function KSe(e,t){var r,i;const n=e.getContext();(i=(r=t.contexts)==null?void 0:r.trace)!=null&&i.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function GSe(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Ib(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function YSe(e){return t=>{!e.isEnabled()||!cM(t)||XSe(e,t)}}function XSe(e,t){var r,i,a;const n=(a=(i=(r=t.exception)==null?void 0:r.values)==null?void 0:i[0])==null?void 0:a.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const o=ll({category:"replay.hydrate-error",data:{url:Kg()}});Rb(e,o)}}function JSe(e){const t=Ht();t&&t.on("beforeAddBreadcrumb",n=>QSe(e,n))}function QSe(e,t){if(!e.isEnabled()||!mQ(t))return;const n=ZSe(t);n&&Rb(e,n)}function ZSe(e){return!mQ(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?eNe(e):ll(e)}function eNe(e){var i;const t=(i=e.data)==null?void 0:i.arguments;if(!Array.isArray(t)||t.length===0)return ll(e);let n=!1;const r=t.map(a=>{if(!a)return a;if(typeof a=="string")return a.length>zw?(n=!0,`${a.slice(0,zw)}`):a;if(typeof a=="object")try{const o=bo(a,7);return JSON.stringify(o).length>zw?(n=!0,`${JSON.stringify(o,null,2).slice(0,zw)}`):o}catch{}return a});return ll({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function mQ(e){return!!e.category}function tNe(e,t){var n,r,i;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((i=t.originalException)!=null&&i.__rrweb__)}function fQ(){const e=jn().getPropagationContext().dsc;e&&delete e.replay_id;const t=ci();if(t){const n=Ec(t);delete n.replay_id}}function nNe(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Mt.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function rNe(e,t){return e.recordingMode!=="buffer"||t.message===X5||!t.exception||t.type?!1:oQ(e.getOptions().errorSampleRate)}function sNe(e){return Object.assign((t,n)=>{var o;if(!e.isEnabled()||e.isPaused())return t;if(WSe(t))return delete t.breadcrumbs,t;if(!cM(t)&&!AP(t)&&!o8(t))return t;if(!e.checkAndHandleExpiredSession())return fQ(),t;if(o8(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),nNe(e,t),t;if(tNe(t,n)&&!e.getOptions()._experiments.captureExceptions)return pt&&gt.log("Ignoring error from rrweb internals",t),null;const i=rNe(e,t);if((i||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),i&&e.recordingMode==="buffer"&&((o=e.session)==null?void 0:o.sampled)==="buffer"){const l=e.session;l.dirty=!0,e.getOptions().stickySession&&n_(l)}return t},{id:"Replay"})}function r_(e,t){return t.map(({type:n,start:r,end:i,name:a,data:o})=>{const l=e.throttledAddEvent({type:Mt.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:a,startTimestamp:r,endTimestamp:i,data:o}}});return typeof l=="string"?Promise.resolve(null):l})}function iNe(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function aNe(e){return t=>{if(!e.isEnabled())return;const n=iNe(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(r_(e,[n]),!1)))}}function oNe(e,t){return pt&&e.getOptions()._experiments.traceInternals?!1:Yve(t,Ht())}function pQ(e,t){e.isEnabled()&&t!==null&&(oNe(e,t.name)||e.addUpdate(()=>(r_(e,[t]),!0)))}function s_(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=EJ(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function gQ(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function jS(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function xQ(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:a,statusCode:o,request:l,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:{method:a,statusCode:o,request:l,response:c}}}function Wv(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Xd(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:a}=lNe(n);return r.body=i,a!=null&&a.length&&(r._meta={warnings:a}),r}function PP(e,t){return Object.entries(e).reduce((n,[r,i])=>{const a=r.toLowerCase();return t.includes(a)&&e[r]&&(n[a]=i),n},{})}function lNe(e){if(!e||typeof e!="string")return{body:e};const t=e.length>UF,n=cNe(e);if(t){const r=e.slice(0,UF);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function cNe(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function SS(e,t){const n=dNe(e);return fc(n,t)}function dNe(e,t=Ln.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Ln.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function uNe(e,t,n){try{const r=await mNe(e,t,n),i=xQ("resource.fetch",r);pQ(n.replay,i)}catch(r){pt&&gt.exception(r,"Failed to capture fetch breadcrumb")}}function hNe(e,t){const{input:n,response:r}=t,i=n?AJ(n):void 0,a=s_(i),o=r?gQ(r.headers.get("content-length")):void 0;a!==void 0&&(e.data.request_body_size=a),o!==void 0&&(e.data.response_body_size=o)}async function mNe(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:a=r}=t,{url:o,method:l,status_code:c=0,request_body_size:d,response_body_size:u}=e.data,h=SS(o,n.networkDetailAllowUrls)&&!SS(o,n.networkDetailDenyUrls),m=h?fNe(n,t.input,d):Wv(d),f=await pNe(h,n,t.response,u);return{startTimestamp:i,endTimestamp:a,url:o,method:l,statusCode:c,request:m,response:f}}function fNe({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?yNe(n,t):{};if(!e)return Xd(i,r,void 0);const a=AJ(n),[o,l]=TJ(a,gt),c=Xd(i,r,o);return l?jS(c,l):c}async function pNe(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return Wv(i);const a=r?yQ(r.headers,n):{};if(!r||!t&&i!==void 0)return Xd(a,i,void 0);const[o,l]=await xNe(r),c=gNe(o,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:a});return l?jS(c,l):c}function gNe(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const a=e!=null&&e.length&&n===void 0?s_(e):n;return r?t?Xd(i,a,e):Xd(i,a,void 0):Wv(a)}catch(a){return pt&&gt.exception(a,"Failed to serialize response body"),Xd(i,n,void 0)}}async function xNe(e){const t=vNe(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await bNe(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(pt&&gt.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(pt&&gt.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function yQ(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function yNe(e,t){return e.length===1&&typeof e[0]!="string"?l8(e[0],t):e.length===2?l8(e[1],t):{}}function l8(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?yQ(n,t):Array.isArray(n)?{}:PP(n,t):{}}function vNe(e){try{return e.clone()}catch(t){pt&&gt.exception(t,"Failed to clone response body")}}function bNe(e){return new Promise((t,n)=>{const r=Ib(()=>n(new Error("Timeout while trying to read response body")),500);wNe(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function wNe(e){return await e.text()}async function jNe(e,t,n){try{const r=NNe(e,t,n),i=xQ("resource.xhr",r);pQ(n.replay,i)}catch(r){pt&&gt.exception(r,"Failed to capture xhr breadcrumb")}}function SNe(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=s_(r),a=n.getResponseHeader("content-length")?gQ(n.getResponseHeader("content-length")):CNe(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),a!==void 0&&(e.data.response_body_size=a)}function NNe(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:a=r,input:o,xhr:l}=t,{url:c,method:d,status_code:u=0,request_body_size:h,response_body_size:m}=e.data;if(!c)return null;if(!l||!SS(c,n.networkDetailAllowUrls)||SS(c,n.networkDetailDenyUrls)){const N=Wv(h),k=Wv(m);return{startTimestamp:i,endTimestamp:a,url:c,method:d,statusCode:u,request:N,response:k}}const f=l[jh],p=f?PP(f.request_headers,n.networkRequestHeaders):{},g=PP(PJ(l),n.networkResponseHeaders),[y,v]=n.networkCaptureBodies?TJ(o,gt):[void 0],[b,w]=n.networkCaptureBodies?kNe(l):[void 0],S=Xd(p,h,y),j=Xd(g,m,b);return{startTimestamp:i,endTimestamp:a,url:c,method:d,statusCode:u,request:v?jS(S,v):S,response:w?jS(j,w):j}}function kNe(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return _Ne(e.response,e.responseType)}catch(n){t.push(n)}return pt&&gt.warn("Failed to get xhr response body",...t),[void 0]}function _Ne(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return pt&&gt.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return pt&&gt.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function CNe(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return s_(n)}catch{return}}function ENe(e){const t=Ht();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:o}=e.getOptions(),l={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(c,d)=>TNe(l,c,d))}catch{}}function TNe(e,t,n){if(t.data)try{ANe(t)&&INe(n)&&(SNe(t,n),jNe(t,n,e)),PNe(t)&&ONe(n)&&(hNe(t,n),uNe(t,n,e))}catch(r){pt&&gt.exception(r,"Error when enriching network breadcrumb")}}function ANe(e){return e.category==="xhr"}function PNe(e){return e.category==="fetch"}function INe(e){return e==null?void 0:e.xhr}function ONe(e){return e==null?void 0:e.response}function RNe(e){const t=Ht();kJ(uSe(e)),Qk(aNe(e)),JSe(e),ENe(e);const n=sNe(e);pve(n),t&&(t.on("beforeSendEvent",YSe(e)),t.on("afterSendEvent",HSe(e)),t.on("createDsc",r=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=i)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,i)=>{var o;const a=e.getSessionId();i!=null&&i.includeReplay&&e.isEnabled()&&a&&((o=r.contexts)!=null&&o.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=a)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function MNe(e){try{return Promise.all(r_(e,[DNe(Ln.performance.memory)]))}catch{return[]}}function DNe(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function LNe(e,t,n){return t0e(e,t,{...n,setTimeoutImpl:Ib})}const wa=Wt.navigator;function $Ne(){return/iPhone|iPad|iPod/i.test((wa==null?void 0:wa.userAgent)??"")||/Macintosh/i.test((wa==null?void 0:wa.userAgent)??"")&&(wa!=null&&wa.maxTouchPoints)&&(wa==null?void 0:wa.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function FNe(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){pt&&gt.warn("Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&aSe(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!lM(e,n,i))return!0;if(!i)return!1;const a=e.session;if(UNe(e,i),e.recordingMode==="buffer"&&a&&e.eventBuffer&&!a.dirty){const o=e.eventBuffer.getEarliestTimestamp();o&&(pt&&gt.log(`Updating session start time to earliest event in buffer to ${new Date(o)}`),a.started=o,e.getOptions().stickySession&&n_(a))}return a!=null&&a.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function BNe(e){const t=e.getOptions();return{type:Mt.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function UNe(e,t){!t||!e.session||e.session.segmentId!==0||lM(e,BNe(e),!1)}function zNe(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function VNe(e,t,n,r){return Ru(TX(e,I5(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function qNe({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const a=new TextEncoder().encode(r);n=new Uint8Array(a.length+e.length),n.set(a),n.set(e,a.length)}return n}async function WNe({client:e,scope:t,replayId:n,event:r}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,a={event_id:n,integrations:i};e.emit("preprocessEvent",r,a);const o=await MX(e.getOptions(),r,a,t,e,Rl());if(!o)return null;e.emit("postprocessEvent",o,a),o.platform=o.platform||"javascript";const l=e.getSdkMetadata(),{name:c,version:d,settings:u}=(l==null?void 0:l.sdk)||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:d||"0.0.0",settings:u},o}async function HNe({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:a}){const o=qNe({recordingData:e,headers:{segment_id:n}}),{urls:l,errorIds:c,traceIds:d,initialTimestamp:u}=r,h=Ht(),m=jn(),f=h==null?void 0:h.getTransport(),p=h==null?void 0:h.getDsn();if(!h||!f||!p||!a.sampled)return Promise.resolve({});const g={type:j1e,replay_start_timestamp:u/1e3,timestamp:i/1e3,error_ids:c,trace_ids:d,urls:l,replay_id:t,segment_id:n,replay_type:a.sampled},y=await WNe({scope:m,client:h,replayId:t,event:g});if(!y)return h.recordDroppedEvent("event_processor","replay"),pt&&gt.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete y.sdkProcessingMetadata;const v=VNe(y,o,p,h.getOptions().tunnel);let b;try{b=await f.send(v)}catch(S){const j=new Error(X5);try{j.cause=S}catch{}throw j}if(typeof b.statusCode=="number"&&(b.statusCode<200||b.statusCode>=300))throw new vQ(b.statusCode);const w=KX({},b);if(HX(w,"replay"))throw new dM(w);return b}class vQ extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class dM extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function bQ(e,t={count:0,interval:E1e}){const{recordingData:n,onError:r}=e;if(n.length)try{return await HNe(e),!0}catch(i){if(i instanceof vQ||i instanceof dM)throw i;if($X("Replays",{_retryCount:t.count}),r&&r(i),t.count>=T1e){const a=new Error(`${X5} - max retries exceeded`);try{a.cause=i}catch{}throw a}return t.interval*=++t.count,new Promise((a,o)=>{Ib(async()=>{try{await bQ(e,t),a(!0)}catch(l){o(l)}},t.interval)})}}const wQ="__THROTTLED",KNe="__SKIPPED";function GNe(e,t,n){const r=new Map,i=l=>{const c=l-n;r.forEach((d,u)=>{u<c&&r.delete(u)})},a=()=>[...r.values()].reduce((l,c)=>l+c,0);let o=!1;return(...l)=>{const c=Math.floor(Date.now()/1e3);if(i(c),a()>=t){const u=o;return o=!0,u?KNe:wQ}o=!1;const d=r.get(c)||0;return r.set(c,d+1),e(...l)}}class YNe{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:S1e,sessionIdleExpire:N1e},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=LNe(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=GNe((o,l)=>VSe(this,o,l),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),a=r?{threshold:Math.min(A1e,r),timeout:r,scrollTimeout:P1e,ignoreSelector:i?i.join(","):""}:void 0;if(a&&(this.clickDetector=new nSe(this,a)),pt){const o=t._experiments;gt.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{Ln.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=ll({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=ll({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{pSe(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){pt&&gt.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,i=n<=0&&r<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){pt&&gt.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",pt&&gt.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){pt&&gt.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){pt&&gt.log("Buffering is in progress, call `flush()` to save the replay");return}pt&&gt.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=eT({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){pt&&gt.log("Buffering is in progress, call `flush()` to save the replay");return}pt&&gt.infoTick("Starting replay in buffer mode");const t=eT({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=gc({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:C1e}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:FNe(this),...$Ne(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{pt&&gt.log(`Stopping Replay${n?` triggered by ${n}`:""}`),fQ(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,$Se(this)}catch(i){this.handleException(i)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),pt&&gt.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),pt&&gt.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();pt&&gt.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){var n,r;if(!(t&&((n=this.session)==null?void 0:n.sampled)===!1))return(r=this.session)==null?void 0:r.id}checkAndHandleExpiredSession(){if(this._lastActivity&&TP(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Ln.location.pathname}${Ln.location.hash}${Ln.location.search}`,n=`${Ln.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===wQ){const i=ll({category:"replay.throttled"});this.addUpdate(()=>!lM(this,{type:Yje,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||ci(),n=t&&Ds(t),i=(n&&tn(n).data||{})[Po];if(!(!n||!i||!["route","custom"].includes(i)))return tn(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=MSe({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=eT({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return dQ(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Ln.document.addEventListener("visibilitychange",this._handleVisibilityChange),Ln.addEventListener("blur",this._handleWindowBlur),Ln.addEventListener("focus",this._handleWindowFocus),Ln.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(RNe(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=ESe(this)}_removeListeners(){try{Ln.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Ln.removeEventListener("blur",this._handleWindowBlur),Ln.removeEventListener("focus",this._handleWindowFocus),Ln.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||cQ(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){pt&&gt.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Mt.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=vSe(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(r_(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){pt&&gt.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await MNe(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const i=this._popEventContext(),a=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await bQ({replayId:t,recordingData:o,segmentId:a,eventContext:i,session:this.session,timestamp:r,onError:l=>this.handleException(l)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const i=Ht();if(i){const a=r instanceof dM?"ratelimit_backoff":"send_error";i.recordDroppedEvent(a,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){pt&&gt.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const a=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(a||o){pt&&gt.log(`Session duration (${Math.floor(i/1e3)}s) is too ${a?"short":"long"}, not sending replay.`),a&&this._debouncedFlush();return}const l=this.eventBuffer;l&&this.session.segmentId===0&&!l.hasCheckout&&pt&&gt.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(d){this.handleException(d)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&n_(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(l=>{const c=zNe(l.target),d=n.join(",");return c==null?void 0:c.matches(d)}))return!1;const r=t.length,i=this._options.mutationLimit,a=this._options.mutationBreadcrumbLimit,o=i&&r>i;if(r>a||o){const l=ll({category:"replay.mutations",data:{count:r,limit:o}});this._createCustomBreadcrumb(l)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function zx(e,t){return[...e,...t].join(",")}function XNe({mask:e,unmask:t,block:n,unblock:r,ignore:i}){const a=["base","iframe[srcdoc]:not([src])"],o=zx(e,[".sentry-mask","[data-sentry-mask]"]),l=zx(t,[]);return{maskTextSelector:o,unmaskTextSelector:l,blockSelector:zx(n,[".sentry-block","[data-sentry-block]",...a]),unblockSelector:zx(r,[]),ignoreSelector:zx(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function JNe({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:a}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?a:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?a.replace(/[\S]/g,"*"):a}const c8='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',QNe=["content-length","content-type","accept"],ZNe=Symbol.for("sentry__originalRequestBody");let d8=!1,u8=!1;function eke(){if(typeof Request>"u"||u8)return;const e=Request;try{const t=function(n,r){const i=new e(n,r);return(r==null?void 0:r.body)!=null&&(i[ZNe]=r.body),i};t.prototype=e.prototype,Wt.Request=t,u8=!0}catch{}}const tke=e=>new nke(e);class nke{constructor({flushMinDelay:t=k1e,flushMaxDelay:n=_1e,minReplayDuration:r=I1e,maxReplayDuration:i=zF,stickySession:a=!0,useCompression:o=!0,workerUrl:l,_experiments:c={},maskAllText:d=!0,maskAllInputs:u=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:m=750,mutationLimit:f=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:v=[],networkCaptureBodies:b=!0,networkRequestHeaders:w=[],networkResponseHeaders:S=[],mask:j=[],maskAttributes:N=["title","placeholder","aria-label"],unmask:k=[],block:_=[],unblock:C=[],ignore:T=[],maskFn:A,beforeAddRecordingEvent:P,beforeErrorSampling:R,onError:D,attachRawBodyFromRequest:$=!1}={}){this.name="Replay";const M=XNe({mask:j,unmask:k,block:_,unblock:C,ignore:T});if(this._recordingOptions={maskAllInputs:u,maskAllText:d,maskInputOptions:{password:!0},maskTextFn:A,maskInputFn:A,maskAttributeFn:(F,O,L)=>JNe({maskAttributes:N,maskAllText:d,privacyOptions:M,key:F,value:O,el:L}),...M,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:F=>{try{F.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,O1e),maxReplayDuration:Math.min(i,zF),stickySession:a,useCompression:o,workerUrl:l,blockAllMedia:h,maskAllInputs:u,maskAllText:d,mutationBreadcrumbLimit:m,mutationLimit:f,slowClickTimeout:p,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:v,networkCaptureBodies:b,networkRequestHeaders:h8(w),networkResponseHeaders:h8(S),beforeAddRecordingEvent:P,beforeErrorSampling:R,onError:D,attachRawBodyFromRequest:$,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${c8}`:c8,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&fP())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return d8}set _isInitialized(t){d8=t}afterAllSetup(t){!fP()||this._replay||(this._initialOptions.attachRawBodyFromRequest&&eke(),this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){var n;if((n=this._replay)!=null&&n.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=rke(this._initialOptions,t);this._replay=new YNe({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function rke(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},i=sm(n.replaysSessionSampleRate),a=sm(n.replaysOnErrorSampleRate);return i==null&&a==null&&Tm(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),a!=null&&(r.errorSampleRate=a),r}function h8(e){return[...QNe,...e.map(t=>t.toLowerCase())]}function ske(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function jQ(e){try{return new URL(e,nn.location.origin).href}catch{return}}function ike(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function SQ(e){try{return new Headers(e)}catch{return}}const m8=new WeakMap,tT=new Map,NQ={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function ake(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:a,enableHTTPTimings:o,tracePropagationTargets:l,onRequestSpanStart:c,onRequestSpanEnd:d}={...NQ,...t},u=typeof a=="function"?a:p=>!0,h=p=>oke(p,l),m={},f=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(g=>{if(g.op==="http.client"){const y=tT.get(g.span_id);y&&(g.timestamp=y/1e3,tT.delete(g.span_id))}}),p)),i&&M0e(p=>{if(p.response){const g=m8.get(p.response);g&&p.endTimestamp&&tT.set(g,p.endTimestamp)}}),aJ(p=>{const g=_0e(p,u,h,m,{propagateTraceparent:f,onRequestSpanEnd:d});if(p.response&&p.fetchData.__span&&m8.set(p.response,p.fetchData.__span),g){const y=jQ(p.fetchData.url),v=y?Wh(y).host:void 0;g.setAttributes({"http.url":y?Gd(y):void 0,"server.address":v}),o&&f8(g),c==null||c(g,{headers:p.headers})}})),r&&CJ(p=>{var y;const g=lke(p,u,h,m,f,d);g&&(o&&f8(g),c==null||c(g,{headers:SQ((y=p.xhr.__sentry_xhr_v3__)==null?void 0:y.request_headers)}))})}function f8(e){const{url:t}=tn(e).data;if(!t||typeof t!="string")return;const n=am("resource",({entries:r})=>{r.forEach(i=>{ike(i)&&i.name.endsWith(t)&&(e.setAttributes(NJ(i)),setTimeout(n))})})}function oke(e,t){const n=Kg();if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const a=r.origin===i;return t?fc(r.toString(),t)||a&&fc(r.pathname,t):a}else{const r=!!e.match(/^\/(?!\/)/);return t?fc(e,t):r}}function lke(e,t,n,r,i,a){const o=e.xhr,l=o==null?void 0:o[jh];if(!o||o.__sentry_own_request__||!l)return;const{url:c,method:d}=l,u=Mo()&&t(c);if(e.endTimestamp&&u){const v=o.__sentry_xhr_span_id__;if(!v)return;const b=r[v];b&&l.status_code!==void 0&&(mX(b,l.status_code),b.end(),a==null||a(b,{headers:SQ(PJ(o)),error:e.error}),delete r[v]);return}const h=jQ(c),m=Wh(h||c),f=Gd(Gve(c)),p=!!ci(),g=u&&p?Jg({name:`${d} ${f}`,attributes:{url:Gd(c),type:"xhr","http.method":d,"http.url":h?Gd(h):void 0,"server.address":m==null?void 0:m.host,[ss]:"auto.http.browser",[Cc]:"http.client",...(m==null?void 0:m.search)&&{"http.query":m==null?void 0:m.search},...(m==null?void 0:m.hash)&&{"http.fragment":m==null?void 0:m.hash}}}):new du;o.__sentry_xhr_span_id__=g.spanContext().spanId,r[o.__sentry_xhr_span_id__]=g,n(c)&&cke(o,Mo()&&p?g:void 0,i);const y=Ht();return y&&y.emit("beforeOutgoingRequestSpan",g,e),g}function cke(e,t,n){const{"sentry-trace":r,baggage:i,traceparent:a}=tJ({span:t,propagateTraceparent:n});r&&dke(e,r,i,a)}function dke(e,t,n,r){var a;const i=(a=e.__sentry_xhr_v3__)==null?void 0:a.request_headers;if(!(i!=null&&i["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!(i!=null&&i.traceparent)&&e.setRequestHeader("traceparent",r),n){const o=i==null?void 0:i.baggage;(!o||!ske(o))&&e.setRequestHeader("baggage",n)}}catch{}}function uke(){nn.document?nn.document.addEventListener("visibilitychange",()=>{const e=ci();if(!e)return;const t=Ds(e);if(nn.document.hidden&&t){const n="cancelled",{op:r,status:i}=tn(t);Ka&&Te.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Xr,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Ka&&Te.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const hke=3600,kQ="sentry_previous_trace",mke="sentry.previous_trace";function fke(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let i=r?xke():void 0;e.on("spanStart",o=>{if(Ds(o)!==o)return;const l=jn().getPropagationContext();i=pke(i,o,l),r&&gke(i)});let a=!0;n&&e.on("beforeSampling",o=>{if(!i)return;const l=jn(),c=l.getPropagationContext();if(a&&c.parentSpanId){a=!1;return}l.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(i.sampleRate),sampled:String(IP(i.spanContext))},sampleRand:i.sampleRand}),o.parentSampled=IP(i.spanContext),o.parentSampleRate=i.sampleRate,o.spanAttributes={...o.spanAttributes,[hX]:i.sampleRate}})}function pke(e,t,n){const r=tn(t);function i(){var l,c;try{return Number((l=n.dsc)==null?void 0:l.sample_rate)??Number((c=r.data)==null?void 0:c[_5])}catch{return 0}}const a={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:i(),sampleRand:n.sampleRand};if(!e)return a;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=hke&&(Ka&&Te.log(`Adding previous_trace \`${JSON.stringify(o)}\` link to span \`${JSON.stringify({op:r.op,...t.spanContext()})}\``),t.addLink({context:o,attributes:{[Fxe]:"previous_trace"}}),t.setAttribute(mke,`${o.traceId}-${o.spanId}-${IP(o)?1:0}`)),a)}function gke(e){try{nn.sessionStorage.setItem(kQ,JSON.stringify(e))}catch(t){Ka&&Te.warn("Could not store previous trace in sessionStorage",t)}}function xke(){var e;try{const t=(e=nn.sessionStorage)==null?void 0:e.getItem(kQ);return JSON.parse(t)}catch{return}}function IP(e){return e.traceFlags===1}const yke="BrowserTracing",vke={...nj,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...NQ},bke=(e={})=>{const t={name:void 0,source:void 0},n=nn.document,{enableInp:r,enableElementTiming:i,enableLongTask:a,enableLongAnimationFrame:o,_experiments:{enableInteractions:l,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:d},beforeStartSpan:u,idleTimeout:h,finalTimeout:m,childSpanTimeout:f,markBackgroundSpan:p,traceFetch:g,traceXHR:y,trackFetchStreamPerformance:v,shouldCreateSpanForRequest:b,enableHTTPTimings:w,ignoreResourceSpans:S,ignorePerformanceApiSpans:j,instrumentPageLoad:N,instrumentNavigation:k,detectRedirects:_,linkPreviousTrace:C,consistentTraceSampling:T,enableReportPageLoaded:A,onRequestSpanStart:P,onRequestSpanEnd:R}={...vke,...e};let D,$,M;function F(O,L,I=!0){const z=L.op==="pageload",H=L.name,U=u?u(L):L,X=U.attributes||{};if(H!==U.name&&(X[Po]="custom",U.attributes=X),!I){const oe=Am();Jg({...U,startTime:oe}).end(oe);return}t.name=U.name,t.source=X[Po];const le=RX(U,{idleTimeout:h,finalTimeout:m,childSpanTimeout:f,disableAutoFinish:z,beforeSpanEnd:oe=>{D==null||D(),Wbe(oe,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!d,ignoreResourceSpans:S,ignorePerformanceApiSpans:j}),g8(O,void 0);const Ne=jn(),K=Ne.getPropagationContext();Ne.setPropagationContext({...K,traceId:le.spanContext().traceId,sampled:Ou(le),dsc:Ec(oe)}),z&&(M=void 0)},trimIdleSpanEndTimestamp:!A});z&&A&&(M=le),g8(O,le);function de(){n&&["interactive","complete"].includes(n.readyState)&&O.emit("idleSpanEnableAutoFinish",le)}z&&!A&&n&&(n.addEventListener("readystatechange",()=>{de()}),de())}return{name:yke,setup(O){if(fye(),D=$be({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:d||!1,client:O}),r&&xwe(),i&&rwe(),o&&Wt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Bbe():a&&Fbe(),l&&Ube(),_&&n){const I=()=>{$=hs()};addEventListener("click",I,{capture:!0}),addEventListener("keydown",I,{capture:!0,passive:!0})}function L(){const I=Hv(O);I&&!tn(I).timestamp&&(Ka&&Te.log(`[Tracing] Finishing current active span with op: ${tn(I).op}`),I.setAttribute(Fv,"cancelled"),I.end())}O.on("startNavigationSpan",(I,z)=>{if(Ht()!==O)return;if(z!=null&&z.isRedirect){Ka&&Te.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),F(O,{op:"navigation.redirect",...I},!1);return}$=void 0,L(),Rl().setPropagationContext({traceId:_c(),sampleRand:Math.random(),propagationSpanId:Mo()?void 0:pc()});const H=jn();H.setPropagationContext({traceId:_c(),sampleRand:Math.random(),propagationSpanId:Mo()?void 0:pc()}),H.setSDKProcessingMetadata({normalizedRequest:void 0}),F(O,{op:"navigation",...I,parentSpan:null,forceTransaction:!0})}),O.on("startPageLoadSpan",(I,z={})=>{if(Ht()!==O)return;L();const H=z.sentryTrace||p8("sentry-trace"),U=z.baggage||p8("baggage"),X=iye(H,U),le=jn();le.setPropagationContext(X),Mo()||(le.getPropagationContext().propagationSpanId=pc()),le.setSDKProcessingMetadata({normalizedRequest:B5()}),F(O,{op:"pageload",...I})}),O.on("endPageloadSpan",()=>{A&&M&&(M.setAttribute(Fv,"reportPageLoaded"),M.end())})},afterAllSetup(O){let L=Kg();if(C!=="off"&&fke(O,{linkPreviousTrace:C,consistentTraceSampling:T}),nn.location){if(N){const I=Li();wke(O,{name:nn.location.pathname,startTime:I?I/1e3:void 0,attributes:{[Po]:"url",[ss]:"auto.pageload.browser"}})}k&&Qk(({to:I,from:z})=>{if(z===void 0&&(L==null?void 0:L.indexOf(I))!==-1){L=void 0;return}L=void 0;const H=F5(I),U=Hv(O),X=U&&_&&Nke(U,$);jke(O,{name:(H==null?void 0:H.pathname)||nn.location.pathname,attributes:{[Po]:"url",[ss]:"auto.navigation.browser"}},{url:I,isRedirect:X})})}p&&uke(),l&&Ske(O,h,m,f,t),r&&bwe(),ake(O,{traceFetch:g,traceXHR:y,trackFetchStreamPerformance:v,tracePropagationTargets:O.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:w,onRequestSpanStart:P,onRequestSpanEnd:R})}}};function wke(e,t,n){e.emit("startPageLoadSpan",t,n),jn().setTransactionName(t.name);const r=Hv(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function jke(e,t,n){const{url:r,isRedirect:i}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});const a=jn();return a.setTransactionName(t.name),r&&!i&&a.setSDKProcessingMetadata({normalizedRequest:{...B5(),url:r}}),Hv(e)}function p8(e){const t=nn.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function Ske(e,t,n,r,i){const a=nn.document;let o;const l=()=>{const c="ui.action.click",d=Hv(e);if(d){const u=tn(d).op;if(["navigation","pageload"].includes(u)){Ka&&Te.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Fv,"interactionInterrupted"),o.end(),o=void 0),!i.name){Ka&&Te.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}o=RX({name:i.name,op:c,attributes:{[Po]:i.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};a&&addEventListener("click",l,{capture:!0})}const _Q="_sentry_idleSpan";function Hv(e){return e[_Q]}function g8(e,t){Ii(e,_Q,t)}const x8=1.5;function Nke(e,t){const n=tn(e),r=Am(),i=n.start_timestamp;return!(r-i>x8||t&&r-t<=x8)}function kke(e){const t={...e};return eJ(t,"react"),$X("react",{version:x.version}),w1e(t)}const _ke=1,Cke=1e6;let nT=0;function Eke(){return nT=(nT+1)%Number.MAX_SAFE_INTEGER,nT.toString()}const rT=new Map,y8=e=>{if(rT.has(e))return;const t=setTimeout(()=>{rT.delete(e),Qy({type:"REMOVE_TOAST",toastId:e})},Cke);rT.set(e,t)},Tke=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_ke)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?y8(n):e.toasts.forEach(r=>{y8(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},cj=[];let dj={toasts:[]};function Qy(e){dj=Tke(dj,e),cj.forEach(t=>{t(dj)})}function mf({...e}){const t=Eke(),n=i=>Qy({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Qy({type:"DISMISS_TOAST",toastId:t});return Qy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Mb(){const[e,t]=x.useState(dj);return x.useEffect(()=>(cj.push(t),()=>{const n=cj.indexOf(t);n>-1&&cj.splice(n,1)}),[e]),{...e,toast:mf,dismiss:n=>Qy({type:"DISMISS_TOAST",toastId:n})}}function ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function v8(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function i_(...e){return t=>{let n=!1;const r=e.map(i=>{const a=v8(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():v8(e[i],null)}}}}function ft(...e){return x.useCallback(i_(...e),e)}function Ake(e,t){const n=x.createContext(t),r=a=>{const{children:o,...l}=a,c=x.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=x.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Ar(e,t=[]){let n=[];function r(a,o){const l=x.createContext(o),c=n.length;n=[...n,o];const d=h=>{var v;const{scope:m,children:f,...p}=h,g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,y=x.useMemo(()=>p,Object.values(p));return s.jsx(g.Provider,{value:y,children:f})};d.displayName=a+"Provider";function u(h,m){var g;const f=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,p=x.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=n.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,Pke(i,...t)]}function Pke(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function om(e){const t=Oke(e),n=x.forwardRef((r,i)=>{const{children:a,...o}=r,l=x.Children.toArray(a),c=l.find(Rke);if(c){const d=c.props.children,u=l.map(h=>h===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:i,children:x.isValidElement(d)?x.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var Ike=om("Slot");function Oke(e){const t=x.forwardRef((n,r)=>{const{children:i,...a}=n;if(x.isValidElement(i)){const o=Dke(i),l=Mke(a,i.props);return i.type!==x.Fragment&&(l.ref=r?i_(r,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CQ=Symbol("radix.slottable");function EQ(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=CQ,t}function Rke(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CQ}function Mke(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Dke(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Db(e){const t=e+"CollectionProvider",[n,r]=Ar(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:v}=g,b=V.useRef(null),w=V.useRef(new Map).current;return s.jsx(i,{scope:y,itemMap:w,collectionRef:b,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=om(l),d=V.forwardRef((g,y)=>{const{scope:v,children:b}=g,w=a(l,v),S=ft(y,w.collectionRef);return s.jsx(c,{ref:S,children:b})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=om(u),f=V.forwardRef((g,y)=>{const{scope:v,children:b,...w}=g,S=V.useRef(null),j=ft(y,S),N=a(u,v);return V.useEffect(()=>(N.itemMap.set(S,{ref:S,...w}),()=>void N.itemMap.delete(S))),s.jsx(m,{[h]:"",ref:j,children:b})});f.displayName=u;function p(g){const y=a(e+"CollectionConsumer",g);return V.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((N,k)=>w.indexOf(N.ref.current)-w.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},p,r]}var Lke=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],De=Lke.reduce((e,t)=>{const n=om(`Primitive.${t}`),r=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function uM(e,t){e&&Cm.flushSync(()=>e.dispatchEvent(t))}function ar(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function $ke(e,t=globalThis==null?void 0:globalThis.document){const n=ar(e);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Fke="DismissableLayer",OP="dismissableLayer.update",Bke="dismissableLayer.pointerDownOutside",Uke="dismissableLayer.focusOutside",b8,TQ=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ex=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=x.useContext(TQ),[u,h]=x.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=x.useState({}),p=ft(t,k=>h(k)),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),b=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=b>=v,j=Vke(k=>{const _=k.target,C=[...d.branches].some(T=>T.contains(_));!S||C||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},m),N=qke(k=>{const _=k.target;[...d.branches].some(T=>T.contains(_))||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},m);return $ke(k=>{b===d.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),x.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(b8=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),w8(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=b8)}},[u,m,n,d]),x.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),w8())},[u,d]),x.useEffect(()=>{const k=()=>f({});return document.addEventListener(OP,k),()=>document.removeEventListener(OP,k)},[]),s.jsx(De.div,{...c,ref:p,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:ve(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ve(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ve(e.onPointerDownCapture,j.onPointerDownCapture)})});ex.displayName=Fke;var zke="DismissableLayerBranch",AQ=x.forwardRef((e,t)=>{const n=x.useContext(TQ),r=x.useRef(null),i=ft(t,r);return x.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(De.div,{...e,ref:i})});AQ.displayName=zke;function Vke(e,t=globalThis==null?void 0:globalThis.document){const n=ar(e),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){PQ(Bke,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function qke(e,t=globalThis==null?void 0:globalThis.document){const n=ar(e),r=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!r.current&&PQ(Uke,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function w8(){const e=new CustomEvent(OP);document.dispatchEvent(e)}function PQ(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?uM(i,a):i.dispatchEvent(a)}var Wke=ex,Hke=AQ,Nr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Kke="Portal",Lb=x.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,a]=x.useState(!1);Nr(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?XY.createPortal(s.jsx(De.div,{...r,ref:t}),o):null});Lb.displayName=Kke;function Gke(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var ms=e=>{const{present:t,children:n}=e,r=Yke(t),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),a=ft(r.ref,Xke(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:a}):null};ms.displayName="Presence";function Yke(e){const[t,n]=x.useState(),r=x.useRef(null),i=x.useRef(e),a=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Gke(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=Hw(r.current);a.current=l==="mounted"?d:"none"},[l]),Nr(()=>{const d=r.current,u=i.current;if(u!==e){const m=a.current,f=Hw(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Nr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=f=>{const g=Hw(r.current).includes(f.animationName);if(f.target===t&&g&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=f=>{f.target===t&&(a.current=Hw(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Hw(e){return(e==null?void 0:e.animationName)||"none"}function Xke(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Jke=T4[" useInsertionEffect ".trim().toString()]||Nr;function ua({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=Qke({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const u=x.useRef(e!==void 0);x.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=x.useCallback(u=>{var h;if(l){const m=Zke(u)?u(e):u;m!==e&&((h=o.current)==null||h.call(o,m))}else a(u)},[l,e,a,o]);return[c,d]}function Qke({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),i=x.useRef(n),a=x.useRef(t);return Jke(()=>{a.current=t},[t]),x.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function Zke(e){return typeof e=="function"}var IQ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),e_e="VisuallyHidden",a_=x.forwardRef((e,t)=>s.jsx(De.span,{...e,ref:t,style:{...IQ,...e.style}}));a_.displayName=e_e;var t_e=a_,hM="ToastProvider",[mM,n_e,r_e]=Db("Toast"),[OQ,zkt]=Ar("Toast",[r_e]),[s_e,o_]=OQ(hM),RQ=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=x.useState(null),[d,u]=x.useState(0),h=x.useRef(!1),m=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${hM}\`. Expected non-empty \`string\`.`),s.jsx(mM.Provider,{scope:t,children:s.jsx(s_e,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>u(f=>f+1),[]),onToastRemove:x.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};RQ.displayName=hM;var MQ="ToastViewport",i_e=["F8"],RP="toast.viewportPause",MP="toast.viewportResume",DQ=x.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=i_e,label:i="Notifications ({hotkey})",...a}=e,o=o_(MQ,n),l=n_e(n),c=x.useRef(null),d=x.useRef(null),u=x.useRef(null),h=x.useRef(null),m=ft(t,h,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;x.useEffect(()=>{const y=v=>{var w;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),x.useEffect(()=>{const y=c.current,v=h.current;if(p&&y&&v){const b=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(RP);v.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(MP);v.dispatchEvent(N),o.isClosePausedRef.current=!1}},S=N=>{!y.contains(N.relatedTarget)&&w()},j=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",b),y.addEventListener("focusout",S),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",j),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",j),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[p,o.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:y})=>{const b=l().map(w=>{const S=w.ref.current,j=[S,...y_e(S)];return y==="forwards"?j:j.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return x.useEffect(()=>{const y=h.current;if(y){const v=b=>{var j,N,k;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const _=document.activeElement,C=b.shiftKey;if(b.target===y&&C){(j=d.current)==null||j.focus();return}const P=g({tabbingDirection:C?"backwards":"forwards"}),R=P.findIndex(D=>D===_);sT(P.slice(R+1))?b.preventDefault():C?(N=d.current)==null||N.focus():(k=u.current)==null||k.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[l,g]),s.jsxs(Hke,{ref:c,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&s.jsx(DP,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});sT(y)}}),s.jsx(mM.Slot,{scope:n,children:s.jsx(De.ol,{tabIndex:-1,...a,ref:m})}),p&&s.jsx(DP,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});sT(y)}})]})});DQ.displayName=MQ;var LQ="ToastFocusProxy",DP=x.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=o_(LQ,n);return s.jsx(a_,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});DP.displayName=LQ;var $b="Toast",a_e="toast.swipeStart",o_e="toast.swipeMove",l_e="toast.swipeCancel",c_e="toast.swipeEnd",$Q=x.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=ua({prop:r,defaultProp:i??!0,onChange:a,caller:$b});return s.jsx(ms,{present:n||l,children:s.jsx(h_e,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ar(e.onPause),onResume:ar(e.onResume),onSwipeStart:ve(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ve(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});$Q.displayName=$b;var[d_e,u_e]=OQ($b,{onClose(){}}),h_e=x.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:f,...p}=e,g=o_($b,n),[y,v]=x.useState(null),b=ft(t,D=>v(D)),w=x.useRef(null),S=x.useRef(null),j=i||g.duration,N=x.useRef(0),k=x.useRef(j),_=x.useRef(0),{onToastAdd:C,onToastRemove:T}=g,A=ar(()=>{var $;(y==null?void 0:y.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),o()}),P=x.useCallback(D=>{!D||D===1/0||(window.clearTimeout(_.current),N.current=new Date().getTime(),_.current=window.setTimeout(A,D))},[A]);x.useEffect(()=>{const D=g.viewport;if(D){const $=()=>{P(k.current),d==null||d()},M=()=>{const F=new Date().getTime()-N.current;k.current=k.current-F,window.clearTimeout(_.current),c==null||c()};return D.addEventListener(RP,M),D.addEventListener(MP,$),()=>{D.removeEventListener(RP,M),D.removeEventListener(MP,$)}}},[g.viewport,j,c,d,P]),x.useEffect(()=>{a&&!g.isClosePausedRef.current&&P(j)},[a,j,g.isClosePausedRef,P]),x.useEffect(()=>(C(),()=>T()),[C,T]);const R=x.useMemo(()=>y?WQ(y):null,[y]);return g.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(m_e,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),s.jsx(d_e,{scope:n,onClose:A,children:Cm.createPortal(s.jsx(mM.ItemSlot,{scope:n,children:s.jsx(Wke,{asChild:!0,onEscapeKeyDown:ve(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||A(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(De.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ve(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:ve(e.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:ve(e.onPointerMove,D=>{if(!w.current)return;const $=D.clientX-w.current.x,M=D.clientY-w.current.y,F=!!S.current,O=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,I=O?L(0,$):0,z=O?0:L(0,M),H=D.pointerType==="touch"?10:2,U={x:I,y:z},X={originalEvent:D,delta:U};F?(S.current=U,Kw(o_e,h,X,{discrete:!1})):j8(U,g.swipeDirection,H)?(S.current=U,Kw(a_e,u,X,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs($)>H||Math.abs(M)>H)&&(w.current=null)}),onPointerUp:ve(e.onPointerUp,D=>{const $=S.current,M=D.target;if(M.hasPointerCapture(D.pointerId)&&M.releasePointerCapture(D.pointerId),S.current=null,w.current=null,$){const F=D.currentTarget,O={originalEvent:D,delta:$};j8($,g.swipeDirection,g.swipeThreshold)?Kw(c_e,f,O,{discrete:!0}):Kw(l_e,m,O,{discrete:!0}),F.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),m_e=e=>{const{__scopeToast:t,children:n,...r}=e,i=o_($b,t),[a,o]=x.useState(!1),[l,c]=x.useState(!1);return g_e(()=>o(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Lb,{asChild:!0,children:s.jsx(a_,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},f_e="ToastTitle",FQ=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(De.div,{...r,ref:t})});FQ.displayName=f_e;var p_e="ToastDescription",BQ=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(De.div,{...r,ref:t})});BQ.displayName=p_e;var UQ="ToastAction",zQ=x.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(qQ,{altText:n,asChild:!0,children:s.jsx(fM,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${UQ}\`. Expected non-empty \`string\`.`),null)});zQ.displayName=UQ;var VQ="ToastClose",fM=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=u_e(VQ,n);return s.jsx(qQ,{asChild:!0,children:s.jsx(De.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,i.onClose)})})});fM.displayName=VQ;var qQ=x.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx(De.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function WQ(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),x_e(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...WQ(r))}}),t}function Kw(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?uM(i,a):i.dispatchEvent(a)}var j8=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function g_e(e=()=>{}){const t=ar(e);Nr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function x_e(e){return e.nodeType===e.ELEMENT_NODE}function y_e(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sT(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var v_e=RQ,HQ=DQ,KQ=$Q,GQ=FQ,YQ=BQ,XQ=zQ,JQ=fM;function QQ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=QQ(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=QQ(e))&&(r&&(r+=" "),r+=t);return r}const S8=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,N8=Et,Fb=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return N8(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const u=n==null?void 0:n[d],h=a==null?void 0:a[d];if(u===null)return null;const m=S8(u)||S8(h);return i[d][m]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:m,...f}=u;return Object.entries(f).every(p=>{let[g,y]=p;return Array.isArray(y)?y.includes({...a,...l}[g]):{...a,...l}[g]===y})?[...d,h,m]:d},[]);return N8(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZQ=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w_e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_e=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...w_e,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ZQ("lucide",i),...l},[...o.map(([d,u])=>x.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(e,t)=>{const n=x.forwardRef(({className:r,...i},a)=>x.createElement(j_e,{ref:a,iconNode:t,className:ZQ(`lucide-${b_e(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_e=te("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=te("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_e=te("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_e=te("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __e=te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=te("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=te("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_e=te("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_e=te("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=te("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=te("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_e=te("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_e=te("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_e=te("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=te("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=te("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=te("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=te("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_e=te("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_e=te("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_e=te("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=te("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_e=te("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=te("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=te("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=te("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_e=te("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_e=te("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=te("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_e=te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_e=te("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=te("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_e=te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=te("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=te("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=te("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_e=te("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=te("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_e=te("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_e=te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=te("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_e=te("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=te("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_e=te("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=te("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=te("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_e=te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=te("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=te("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_e=te("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=te("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_e=te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=te("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_e=te("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=te("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=te("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_e=te("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_e=te("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=te("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=te("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_e=te("MousePointerClick",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_e=te("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=te("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=te("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=te("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eCe=te("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=te("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=te("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=te("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tCe=te("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=te("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nCe=te("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=te("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=te("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=te("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=te("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=te("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=te("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=te("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rCe=te("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sCe=te("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iCe=te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=te("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=te("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aCe=te("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oCe=te("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=te("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lCe=te("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=te("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=te("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cCe=te("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=te("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=te("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=te("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=te("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=te("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=te("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=te("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=te("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=te("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),EM="-",dCe=e=>{const t=hCe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(EM);return l[0]===""&&l.length!==1&&l.shift(),fZ(l,t)||uCe(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},fZ=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?fZ(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(EM);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},I8=/^\[(.+)\]$/,uCe=e=>{if(I8.test(e)){const t=I8.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},hCe=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return fCe(Object.entries(e.classGroups),n).forEach(([a,o])=>{VP(o,r,a,t)}),r},VP=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:O8(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(mCe(i)){VP(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{VP(o,O8(t,a),n,r)})})},O8=(e,t)=>{let n=e;return t.split(EM).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mCe=e=>e.isThemeGetter,fCe=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,pCe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},pZ="!",gCe=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let y=0;y<l.length;y++){let v=l[y];if(d===0){if(v===i&&(r||l.slice(y,y+a)===t)){c.push(l.slice(u,y)),u=y+a;continue}if(v==="/"){h=y;continue}}v==="["?d++:v==="]"&&d--}const m=c.length===0?l:l.substring(u),f=m.startsWith(pZ),p=f?m.substring(1):m,g=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},xCe=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},yCe=e=>({cache:pCe(e.cacheSize),parseClassName:gCe(e),...dCe(e)}),vCe=/\s+/,bCe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(vCe);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=n(d);let p=!!f,g=r(p?m.substring(0,f):m);if(!g){if(!p){l=d+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=d+(l.length>0?" "+l:l);continue}p=!1}const y=xCe(u).join(":"),v=h?y+pZ:y,b=v+g;if(a.includes(b))continue;a.push(b);const w=i(g,p);for(let S=0;S<w.length;++S){const j=w[S];a.push(v+j)}l=d+(l.length>0?" "+l:l)}return l};function wCe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=gZ(t))&&(r&&(r+=" "),r+=n);return r}const gZ=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=gZ(e[r]))&&(n&&(n+=" "),n+=t);return n};function jCe(e,...t){let n,r,i,a=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return n=yCe(d),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=bCe(c,n);return i(c,u),u}return function(){return a(wCe.apply(null,arguments))}}const Vn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},xZ=/^\[(?:([a-z-]+):)?(.+)\]$/i,SCe=/^\d+\/\d+$/,NCe=new Set(["px","full","screen"]),kCe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_Ce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CCe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ECe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TCe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wl=e=>np(e)||NCe.has(e)||SCe.test(e),Qc=e=>rx(e,"length",LCe),np=e=>!!e&&!Number.isNaN(Number(e)),oT=e=>rx(e,"number",np),Vx=e=>!!e&&Number.isInteger(Number(e)),ACe=e=>e.endsWith("%")&&np(e.slice(0,-1)),At=e=>xZ.test(e),Zc=e=>kCe.test(e),PCe=new Set(["length","size","percentage"]),ICe=e=>rx(e,PCe,yZ),OCe=e=>rx(e,"position",yZ),RCe=new Set(["image","url"]),MCe=e=>rx(e,RCe,FCe),DCe=e=>rx(e,"",$Ce),qx=()=>!0,rx=(e,t,n)=>{const r=xZ.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},LCe=e=>_Ce.test(e)&&!CCe.test(e),yZ=()=>!1,$Ce=e=>ECe.test(e),FCe=e=>TCe.test(e),BCe=()=>{const e=Vn("colors"),t=Vn("spacing"),n=Vn("blur"),r=Vn("brightness"),i=Vn("borderColor"),a=Vn("borderRadius"),o=Vn("borderSpacing"),l=Vn("borderWidth"),c=Vn("contrast"),d=Vn("grayscale"),u=Vn("hueRotate"),h=Vn("invert"),m=Vn("gap"),f=Vn("gradientColorStops"),p=Vn("gradientColorStopPositions"),g=Vn("inset"),y=Vn("margin"),v=Vn("opacity"),b=Vn("padding"),w=Vn("saturate"),S=Vn("scale"),j=Vn("sepia"),N=Vn("skew"),k=Vn("space"),_=Vn("translate"),C=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",At,t],P=()=>[At,t],R=()=>["",Wl,Qc],D=()=>["auto",np,At],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",At],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[np,At];return{cacheSize:500,separator:":",theme:{colors:[qx],spacing:[Wl,Qc],blur:["none","",Zc,At],brightness:z(),borderColor:[e],borderRadius:["none","","full",Zc,At],borderSpacing:P(),borderWidth:R(),contrast:z(),grayscale:L(),hueRotate:z(),invert:L(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[ACe,Qc],inset:A(),margin:A(),opacity:z(),padding:P(),saturate:z(),scale:z(),sepia:L(),skew:z(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",At]}],container:["container"],columns:[{columns:[Zc]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),At]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vx,At]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",At]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Vx,At]}],"grid-cols":[{"grid-cols":[qx]}],"col-start-end":[{col:["auto",{span:["full",Vx,At]},At]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[qx]}],"row-start-end":[{row:["auto",{span:[Vx,At]},At]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",At]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",At]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",At,t]}],"min-w":[{"min-w":[At,t,"min","max","fit"]}],"max-w":[{"max-w":[At,t,"none","full","min","max","fit","prose",{screen:[Zc]},Zc]}],h:[{h:[At,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[At,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[At,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[At,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Zc,Qc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oT]}],"font-family":[{font:[qx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",At]}],"line-clamp":[{"line-clamp":["none",np,oT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wl,At]}],"list-image":[{"list-image":["none",At]}],"list-style-type":[{list:["none","disc","decimal",At]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wl,Qc]}],"underline-offset":[{"underline-offset":["auto",Wl,At]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",At]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",At]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),OCe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ICe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MCe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Wl,At]}],"outline-w":[{outline:[Wl,Qc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Wl,Qc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Zc,DCe]}],"shadow-color":[{shadow:[qx]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Zc,At]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",At]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",At]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",At]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Vx,At]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",At]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",At]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",At]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wl,Qc,oT]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UCe=jCe(BCe);function G(...e){return UCe(Et(e))}const zCe=v_e,vZ=x.forwardRef(({className:e,...t},n)=>s.jsx(HQ,{ref:n,className:G("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));vZ.displayName=HQ.displayName;const VCe=Fb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bZ=x.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(KQ,{ref:r,className:G(VCe({variant:t}),e),...n}));bZ.displayName=KQ.displayName;const qCe=x.forwardRef(({className:e,...t},n)=>s.jsx(XQ,{ref:n,className:G("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));qCe.displayName=XQ.displayName;const wZ=x.forwardRef(({className:e,...t},n)=>s.jsx(JQ,{ref:n,className:G("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(nr,{className:"h-4 w-4"})}));wZ.displayName=JQ.displayName;const jZ=x.forwardRef(({className:e,...t},n)=>s.jsx(GQ,{ref:n,className:G("text-sm font-semibold",e),...t}));jZ.displayName=GQ.displayName;const SZ=x.forwardRef(({className:e,...t},n)=>s.jsx(YQ,{ref:n,className:G("text-sm opacity-90",e),...t}));SZ.displayName=YQ.displayName;function WCe(){const{toasts:e}=Mb();return s.jsxs(zCe,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return s.jsxs(bZ,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(jZ,{children:n}),r&&s.jsx(SZ,{children:r})]}),i,s.jsx(wZ,{})]},t)}),s.jsx(vZ,{})]})}var R8=["light","dark"],HCe="(prefers-color-scheme: dark)",KCe=x.createContext(void 0),GCe={setTheme:e=>{},themes:[]},YCe=()=>{var e;return(e=x.useContext(KCe))!=null?e:GCe};x.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let d=a==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?R8.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(p,g=!1,y=!0)=>{let v=o?o[p]:p,b=g?p+"|| ''":`'${v}'`,w="";return i&&y&&!g&&R8.includes(p)&&(w+=`d.style.colorScheme = '${p}';`),n==="class"?g||v?w+=`c.add(${b})`:w+="null":v&&(w+=`d[s](n,${b})`),w},f=e?`!function(){${u}${m(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${HCe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${h}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var XCe=e=>{switch(e){case"success":return ZCe;case"info":return tEe;case"warning":return eEe;case"error":return nEe;default:return null}},JCe=Array(12).fill(0),QCe=({visible:e,className:t})=>V.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},V.createElement("div",{className:"sonner-spinner"},JCe.map((n,r)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ZCe=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eEe=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tEe=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nEe=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rEe=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sEe=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},qP=1,iEe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:qP++,a=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,a,o=r.then(async c=>{if(a=["resolve",c],V.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(oEe(c)&&!c.ok){i=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:d,description:u})}else if(t.success!==void 0){i=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:d,description:u})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:d,description:u})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||qP++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gi=new iEe,aEe=(e,t)=>{let n=(t==null?void 0:t.id)||qP++;return gi.addToast({title:e,...t,id:n}),n},oEe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",lEe=aEe,cEe=()=>gi.toasts,dEe=()=>gi.getActiveToasts(),q=Object.assign(lEe,{success:gi.success,info:gi.info,warning:gi.warning,error:gi.error,custom:gi.custom,message:gi.message,promise:gi.promise,dismiss:gi.dismiss,loading:gi.loading},{getHistory:cEe,getToasts:dEe});function uEe(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}uEe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gw(e){return e.label!==void 0}var hEe=3,mEe="32px",fEe="16px",M8=4e3,pEe=356,gEe=14,xEe=20,yEe=200;function ao(...e){return e.filter(Boolean).join(" ")}function vEe(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var bEe=e=>{var t,n,r,i,a,o,l,c,d,u,h;let{invert:m,toast:f,unstyled:p,interacting:g,setHeights:y,visibleToasts:v,heights:b,index:w,toasts:S,expanded:j,removeToast:N,defaultRichColors:k,closeButton:_,style:C,cancelButtonStyle:T,actionButtonStyle:A,className:P="",descriptionClassName:R="",duration:D,position:$,gap:M,loadingIcon:F,expandByDefault:O,classNames:L,icons:I,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:H}=e,[U,X]=V.useState(null),[le,de]=V.useState(null),[oe,Ne]=V.useState(!1),[K,he]=V.useState(!1),[re,Q]=V.useState(!1),[ge,Oe]=V.useState(!1),[ut,nt]=V.useState(!1),[ne,Xe]=V.useState(0),[wt,Ve]=V.useState(0),Re=V.useRef(f.duration||D||M8),Le=V.useRef(null),Me=V.useRef(null),Ae=w===0,rt=w+1<=v,ie=f.type,be=f.dismissible!==!1,Qe=f.className||"",at=f.descriptionClassName||"",Ot=V.useMemo(()=>b.findIndex(_t=>_t.toastId===f.id)||0,[b,f.id]),Pr=V.useMemo(()=>{var _t;return(_t=f.closeButton)!=null?_t:_},[f.closeButton,_]),Qt=V.useMemo(()=>f.duration||D||M8,[f.duration,D]),Lt=V.useRef(0),Rt=V.useRef(0),mr=V.useRef(0),Jn=V.useRef(null),[Ir,kr]=$.split("-"),T$=V.useMemo(()=>b.reduce((_t,Nn,Qn)=>Qn>=Ot?_t:_t+Nn.height,0),[b,Ot]),A$=sEe(),Efe=f.invert||m,cE=ie==="loading";Rt.current=V.useMemo(()=>Ot*M+T$,[Ot,T$]),V.useEffect(()=>{Re.current=Qt},[Qt]),V.useEffect(()=>{Ne(!0)},[]),V.useEffect(()=>{let _t=Me.current;if(_t){let Nn=_t.getBoundingClientRect().height;return Ve(Nn),y(Qn=>[{toastId:f.id,height:Nn,position:f.position},...Qn]),()=>y(Qn=>Qn.filter(no=>no.toastId!==f.id))}},[y,f.id]),V.useLayoutEffect(()=>{if(!oe)return;let _t=Me.current,Nn=_t.style.height;_t.style.height="auto";let Qn=_t.getBoundingClientRect().height;_t.style.height=Nn,Ve(Qn),y(no=>no.find(ro=>ro.toastId===f.id)?no.map(ro=>ro.toastId===f.id?{...ro,height:Qn}:ro):[{toastId:f.id,height:Qn,position:f.position},...no])},[oe,f.title,f.description,y,f.id]);let Kc=V.useCallback(()=>{he(!0),Xe(Rt.current),y(_t=>_t.filter(Nn=>Nn.toastId!==f.id)),setTimeout(()=>{N(f)},yEe)},[f,N,y,Rt]);V.useEffect(()=>{if(f.promise&&ie==="loading"||f.duration===1/0||f.type==="loading")return;let _t;return j||g||H&&A$?(()=>{if(mr.current<Lt.current){let Nn=new Date().getTime()-Lt.current;Re.current=Re.current-Nn}mr.current=new Date().getTime()})():Re.current!==1/0&&(Lt.current=new Date().getTime(),_t=setTimeout(()=>{var Nn;(Nn=f.onAutoClose)==null||Nn.call(f,f),Kc()},Re.current)),()=>clearTimeout(_t)},[j,g,f,ie,H,A$,Kc]),V.useEffect(()=>{f.delete&&Kc()},[Kc,f.delete]);function Tfe(){var _t,Nn,Qn;return I!=null&&I.loading?V.createElement("div",{className:ao(L==null?void 0:L.loader,(_t=f==null?void 0:f.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":ie==="loading"},I.loading):F?V.createElement("div",{className:ao(L==null?void 0:L.loader,(Nn=f==null?void 0:f.classNames)==null?void 0:Nn.loader,"sonner-loader"),"data-visible":ie==="loading"},F):V.createElement(QCe,{className:ao(L==null?void 0:L.loader,(Qn=f==null?void 0:f.classNames)==null?void 0:Qn.loader),visible:ie==="loading"})}return V.createElement("li",{tabIndex:0,ref:Me,className:ao(P,Qe,L==null?void 0:L.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[ie],(n=f==null?void 0:f.classNames)==null?void 0:n[ie]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:k,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":oe,"data-promise":!!f.promise,"data-swiped":ut,"data-removed":K,"data-visible":rt,"data-y-position":Ir,"data-x-position":kr,"data-index":w,"data-front":Ae,"data-swiping":re,"data-dismissible":be,"data-type":ie,"data-invert":Efe,"data-swipe-out":ge,"data-swipe-direction":le,"data-expanded":!!(j||O&&oe),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${K?ne:Rt.current}px`,"--initial-height":O?"auto":`${wt}px`,...C,...f.style},onDragEnd:()=>{Q(!1),X(null),Jn.current=null},onPointerDown:_t=>{cE||!be||(Le.current=new Date,Xe(Rt.current),_t.target.setPointerCapture(_t.pointerId),_t.target.tagName!=="BUTTON"&&(Q(!0),Jn.current={x:_t.clientX,y:_t.clientY}))},onPointerUp:()=>{var _t,Nn,Qn,no;if(ge||!be)return;Jn.current=null;let ro=Number(((_t=Me.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gc=Number(((Nn=Me.current)==null?void 0:Nn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gu=new Date().getTime()-((Qn=Le.current)==null?void 0:Qn.getTime()),so=U==="x"?ro:Gc,Yc=Math.abs(so)/Gu;if(Math.abs(so)>=xEe||Yc>.11){Xe(Rt.current),(no=f.onDismiss)==null||no.call(f,f),de(U==="x"?ro>0?"right":"left":Gc>0?"down":"up"),Kc(),Oe(!0),nt(!1);return}Q(!1),X(null)},onPointerMove:_t=>{var Nn,Qn,no,ro;if(!Jn.current||!be||((Nn=window.getSelection())==null?void 0:Nn.toString().length)>0)return;let Gc=_t.clientY-Jn.current.y,Gu=_t.clientX-Jn.current.x,so=(Qn=e.swipeDirections)!=null?Qn:vEe($);!U&&(Math.abs(Gu)>1||Math.abs(Gc)>1)&&X(Math.abs(Gu)>Math.abs(Gc)?"x":"y");let Yc={x:0,y:0};U==="y"?(so.includes("top")||so.includes("bottom"))&&(so.includes("top")&&Gc<0||so.includes("bottom")&&Gc>0)&&(Yc.y=Gc):U==="x"&&(so.includes("left")||so.includes("right"))&&(so.includes("left")&&Gu<0||so.includes("right")&&Gu>0)&&(Yc.x=Gu),(Math.abs(Yc.x)>0||Math.abs(Yc.y)>0)&&nt(!0),(no=Me.current)==null||no.style.setProperty("--swipe-amount-x",`${Yc.x}px`),(ro=Me.current)==null||ro.style.setProperty("--swipe-amount-y",`${Yc.y}px`)}},Pr&&!f.jsx?V.createElement("button",{"aria-label":z,"data-disabled":cE,"data-close-button":!0,onClick:cE||!be?()=>{}:()=>{var _t;Kc(),(_t=f.onDismiss)==null||_t.call(f,f)},className:ao(L==null?void 0:L.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(a=I==null?void 0:I.close)!=null?a:rEe):null,f.jsx||x.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:V.createElement(V.Fragment,null,ie||f.icon||f.promise?V.createElement("div",{"data-icon":"",className:ao(L==null?void 0:L.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Tfe():null,f.type!=="loading"?f.icon||(I==null?void 0:I[ie])||XCe(ie):null):null,V.createElement("div",{"data-content":"",className:ao(L==null?void 0:L.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},V.createElement("div",{"data-title":"",className:ao(L==null?void 0:L.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?V.createElement("div",{"data-description":"",className:ao(R,at,L==null?void 0:L.description,(d=f==null?void 0:f.classNames)==null?void 0:d.description)},typeof f.description=="function"?f.description():f.description):null),x.isValidElement(f.cancel)?f.cancel:f.cancel&&Gw(f.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||T,onClick:_t=>{var Nn,Qn;Gw(f.cancel)&&be&&((Qn=(Nn=f.cancel).onClick)==null||Qn.call(Nn,_t),Kc())},className:ao(L==null?void 0:L.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,x.isValidElement(f.action)?f.action:f.action&&Gw(f.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:_t=>{var Nn,Qn;Gw(f.action)&&((Qn=(Nn=f.action).onClick)==null||Qn.call(Nn,_t),!_t.defaultPrevented&&Kc())},className:ao(L==null?void 0:L.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function D8(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function wEe(e,t){let n={};return[e,t].forEach((r,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?fEe:mEe;function c(d){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}var jEe=x.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:m,style:f,visibleToasts:p=hEe,toastOptions:g,dir:y=D8(),gap:v=gEe,loadingIcon:b,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[N,k]=V.useState([]),_=V.useMemo(()=>Array.from(new Set([r].concat(N.filter(H=>H.position).map(H=>H.position)))),[N,r]),[C,T]=V.useState([]),[A,P]=V.useState(!1),[R,D]=V.useState(!1),[$,M]=V.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=V.useRef(null),O=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=V.useRef(null),I=V.useRef(!1),z=V.useCallback(H=>{k(U=>{var X;return(X=U.find(le=>le.id===H.id))!=null&&X.delete||gi.dismiss(H.id),U.filter(({id:le})=>le!==H.id)})},[]);return V.useEffect(()=>gi.subscribe(H=>{if(H.dismiss){k(U=>U.map(X=>X.id===H.id?{...X,delete:!0}:X));return}setTimeout(()=>{XY.flushSync(()=>{k(U=>{let X=U.findIndex(le=>le.id===H.id);return X!==-1?[...U.slice(0,X),{...U[X],...H},...U.slice(X+1)]:[H,...U]})})})}),[]),V.useEffect(()=>{if(u!=="system"){M(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:U})=>{M(U?"dark":"light")})}catch{H.addListener(({matches:X})=>{try{M(X?"dark":"light")}catch(le){console.error(le)}})}},[u]),V.useEffect(()=>{N.length<=1&&P(!1)},[N]),V.useEffect(()=>{let H=U=>{var X,le;i.every(de=>U[de]||U.code===de)&&(P(!0),(X=F.current)==null||X.focus()),U.code==="Escape"&&(document.activeElement===F.current||(le=F.current)!=null&&le.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[i]),V.useEffect(()=>{if(F.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,I.current=!1)}},[F.current]),V.createElement("section",{ref:t,"aria-label":`${S} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((H,U)=>{var X;let[le,de]=H.split("-");return N.length?V.createElement("ol",{key:H,dir:y==="auto"?D8():y,tabIndex:-1,ref:F,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":le,"data-lifted":A&&N.length>1&&!a,"data-x-position":de,style:{"--front-toast-height":`${((X=C[0])==null?void 0:X.height)||0}px`,"--width":`${pEe}px`,"--gap":`${v}px`,...f,...wEe(c,d)},onBlur:oe=>{I.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(I.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||I.current||(I.current=!0,L.current=oe.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{R||P(!1)},onDragEnd:()=>P(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},N.filter(oe=>!oe.position&&U===0||oe.position===H).map((oe,Ne)=>{var K,he;return V.createElement(bEe,{key:oe.id,icons:w,index:Ne,toast:oe,defaultRichColors:h,duration:(K=g==null?void 0:g.duration)!=null?K:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:p,closeButton:(he=g==null?void 0:g.closeButton)!=null?he:o,interacting:R,position:H,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:z,toasts:N.filter(re=>re.position==oe.position),heights:C.filter(re=>re.position==oe.position),setHeights:T,expandByDefault:a,gap:v,loadingIcon:b,expanded:A,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const SEe=({...e})=>{const{theme:t="system"}=YCe();return s.jsx(jEe,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var NEe=T4[" useId ".trim().toString()]||(()=>{}),kEe=0;function za(e){const[t,n]=x.useState(NEe());return Nr(()=>{e||n(r=>r??String(kEe++))},[e]),e||(t?`radix-${t}`:"")}const _Ee=["top","right","bottom","left"],vu=Math.min,Ji=Math.max,kS=Math.round,Yw=Math.floor,ml=e=>({x:e,y:e}),CEe={left:"right",right:"left",bottom:"top",top:"bottom"},EEe={start:"end",end:"start"};function WP(e,t,n){return Ji(e,vu(t,n))}function Pc(e,t){return typeof e=="function"?e(t):e}function Ic(e){return e.split("-")[0]}function sx(e){return e.split("-")[1]}function TM(e){return e==="x"?"y":"x"}function AM(e){return e==="y"?"height":"width"}const TEe=new Set(["top","bottom"]);function cl(e){return TEe.has(Ic(e))?"y":"x"}function PM(e){return TM(cl(e))}function AEe(e,t,n){n===void 0&&(n=!1);const r=sx(e),i=PM(e),a=AM(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=_S(o)),[o,_S(o)]}function PEe(e){const t=_S(e);return[HP(e),t,HP(t)]}function HP(e){return e.replace(/start|end/g,t=>EEe[t])}const L8=["left","right"],$8=["right","left"],IEe=["top","bottom"],OEe=["bottom","top"];function REe(e,t,n){switch(e){case"top":case"bottom":return n?t?$8:L8:t?L8:$8;case"left":case"right":return t?IEe:OEe;default:return[]}}function MEe(e,t,n,r){const i=sx(e);let a=REe(Ic(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(HP)))),a}function _S(e){return e.replace(/left|right|bottom|top/g,t=>CEe[t])}function DEe(e){return{top:0,right:0,bottom:0,left:0,...e}}function NZ(e){return typeof e!="number"?DEe(e):{top:e,right:e,bottom:e,left:e}}function CS(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function F8(e,t,n){let{reference:r,floating:i}=e;const a=cl(t),o=PM(t),l=AM(o),c=Ic(t),d=a==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let f;switch(c){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(sx(t)){case"start":f[o]-=m*(n&&d?-1:1);break;case"end":f[o]+=m*(n&&d?-1:1);break}return f}const LEe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=F8(d,r,c),m=r,f={},p=0;for(let g=0;g<l.length;g++){const{name:y,fn:v}=l[g],{x:b,y:w,data:S,reset:j}=await v({x:u,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});u=b??u,h=w??h,f={...f,[y]:{...f[y],...S}},j&&p<=50&&(p++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):j.rects),{x:u,y:h}=F8(d,m,c)),g=-1)}return{x:u,y:h,placement:m,strategy:i,middlewareData:f}};async function Jv(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=Pc(t,e),p=NZ(f),y=l[m?h==="floating"?"reference":"floating":h],v=CS(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},j=CS(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(v.top-j.top+p.top)/S.y,bottom:(j.bottom-v.bottom+p.bottom)/S.y,left:(v.left-j.left+p.left)/S.x,right:(j.right-v.right+p.right)/S.x}}const $Ee=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Pc(e,t)||{};if(d==null)return{};const h=NZ(u),m={x:n,y:r},f=PM(i),p=AM(f),g=await o.getDimensions(d),y=f==="y",v=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",S=a.reference[p]+a.reference[f]-m[f]-a.floating[p],j=m[f]-a.reference[f],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=N?N[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=l.floating[w]||a.floating[p]);const _=S/2-j/2,C=k/2-g[p]/2-1,T=vu(h[v],C),A=vu(h[b],C),P=T,R=k-g[p]-A,D=k/2-g[p]/2+_,$=WP(P,D,R),M=!c.arrow&&sx(i)!=null&&D!==$&&a.reference[p]/2-(D<P?T:A)-g[p]/2<0,F=M?D<P?D-P:D-R:0;return{[f]:m[f]+F,data:{[f]:$,centerOffset:D-$-F,...M&&{alignmentOffset:F}},reset:M}}}),FEe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...y}=Pc(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=Ic(i),b=cl(l),w=Ic(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=m||(w||!g?[_S(l)]:PEe(l)),N=p!=="none";!m&&N&&j.push(...MEe(l,g,p,S));const k=[l,...j],_=await Jv(t,y),C=[];let T=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&C.push(_[v]),h){const D=AEe(i,o,S);C.push(_[D[0]],_[D[1]])}if(T=[...T,{placement:i,overflows:C}],!C.every(D=>D<=0)){var A,P;const D=(((A=a.flip)==null?void 0:A.index)||0)+1,$=k[D];if($&&(!(h==="alignment"?b!==cl($):!1)||T.every(O=>O.overflows[0]>0&&cl(O.placement)===b)))return{data:{index:D,overflows:T},reset:{placement:$}};let M=(P=T.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:P.placement;if(!M)switch(f){case"bestFit":{var R;const F=(R=T.filter(O=>{if(N){const L=cl(O.placement);return L===b||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,I)=>L+I,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:R[0];F&&(M=F);break}case"initialPlacement":M=l;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function B8(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function U8(e){return _Ee.some(t=>e[t]>=0)}const BEe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Pc(e,t);switch(r){case"referenceHidden":{const a=await Jv(t,{...i,elementContext:"reference"}),o=B8(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:U8(o)}}}case"escaped":{const a=await Jv(t,{...i,altBoundary:!0}),o=B8(a,n.floating);return{data:{escapedOffsets:o,escaped:U8(o)}}}default:return{}}}}},kZ=new Set(["left","top"]);async function UEe(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ic(n),l=sx(n),c=cl(n)==="y",d=kZ.has(o)?-1:1,u=a&&c?-1:1,h=Pc(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof p=="number"&&(f=l==="end"?p*-1:p),c?{x:f*u,y:m*d}:{x:m*d,y:f*u}}const zEe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await UEe(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},VEe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...c}=Pc(e,t),d={x:n,y:r},u=await Jv(t,c),h=cl(Ic(i)),m=TM(h);let f=d[m],p=d[h];if(a){const y=m==="y"?"top":"left",v=m==="y"?"bottom":"right",b=f+u[y],w=f-u[v];f=WP(b,f,w)}if(o){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=p+u[y],w=p-u[v];p=WP(b,p,w)}const g=l.fn({...t,[m]:f,[h]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:a,[h]:o}}}}}},qEe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Pc(e,t),u={x:n,y:r},h=cl(i),m=TM(h);let f=u[m],p=u[h];const g=Pc(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=m==="y"?"height":"width",S=a.reference[m]-a.floating[w]+y.mainAxis,j=a.reference[m]+a.reference[w]-y.mainAxis;f<S?f=S:f>j&&(f=j)}if(d){var v,b;const w=m==="y"?"width":"height",S=kZ.has(Ic(i)),j=a.reference[h]-a.floating[w]+(S&&((v=o.offset)==null?void 0:v[h])||0)+(S?0:y.crossAxis),N=a.reference[h]+a.reference[w]+(S?0:((b=o.offset)==null?void 0:b[h])||0)-(S?y.crossAxis:0);p<j?p=j:p>N&&(p=N)}return{[m]:f,[h]:p}}}},WEe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Pc(e,t),u=await Jv(t,d),h=Ic(i),m=sx(i),f=cl(i)==="y",{width:p,height:g}=a.floating;let y,v;h==="top"||h==="bottom"?(y=h,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,y=m==="end"?"top":"bottom");const b=g-u.top-u.bottom,w=p-u.left-u.right,S=vu(g-u[y],b),j=vu(p-u[v],w),N=!t.middlewareData.shift;let k=S,_=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=b),N&&!m){const T=Ji(u.left,0),A=Ji(u.right,0),P=Ji(u.top,0),R=Ji(u.bottom,0);f?_=p-2*(T!==0||A!==0?T+A:Ji(u.left,u.right)):k=g-2*(P!==0||R!==0?P+R:Ji(u.top,u.bottom))}await c({...t,availableWidth:_,availableHeight:k});const C=await o.getDimensions(l.floating);return p!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function p_(){return typeof window<"u"}function ix(e){return _Z(e)?(e.nodeName||"").toLowerCase():"#document"}function oa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ll(e){var t;return(t=(_Z(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _Z(e){return p_()?e instanceof Node||e instanceof oa(e).Node:!1}function Bo(e){return p_()?e instanceof Element||e instanceof oa(e).Element:!1}function Nl(e){return p_()?e instanceof HTMLElement||e instanceof oa(e).HTMLElement:!1}function z8(e){return!p_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oa(e).ShadowRoot}const HEe=new Set(["inline","contents"]);function qb(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Uo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!HEe.has(i)}const KEe=new Set(["table","td","th"]);function GEe(e){return KEe.has(ix(e))}const YEe=[":popover-open",":modal"];function g_(e){return YEe.some(t=>{try{return e.matches(t)}catch{return!1}})}const XEe=["transform","translate","scale","rotate","perspective"],JEe=["transform","translate","scale","rotate","perspective","filter"],QEe=["paint","layout","strict","content"];function IM(e){const t=OM(),n=Bo(e)?Uo(e):e;return XEe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||JEe.some(r=>(n.willChange||"").includes(r))||QEe.some(r=>(n.contain||"").includes(r))}function ZEe(e){let t=bu(e);for(;Nl(t)&&!rg(t);){if(IM(t))return t;if(g_(t))return null;t=bu(t)}return null}function OM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eTe=new Set(["html","body","#document"]);function rg(e){return eTe.has(ix(e))}function Uo(e){return oa(e).getComputedStyle(e)}function x_(e){return Bo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bu(e){if(ix(e)==="html")return e;const t=e.assignedSlot||e.parentNode||z8(e)&&e.host||Ll(e);return z8(t)?t.host:t}function CZ(e){const t=bu(e);return rg(t)?e.ownerDocument?e.ownerDocument.body:e.body:Nl(t)&&qb(t)?t:CZ(t)}function Qv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=CZ(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=oa(i);if(a){const l=KP(o);return t.concat(o,o.visualViewport||[],qb(i)?i:[],l&&n?Qv(l):[])}return t.concat(i,Qv(i,[],n))}function KP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function EZ(e){const t=Uo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Nl(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=kS(n)!==a||kS(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function RM(e){return Bo(e)?e:e.contextElement}function rp(e){const t=RM(e);if(!Nl(t))return ml(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=EZ(t);let o=(a?kS(n.width):n.width)/r,l=(a?kS(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const tTe=ml(0);function TZ(e){const t=oa(e);return!OM()||!t.visualViewport?tTe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nTe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==oa(e)?!1:t}function cm(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=RM(e);let o=ml(1);t&&(r?Bo(r)&&(o=rp(r)):o=rp(e));const l=nTe(a,n,r)?TZ(a):ml(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const m=oa(a),f=r&&Bo(r)?oa(r):r;let p=m,g=KP(p);for(;g&&r&&f!==p;){const y=rp(g),v=g.getBoundingClientRect(),b=Uo(g),w=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,S=v.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,h*=y.y,c+=w,d+=S,p=oa(g),g=KP(p)}}return CS({width:u,height:h,x:c,y:d})}function MM(e,t){const n=x_(e).scrollLeft;return t?t.left+n:cm(Ll(e)).left+n}function AZ(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:MM(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function rTe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Ll(r),l=t?g_(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=ml(1);const u=ml(0),h=Nl(r);if((h||!h&&!a)&&((ix(r)!=="body"||qb(o))&&(c=x_(r)),Nl(r))){const f=cm(r);d=rp(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const m=o&&!h&&!a?AZ(o,c,!0):ml(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:n.y*d.y-c.scrollTop*d.y+u.y+m.y}}function sTe(e){return Array.from(e.getClientRects())}function iTe(e){const t=Ll(e),n=x_(e),r=e.ownerDocument.body,i=Ji(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ji(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+MM(e);const l=-n.scrollTop;return Uo(r).direction==="rtl"&&(o+=Ji(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}function aTe(e,t){const n=oa(e),r=Ll(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=OM();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}const oTe=new Set(["absolute","fixed"]);function lTe(e,t){const n=cm(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Nl(e)?rp(e):ml(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function V8(e,t,n){let r;if(t==="viewport")r=aTe(e,n);else if(t==="document")r=iTe(Ll(e));else if(Bo(t))r=lTe(t,n);else{const i=TZ(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return CS(r)}function PZ(e,t){const n=bu(e);return n===t||!Bo(n)||rg(n)?!1:Uo(n).position==="fixed"||PZ(n,t)}function cTe(e,t){const n=t.get(e);if(n)return n;let r=Qv(e,[],!1).filter(l=>Bo(l)&&ix(l)!=="body"),i=null;const a=Uo(e).position==="fixed";let o=a?bu(e):e;for(;Bo(o)&&!rg(o);){const l=Uo(o),c=IM(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&oTe.has(i.position)||qb(o)&&!c&&PZ(e,o))?r=r.filter(u=>u!==o):i=l,o=bu(o)}return t.set(e,r),r}function dTe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?g_(t)?[]:cTe(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const h=V8(t,u,i);return d.top=Ji(h.top,d.top),d.right=vu(h.right,d.right),d.bottom=vu(h.bottom,d.bottom),d.left=Ji(h.left,d.left),d},V8(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function uTe(e){const{width:t,height:n}=EZ(e);return{width:t,height:n}}function hTe(e,t,n){const r=Nl(t),i=Ll(t),a=n==="fixed",o=cm(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ml(0);function d(){c.x=MM(i)}if(r||!r&&!a)if((ix(t)!=="body"||qb(i))&&(l=x_(t)),r){const f=cm(t,!0,a,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else i&&d();a&&!r&&i&&d();const u=i&&!r&&!a?AZ(i,l):ml(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function lT(e){return Uo(e).position==="static"}function q8(e,t){if(!Nl(e)||Uo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ll(e)===n&&(n=n.ownerDocument.body),n}function IZ(e,t){const n=oa(e);if(g_(e))return n;if(!Nl(e)){let i=bu(e);for(;i&&!rg(i);){if(Bo(i)&&!lT(i))return i;i=bu(i)}return n}let r=q8(e,t);for(;r&&GEe(r)&&lT(r);)r=q8(r,t);return r&&rg(r)&&lT(r)&&!IM(r)?n:r||ZEe(e)||n}const mTe=async function(e){const t=this.getOffsetParent||IZ,n=this.getDimensions,r=await n(e.floating);return{reference:hTe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fTe(e){return Uo(e).direction==="rtl"}const pTe={convertOffsetParentRelativeRectToViewportRelativeRect:rTe,getDocumentElement:Ll,getClippingRect:dTe,getOffsetParent:IZ,getElementRects:mTe,getClientRects:sTe,getDimensions:uTe,getScale:rp,isElement:Bo,isRTL:fTe};function OZ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gTe(e,t){let n=null,r;const i=Ll(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:f}=d;if(l||t(),!m||!f)return;const p=Yw(h),g=Yw(i.clientWidth-(u+m)),y=Yw(i.clientHeight-(h+f)),v=Yw(u),w={rootMargin:-p+"px "+-g+"px "+-y+"px "+-v+"px",threshold:Ji(0,vu(1,c))||1};let S=!0;function j(N){const k=N[0].intersectionRatio;if(k!==c){if(!S)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!OZ(d,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(j,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,w)}n.observe(e)}return o(!0),a}function xTe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=RM(e),u=i||a?[...d?Qv(d):[],...Qv(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const h=d&&l?gTe(d,n):null;let m=-1,f=null;o&&(f=new ResizeObserver(v=>{let[b]=v;b&&b.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),n()}),d&&!c&&f.observe(d),f.observe(t));let p,g=c?cm(e):null;c&&y();function y(){const v=cm(e);g&&!OZ(g,v)&&n(),g=v,p=requestAnimationFrame(y)}return n(),()=>{var v;u.forEach(b=>{i&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,c&&cancelAnimationFrame(p)}}const yTe=zEe,vTe=VEe,bTe=FEe,wTe=WEe,jTe=BEe,W8=$Ee,STe=qEe,NTe=(e,t,n)=>{const r=new Map,i={platform:pTe,...n},a={...i.platform,_c:r};return LEe(e,t,{...i,platform:a})};var kTe=typeof document<"u",_Te=function(){},hj=kTe?x.useLayoutEffect:_Te;function ES(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ES(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!ES(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function RZ(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function H8(e,t){const n=RZ(e);return Math.round(t*n)/n}function cT(e){const t=x.useRef(e);return hj(()=>{t.current=e}),t}function CTe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=x.useState(r);ES(m,r)||f(r);const[p,g]=x.useState(null),[y,v]=x.useState(null),b=x.useCallback(O=>{O!==N.current&&(N.current=O,g(O))},[]),w=x.useCallback(O=>{O!==k.current&&(k.current=O,v(O))},[]),S=a||p,j=o||y,N=x.useRef(null),k=x.useRef(null),_=x.useRef(u),C=c!=null,T=cT(c),A=cT(i),P=cT(d),R=x.useCallback(()=>{if(!N.current||!k.current)return;const O={placement:t,strategy:n,middleware:m};A.current&&(O.platform=A.current),NTe(N.current,k.current,O).then(L=>{const I={...L,isPositioned:P.current!==!1};D.current&&!ES(_.current,I)&&(_.current=I,Cm.flushSync(()=>{h(I)}))})},[m,t,n,A,P]);hj(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[d]);const D=x.useRef(!1);hj(()=>(D.current=!0,()=>{D.current=!1}),[]),hj(()=>{if(S&&(N.current=S),j&&(k.current=j),S&&j){if(T.current)return T.current(S,j,R);R()}},[S,j,R,T,C]);const $=x.useMemo(()=>({reference:N,floating:k,setReference:b,setFloating:w}),[b,w]),M=x.useMemo(()=>({reference:S,floating:j}),[S,j]),F=x.useMemo(()=>{const O={position:n,left:0,top:0};if(!M.floating)return O;const L=H8(M.floating,u.x),I=H8(M.floating,u.y);return l?{...O,transform:"translate("+L+"px, "+I+"px)",...RZ(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:I}},[n,l,M.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:R,refs:$,elements:M,floatingStyles:F}),[u,R,$,M,F])}const ETe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?W8({element:r.current,padding:i}).fn(n):{}:r?W8({element:r,padding:i}).fn(n):{}}}},TTe=(e,t)=>({...yTe(e),options:[e,t]}),ATe=(e,t)=>({...vTe(e),options:[e,t]}),PTe=(e,t)=>({...STe(e),options:[e,t]}),ITe=(e,t)=>({...bTe(e),options:[e,t]}),OTe=(e,t)=>({...wTe(e),options:[e,t]}),RTe=(e,t)=>({...jTe(e),options:[e,t]}),MTe=(e,t)=>({...ETe(e),options:[e,t]});var DTe="Arrow",MZ=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return s.jsx(De.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});MZ.displayName=DTe;var LTe=MZ;function y_(e){const[t,n]=x.useState(void 0);return Nr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var DM="Popper",[DZ,ax]=Ar(DM),[$Te,LZ]=DZ(DM),$Z=e=>{const{__scopePopper:t,children:n}=e,[r,i]=x.useState(null);return s.jsx($Te,{scope:t,anchor:r,onAnchorChange:i,children:n})};$Z.displayName=DM;var FZ="PopperAnchor",BZ=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=LZ(FZ,n),o=x.useRef(null),l=ft(t,o);return x.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(De.div,{...i,ref:l})});BZ.displayName=FZ;var LM="PopperContent",[FTe,BTe]=DZ(LM),UZ=x.forwardRef((e,t)=>{var oe,Ne,K,he,re,Q;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:p,...g}=e,y=LZ(LM,n),[v,b]=x.useState(null),w=ft(t,ge=>b(ge)),[S,j]=x.useState(null),N=y_(S),k=(N==null?void 0:N.width)??0,_=(N==null?void 0:N.height)??0,C=r+(a!=="center"?"-"+a:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(d)?d:[d],P=A.length>0,R={padding:T,boundary:A.filter(zTe),altBoundary:P},{refs:D,floatingStyles:$,placement:M,isPositioned:F,middlewareData:O}=CTe({strategy:"fixed",placement:C,whileElementsMounted:(...ge)=>xTe(...ge,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[TTe({mainAxis:i+_,alignmentAxis:o}),c&&ATe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?PTe():void 0,...R}),c&&ITe({...R}),OTe({...R,apply:({elements:ge,rects:Oe,availableWidth:ut,availableHeight:nt})=>{const{width:ne,height:Xe}=Oe.reference,wt=ge.floating.style;wt.setProperty("--radix-popper-available-width",`${ut}px`),wt.setProperty("--radix-popper-available-height",`${nt}px`),wt.setProperty("--radix-popper-anchor-width",`${ne}px`),wt.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),S&&MTe({element:S,padding:l}),VTe({arrowWidth:k,arrowHeight:_}),m&&RTe({strategy:"referenceHidden",...R})]}),[L,I]=qZ(M),z=ar(p);Nr(()=>{F&&(z==null||z())},[F,z]);const H=(oe=O.arrow)==null?void 0:oe.x,U=(Ne=O.arrow)==null?void 0:Ne.y,X=((K=O.arrow)==null?void 0:K.centerOffset)!==0,[le,de]=x.useState();return Nr(()=>{v&&de(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:F?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(he=O.transformOrigin)==null?void 0:he.x,(re=O.transformOrigin)==null?void 0:re.y].join(" "),...((Q=O.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(FTe,{scope:n,placedSide:L,onArrowChange:j,arrowX:H,arrowY:U,shouldHideArrow:X,children:s.jsx(De.div,{"data-side":L,"data-align":I,...g,ref:w,style:{...g.style,animation:F?void 0:"none"}})})})});UZ.displayName=LM;var zZ="PopperArrow",UTe={top:"bottom",right:"left",bottom:"top",left:"right"},VZ=x.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=BTe(zZ,r),o=UTe[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(LTe,{...i,ref:n,style:{...i.style,display:"block"}})})});VZ.displayName=zZ;function zTe(e){return e!==null}var VTe=e=>({name:"transformOrigin",options:e,fn(t){var y,v,b;const{placement:n,rects:r,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=qZ(n),h={start:"0%",center:"50%",end:"100%"}[u],m=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,f=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let p="",g="";return d==="bottom"?(p=o?h:`${m}px`,g=`${-c}px`):d==="top"?(p=o?h:`${m}px`,g=`${r.floating.height+c}px`):d==="right"?(p=`${-c}px`,g=o?h:`${f}px`):d==="left"&&(p=`${r.floating.width+c}px`,g=o?h:`${f}px`),{data:{x:p,y:g}}}});function qZ(e){const[t,n="center"]=e.split("-");return[t,n]}var WZ=$Z,$M=BZ,FM=UZ,BM=VZ,[v_,Vkt]=Ar("Tooltip",[ax]),UM=ax(),HZ="TooltipProvider",qTe=700,K8="tooltip.open",[WTe,KZ]=v_(HZ),GZ=e=>{const{__scopeTooltip:t,delayDuration:n=qTe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(WTe,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};GZ.displayName=HZ;var YZ="Tooltip",[qkt,b_]=v_(YZ),GP="TooltipTrigger",HTe=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=b_(GP,n),a=KZ(GP,n),o=UM(n),l=x.useRef(null),c=ft(t,l,i.onTriggerChange),d=x.useRef(!1),u=x.useRef(!1),h=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx($M,{asChild:!0,...o,children:s.jsx(De.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:ve(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:ve(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:ve(e.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ve(e.onFocus,()=>{d.current||i.onOpen()}),onBlur:ve(e.onBlur,i.onClose),onClick:ve(e.onClick,i.onClose)})})});HTe.displayName=GP;var KTe="TooltipPortal",[Wkt,GTe]=v_(KTe,{forceMount:void 0}),sg="TooltipContent",XZ=x.forwardRef((e,t)=>{const n=GTe(sg,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=b_(sg,e.__scopeTooltip);return s.jsx(ms,{present:r||o.open,children:o.disableHoverableContent?s.jsx(JZ,{side:i,...a,ref:t}):s.jsx(YTe,{side:i,...a,ref:t})})}),YTe=x.forwardRef((e,t)=>{const n=b_(sg,e.__scopeTooltip),r=KZ(sg,e.__scopeTooltip),i=x.useRef(null),a=ft(t,i),[o,l]=x.useState(null),{trigger:c,onClose:d}=n,u=i.current,{onPointerInTransitChange:h}=r,m=x.useCallback(()=>{l(null),h(!1)},[h]),f=x.useCallback((p,g)=>{const y=p.currentTarget,v={x:p.clientX,y:p.clientY},b=e2e(v,y.getBoundingClientRect()),w=t2e(v,b),S=n2e(g.getBoundingClientRect()),j=s2e([...w,...S]);l(j),h(!0)},[h]);return x.useEffect(()=>()=>m(),[m]),x.useEffect(()=>{if(c&&u){const p=y=>f(y,u),g=y=>f(y,c);return c.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[c,u,f,m]),x.useEffect(()=>{if(o){const p=g=>{const y=g.target,v={x:g.clientX,y:g.clientY},b=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),w=!r2e(v,o);b?m():w&&(m(),d())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,u,o,d,m]),s.jsx(JZ,{...e,ref:a})}),[XTe,JTe]=v_(YZ,{isInside:!1}),QTe=EQ("TooltipContent"),JZ=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=b_(sg,n),d=UM(n),{onClose:u}=c;return x.useEffect(()=>(document.addEventListener(K8,u),()=>document.removeEventListener(K8,u)),[u]),x.useEffect(()=>{if(c.trigger){const h=m=>{const f=m.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(ex,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(FM,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(QTe,{children:r}),s.jsx(XTe,{scope:n,isInside:!0,children:s.jsx(t_e,{id:c.contentId,role:"tooltip",children:i||r})})]})})});XZ.displayName=sg;var QZ="TooltipArrow",ZTe=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=UM(n);return JTe(QZ,n).isInside?null:s.jsx(BM,{...i,...r,ref:t})});ZTe.displayName=QZ;function e2e(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function t2e(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function n2e(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function r2e(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>r!=m>r&&n<(h-d)*(r-u)/(m-u)+d&&(i=!i)}return i}function s2e(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),i2e(t)}function i2e(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var a2e=GZ,ZZ=XZ;const o2e=a2e,l2e=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(ZZ,{ref:r,sideOffset:t,className:G("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));l2e.displayName=ZZ.displayName;var Wb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dm=typeof window>"u"||"Deno"in globalThis;function xi(){}function c2e(e,t){return typeof e=="function"?e(t):e}function YP(e){return typeof e=="number"&&e>=0&&e!==1/0}function eee(e,t){return Math.max(e+(t||0)-Date.now(),0)}function eu(e,t){return typeof e=="function"?e(t):e}function Ta(e,t){return typeof e=="function"?e(t):e}function G8(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==zM(o,t.options))return!1}else if(!e0(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function Y8(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Zv(t.options.mutationKey)!==Zv(a))return!1}else if(!e0(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function zM(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zv)(e)}function Zv(e){return JSON.stringify(e,(t,n)=>JP(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function e0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>e0(e[n],t[n])):!1}function tee(e,t){if(e===t)return e;const n=X8(e)&&X8(t);if(n||JP(e)&&JP(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{},c=new Set(r);let d=0;for(let u=0;u<o;u++){const h=n?u:a[u];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=tee(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return i===o&&d===i?e:l}return t}function XP(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function X8(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function JP(e){if(!J8(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!J8(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function J8(e){return Object.prototype.toString.call(e)==="[object Object]"}function d2e(e){return new Promise(t=>{setTimeout(t,e)})}function QP(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?tee(e,t):t}function u2e(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function h2e(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var VM=Symbol();function nee(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===VM?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function m2e(e,t){return typeof e=="function"?e(...t):!!e}var Ph,jd,Sp,TK,f2e=(TK=class extends Wb{constructor(){super();ht(this,Ph);ht(this,jd);ht(this,Sp);ze(this,Sp,t=>{if(!dm&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,jd)||this.setEventListener(J(this,Sp))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,jd))==null||t.call(this),ze(this,jd,void 0))}setEventListener(t){var n;ze(this,Sp,t),(n=J(this,jd))==null||n.call(this),ze(this,jd,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){J(this,Ph)!==t&&(ze(this,Ph,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof J(this,Ph)=="boolean"?J(this,Ph):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ph=new WeakMap,jd=new WeakMap,Sp=new WeakMap,TK),qM=new f2e,Np,Sd,kp,AK,p2e=(AK=class extends Wb{constructor(){super();ht(this,Np,!0);ht(this,Sd);ht(this,kp);ze(this,kp,t=>{if(!dm&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,Sd)||this.setEventListener(J(this,kp))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,Sd))==null||t.call(this),ze(this,Sd,void 0))}setEventListener(t){var n;ze(this,kp,t),(n=J(this,Sd))==null||n.call(this),ze(this,Sd,t(this.setOnline.bind(this)))}setOnline(t){J(this,Np)!==t&&(ze(this,Np,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return J(this,Np)}},Np=new WeakMap,Sd=new WeakMap,kp=new WeakMap,AK),TS=new p2e;function ZP(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function g2e(e){return Math.min(1e3*2**e,3e4)}function ree(e){return(e??"online")==="online"?TS.isOnline():!0}var see=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dT(e){return e instanceof see}function iee(e){let t=!1,n=0,r=!1,i;const a=ZP(),o=g=>{var y;r||(m(new see(g)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>qM.isFocused()&&(e.networkMode==="always"||TS.isOnline())&&e.canRun(),u=()=>ree(e.networkMode)&&e.canRun(),h=g=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,g),i==null||i(),a.resolve(g))},m=g=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,g),i==null||i(),a.reject(g))},f=()=>new Promise(g=>{var y;i=v=>{(r||d())&&g(v)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;i=void 0,r||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(r)return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(h).catch(v=>{var N;if(r)return;const b=e.retry??(dm?0:3),w=e.retryDelay??g2e,S=typeof w=="function"?w(n,v):w,j=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(t||!j){m(v);return}n++,(N=e.onFail)==null||N.call(e,n,v),d2e(S).then(()=>d()?void 0:f()).then(()=>{t?m(v):p()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),a)}}var x2e=e=>setTimeout(e,0);function y2e(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=x2e;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var ws=y2e(),Ih,PK,aee=(PK=class{constructor(){ht(this,Ih)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YP(this.gcTime)&&ze(this,Ih,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(dm?1/0:5*60*1e3))}clearGcTimeout(){J(this,Ih)&&(clearTimeout(J(this,Ih)),ze(this,Ih,void 0))}},Ih=new WeakMap,PK),_p,Oh,Ea,Rh,Ps,hb,Mh,xo,Yl,IK,v2e=(IK=class extends aee{constructor(t){super();ht(this,xo);ht(this,_p);ht(this,Oh);ht(this,Ea);ht(this,Rh);ht(this,Ps);ht(this,hb);ht(this,Mh);ze(this,Mh,!1),ze(this,hb,t.defaultOptions),this.setOptions(t.options),this.observers=[],ze(this,Rh,t.client),ze(this,Ea,J(this,Rh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ze(this,_p,b2e(this.options)),this.state=t.state??J(this,_p),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=J(this,Ps))==null?void 0:t.promise}setOptions(t){this.options={...J(this,hb),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,Ea).remove(this)}setData(t,n){const r=QP(this.state.data,t,this.options);return Kt(this,xo,Yl).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Kt(this,xo,Yl).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=J(this,Ps))==null?void 0:r.promise;return(i=J(this,Ps))==null||i.cancel(t),n?n.then(xi).catch(xi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,_p))}isActive(){return this.observers.some(t=>Ta(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===VM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>eu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!eee(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,Ps))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,Ps))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),J(this,Ea).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(J(this,Ps)&&(J(this,Mh)?J(this,Ps).cancel({revert:!0}):J(this,Ps).cancelRetry()),this.scheduleGc()),J(this,Ea).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kt(this,xo,Yl).call(this,{type:"invalidate"})}fetch(t,n){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,Ps))return J(this,Ps).continueRetry(),J(this,Ps).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(f=>f.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ze(this,Mh,!0),r.signal)})},a=()=>{const m=nee(this.options,n),p=(()=>{const g={client:J(this,Rh),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return ze(this,Mh,!1),this.options.persister?this.options.persister(m,p,this):m(p)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:J(this,Rh),state:this.state,fetchFn:a};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),ze(this,Oh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Kt(this,xo,Yl).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var f,p,g,y;dT(m)&&m.silent||Kt(this,xo,Yl).call(this,{type:"error",error:m}),dT(m)||((p=(f=J(this,Ea).config).onError)==null||p.call(f,m,this),(y=(g=J(this,Ea).config).onSettled)==null||y.call(g,this.state.data,m,this)),this.scheduleGc()};return ze(this,Ps,iee({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var f,p,g,y;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){c(v);return}(p=(f=J(this,Ea).config).onSuccess)==null||p.call(f,m,this),(y=(g=J(this,Ea).config).onSettled)==null||y.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,f)=>{Kt(this,xo,Yl).call(this,{type:"failed",failureCount:m,error:f})},onPause:()=>{Kt(this,xo,Yl).call(this,{type:"pause"})},onContinue:()=>{Kt(this,xo,Yl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),J(this,Ps).start()}},_p=new WeakMap,Oh=new WeakMap,Ea=new WeakMap,Rh=new WeakMap,Ps=new WeakMap,hb=new WeakMap,Mh=new WeakMap,xo=new WeakSet,Yl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...oee(r.data,this.options),fetchMeta:t.meta??null};case"success":return ze(this,Oh,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return dT(i)&&i.revert&&J(this,Oh)?{...J(this,Oh),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ws.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),J(this,Ea).notify({query:this,type:"updated",action:t})})},IK);function oee(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ree(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function b2e(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var el,OK,w2e=(OK=class extends Wb{constructor(t={}){super();ht(this,el);this.config=t,ze(this,el,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??zM(i,n);let o=this.get(a);return o||(o=new v2e({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){J(this,el).has(t.queryHash)||(J(this,el).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=J(this,el).get(t.queryHash);n&&(t.destroy(),n===t&&J(this,el).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ws.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return J(this,el).get(t)}getAll(){return[...J(this,el).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>G8(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>G8(t,r)):n}notify(t){ws.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ws.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ws.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},el=new WeakMap,OK),tl,qs,Dh,nl,ad,RK,j2e=(RK=class extends aee{constructor(t){super();ht(this,nl);ht(this,tl);ht(this,qs);ht(this,Dh);this.mutationId=t.mutationId,ze(this,qs,t.mutationCache),ze(this,tl,[]),this.state=t.state||S2e(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){J(this,tl).includes(t)||(J(this,tl).push(t),this.clearGcTimeout(),J(this,qs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ze(this,tl,J(this,tl).filter(n=>n!==t)),this.scheduleGc(),J(this,qs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){J(this,tl).length||(this.state.status==="pending"?this.scheduleGc():J(this,qs).remove(this))}continue(){var t;return((t=J(this,Dh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,d,u,h,m,f,p,g,y,v,b,w,S,j,N,k,_;const n=()=>{Kt(this,nl,ad).call(this,{type:"continue"})};ze(this,Dh,iee({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,T)=>{Kt(this,nl,ad).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{Kt(this,nl,ad).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,qs).canRun(this)}));const r=this.state.status==="pending",i=!J(this,Dh).canStart();try{if(r)n();else{Kt(this,nl,ad).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=J(this,qs).config).onMutate)==null?void 0:o.call(a,t,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));T!==this.state.context&&Kt(this,nl,ad).call(this,{type:"pending",context:T,variables:t,isPaused:i})}const C=await J(this,Dh).start();return await((u=(d=J(this,qs).config).onSuccess)==null?void 0:u.call(d,C,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,C,t,this.state.context)),await((p=(f=J(this,qs).config).onSettled)==null?void 0:p.call(f,C,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,C,null,t,this.state.context)),Kt(this,nl,ad).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(v=J(this,qs).config).onError)==null?void 0:b.call(v,C,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,C,t,this.state.context)),await((N=(j=J(this,qs).config).onSettled)==null?void 0:N.call(j,void 0,C,this.state.variables,this.state.context,this)),await((_=(k=this.options).onSettled)==null?void 0:_.call(k,void 0,C,t,this.state.context)),C}finally{Kt(this,nl,ad).call(this,{type:"error",error:C})}}finally{J(this,qs).runNext(this)}}},tl=new WeakMap,qs=new WeakMap,Dh=new WeakMap,nl=new WeakSet,ad=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ws.batch(()=>{J(this,tl).forEach(r=>{r.onMutationUpdate(t)}),J(this,qs).notify({mutation:this,type:"updated",action:t})})},RK);function S2e(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nc,yo,mb,MK,N2e=(MK=class extends Wb{constructor(t={}){super();ht(this,nc);ht(this,yo);ht(this,mb);this.config=t,ze(this,nc,new Set),ze(this,yo,new Map),ze(this,mb,0)}build(t,n,r){const i=new j2e({mutationCache:this,mutationId:++yw(this,mb)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){J(this,nc).add(t);const n=Xw(t);if(typeof n=="string"){const r=J(this,yo).get(n);r?r.push(t):J(this,yo).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(J(this,nc).delete(t)){const n=Xw(t);if(typeof n=="string"){const r=J(this,yo).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&J(this,yo).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Xw(t);if(typeof n=="string"){const r=J(this,yo).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Xw(t);if(typeof n=="string"){const i=(r=J(this,yo).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ws.batch(()=>{J(this,nc).forEach(t=>{this.notify({type:"removed",mutation:t})}),J(this,nc).clear(),J(this,yo).clear()})}getAll(){return Array.from(J(this,nc))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Y8(n,r))}findAll(t={}){return this.getAll().filter(n=>Y8(t,n))}notify(t){ws.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ws.batch(()=>Promise.all(t.map(n=>n.continue().catch(xi))))}},nc=new WeakMap,yo=new WeakMap,mb=new WeakMap,MK);function Xw(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Q8(e){return{onFetch:(t,n)=>{var u,h,m,f,p;const r=t.options,i=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=nee(t.options,t.fetchOptions),b=async(w,S,j)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return y(A),A})(),_=await v(k),{maxPages:C}=t.options,T=j?h2e:u2e;return{pages:T(w.pages,_,C),pageParams:T(w.pageParams,S,C)}};if(i&&a.length){const w=i==="backward",S=w?k2e:Z8,j={pages:a,pageParams:o},N=S(r,j);l=await b(j,N,w)}else{const w=e??a.length;do{const S=c===0?o[0]??r.initialPageParam:Z8(r,l);if(c>0&&S==null)break;l=await b(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function Z8(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function k2e(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var pr,Nd,kd,Cp,Ep,_d,Tp,Ap,DK,_2e=(DK=class{constructor(e={}){ht(this,pr);ht(this,Nd);ht(this,kd);ht(this,Cp);ht(this,Ep);ht(this,_d);ht(this,Tp);ht(this,Ap);ze(this,pr,e.queryCache||new w2e),ze(this,Nd,e.mutationCache||new N2e),ze(this,kd,e.defaultOptions||{}),ze(this,Cp,new Map),ze(this,Ep,new Map),ze(this,_d,0)}mount(){yw(this,_d)._++,J(this,_d)===1&&(ze(this,Tp,qM.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,pr).onFocus())})),ze(this,Ap,TS.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,pr).onOnline())})))}unmount(){var e,t;yw(this,_d)._--,J(this,_d)===0&&((e=J(this,Tp))==null||e.call(this),ze(this,Tp,void 0),(t=J(this,Ap))==null||t.call(this),ze(this,Ap,void 0))}isFetching(e){return J(this,pr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return J(this,Nd).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,pr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=J(this,pr).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(eu(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return J(this,pr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=J(this,pr).get(r.queryHash),a=i==null?void 0:i.state.data,o=c2e(t,a);if(o!==void 0)return J(this,pr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ws.batch(()=>J(this,pr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,pr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=J(this,pr);ws.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=J(this,pr);return ws.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ws.batch(()=>J(this,pr).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(xi).catch(xi)}invalidateQueries(e,t={}){return ws.batch(()=>(J(this,pr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ws.batch(()=>J(this,pr).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(xi)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(xi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=J(this,pr).build(this,t);return n.isStaleByTime(eu(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xi).catch(xi)}fetchInfiniteQuery(e){return e.behavior=Q8(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xi).catch(xi)}ensureInfiniteQueryData(e){return e.behavior=Q8(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return TS.isOnline()?J(this,Nd).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,pr)}getMutationCache(){return J(this,Nd)}getDefaultOptions(){return J(this,kd)}setDefaultOptions(e){ze(this,kd,e)}setQueryDefaults(e,t){J(this,Cp).set(Zv(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...J(this,Cp).values()],n={};return t.forEach(r=>{e0(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){J(this,Ep).set(Zv(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...J(this,Ep).values()],n={};return t.forEach(r=>{e0(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...J(this,kd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zM(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===VM&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...J(this,kd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){J(this,pr).clear(),J(this,Nd).clear()}},pr=new WeakMap,Nd=new WeakMap,kd=new WeakMap,Cp=new WeakMap,Ep=new WeakMap,_d=new WeakMap,Tp=new WeakMap,Ap=new WeakMap,DK),pi,Gt,fb,Ws,Lh,Pp,Cd,Ed,pb,Ip,Op,$h,Fh,Td,Rp,gn,_y,eI,tI,nI,rI,sI,iI,aI,lee,LK,C2e=(LK=class extends Wb{constructor(t,n){super();ht(this,gn);ht(this,pi);ht(this,Gt);ht(this,fb);ht(this,Ws);ht(this,Lh);ht(this,Pp);ht(this,Cd);ht(this,Ed);ht(this,pb);ht(this,Ip);ht(this,Op);ht(this,$h);ht(this,Fh);ht(this,Td);ht(this,Rp,new Set);this.options=n,ze(this,pi,t),ze(this,Ed,null),ze(this,Cd,ZP()),this.options.experimental_prefetchInRender||J(this,Cd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(J(this,Gt).addObserver(this),eB(J(this,Gt),this.options)?Kt(this,gn,_y).call(this):this.updateResult(),Kt(this,gn,rI).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oI(J(this,Gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oI(J(this,Gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Kt(this,gn,sI).call(this),Kt(this,gn,iI).call(this),J(this,Gt).removeObserver(this)}setOptions(t){const n=this.options,r=J(this,Gt);if(this.options=J(this,pi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ta(this.options.enabled,J(this,Gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Kt(this,gn,aI).call(this),J(this,Gt).setOptions(this.options),n._defaulted&&!XP(this.options,n)&&J(this,pi).getQueryCache().notify({type:"observerOptionsUpdated",query:J(this,Gt),observer:this});const i=this.hasListeners();i&&tB(J(this,Gt),r,this.options,n)&&Kt(this,gn,_y).call(this),this.updateResult(),i&&(J(this,Gt)!==r||Ta(this.options.enabled,J(this,Gt))!==Ta(n.enabled,J(this,Gt))||eu(this.options.staleTime,J(this,Gt))!==eu(n.staleTime,J(this,Gt)))&&Kt(this,gn,eI).call(this);const a=Kt(this,gn,tI).call(this);i&&(J(this,Gt)!==r||Ta(this.options.enabled,J(this,Gt))!==Ta(n.enabled,J(this,Gt))||a!==J(this,Td))&&Kt(this,gn,nI).call(this,a)}getOptimisticResult(t){const n=J(this,pi).getQueryCache().build(J(this,pi),t),r=this.createResult(n,t);return T2e(this,r)&&(ze(this,Ws,r),ze(this,Pp,this.options),ze(this,Lh,J(this,Gt).state)),r}getCurrentResult(){return J(this,Ws)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){J(this,Rp).add(t)}getCurrentQuery(){return J(this,Gt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=J(this,pi).defaultQueryOptions(t),r=J(this,pi).getQueryCache().build(J(this,pi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Kt(this,gn,_y).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),J(this,Ws)))}createResult(t,n){var C;const r=J(this,Gt),i=this.options,a=J(this,Ws),o=J(this,Lh),l=J(this,Pp),d=t!==r?t.state:J(this,fb),{state:u}=t;let h={...u},m=!1,f;if(n._optimisticResults){const T=this.hasListeners(),A=!T&&eB(t,n),P=T&&tB(t,r,n,i);(A||P)&&(h={...h,...oee(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:y}=h;f=h.data;let v=!1;if(n.placeholderData!==void 0&&f===void 0&&y==="pending"){let T;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(T=a.data,v=!0):T=typeof n.placeholderData=="function"?n.placeholderData((C=J(this,Op))==null?void 0:C.state.data,J(this,Op)):n.placeholderData,T!==void 0&&(y="success",f=QP(a==null?void 0:a.data,T,n),m=!0)}if(n.select&&f!==void 0&&!v)if(a&&f===(o==null?void 0:o.data)&&n.select===J(this,pb))f=J(this,Ip);else try{ze(this,pb,n.select),f=n.select(f),f=QP(a==null?void 0:a.data,f,n),ze(this,Ip,f),ze(this,Ed,null)}catch(T){ze(this,Ed,T)}J(this,Ed)&&(p=J(this,Ed),f=J(this,Ip),g=Date.now(),y="error");const b=h.fetchStatus==="fetching",w=y==="pending",S=y==="error",j=w&&b,N=f!==void 0,_={status:y,fetchStatus:h.fetchStatus,isPending:w,isSuccess:y==="success",isError:S,isInitialLoading:j,isLoading:j,data:f,dataUpdatedAt:h.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:S&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&N,isStale:WM(t,n),refetch:this.refetch,promise:J(this,Cd),isEnabled:Ta(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=R=>{_.status==="error"?R.reject(_.error):_.data!==void 0&&R.resolve(_.data)},A=()=>{const R=ze(this,Cd,_.promise=ZP());T(R)},P=J(this,Cd);switch(P.status){case"pending":t.queryHash===r.queryHash&&T(P);break;case"fulfilled":(_.status==="error"||_.data!==P.value)&&A();break;case"rejected":(_.status!=="error"||_.error!==P.reason)&&A();break}}return _}updateResult(){const t=J(this,Ws),n=this.createResult(J(this,Gt),this.options);if(ze(this,Lh,J(this,Gt).state),ze(this,Pp,this.options),J(this,Lh).data!==void 0&&ze(this,Op,J(this,Gt)),XP(n,t))return;ze(this,Ws,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!J(this,Rp).size)return!0;const o=new Set(a??J(this,Rp));return this.options.throwOnError&&o.add("error"),Object.keys(J(this,Ws)).some(l=>{const c=l;return J(this,Ws)[c]!==t[c]&&o.has(c)})};Kt(this,gn,lee).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Kt(this,gn,rI).call(this)}},pi=new WeakMap,Gt=new WeakMap,fb=new WeakMap,Ws=new WeakMap,Lh=new WeakMap,Pp=new WeakMap,Cd=new WeakMap,Ed=new WeakMap,pb=new WeakMap,Ip=new WeakMap,Op=new WeakMap,$h=new WeakMap,Fh=new WeakMap,Td=new WeakMap,Rp=new WeakMap,gn=new WeakSet,_y=function(t){Kt(this,gn,aI).call(this);let n=J(this,Gt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(xi)),n},eI=function(){Kt(this,gn,sI).call(this);const t=eu(this.options.staleTime,J(this,Gt));if(dm||J(this,Ws).isStale||!YP(t))return;const r=eee(J(this,Ws).dataUpdatedAt,t)+1;ze(this,$h,setTimeout(()=>{J(this,Ws).isStale||this.updateResult()},r))},tI=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(J(this,Gt)):this.options.refetchInterval)??!1},nI=function(t){Kt(this,gn,iI).call(this),ze(this,Td,t),!(dm||Ta(this.options.enabled,J(this,Gt))===!1||!YP(J(this,Td))||J(this,Td)===0)&&ze(this,Fh,setInterval(()=>{(this.options.refetchIntervalInBackground||qM.isFocused())&&Kt(this,gn,_y).call(this)},J(this,Td)))},rI=function(){Kt(this,gn,eI).call(this),Kt(this,gn,nI).call(this,Kt(this,gn,tI).call(this))},sI=function(){J(this,$h)&&(clearTimeout(J(this,$h)),ze(this,$h,void 0))},iI=function(){J(this,Fh)&&(clearInterval(J(this,Fh)),ze(this,Fh,void 0))},aI=function(){const t=J(this,pi).getQueryCache().build(J(this,pi),this.options);if(t===J(this,Gt))return;const n=J(this,Gt);ze(this,Gt,t),ze(this,fb,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},lee=function(t){ws.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(J(this,Ws))}),J(this,pi).getQueryCache().notify({query:J(this,Gt),type:"observerResultsUpdated"})})},LK);function E2e(e,t){return Ta(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function eB(e,t){return E2e(e,t)||e.state.data!==void 0&&oI(e,t,t.refetchOnMount)}function oI(e,t,n){if(Ta(t.enabled,e)!==!1&&eu(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&WM(e,t)}return!1}function tB(e,t,n,r){return(e!==t||Ta(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&WM(e,n)}function WM(e,t){return Ta(t.enabled,e)!==!1&&e.isStaleByTime(eu(t.staleTime,e))}function T2e(e,t){return!XP(e.getCurrentResult(),t)}var cee=x.createContext(void 0),dee=e=>{const t=x.useContext(cee);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},A2e=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(cee.Provider,{value:e,children:t})),uee=x.createContext(!1),P2e=()=>x.useContext(uee);uee.Provider;function I2e(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var O2e=x.createContext(I2e()),R2e=()=>x.useContext(O2e),M2e=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},D2e=e=>{x.useEffect(()=>{e.clearReset()},[e])},L2e=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||m2e(n,[e.error,r])),$2e=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},F2e=(e,t)=>e.isLoading&&e.isFetching&&!t,B2e=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,nB=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function U2e(e,t,n){var h,m,f,p,g;const r=P2e(),i=R2e(),a=dee(),o=a.defaultQueryOptions(e);(m=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",$2e(o),M2e(o,i),D2e(i);const l=!a.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(a,o)),d=c.getOptimisticResult(o),u=!r&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(y=>{const v=u?c.subscribe(ws.batchCalls(y)):xi;return c.updateResult(),v},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),B2e(o,d))throw nB(o,c,i);if(L2e({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((p=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,d),o.experimental_prefetchInRender&&!dm&&F2e(d,r)){const y=l?nB(o,c,i):(g=a.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(xi).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function z2e(e,t){return U2e(e,C2e)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t0.apply(this,arguments)}var Od;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Od||(Od={}));const rB="popstate";function V2e(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:l}=r.location;return lI("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:AS(i)}return W2e(t,n,null,e)}function Tr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hee(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q2e(){return Math.random().toString(36).substr(2,8)}function sB(e,t){return{usr:e.state,key:e.key,idx:t}}function lI(e,t,n,r){return n===void 0&&(n=null),t0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ox(t):t,{state:n,key:t&&t.key||r||q2e()})}function AS(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ox(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function W2e(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=Od.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(t0({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Od.Pop;let y=u(),v=y==null?null:y-d;d=y,c&&c({action:l,location:g.location,delta:v})}function m(y,v){l=Od.Push;let b=lI(g.location,y,v);d=u()+1;let w=sB(b,d),S=g.createHref(b);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}a&&c&&c({action:l,location:g.location,delta:1})}function f(y,v){l=Od.Replace;let b=lI(g.location,y,v);d=u();let w=sB(b,d),S=g.createHref(b);o.replaceState(w,"",S),a&&c&&c({action:l,location:g.location,delta:0})}function p(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:AS(y);return b=b.replace(/ $/,"%20"),Tr(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(rB,h),c=y,()=>{i.removeEventListener(rB,h),c=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let v=p(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:f,go(y){return o.go(y)}};return g}var iB;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iB||(iB={}));function H2e(e,t,n){return n===void 0&&(n="/"),K2e(e,t,n,!1)}function K2e(e,t,n,r){let i=typeof t=="string"?ox(t):t,a=HM(i.pathname||"/",n);if(a==null)return null;let o=mee(e);G2e(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=iAe(a);l=rAe(o[c],d,r)}return l}function mee(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Tr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=tu([r,c.relativePath]),u=n.concat(c);a.children&&a.children.length>0&&(Tr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),mee(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:tAe(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of fee(a.path))i(a,o,c)}),t}function fee(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=fee(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function G2e(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nAe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Y2e=/^:[\w-]+$/,X2e=3,J2e=2,Q2e=1,Z2e=10,eAe=-2,aB=e=>e==="*";function tAe(e,t){let n=e.split("/"),r=n.length;return n.some(aB)&&(r+=eAe),t&&(r+=J2e),n.filter(i=>!aB(i)).reduce((i,a)=>i+(Y2e.test(a)?X2e:a===""?Q2e:Z2e),r)}function nAe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function rAe(e,t,n){let{routesMeta:r}=e,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=oB({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=oB({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:tu([a,h.pathname]),pathnameBase:cAe(tu([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=tu([a,h.pathnameBase]))}return o}function oB(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sAe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let g=l[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[h];return f&&!p?d[m]=void 0:d[m]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function sAe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),hee(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function iAe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hee(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function HM(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function aAe(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ox(e):e;return{pathname:n?n.startsWith("/")?n:oAe(n,t):t,search:dAe(r),hash:uAe(i)}}function oAe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function uT(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lAe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function KM(e,t){let n=lAe(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function GM(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ox(e):(i=t0({},e),Tr(!i.pathname||!i.pathname.includes("?"),uT("?","pathname","search",i)),Tr(!i.pathname||!i.pathname.includes("#"),uT("#","pathname","hash",i)),Tr(!i.search||!i.search.includes("#"),uT("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=aAe(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const tu=e=>e.join("/").replace(/\/\/+/g,"/"),cAe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dAe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uAe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hAe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pee=["post","put","patch","delete"];new Set(pee);const mAe=["get",...pee];new Set(mAe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(this,arguments)}const YM=x.createContext(null),fAe=x.createContext(null),Du=x.createContext(null),w_=x.createContext(null),Bc=x.createContext({outlet:null,matches:[],isDataRoute:!1}),gee=x.createContext(null);function pAe(e,t){let{relative:n}=t===void 0?{}:t;lx()||Tr(!1);let{basename:r,navigator:i}=x.useContext(Du),{hash:a,pathname:o,search:l}=yee(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:tu([r,o])),i.createHref({pathname:c,search:l,hash:a})}function lx(){return x.useContext(w_)!=null}function fs(){return lx()||Tr(!1),x.useContext(w_).location}function xee(e){x.useContext(Du).static||x.useLayoutEffect(e)}function xn(){let{isDataRoute:e}=x.useContext(Bc);return e?TAe():gAe()}function gAe(){lx()||Tr(!1);let e=x.useContext(YM),{basename:t,future:n,navigator:r}=x.useContext(Du),{matches:i}=x.useContext(Bc),{pathname:a}=fs(),o=JSON.stringify(KM(i,n.v7_relativeSplatPath)),l=x.useRef(!1);return xee(()=>{l.current=!0}),x.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=GM(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:tu([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,o,a,e])}function xAe(){let{matches:e}=x.useContext(Bc),t=e[e.length-1];return t?t.params:{}}function yee(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Du),{matches:i}=x.useContext(Bc),{pathname:a}=fs(),o=JSON.stringify(KM(i,r.v7_relativeSplatPath));return x.useMemo(()=>GM(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function yAe(e,t){return vAe(e,t)}function vAe(e,t,n,r){lx()||Tr(!1);let{navigator:i}=x.useContext(Du),{matches:a}=x.useContext(Bc),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=fs(),u;if(t){var h;let y=typeof t=="string"?ox(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Tr(!1),u=y}else u=d;let m=u.pathname||"/",f=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=H2e(e,{pathname:f}),g=NAe(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:tu([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:tu([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&g?x.createElement(w_.Provider,{value:{location:n0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Od.Pop}},g):g}function bAe(){let e=EAe(),t=hAe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,null)}const wAe=x.createElement(bAe,null);class jAe extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Bc.Provider,{value:this.props.routeContext},x.createElement(gee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SAe(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(YM);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Bc.Provider,{value:t},r)}function NAe(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Tr(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=n,p=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let f,p=!1,g=null,y=null;n&&(f=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||wAe,c&&(d<0&&m===0?(p=!0,y=null):d===m&&(p=!0,y=h.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,m+1)),b=()=>{let w;return f?w=g:p?w=y:h.route.Component?w=x.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,x.createElement(SAe,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?x.createElement(jAe,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var vee=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vee||{}),PS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(PS||{});function kAe(e){let t=x.useContext(YM);return t||Tr(!1),t}function _Ae(e){let t=x.useContext(fAe);return t||Tr(!1),t}function CAe(e){let t=x.useContext(Bc);return t||Tr(!1),t}function bee(e){let t=CAe(),n=t.matches[t.matches.length-1];return n.route.id||Tr(!1),n.route.id}function EAe(){var e;let t=x.useContext(gee),n=_Ae(PS.UseRouteError),r=bee(PS.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function TAe(){let{router:e}=kAe(vee.UseNavigateStable),t=bee(PS.UseNavigateStable),n=x.useRef(!1);return xee(()=>{n.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,n0({fromRouteId:t},a)))},[e,t])}function AAe(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function PAe(e){let{to:t,replace:n,state:r,relative:i}=e;lx()||Tr(!1);let{future:a,static:o}=x.useContext(Du),{matches:l}=x.useContext(Bc),{pathname:c}=fs(),d=xn(),u=GM(t,KM(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return x.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:i}),[d,h,i,n,r]),null}function Fe(e){Tr(!1)}function IAe(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Od.Pop,navigator:a,static:o=!1,future:l}=e;lx()&&Tr(!1);let c=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:a,static:o,future:n0({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=ox(r));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:p="default"}=r,g=x.useMemo(()=>{let y=HM(u,c);return y==null?null:{location:{pathname:y,search:h,hash:m,state:f,key:p},navigationType:i}},[c,u,h,m,f,p,i]);return g==null?null:x.createElement(Du.Provider,{value:d},x.createElement(w_.Provider,{children:n,value:g}))}function OAe(e){let{children:t,location:n}=e;return yAe(cI(t),n)}new Promise(()=>{});function cI(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let a=[...t,i];if(r.type===x.Fragment){n.push.apply(n,cI(r.props.children,a));return}r.type!==Fe&&Tr(!1),!r.props.index||!r.props.children||Tr(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cI(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dI(){return dI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dI.apply(this,arguments)}function RAe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function MAe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function DAe(e,t){return e.button===0&&(!t||t==="_self")&&!MAe(e)}function uI(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function LAe(e,t){let n=uI(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const $Ae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FAe="6";try{window.__reactRouterVersion=FAe}catch{}const BAe="startTransition",lB=T4[BAe];function UAe(e){let{basename:t,children:n,future:r,window:i}=e,a=x.useRef();a.current==null&&(a.current=V2e({window:i,v5Compat:!0}));let o=a.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=x.useCallback(h=>{d&&lB?lB(()=>c(h)):c(h)},[c,d]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>AAe(r),[r]),x.createElement(IAe,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const zAe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VAe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ye=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=RAe(t,$Ae),{basename:f}=x.useContext(Du),p,g=!1;if(typeof d=="string"&&VAe.test(d)&&(p=d,zAe))try{let w=new URL(window.location.href),S=d.startsWith("//")?new URL(w.protocol+d):new URL(d),j=HM(S.pathname,f);S.origin===w.origin&&j!=null?d=j+S.search+S.hash:g=!0}catch{}let y=pAe(d,{relative:i}),v=qAe(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function b(w){r&&r(w),w.defaultPrevented||v(w)}return x.createElement("a",dI({},m,{href:p||y,onClick:g||a?r:b,ref:n,target:c}))});var cB;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cB||(cB={}));var dB;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dB||(dB={}));function qAe(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=xn(),d=fs(),u=yee(e,{relative:o});return x.useCallback(h=>{if(DAe(h,n)){h.preventDefault();let m=r!==void 0?r:AS(d)===AS(u);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,r,i,n,e,a,o,l])}function Im(e){let t=x.useRef(uI(e)),n=x.useRef(!1),r=fs(),i=x.useMemo(()=>LAe(r.search,n.current?null:t.current),[r.search]),a=xn(),o=x.useCallback((l,c)=>{const d=uI(typeof l=="function"?l(i):l);n.current=!0,a("?"+d,c)},[a,i]);return[i,o]}var sl=function(){return sl=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},sl.apply(this,arguments)};function cx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function WAe(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})}function HAe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}const KAe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class XM extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class GAe extends XM{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uB extends XM{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hB extends XM{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hI;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hI||(hI={}));class YAe{constructor(t,{headers:n={},customFetch:r,region:i=hI.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=KAe(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return WAe(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:l,method:c,body:d,signal:u,timeout:h}=r;let m={},{region:f}=r;f||(f=this.region);const p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(m["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(m["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(m["Content-Type"]="application/json",g=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?g=JSON.stringify(d):g=d;let y=u;h&&(o=new AbortController,a=setTimeout(()=>o.abort(),h),u?(y=o.signal,u.addEventListener("abort",()=>o.abort())):y=o.signal);const v=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:g,signal:y}).catch(j=>{throw new GAe(j)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new uB(v);if(!v.ok)throw new hB(v);let w=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield v.json():w==="application/octet-stream"||w==="application/pdf"?S=yield v.blob():w==="text/event-stream"?S=v:w==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof hB||l instanceof uB?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var XAe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},JAe=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,c=null,d=a.status,u=a.statusText;if(a.ok){var h,m;if(n.method!=="HEAD"){var f;const v=await a.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const g=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),y=(m=a.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");g&&y&&y.length>1&&(c=parseInt(y[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,d=406,u="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var p;const g=await a.text();try{o=JSON.parse(g),Array.isArray(o)&&a.status===404&&(l=[],o=null,d=200,u="OK")}catch{a.status===404&&g===""?(d=204,u="No Content"):o={message:g}}if(o&&n.isMaybeSingle&&(!(o==null||(p=o.details)===null||p===void 0)&&p.includes("0 rows"))&&(o=null,d=200,u="OK"),o&&n.shouldThrowOnError)throw new XAe(o)}return{error:o,data:l,count:c,status:d,statusText:u}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let l="";const c=a==null?void 0:a.cause;if(c){var d,u,h,m;const p=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",g=(u=c==null?void 0:c.code)!==null&&u!==void 0?u:"";l=`${(h=a==null?void 0:a.name)!==null&&h!==void 0?h:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"Error"}: ${p}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var f;l=(f=a==null?void 0:a.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},QAe=class extends JAe{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const mB=new RegExp("[,()]");var ff=class extends QAe{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&mB.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&mB.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},ZAe=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),r&&c.append("Prefer",`count=${r}`),new ff({method:i,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);a.searchParams.set("columns",c.join(","))}}return new ff({method:i,url:a,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);l.searchParams.set("columns",u.join(","))}}return new ff({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new ff({method:r,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new ff({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},ePe=class wee{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ZAe(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wee(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;const u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),h=r&&Object.values(n).some(u);h?(l="POST",d=n):r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{c.searchParams.append(f,p)})):(l="POST",d=n);const m=new Headers(this.headers);return h?m.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&m.set("Prefer",`count=${a}`),new ff({method:l,url:c,headers:m,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class tPe{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const nPe="2.91.1",rPe=`realtime-js/${nPe}`,sPe="1.0.0",jee="2.0.0",fB=jee,mI=1e4,iPe=1e3,aPe=100;var fd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fd||(fd={}));var Gr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Gr||(Gr={}));var jo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jo||(jo={}));var fI;(function(e){e.websocket="websocket"})(fI||(fI={}));var fh;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fh||(fh={}));class oPe{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+m);let p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,l.length),p.setUint8(g++,o.length),p.setUint8(g++,d.length),p.setUint8(g++,h.length),p.setUint8(g++,n),Array.from(c,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(l,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(d,v=>p.setUint8(g++,v.charCodeAt(0))),Array.from(h,v=>p.setUint8(g++,v.charCodeAt(0)));var y=new Uint8Array(f.byteLength+r.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(r),f.byteLength),y.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,l,c]=r;return n({join_ref:i,ref:a,topic:o,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const d=r.decode(t.slice(c,c+i));c=c+i;const u=r.decode(t.slice(c,c+a));c=c+a;const h=r.decode(t.slice(c,c+o));c=c+o;const m=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,p={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(p.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class See{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rn||(Rn={}));const pB=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=lPe(o,e,t,i),a),{}):{}},lPe=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?Nee(a,o):pI(o)},Nee=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return hPe(t,n)}switch(e){case Rn.bool:return cPe(t);case Rn.float4:case Rn.float8:case Rn.int2:case Rn.int4:case Rn.int8:case Rn.numeric:case Rn.oid:return dPe(t);case Rn.json:case Rn.jsonb:return uPe(t);case Rn.timestamp:return mPe(t);case Rn.abstime:case Rn.date:case Rn.daterange:case Rn.int4range:case Rn.int8range:case Rn.money:case Rn.reltime:case Rn.text:case Rn.time:case Rn.timestamptz:case Rn.timetz:case Rn.tsrange:case Rn.tstzrange:return pI(t);default:return pI(t)}},pI=e=>e,cPe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dPe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uPe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},hPe=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Nee(t,l))}return e},mPe=e=>typeof e=="string"?e.replace(" ","T"):e,kee=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hT{constructor(t,n,r={},i=mI){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gB;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gB||(gB={}));class ev{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ev.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=ev.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ev.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=a[d];if(h){const m=u.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),g=h.filter(y=>m.indexOf(y.presence_ref)<0);p.length>0&&(l[d]=p),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...m)}r(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,i(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xB;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xB||(xB={}));var tv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tv||(tv={}));var Ql;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ql||(Ql={}));class Mf{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Gr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hT(this,jo.join,this.params,this.timeout),this.rejoinTimer=new See(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Gr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jo.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ev(this),this.broadcastEndpointURL=kee(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Gr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[tv.PRESENCE]&&this.bindings[tv.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Ql.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Ql.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(Ql.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,v=[];for(let b=0;b<y;b++){const w=g[b],{filter:{event:S,schema:j,table:N,filter:k}}=w,_=f&&f[b];if(_&&_.event===S&&Mf.isFilterValueEqual(_.schema,j)&&Mf.isFilterValueEqual(_.table,N)&&Mf.isFilterValueEqual(_.filter,k))v.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),this.state=Gr.errored,t==null||t(Ql.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Ql.SUBSCRIBED);return}}).receive("error",f=>{this.state=Gr.errored,t==null||t(Ql.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ql.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Gr.joined&&t===tv.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Gr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jo.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new hT(this,jo.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new hT(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>aPe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=jo;if(r&&[l,c,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,g,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(g=f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(m,r)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var p,g,y,v,b,w,S,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const N=f.id,k=(p=f.filter)===null||p===void 0?void 0:p.event;return N&&((g=n.ids)===null||g===void 0?void 0:g.includes(N))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))&&(!(!((v=f.filter)===null||v===void 0)&&v.table)||f.filter.table===((b=n.data)===null||b===void 0?void 0:b.table))}else{const N=(S=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return N==="*"||N===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const p=m.data,{schema:g,table:y,commit_timestamp:v,type:b,errors:w}=p;m=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(p))}f.callback(m,r)})}_isClosed(){return this.state===Gr.closed}_isJoined(){return this.state===Gr.joined}_isJoining(){return this.state===Gr.joining}_isLeaving(){return this.state===Gr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Mf.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jo.close,{},t)}_onError(t){this._on(jo.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=pB(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=pB(t.columns,t.old_record)),n}}const mT=()=>{},Jw={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fPe=[1e3,2e3,5e3,1e4],pPe=1e4,gPe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xPe{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mI,this.transport=null,this.heartbeatIntervalMs=Jw.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mT,this.ref=0,this.reconnectTimer=null,this.vsn=fB,this.logger=mT,this.conn=null,this.sendBuffer=[],this.serializer=new oPe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${fI.websocket}`,this.httpEndpoint=kee(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tPe.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fd.connecting:return fh.Connecting;case fd.open:return fh.Open;case fd.closing:return fh.Closing;default:return fh.Closed}}isConnected(){return this.connectionState()===fh.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Mf(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(iPe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Jw.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",d)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:o}=n,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===fd.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fd.open||this.conn.readyState===fd.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(jo.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([gPe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:rPe};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(jo.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new See(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jw.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,l,c,d,u,h,m,f;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:mI,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Jw.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:mT,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:fB,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:p=>fPe[p-1]||pPe,this.vsn){case sPe:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(p,g)=>g(JSON.stringify(p)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(p,g)=>g(JSON.parse(p));break;case jee:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var r0=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yPe(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function vPe(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function bPe(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const l=yPe(e.baseUrl,r,i),c=await vPe(e.auth),d=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),u=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),m=h&&u?JSON.parse(u):u;if(!d.ok){const f=h?m:void 0,p=f==null?void 0:f.error;throw new r0((p==null?void 0:p.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:f})}return{status:d.status,headers:d.headers,data:m}}}}function Qw(e){return e.join("")}var wPe=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Qw(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qw(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qw(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qw(e.namespace)}`}),!0}catch(t){if(t instanceof r0&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof r0&&n.status===409)return;throw n}}};function Hm(e){return e.join("")}var jPe=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hm(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hm(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hm(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hm(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hm(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hm(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof r0&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof r0&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},SPe=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=bPe({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new wPe(this.client,t),this.tableOps=new jPe(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},j_=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function rr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var NPe=class extends j_{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},gI=class extends j_{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const JM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kPe=()=>Response,xI=e=>{if(Array.isArray(e))return e.map(n=>xI(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=xI(r)}),t},_Pe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},CPe=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function EPe(e,t){if(s0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(s0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TPe(e){var t=EPe(e,"string");return s0(t)=="symbol"?t:t+""}function APe(e,t,n){return(t=TPe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yB(Object(n),!0).forEach(function(r){APe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const fT=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},PPe=async(e,t,n)=>{e instanceof await kPe()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,a=(r==null?void 0:r.statusCode)||i+"";t(new NPe(fT(r),i,a))}).catch(r=>{t(new gI(fT(r),r))}):t(new gI(fT(e),e))},IPe=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(_Pe(r)?(i.headers=ct({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),ct(ct({},i),n))};async function Hb(e,t,n,r,i,a){return new Promise((o,l)=>{e(n,IPe(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>PPe(c,l,r))})}async function i0(e,t,n,r){return Hb(e,"GET",t,n,r)}async function go(e,t,n,r,i){return Hb(e,"POST",t,r,i,n)}async function yI(e,t,n,r,i){return Hb(e,"PUT",t,r,i,n)}async function OPe(e,t,n,r){return Hb(e,"HEAD",t,ct(ct({},n),{},{noResolveJson:!0}),r)}async function QM(e,t,n,r,i){return Hb(e,"DELETE",t,r,i,n)}var RPe=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}}};let _ee;_ee=Symbol.toStringTag;var MPe=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[_ee]="BlobDownloadBuilder",this.promise=null}asStream(){return new RPe(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(rr(t))return{data:null,error:t};throw t}}};const DPe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vB={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var LPe=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=JM(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let a;const o=ct(ct({},vB),r);let l=ct(ct({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(l=ct(ct({},l),r.headers));const d=i._removeEmptyFolders(t),u=i._getFinalPath(d),h=await(e=="PUT"?yI:go)(i.fetch,`${i.url}/object/${u}`,a,ct({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(rr(a))return{data:null,error:a};throw a}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const a=i._removeEmptyFolders(e),o=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const d=ct({upsert:vB.upsert},r),u=ct(ct({},i.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType),{data:{path:a,fullPath:(await yI(i.fetch,l.toString(),c,{headers:u})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(rr(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const i=ct({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await go(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+a.url),l=o.searchParams.get("token");if(!l)throw new j_("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await go(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await go(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),a=await go(r.fetch,`${r.url}/object/sign/${i}`,ct({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{const i=await go(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>ct(ct({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(e),o=()=>i0(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new MPe(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:xI(await i0(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await OPe(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rr(r)&&r instanceof gI){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${l}`)}}}async remove(e){var t=this;try{return{data:await QM(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const i=ct(ct(ct({},DPe),t),{},{prefix:e||""});return{data:await go(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{const r=ct({},e);return{data:await go(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Cee="2.91.1",Eee={"X-Client-Info":`storage-js/${Cee}`};var $Pe=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=ct(ct({},Eee),t),this.fetch=JM(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await i0(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await i0(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await go(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await yI(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await go(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await QM(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},FPe=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ct(ct({},Eee),t),this.fetch=JM(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await go(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await i0(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await QM(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!CPe(e))throw new j_("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new SPe({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(i,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const ZM={"X-Client-Info":`storage-js/${Cee}`,"Content-Type":"application/json"};var Tee=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Zi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var pT=class extends Tee{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},BPe=class extends Tee{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const e3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UPe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bB=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zPe=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";t(new pT(bB(a),r,o))}).catch(()=>{const a=r+"";t(new pT(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";t(new pT(i.statusText||`HTTP ${r} error`,r,a))}}else t(new BPe(bB(e),e))},VPe=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(UPe(r)?(i.headers=ct({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,ct(ct({},i),n)):i};async function qPe(e,t,n,r,i,a){return new Promise((o,l)=>{e(n,VPe(t,r,i,a)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>zPe(c,l,r))})}async function ea(e,t,n,r,i){return qPe(e,"POST",t,r,i,n)}var WPe=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ct(ct({},ZM),t),this.fetch=e3(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ea(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await ea(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Zi(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await ea(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await ea(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Zi(r))return{data:null,error:r};throw r}}},HPe=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ct(ct({},ZM),t),this.fetch=e3(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ea(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await ea(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ea(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await ea(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ea(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}},KPe=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ct(ct({},ZM),t),this.fetch=e3(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ea(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await ea(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await ea(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await ea(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Zi(n))return{data:null,error:n};throw n}}},GPe=class extends KPe{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new YPe(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},YPe=class extends WPe{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ct(ct({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ct(ct({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new XPe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},XPe=class extends HPe{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ct(ct({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ct(ct({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ct(ct({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ct(ct({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ct(ct({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},JPe=class extends $Pe{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new LPe(this.url,this.headers,e,this.fetch)}get vectors(){return new GPe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new FPe(this.url+"/iceberg",this.headers,this.fetch)}};const Aee="2.91.1",pf=30*1e3,vI=3,gT=vI*pf,QPe="http://localhost:9999",ZPe="supabase.auth.token",eIe={"X-Client-Info":`gotrue-js/${Aee}`},bI="X-Supabase-Api-Version",Pee={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tIe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nIe=10*60*1e3;class a0 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rIe extends a0{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function sIe(e){return Ze(e)&&e.name==="AuthApiError"}class ph extends a0{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Uc extends a0{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ui extends Uc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iIe(e){return Ze(e)&&e.name==="AuthSessionMissingError"}class Km extends Uc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zw extends Uc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class e1 extends Uc{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aIe(e){return Ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class wB extends Uc{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oIe extends Uc{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wI extends Uc{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function xT(e){return Ze(e)&&e.name==="AuthRetryableFetchError"}class jB extends Uc{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jI extends Uc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const IS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),SB=` 	
\r=`.split(""),lIe=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<SB.length;t+=1)e[SB[t].charCodeAt(0)]=-2;for(let t=0;t<IS.length;t+=1)e[IS[t].charCodeAt(0)]=t;return e})();function NB(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(IS[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(IS[r]),t.queuedBits-=6}}function Iee(e,t,n){const r=lIe[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kB(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{uIe(o,r,n)};for(let o=0;o<e.length;o+=1)Iee(e.charCodeAt(o),i,a);return t.join("")}function cIe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dIe(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}cIe(r,t)}}function uIe(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function sp(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Iee(e.charCodeAt(i),n,r);return new Uint8Array(t)}function hIe(e){const t=[];return dIe(e,n=>t.push(n)),new Uint8Array(t)}function Nh(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>NB(i,n,r)),NB(null,n,r),t.join("")}function mIe(e){return Math.round(Date.now()/1e3)+e}function fIe(){return Symbol("auth-callback")}const xs=()=>typeof window<"u"&&typeof document<"u",Yu={tested:!1,writable:!1},Oee=()=>{if(!xs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yu.tested)return Yu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yu.tested=!0,Yu.writable=!0}catch{Yu.tested=!0,Yu.writable=!1}return Yu.writable};function pIe(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Ree=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gIe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gf=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Xu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gs=async(e,t)=>{await e.removeItem(t)};class S_{constructor(){this.promise=new S_.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}S_.promiseConstructor=Promise;function yT(e){const t=e.split(".");if(t.length!==3)throw new jI("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!tIe.test(t[r]))throw new jI("JWT not in base64url format");return{header:JSON.parse(kB(t[0])),payload:JSON.parse(kB(t[1])),signature:sp(t[2]),raw:{header:t[0],payload:t[1]}}}async function xIe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yIe(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function vIe(e){return("0"+e.toString(16)).substr(-2)}function bIe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,vIe).join("")}async function wIe(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function jIe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await wIe(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gm(e,t,n=!1){const r=bIe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await gf(e,`${t}-code-verifier`,i);const a=await jIe(r);return[a,r===a?"plain":"s256"]}const SIe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NIe(e){const t=e.headers.get(bI);if(!t||!t.match(SIe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function kIe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _Ie(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CIe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ym(e){if(!CIe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vT(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EIe(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function _B(e){return JSON.parse(JSON.stringify(e))}const ih=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TIe=[502,503,504];async function CB(e){var t;if(!gIe(e))throw new wI(ih(e),0);if(TIe.includes(e.status))throw new wI(ih(e),e.status);let n;try{n=await e.json()}catch(a){throw new ph(ih(a),a)}let r;const i=NIe(e);if(i&&i.getTime()>=Pee["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jB(ih(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ui}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new jB(ih(n),e.status,n.weak_password.reasons);throw new rIe(ih(n),e.status||500,r)}const AIe=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function lt(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[bI]||(a[bI]=Pee["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await PIe(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function PIe(e,t,n,r,i,a){const o=AIe(t,r,i,a);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new wI(ih(c),0)}if(l.ok||await CB(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await CB(c)}}function ho(e){var t;let n=null;RIe(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=mIe(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function EB(e){const t=ho(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function IIe(e){return{data:e,error:null}}function OIe(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=cx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function TB(e){return e}function RIe(e){return e.access_token&&e.refresh_token&&e.expires_in}const bT=["global","local","others"];class MIe{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ree(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=bT[0]){if(bT.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bT.join(", ")}`);try{return await lt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vd})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=cx(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:OIe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vd})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:TB});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);d[`${y}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ze(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ym(t);try{return await lt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vd})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ym(t);try{return await lt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:vd})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ym(t);try{return await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:vd})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ym(t.userId);try{const{data:n,error:r}=await lt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ym(t.userId),Ym(t.id);try{return{data:await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:TB});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);d[`${y}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ze(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await lt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await lt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}}function AB(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Xm={debug:!!(globalThis&&Oee()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mee extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class DIe extends Mee{}async function LIe(e,t,n){Xm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Xm.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Xm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Xm.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Xm.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DIe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xm.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function $Ie(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dee(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function FIe(e){return parseInt(e,16)}function BIe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function UIe(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Dee(e.address),p=u?`${u}://${r}`:r,g=e.statement?`${e.statement}
`:"",y=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`;let v=`URI: ${h}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),d){let b=`
Resources:`;for(const w of d){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}v+=b}return`${y}
${v}`}class Mr extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class OS extends Mr{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function zIe({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Mr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Mr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Mr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Mr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Mr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Mr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Mr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Lee(o)){if(a.rp.id!==o)return new Mr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Mr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Mr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function VIe({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Mr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Lee(r)){if(n.rpId!==r)return new Mr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Mr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class qIe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const WIe=new qIe;function HIe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=cx(e,["challenge","user","excludeCredentials"]),a=sp(t).buffer,o=Object.assign(Object.assign({},n),{id:sp(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:sp(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function KIe(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=cx(e,["challenge","allowCredentials"]),i=sp(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:sp(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function GIe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Nh(new Uint8Array(e.response.attestationObject)),clientDataJSON:Nh(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function YIe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Nh(new Uint8Array(i.authenticatorData)),clientDataJSON:Nh(new Uint8Array(i.clientDataJSON)),signature:Nh(new Uint8Array(i.signature)),userHandle:i.userHandle?Nh(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Lee(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function PB(){var e,t;return!!(xs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function XIe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new OS("Browser returned unexpected credential type",t)}:{data:null,error:new OS("Empty credential response",t)}}catch(t){return{data:null,error:zIe({error:t,options:e})}}}async function JIe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new OS("Browser returned unexpected credential type",t)}:{data:null,error:new OS("Empty credential response",t)}}catch(t){return{data:null,error:VIe({error:t,options:e})}}}const QIe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ZIe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function RS(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const l=r[a];t(l)?r[a]=RS(l,o):r[a]=RS(o)}else r[a]=o}return r}function eOe(e,t){return RS(QIe,e,t||{})}function tOe(e,t){return RS(ZIe,e,t||{})}class nOe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const c=i??WIe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=eOe(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:h}=await XIe({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=tOe(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:h}=await JIe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return Ze(o)?{data:null,error:o}:{data:null,error:new ph("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new a0("rpId is required for WebAuthn authentication")};try{if(!PB())return{data:null,error:new ph("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return Ze(o)?{data:null,error:o}:{data:null,error:new ph("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new a0("rpId is required for WebAuthn registration")};try{if(!PB())return{data:null,error:new ph("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Ze(o)?{data:null,error:o}:{data:null,error:new ph("Unexpected error in register",o)}}}}$Ie();const rOe={url:QPe,storageKey:ZPe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eIe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function IB(e,t,n){return await n()}const Jm={};class o0{get jwks(){var t,n;return(n=(t=Jm[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Jm[this.storageKey]=Object.assign(Object.assign({},Jm[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Jm[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Jm[this.storageKey]=Object.assign(Object.assign({},Jm[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},rOe),t);if(this.storageKey=a.storageKey,this.instanceID=(n=o0.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,o0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&xs()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new MIe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Ree(a.fetch),this.lock=a.lock||IB,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&xs()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=LIe:this.lock=IB,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nOe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Oee()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=AB(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=AB(this.memoryStorage)),xs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Aee}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(xs()&&(n=pIe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),xs()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),aIe(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ze(n)?this._returnResult({error:n}):this._returnResult({error:new ph("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ho}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(Ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:u,password:h,options:m}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Gm(this.storage,this.storageKey)),a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:p},xform:ho})}else if("phone"in t){const{phone:u,password:h,options:m}=t;a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ho})}else throw new Zw("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await gs(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(await gs(this.storage,`${this.storageKey}-code-verifier`),Ze(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:EB})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:EB})}else throw new Zw("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Km;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,l,c,d,u,h,m;let f,p;if("message"in t)f=t.message,p=t.signature;else{const{chain:g,wallet:y,statement:v,options:b}=t;let w;if(xs())if(typeof y=="object")w=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Dee(j[0]);let k=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const C=await w.request({method:"eth_chainId"});k=FIe(C)}const _={domain:S.host,address:N,statement:v,uri:S.href,version:"1",chainId:k,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=UIe(_),p=await w.request({method:"personal_sign",params:[BIe(f),N]})}try{const{data:g,error:y}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ho});if(y)throw y;if(!g||!g.session||!g.user){const v=new Km;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(Ze(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var n,r,i,a,o,l,c,d,u,h,m,f;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:b,options:w}=t;let S;if(xs())if(typeof v=="object")S=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const j=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)p=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(p),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:y,error:v}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Nh(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ho});if(v)throw v;if(!y||!y.session||!y.user){const b=new Km;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(Ze(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const n=await Xu(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new oIe;const{data:a,error:o}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ho});if(await gs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Km;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await gs(this.storage,`${this.storageKey}-code-verifier`),Ze(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,l=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ho}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new Km;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Gm(this.storage,this.storageKey));const{error:h}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new Zw("You must provide either an email or phone number.")}catch(l){if(await gs(this.storage,`${this.storageKey}-code-verifier`),Ze(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ho});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Gm(this.storage,this.storageKey));const d=await lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:IIe});return!((a=d.data)===null||a===void 0)&&a.url&&xs()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await gs(this.storage,`${this.storageKey}-code-verifier`),Ze(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ui;const{error:i}=await lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ze(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:l}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Zw("You must provide either an email or phone number and a type")}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Xu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<gT:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Xu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=vT()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=EIe(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vd}):await this._useSession(async n=>{var r,i,a;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ui}:await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:vd})})}catch(n){if(Ze(n))return iIe(n)&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Ui;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Gm(this.storage,this.storageKey));const{data:d,error:u}=await lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:vd});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await gs(this.storage,`${this.storageKey}-code-verifier`),Ze(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ui;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=yT(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Ze(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ui;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ze(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!xs())throw new e1("No browser detected.");if(t.error||t.error_description||t.error_code)throw new e1(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new wB("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new e1("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wB("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!a||!l||!o||!d)throw new e1("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const f=m-u;f*1e3<=pf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=m-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,m,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,m,u);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const v={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(r){if(Ze(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Xu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(sIe(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=fIe(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Gm(this.storage,this.storageKey,!0));try{return await lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await gs(this.storage,`${this.storageKey}-code-verifier`),Ze(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,l,c,d,u;const{data:h,error:m}=a;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await lt(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return xs()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ze(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:l,token:c,access_token:d,nonce:u}=t,h=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ho}),{data:m,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Km}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:f}))}catch(i){if(await gs(this.storage,`${this.storageKey}-code-verifier`),Ze(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await lt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await yIe(async i=>(i>0&&await xIe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ho})),(i,a)=>{const o=200*Math.pow(2,i);return a&&xT(a)&&Date.now()+o-r<pf})}catch(r){if(this._debug(n,"error",r),Ze(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),xs()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Xu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Xu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await gf(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:vT()}else if(i&&!i.user&&!i.user){const o=await Xu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await gs(this.storage,this.storageKey+"-user"),await gf(this.storage,this.storageKey,i)):i.user=vT()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<gT;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${gT}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),xT(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ui;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new S_;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Ui;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ze(a)){const o={data:null,error:a};return xT(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gs(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await gf(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=_B(i);await gf(this.storage,this.storageKey,a)}else{const i=_B(n);await gf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gs(this.storage,this.storageKey),await gs(this.storage,this.storageKey+"-code-verifier"),await gs(this.storage,this.storageKey+"-user"),this.userStorage&&await gs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),pf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/pf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${pf}ms, refresh threshold is ${vI} ticks`),i<=vI&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Mee)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Gm(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await lt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await lt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?GIe(t.webauthn.credential_response):YIe(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:HIe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:KIe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=yT(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await lt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ui})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ui});const o=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&xs()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ze(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ui});const o=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&xs()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Ze(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await lt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ui})})}catch(t){if(Ze(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await lt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ui})})}catch(n){if(Ze(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+nIe>i)return r;const{data:a,error:o}=await lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return this._returnResult({data:null,error:p});r=f.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=yT(r);n!=null&&n.allowExpired||kIe(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:a,header:i,signature:o},error:null}}const u=_Ie(i.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,hIe(`${l}.${c}`)))throw new jI("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ze(r))return this._returnResult({data:null,error:r});throw r}}}o0.nextInstanceID={};const sOe=o0,iOe="2.91.1";let Cy="";typeof Deno<"u"?Cy="deno":typeof document<"u"?Cy="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cy="react-native":Cy="node";const aOe={"X-Client-Info":`supabase-js-${Cy}/${iOe}`},oOe={headers:aOe},lOe={schema:"public"},cOe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dOe={};function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}function uOe(e,t){if(l0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(l0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hOe(e){var t=uOe(e,"string");return l0(t)=="symbol"?t:t+""}function mOe(e,t,n){return(t=hOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OB(Object(n),!0).forEach(function(r){mOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const fOe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pOe=()=>Headers,gOe=(e,t,n)=>{const r=fOe(n),i=pOe();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(a,gr(gr({},o),{},{headers:d}))}};function xOe(e){return e.endsWith("/")?e:e+"/"}function yOe(e,t){var n,r;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,m={db:gr(gr({},c),i),auth:gr(gr({},d),a),realtime:gr(gr({},u),o),storage:{},global:gr(gr(gr({},h),l),{},{headers:gr(gr({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function vOe(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xOe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var bOe=class extends sOe{constructor(e){super(e)}},wOe=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const a=vOe(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:lOe,realtime:dOe,auth:gr(gr({},cOe),{},{storageKey:o}),global:oOe},c=yOe(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=gOe(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(gr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new ePe(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new JPe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new YAe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:d},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bOe({url:this.authUrl.href,headers:gr(gr({},m),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:l,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new xPe(this.realtimeUrl.href,gr(gr({},e),{},{params:gr(gr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const jOe=(e,t,n)=>new wOe(e,t,n);function SOe(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}SOe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const NOe="https://anuslwdkfstrfffsrgvk.supabase.co",kOe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFudXNsd2RrZnN0cmZmZnNyZ3ZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxODcwNzksImV4cCI6MjA4NDc2MzA3OX0.oubQLUS0ZLRpqzRHcKLmDgb8kSaXKY0ObZKDOdP7W7I",ee=jOe(NOe,kOe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),$ee=x.createContext(void 0),_Oe=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(null),[a,o]=x.useState(!0),[l,c]=x.useState(!1),d=async g=>{try{const{data:y,error:v}=await ee.rpc("is_whitelisted");return v?(console.error("[Auth] Admin check error:",v),!1):y===!0}catch(y){return console.error("[Auth] Admin check exception:",y),!1}};x.useEffect(()=>{console.log("[Auth] Setting up auth state listener...");const{data:{subscription:g}}=ee.auth.onAuthStateChange((y,v)=>{var b;console.log("[Auth] Auth state changed:",y,(b=v==null?void 0:v.user)==null?void 0:b.email),i(v),n((v==null?void 0:v.user)??null),o(!1),v!=null&&v.user?setTimeout(()=>{d(v.user.id).then(c)},0):c(!1)});return ee.auth.getSession().then(({data:{session:y}})=>{var v;console.log("[Auth] Initial session check:",(v=y==null?void 0:y.user)==null?void 0:v.email),i(y),n((y==null?void 0:y.user)??null),o(!1),y!=null&&y.user&&d(y.user.id).then(c)}),()=>g.unsubscribe()},[]);const u=async(g,y)=>{const v=`${window.location.origin}/`,{error:b}=await ee.auth.signUp({email:g,password:y,options:{emailRedirectTo:v}});return b||q.success("  50 "),{error:b}},h=async(g,y)=>{const{error:v}=await ee.auth.signInWithPassword({email:g,password:y});return v||q.success(""),{error:v}},m=async()=>{console.log("[useAuth] Starting Supabase native Google OAuth...");const{error:g}=await ee.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});return g?(console.error("[useAuth] Google OAuth error:",g),q.error("Google "),{error:g}):(console.log("[useAuth] Google OAuth initiated successfully"),{error:null})},f=async()=>{await ee.auth.signOut(),c(!1)},p=async()=>{if(!(t!=null&&t.id))return!1;const g=await d(t.id);return c(g),g};return s.jsx($ee.Provider,{value:{user:t,session:r,loading:a,isAdmin:l,signUp:u,signIn:h,signInWithGoogle:m,signOut:f,checkAdminStatus:p},children:e})},Jt=()=>{const e=x.useContext($ee);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function COe(){const e=document.createElement("canvas"),t=e.getContext("2d");t&&(t.textBaseline="top",t.font="14px Arial",t.fillText(" SEOBAIKE",2,2));const n=e.toDataURL(),r={userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform,screenResolution:`${screen.width}x${screen.height}`,colorDepth:screen.colorDepth,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,touchSupport:"ontouchstart"in window,cookiesEnabled:navigator.cookieEnabled,canvasHash:RB(n),webglVendor:EOe(),concurrency:navigator.hardwareConcurrency||0,deviceMemory:navigator.deviceMemory||0};return RB(JSON.stringify(r))}function EOe(){try{const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(t){const n=t.getExtension("WEBGL_debug_renderer_info");if(n)return t.getParameter(n.UNMASKED_VENDOR_WEBGL)}}catch{}return"unknown"}function RB(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t=t&t}return Math.abs(t).toString(36)}function TOe(){return`${Date.now().toString(36)}-${Math.random().toString(36).substring(2,11)}`}function AOe(){const t=window.outerWidth-window.innerWidth>160,n=window.outerHeight-window.innerHeight>160;return t||n}function POe(e){return Date.now()-e.lastActivityTime,e.clicks>10&&e.mouseMovements<5||e.rapidClickCount>10}const Fee=["website_url_confirm","email_verify","phone_check","address_line_3","fax_number"];function IOe(e={}){const{enableProtection:t=!0}=e,{user:n}=Jt(),[r,i]=x.useState({isSecure:!0,threatLevel:"none",detectedThreats:[],deviceId:null,sessionId:TOe(),isDevToolsOpen:!1,isSuspiciousBehavior:!1}),a=x.useRef({mouseMovements:0,keyPresses:0,clicks:0,scrollEvents:0,lastActivityTime:Date.now(),rapidClickCount:0,copyAttempts:0}),o=x.useRef(0),l=x.useRef(0),c=x.useCallback(async(f,p)=>{try{await ee.functions.invoke("security-monitor",{body:{eventType:f,details:{...p,deviceId:r.deviceId,sessionId:r.sessionId,url:window.location.href,timestamp:new Date().toISOString()},userId:n==null?void 0:n.id}})}catch(g){console.error("Failed to log security event:",g)}},[r.deviceId,r.sessionId,n==null?void 0:n.id]),d=x.useCallback(f=>{l.current+=1,i(p=>{const g=[...p.detectedThreats,f];let y="none";return l.current>=5?y="critical":l.current>=3?y="high":l.current>=2?y="medium":l.current>=1&&(y="low"),{...p,isSecure:y==="none"||y==="low",threatLevel:y,detectedThreats:g.slice(-10)}})},[]);x.useEffect(()=>{const f=COe(),p=localStorage.getItem("seo_device_id");p&&p!==f&&(c("device_change",{oldDeviceId:p,newDeviceId:f}),d("device_fingerprint_changed")),localStorage.setItem("seo_device_id",f),i(g=>({...g,deviceId:f}))},[c,d]),x.useEffect(()=>{if(!t)return;const f=setInterval(()=>{AOe()&&!r.isDevToolsOpen&&(i(g=>({...g,isDevToolsOpen:!0})),c("devtools_detected",{detected:!0}),d("devtools_opened"))},1e3);return()=>clearInterval(f)},[t,r.isDevToolsOpen,c,d]),x.useEffect(()=>{if(!t)return;const f=()=>{a.current.mouseMovements+=1,a.current.lastActivityTime=Date.now()};return window.addEventListener("mousemove",f,{passive:!0}),()=>window.removeEventListener("mousemove",f)},[t]),x.useEffect(()=>{if(!t)return;const f=()=>{const p=Date.now(),g=p-o.current;a.current.clicks+=1,g<100?(a.current.rapidClickCount+=1,a.current.rapidClickCount>5&&(c("rapid_clicks",{clickCount:a.current.rapidClickCount,interval:g}),d("rapid_clicking"))):a.current.rapidClickCount=0,o.current=p};return window.addEventListener("click",f,{passive:!0}),()=>window.removeEventListener("click",f)},[t,c,d]),x.useEffect(()=>{if(!t)return;const f=()=>{a.current.keyPresses+=1,a.current.lastActivityTime=Date.now()};return window.addEventListener("keydown",f,{passive:!0}),()=>window.removeEventListener("keydown",f)},[t]),x.useEffect(()=>{if(!t)return;const f=()=>{a.current.scrollEvents+=1};return window.addEventListener("scroll",f,{passive:!0}),()=>window.removeEventListener("scroll",f)},[t]),x.useEffect(()=>{if(!t)return;const f=p=>{var g,y;a.current.copyAttempts+=1,a.current.copyAttempts>3&&(c("copy_attempt",{attempts:a.current.copyAttempts,selection:(y=(g=window.getSelection())==null?void 0:g.toString())==null?void 0:y.substring(0,50)}),d("excessive_copying"))};return document.addEventListener("copy",f),()=>document.removeEventListener("copy",f)},[t,c,d]),x.useEffect(()=>{if(!t)return;const f=p=>{p.key==="PrintScreen"&&(c("screenshot_attempt",{method:"printscreen"}),d("screenshot_attempt"))};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t,c,d]),x.useEffect(()=>{if(!t)return;const f=setInterval(()=>{POe(a.current)&&(i(p=>({...p,isSuspiciousBehavior:!0})),c("bot_behavior",a.current),d("bot_like_behavior"))},3e4);return()=>clearInterval(f)},[t,c,d]),x.useEffect(()=>{if(!t)return;let f=0,p=0;const g=()=>{document.hidden?p=Date.now():(f+=Date.now()-p,f>5*60*1e3&&c("session_anomaly",{type:"long_hidden_duration",hiddenTime:f}))};return document.addEventListener("visibilitychange",g),()=>document.removeEventListener("visibilitychange",g)},[t,c]);const u=x.useCallback(f=>{for(const p of Fee)if(f[p]&&f[p].toString().trim()!=="")return c("honeypot_triggered",{field:p,value:f[p]}),d("honeypot_triggered"),!1;return!0},[c,d]),h=x.useCallback(()=>({"X-Device-ID":r.deviceId||"","X-Session-ID":r.sessionId,"X-Threat-Level":r.threatLevel}),[r.deviceId,r.sessionId,r.threatLevel]),m=x.useCallback(()=>{l.current=0,i(f=>({...f,isSecure:!0,threatLevel:"none",detectedThreats:[]}))},[]);return{securityState:r,validateHoneypot:u,getSecurityHeaders:h,logSecurityEvent:c,resetThreats:m,behaviorMetrics:a.current}}const Bee=x.createContext(null);function OOe({children:e,enableProtection:t=!0,enableContextMenuProtection:n=!1}){Jt();const{securityState:r,validateHoneypot:i,getSecurityHeaders:a,logSecurityEvent:o}=IOe({enableProtection:t});x.useEffect(()=>{if(!n)return;const c=d=>{const u=d.target;u.tagName==="INPUT"||u.tagName==="TEXTAREA"||(d.preventDefault(),o("right_click_blocked",{target:u.tagName}))};return document.addEventListener("contextmenu",c),()=>document.removeEventListener("contextmenu",c)},[n,o]),x.useEffect(()=>{(r.threatLevel==="high"||r.threatLevel==="critical")&&console.warn(`[SECURITY] Threat level: ${r.threatLevel}`,r.detectedThreats)},[r.threatLevel,r.detectedThreats]);const l={isSecure:r.isSecure,threatLevel:r.threatLevel,detectedThreats:r.detectedThreats,deviceId:r.deviceId,sessionId:r.sessionId,validateHoneypot:i,getSecurityHeaders:a,logSecurityEvent:o};return s.jsx(Bee.Provider,{value:l,children:e})}function ROe(){const e=x.useContext(Bee);if(!e)throw new Error("useSecurityContext must be used within a SecurityProvider");return e}function MOe({className:e}){return s.jsx("div",{className:e,"aria-hidden":"true",style:{position:"absolute",left:"-9999px",opacity:0,height:0,overflow:"hidden",pointerEvents:"none"},children:Fee.map(t=>s.jsx("input",{type:"text",name:t,id:t,tabIndex:-1,autoComplete:"off",defaultValue:""},t))})}const t3=Fb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-lg hover:shadow-primary/25",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground font-semibold hover:bg-primary/90 shadow-[0_0_15px_hsl(var(--primary)/0.15)] hover:shadow-[0_0_20px_hsl(var(--primary)/0.3),0_0_40px_hsl(var(--primary)/0.2),0_0_60px_hsl(var(--primary)/0.1)] transform hover:scale-105",heroOutline:"border-2 border-primary text-primary bg-transparent hover:bg-primary/10 font-semibold transform hover:scale-105",glass:"bg-card/50 backdrop-blur-xl border border-border/50 text-foreground hover:bg-card/70 hover:border-primary/30",glow:"bg-primary text-primary-foreground shadow-[0_0_20px_hsl(var(--primary)/0.3),0_0_40px_hsl(var(--primary)/0.2),0_0_60px_hsl(var(--primary)/0.1)] hover:shadow-[0_0_30px_hsl(var(--primary)/0.5)]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?Ike:"button";return s.jsx(o,{className:G(t3({variant:t,size:n,className:e})),ref:a,...i})});B.displayName="Button";const qt=({children:e,requireAdmin:t=!1})=>{const{user:n,loading:r,isAdmin:i,signOut:a}=Jt(),o=fs();return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"..."})]})}):n?t&&!i?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center max-w-md p-8",children:[s.jsx(Yv,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:""}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["",s.jsx("br",{}),""]}),s.jsx(B,{onClick:()=>a(),variant:"outline",children:""})]})}):s.jsx(s.Fragment,{children:e}):s.jsx(PAe,{to:"/login",state:{from:o},replace:!0})},n3=x.createContext({});function r3(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Uee=typeof window<"u",zee=Uee?x.useLayoutEffect:x.useEffect,N_=x.createContext(null);function s3(e,t){e.indexOf(t)===-1&&e.push(t)}function i3(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const kl=(e,t,n)=>n>t?t:n<e?e:n;let k_=()=>{},ig=()=>{};const Oc={},Vee=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function qee(e){return typeof e=="object"&&e!==null}const Wee=e=>/^0[^.\s]+$/u.test(e);function a3(e){let t;return()=>(t===void 0&&(t=e()),t)}const Va=e=>e,DOe=(e,t)=>n=>t(e(n)),Kb=(...e)=>e.reduce(DOe),c0=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class o3{constructor(){this.subscriptions=[]}add(t){return s3(this.subscriptions,t),()=>i3(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fl=e=>e*1e3,La=e=>e/1e3;function Hee(e,t){return t?e*(1e3/t):0}const Kee=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,LOe=1e-7,$Oe=12;function FOe(e,t,n,r,i){let a,o,l=0;do o=t+(n-t)/2,a=Kee(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>LOe&&++l<$Oe);return o}function Gb(e,t,n,r){if(e===t&&n===r)return Va;const i=a=>FOe(a,0,1,e,n);return a=>a===0||a===1?a:Kee(i(a),t,r)}const Gee=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Yee=e=>t=>1-e(1-t),Xee=Gb(.33,1.53,.69,.99),l3=Yee(Xee),Jee=Gee(l3),Qee=e=>(e*=2)<1?.5*l3(e):.5*(2-Math.pow(2,-10*(e-1))),c3=e=>1-Math.sin(Math.acos(e)),Zee=Yee(c3),ete=Gee(c3),BOe=Gb(.42,0,1,1),UOe=Gb(0,0,.58,1),tte=Gb(.42,0,.58,1),zOe=e=>Array.isArray(e)&&typeof e[0]!="number",nte=e=>Array.isArray(e)&&typeof e[0]=="number",MB={linear:Va,easeIn:BOe,easeInOut:tte,easeOut:UOe,circIn:c3,circInOut:ete,circOut:Zee,backIn:l3,backInOut:Jee,backOut:Xee,anticipate:Qee},VOe=e=>typeof e=="string",DB=e=>{if(nte(e)){ig(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,i]=e;return Gb(t,n,r,i)}else if(VOe(e))return ig(MB[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),MB[e];return e},t1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],LB={value:null,addProjectionMetrics:null};function qOe(e,t){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),e()),c++,h(l)}const u={schedule:(h,m=!1,f=!1)=>{const g=f&&i?n:r;return m&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),t&&LB.value&&LB.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(h))}};return u}const WOe=40;function rte(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=t1.reduce((w,S)=>(w[S]=qOe(a,t?S:void 0),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:f,postRender:p}=o,g=()=>{const w=Oc.useManualTiming?i.timestamp:performance.now();n=!1,Oc.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,WOe),1)),i.timestamp=w,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},y=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:t1.reduce((w,S)=>{const j=o[S];return w[S]=(N,k=!1,_=!1)=>(n||y(),j.schedule(N,k,_)),w},{}),cancel:w=>{for(let S=0;S<t1.length;S++)o[t1[S]].cancel(w)},state:i,steps:o}}const{schedule:Gn,cancel:wu,state:bs,steps:wT}=rte(typeof requestAnimationFrame<"u"?requestAnimationFrame:Va,!0);let mj;function HOe(){mj=void 0}const Qs={now:()=>(mj===void 0&&Qs.set(bs.isProcessing||Oc.useManualTiming?bs.timestamp:performance.now()),mj),set:e=>{mj=e,queueMicrotask(HOe)}},ste=e=>t=>typeof t=="string"&&t.startsWith(e),ite=ste("--"),KOe=ste("var(--"),d3=e=>KOe(e)?GOe.test(e.split("/*")[0].trim()):!1,GOe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function $B(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const dx={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},d0={...dx,transform:e=>kl(0,1,e)},n1={...dx,default:1},nv=e=>Math.round(e*1e5)/1e5,u3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YOe(e){return e==null}const XOe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,h3=(e,t)=>n=>!!(typeof n=="string"&&XOe.test(n)&&n.startsWith(e)||t&&!YOe(n)&&Object.prototype.hasOwnProperty.call(n,t)),ate=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(u3);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},JOe=e=>kl(0,255,e),jT={...dx,transform:e=>Math.round(JOe(e))},kh={test:h3("rgb","red"),parse:ate("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+jT.transform(e)+", "+jT.transform(t)+", "+jT.transform(n)+", "+nv(d0.transform(r))+")"};function QOe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const SI={test:h3("#"),parse:QOe,transform:kh.transform},Yb=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),od=Yb("deg"),pl=Yb("%"),qe=Yb("px"),ZOe=Yb("vh"),eRe=Yb("vw"),FB={...pl,parse:e=>pl.parse(e)/100,transform:e=>pl.transform(e*100)},Df={test:h3("hsl","hue"),parse:ate("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+pl.transform(nv(t))+", "+pl.transform(nv(n))+", "+nv(d0.transform(r))+")"},Dr={test:e=>kh.test(e)||SI.test(e)||Df.test(e),parse:e=>kh.test(e)?kh.parse(e):Df.test(e)?Df.parse(e):SI.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?kh.transform(e):Df.transform(e),getAnimatableNone:e=>{const t=Dr.parse(e);return t.alpha=0,Dr.transform(t)}},tRe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nRe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(u3))==null?void 0:t.length)||0)+(((n=e.match(tRe))==null?void 0:n.length)||0)>0}const ote="number",lte="color",rRe="var",sRe="var(",BB="${}",iRe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function u0(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(iRe,c=>(Dr.test(c)?(r.color.push(a),i.push(lte),n.push(Dr.parse(c))):c.startsWith(sRe)?(r.var.push(a),i.push(rRe),n.push(c)):(r.number.push(a),i.push(ote),n.push(parseFloat(c))),++a,BB)).split(BB);return{values:n,split:l,indexes:r,types:i}}function cte(e){return u0(e).values}function dte(e){const{split:t,types:n}=u0(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const l=n[o];l===ote?a+=nv(i[o]):l===lte?a+=Dr.transform(i[o]):a+=i[o]}return a}}const aRe=e=>typeof e=="number"?0:Dr.test(e)?Dr.getAnimatableNone(e):e;function oRe(e){const t=cte(e);return dte(e)(t.map(aRe))}const ju={test:nRe,parse:cte,createTransformer:dte,getAnimatableNone:oRe};function ST(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lRe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=ST(c,l,e+1/3),a=ST(c,l,e),o=ST(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function MS(e,t){return n=>n>0?t:e}const or=(e,t,n)=>e+(t-e)*n,NT=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},cRe=[SI,kh,Df],dRe=e=>cRe.find(t=>t.test(e));function UB(e){const t=dRe(e);if(k_(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===Df&&(n=lRe(n)),n}const zB=(e,t)=>{const n=UB(e),r=UB(t);if(!n||!r)return MS(e,t);const i={...n};return a=>(i.red=NT(n.red,r.red,a),i.green=NT(n.green,r.green,a),i.blue=NT(n.blue,r.blue,a),i.alpha=or(n.alpha,r.alpha,a),kh.transform(i))},NI=new Set(["none","hidden"]);function uRe(e,t){return NI.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function hRe(e,t){return n=>or(e,t,n)}function m3(e){return typeof e=="number"?hRe:typeof e=="string"?d3(e)?MS:Dr.test(e)?zB:pRe:Array.isArray(e)?ute:typeof e=="object"?Dr.test(e)?zB:mRe:MS}function ute(e,t){const n=[...e],r=n.length,i=e.map((a,o)=>m3(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function mRe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=m3(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function fRe(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],l=e.values[o]??0;n[i]=l,r[a]++}return n}const pRe=(e,t)=>{const n=ju.createTransformer(t),r=u0(e),i=u0(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?NI.has(e)&&!i.values.length||NI.has(t)&&!r.values.length?uRe(e,t):Kb(ute(fRe(r,i),i.values),n):(k_(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),MS(e,t))};function hte(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?or(e,t,n):m3(e)(e,t)}const gRe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Gn.update(t,n),stop:()=>wu(t),now:()=>bs.isProcessing?bs.timestamp:Qs.now()}},mte=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},DS=2e4;function f3(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<DS;)t+=n,r=e.next(t);return t>=DS?1/0:t}function xRe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(f3(r),DS);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:La(i)}}const yRe=5;function fte(e,t,n){const r=Math.max(t-yRe,0);return Hee(n-e(r),t-r)}const sr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kT=.001;function vRe({duration:e=sr.duration,bounce:t=sr.bounce,velocity:n=sr.velocity,mass:r=sr.mass}){let i,a;k_(e<=fl(sr.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=kl(sr.minDamping,sr.maxDamping,o),e=kl(sr.minDuration,sr.maxDuration,La(e)),o<1?(i=d=>{const u=d*o,h=u*e,m=u-n,f=kI(d,o),p=Math.exp(-h);return kT-m/f*p},a=d=>{const h=d*o*e,m=h*n+n,f=Math.pow(o,2)*Math.pow(d,2)*e,p=Math.exp(-h),g=kI(Math.pow(d,2),o);return(-i(d)+kT>0?-1:1)*((m-f)*p)/g}):(i=d=>{const u=Math.exp(-d*e),h=(d-n)*e+1;return-kT+u*h},a=d=>{const u=Math.exp(-d*e),h=(n-d)*(e*e);return u*h});const l=5/e,c=wRe(i,a,l);if(e=fl(e),isNaN(c))return{stiffness:sr.stiffness,damping:sr.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const bRe=12;function wRe(e,t,n){let r=n;for(let i=1;i<bRe;i++)r=r-e(r)/t(r);return r}function kI(e,t){return e*Math.sqrt(1-t*t)}const jRe=["duration","bounce"],SRe=["stiffness","damping","mass"];function VB(e,t){return t.some(n=>e[n]!==void 0)}function NRe(e){let t={velocity:sr.velocity,stiffness:sr.stiffness,damping:sr.damping,mass:sr.mass,isResolvedFromDuration:!1,...e};if(!VB(e,SRe)&&VB(e,jRe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*kl(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:sr.mass,stiffness:i,damping:a}}else{const n=vRe(e);t={...t,...n,mass:sr.mass},t.isResolvedFromDuration=!0}return t}function LS(e=sr.visualDuration,t=sr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=NRe({...n,velocity:-La(n.velocity||0)}),p=m||0,g=d/(2*Math.sqrt(c*u)),y=o-a,v=La(Math.sqrt(c/u)),b=Math.abs(y)<5;r||(r=b?sr.restSpeed.granular:sr.restSpeed.default),i||(i=b?sr.restDelta.granular:sr.restDelta.default);let w;if(g<1){const j=kI(v,g);w=N=>{const k=Math.exp(-g*v*N);return o-k*((p+g*v*y)/j*Math.sin(j*N)+y*Math.cos(j*N))}}else if(g===1)w=j=>o-Math.exp(-v*j)*(y+(p+v*y)*j);else{const j=v*Math.sqrt(g*g-1);w=N=>{const k=Math.exp(-g*v*N),_=Math.min(j*N,300);return o-k*((p+g*v*y)*Math.sinh(_)+j*y*Math.cosh(_))/j}}const S={calculatedDuration:f&&h||null,next:j=>{const N=w(j);if(f)l.done=j>=h;else{let k=j===0?p:0;g<1&&(k=j===0?fl(p):fte(w,j,N));const _=Math.abs(k)<=r,C=Math.abs(o-N)<=i;l.done=_&&C}return l.value=l.done?o:N,l},toString:()=>{const j=Math.min(f3(S),DS),N=mte(k=>S.next(j*k).value,j,30);return j+"ms "+N},toTransition:()=>{}};return S}LS.applyToOptions=e=>{const t=xRe(e,100,LS);return e.ease=t.ease,e.duration=fl(t.duration),e.type="keyframes",e};function _I({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=_=>l!==void 0&&_<l||c!==void 0&&_>c,p=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let g=n*t;const y=h+g,v=o===void 0?y:o(y);v!==y&&(g=v-h);const b=_=>-g*Math.exp(-_/r),w=_=>v+b(_),S=_=>{const C=b(_),T=w(_);m.done=Math.abs(C)<=d,m.value=m.done?v:T};let j,N;const k=_=>{f(m.value)&&(j=_,N=LS({keyframes:[m.value,p(m.value)],velocity:fte(w,_,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:_=>{let C=!1;return!N&&j===void 0&&(C=!0,S(_),k(_)),j!==void 0&&_>=j?N.next(_-j):(!C&&S(_),m)}}}function kRe(e,t,n){const r=[],i=n||Oc.mix||hte,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Va:t;l=Kb(c,l)}r.push(l)}return r}function _Re(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(ig(a===t.length,"Both input and output ranges must be the same length","range-length"),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=kRe(t,r,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=c0(e[h],e[h+1],u);return l[h](m)};return n?u=>d(kl(e[0],e[a-1],u)):d}function CRe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=c0(0,t,r);e.push(or(n,1,i))}}function ERe(e){const t=[0];return CRe(t,e.length-1),t}function TRe(e,t){return e.map(n=>n*t)}function ARe(e,t){return e.map(()=>t||tte).splice(0,e.length-1)}function rv({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=zOe(r)?r.map(DB):DB(r),a={done:!1,value:t[0]},o=TRe(n&&n.length===t.length?n:ERe(t),e),l=_Re(o,t,{ease:Array.isArray(i)?i:ARe(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const PRe=e=>e!==null;function p3(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(PRe),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const IRe={decay:_I,inertia:_I,tween:rv,keyframes:rv,spring:LS};function pte(e){typeof e.type=="string"&&(e.type=IRe[e.type])}class g3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const ORe=e=>e/100;class x3 extends g3{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Qs.now()&&this.tick(Qs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;pte(t);const{type:n=rv,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||rv;c!==rv&&typeof l[0]!="number"&&(this.mixKeyframes=Kb(ORe,hte(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=f3(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:f,type:p,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,S=r;if(h){const _=Math.min(this.currentTime,i)/l;let C=Math.floor(_),T=_%1;!T&&_>=1&&(T=1),T===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(m==="reverse"?(T=1-T,f&&(T-=f/l)):m==="mirror"&&(S=o)),w=kl(0,1,T)*l}const j=b?{done:!1,value:u[0]}:S.next(w);a&&(j.value=a(j.value));let{done:N}=j;!b&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return k&&p!==_I&&(j.value=p3(u,this.options,y,this.speed)),g&&g(j.value),k&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return La(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+La(t)}get time(){return La(this.currentTime)}set time(t){var n;t=fl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Qs.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=La(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=gRe,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function RRe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const _h=e=>e*180/Math.PI,CI=e=>{const t=_h(Math.atan2(e[1],e[0]));return EI(t)},MRe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:CI,rotateZ:CI,skewX:e=>_h(Math.atan(e[1])),skewY:e=>_h(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},EI=e=>(e=e%360,e<0&&(e+=360),e),qB=CI,WB=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),HB=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),DRe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WB,scaleY:HB,scale:e=>(WB(e)+HB(e))/2,rotateX:e=>EI(_h(Math.atan2(e[6],e[5]))),rotateY:e=>EI(_h(Math.atan2(-e[2],e[0]))),rotateZ:qB,rotate:qB,skewX:e=>_h(Math.atan(e[4])),skewY:e=>_h(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function TI(e){return e.includes("scale")?1:0}function AI(e,t){if(!e||e==="none")return TI(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=DRe,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=MRe,i=l}if(!i)return TI(t);const a=r[t],o=i[1].split(",").map($Re);return typeof a=="function"?a(o):o[a]}const LRe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return AI(n,t)};function $Re(e){return parseFloat(e.trim())}const ux=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hx=new Set(ux),KB=e=>e===dx||e===qe,FRe=new Set(["x","y","z"]),BRe=ux.filter(e=>!FRe.has(e));function URe(e){const t=[];return BRe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Rd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>AI(t,"x"),y:(e,{transform:t})=>AI(t,"y")};Rd.translateX=Rd.x;Rd.translateY=Rd.y;const Kh=new Set;let PI=!1,II=!1,OI=!1;function gte(){if(II){const e=Array.from(Kh).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=URe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}II=!1,PI=!1,Kh.forEach(e=>e.complete(OI)),Kh.clear()}function xte(){Kh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(II=!0)})}function zRe(){OI=!0,xte(),gte(),OI=!1}class y3{constructor(t,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Kh.add(this),PI||(PI=!0,Gn.read(xte),Gn.resolveKeyframes(gte))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}RRe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Kh.delete(this)}cancel(){this.state==="scheduled"&&(Kh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VRe=e=>e.startsWith("--");function qRe(e,t,n){VRe(t)?e.style.setProperty(t,n):e.style[t]=n}const WRe=a3(()=>window.ScrollTimeline!==void 0),HRe={};function KRe(e,t){const n=a3(e);return()=>HRe[t]??n()}const yte=KRe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ey=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,GB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ey([0,.65,.55,1]),circOut:Ey([.55,0,1,.45]),backIn:Ey([.31,.01,.66,-.59]),backOut:Ey([.33,1.53,.69,.99])};function vte(e,t){if(e)return typeof e=="function"?yte()?mte(e,t):"ease-out":nte(e)?Ey(e):Array.isArray(e)?e.map(n=>vte(n,t)||GB.easeOut):GB[e]}function GRe(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const h=vte(l,i);Array.isArray(h)&&(u.easing=h);const m={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function bte(e){return typeof e=="function"&&"applyToOptions"in e}function YRe({type:e,...t}){return bte(e)&&yte()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class XRe extends g3{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,ig(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const d=YRe(t);this.animation=GRe(n,r,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=p3(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):qRe(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return La(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+La(t)}get time(){return La(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=fl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&WRe()?(this.animation.timeline=t,Va):n(this)}}const wte={anticipate:Qee,backInOut:Jee,circInOut:ete};function JRe(e){return e in wte}function QRe(e){typeof e.ease=="string"&&JRe(e.ease)&&(e.ease=wte[e.ease])}const _T=10;class ZRe extends XRe{constructor(t){QRe(t),pte(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new x3({...o,autoplay:!1}),c=Math.max(_T,Qs.now()-this.startTime),d=kl(0,_T,c-_T);n.setWithVelocity(l.sample(Math.max(0,c-d)).value,l.sample(c).value,d),l.stop()}}const YB=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ju.test(e)||e==="0")&&!e.startsWith("url("));function e4e(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function t4e(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=YB(i,t),l=YB(a,t);return k_(o===l,`You are trying to animate ${t} from "${i}" to "${a}". "${o?a:i}" is not an animatable value.`,"value-not-animatable"),!o||!l?!1:e4e(e)||(n==="spring"||bte(n))&&r}function RI(e){e.duration=0,e.type="keyframes"}const n4e=new Set(["opacity","clipPath","filter","transform"]),r4e=a3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function s4e(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return r4e()&&n&&n4e.has(n)&&(n!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const i4e=40;class a4e extends g3{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var p;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Qs.now();const m={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:u,...h},f=(u==null?void 0:u.KeyframeResolver)||y3;this.keyframeResolver=new f(l,(g,y,v)=>this.onKeyframesResolved(g,y,m,!v),c,d,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,n,r,i){var y,v;this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=Qs.now(),t4e(t,a,o,l)||((Oc.instantAnimations||!c)&&(u==null||u(p3(t,r,n))),t[0]=t[t.length-1],RI(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>i4e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},f=!d&&s4e(m),p=(v=(y=m.motionValue)==null?void 0:y.owner)==null?void 0:v.current,g=f?new ZRe({...m,element:p}):new x3(m);g.finished.then(()=>{this.notifyFinished()}).catch(Va),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),zRe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function jte(e,t,n,r=0,i=1){const a=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:l-a*r}const o4e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function l4e(e){const t=o4e.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}const c4e=4;function Ste(e,t,n=1){ig(n<=c4e,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,i]=l4e(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return Vee(o)?parseFloat(o):o}return d3(i)?Ste(i,t,n+1):i}const d4e={type:"spring",stiffness:500,damping:25,restSpeed:10},u4e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),h4e={type:"keyframes",duration:.8},m4e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f4e=(e,{keyframes:t})=>t.length>2?h4e:hx.has(e)?e.startsWith("scale")?u4e(t[1]):d4e:m4e,p4e=e=>e!==null;function g4e(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(p4e),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}function v3(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function x4e({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const b3=(e,t,n,r={},i,a)=>o=>{const l=v3(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-fl(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};x4e(l)||Object.assign(u,f4e(e,u)),u.duration&&(u.duration=fl(u.duration)),u.repeatDelay&&(u.repeatDelay=fl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(RI(u),u.delay===0&&(h=!0)),(Oc.instantAnimations||Oc.skipAnimations)&&(h=!0,RI(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!a&&t.get()!==void 0){const m=g4e(u.keyframes,l);if(m!==void 0){Gn.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new x3(u):new a4e(u)};function XB(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function w3(e,t,n,r){if(typeof t=="function"){const[i,a]=XB(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=XB(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function ip(e,t,n){const r=e.getProps();return w3(r,t,n!==void 0?n:r.custom,e)}const Nte=new Set(["width","height","top","left","right","bottom",...ux]),JB=30,y4e=e=>!isNaN(parseFloat(e));class v4e{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=Qs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Qs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=y4e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new o3);const r=this.events[t].add(n);return t==="change"?()=>{r(),Gn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Qs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>JB)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JB);return Hee(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ag(e,t){return new v4e(e,t)}const MI=e=>Array.isArray(e);function b4e(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ag(n))}function w4e(e){return MI(e)?e[e.length-1]||0:e}function j4e(e,t){const n=ip(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const l=w4e(a[o]);b4e(e,o,l)}}const Ms=e=>!!(e&&e.getVelocity);function S4e(e){return!!(Ms(e)&&e.add)}function DI(e,t){const n=e.getValue("willChange");if(S4e(n))return n.add(t);if(!n&&Oc.WillChange){const r=new Oc.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function j3(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const N4e="framerAppearId",kte="data-"+j3(N4e);function _te(e){return e.props[kte]}function k4e({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Cte(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&k4e(d,u))continue;const f={delay:n,...v3(a||{},u)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===p&&!f.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=_te(e);if(v){const b=window.MotionHandoffAnimation(v,u,Gn);b!==null&&(f.startTime=b,g=!0)}}DI(e,u),h.start(b3(u,h,m,e.shouldReduceMotion&&Nte.has(u)?{type:!1}:f,e,g));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{Gn.update(()=>{o&&j4e(e,o)})}),c}function LI(e,t,n={}){var c;const r=ip(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Cte(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=i;return _4e(e,t,d,u,h,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,u]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function _4e(e,t,n=0,r=0,i=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(LI(c,t,{...o,delay:n+(typeof r=="function"?0:r)+jte(e.variantChildren,c,r,i,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function C4e(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>LI(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=LI(e,t,n);else{const i=typeof t=="function"?ip(e,t,n.custom):t;r=Promise.all(Cte(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const E4e={test:e=>e==="auto",parse:e=>e},Ete=e=>t=>t.test(e),Tte=[dx,qe,pl,od,eRe,ZOe,E4e],QB=e=>Tte.find(Ete(e));function T4e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Wee(e):!0}const A4e=new Set(["brightness","contrast","saturate","opacity"]);function P4e(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(u3)||[];if(!r)return e;const i=n.replace(r,"");let a=A4e.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const I4e=/\b([a-z-]*)\(.*?\)/gu,$I={...ju,getAnimatableNone:e=>{const t=e.match(I4e);return t?t.map(P4e).join(" "):e}},ZB={...dx,transform:Math.round},O4e={rotate:od,rotateX:od,rotateY:od,rotateZ:od,scale:n1,scaleX:n1,scaleY:n1,scaleZ:n1,skew:od,skewX:od,skewY:od,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:d0,originX:FB,originY:FB,originZ:qe},S3={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,inset:qe,insetBlock:qe,insetBlockStart:qe,insetBlockEnd:qe,insetInline:qe,insetInlineStart:qe,insetInlineEnd:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,paddingBlock:qe,paddingBlockStart:qe,paddingBlockEnd:qe,paddingInline:qe,paddingInlineStart:qe,paddingInlineEnd:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,marginBlock:qe,marginBlockStart:qe,marginBlockEnd:qe,marginInline:qe,marginInlineStart:qe,marginInlineEnd:qe,fontSize:qe,backgroundPositionX:qe,backgroundPositionY:qe,...O4e,zIndex:ZB,fillOpacity:d0,strokeOpacity:d0,numOctaves:ZB},R4e={...S3,color:Dr,backgroundColor:Dr,outlineColor:Dr,fill:Dr,stroke:Dr,borderColor:Dr,borderTopColor:Dr,borderRightColor:Dr,borderBottomColor:Dr,borderLeftColor:Dr,filter:$I,WebkitFilter:$I},Ate=e=>R4e[e];function Pte(e,t){let n=Ate(e);return n!==$I&&(n=ju),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const M4e=new Set(["auto","none","0"]);function D4e(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!M4e.has(a)&&u0(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=Pte(n,i)}class L4e extends y3{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let h=t[u];if(typeof h=="string"&&(h=h.trim(),d3(h))){const m=Ste(h,n.current);m!==void 0&&(t[u]=m),u===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Nte.has(r)||t.length!==2)return;const[i,a]=t,o=QB(i),l=QB(a),c=$B(i),d=$B(a);if(c!==d&&Rd[r]){this.needsMeasurement=!0;return}if(o!==l)if(KB(o)&&KB(l))for(let u=0;u<t.length;u++){const h=t[u];typeof h=="string"&&(t[u]=parseFloat(h))}else Rd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||T4e(t[i]))&&r.push(i);r.length&&D4e(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Rd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function $4e(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(r=>r!=null)}const Ite=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function FI(e){return qee(e)&&"offsetHeight"in e}const{schedule:N3,cancel:Hkt}=rte(queueMicrotask,!1),mo={x:!1,y:!1};function Ote(){return mo.x||mo.y}function F4e(e){return e==="x"||e==="y"?mo[e]?null:(mo[e]=!0,()=>{mo[e]=!1}):mo.x||mo.y?null:(mo.x=mo.y=!0,()=>{mo.x=mo.y=!1})}function Rte(e,t){const n=$4e(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function e9(e){return!(e.pointerType==="touch"||Ote())}function B4e(e,t,n={}){const[r,i,a]=Rte(e,n),o=l=>{if(!e9(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{e9(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const Mte=(e,t)=>t?e===t?!0:Mte(e,t.parentElement):!1,k3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,U4e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Dte(e){return U4e.has(e.tagName)||e.isContentEditable===!0}const fj=new WeakSet;function t9(e){return t=>{t.key==="Enter"&&e(t)}}function CT(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const z4e=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=t9(()=>{if(fj.has(n))return;CT(n,"down");const i=t9(()=>{CT(n,"up")}),a=()=>CT(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function n9(e){return k3(e)&&!Ote()}function V4e(e,t,n={}){const[r,i,a]=Rte(e,n),o=l=>{const c=l.currentTarget;if(!n9(l))return;fj.add(c);const d=t(c,l),u=(f,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),fj.has(c)&&fj.delete(c),n9(f)&&typeof d=="function"&&d(f,{success:p})},h=f=>{u(f,c===window||c===document||n.useGlobalTarget||Mte(c,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),FI(l)&&(l.addEventListener("focus",d=>z4e(d,i)),!Dte(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Lte(e){return qee(e)&&"ownerSVGElement"in e}function q4e(e){return Lte(e)&&e.tagName==="svg"}const W4e=[...Tte,Dr,ju],H4e=e=>W4e.find(Ete(e)),r9=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lf=()=>({x:r9(),y:r9()}),s9=()=>({min:0,max:0}),Yr=()=>({x:s9(),y:s9()}),BI={current:null},$te={current:!1},K4e=typeof window<"u";function G4e(){if($te.current=!0,!!K4e)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>BI.current=e.matches;e.addEventListener("change",t),t()}else BI.current=!1}const Y4e=new WeakMap;function __(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function h0(e){return typeof e=="string"||Array.isArray(e)}const _3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C3=["initial",..._3];function C_(e){return __(e.animate)||C3.some(t=>h0(e[t]))}function Fte(e){return!!(C_(e)||e.variants)}function X4e(e,t,n){for(const r in t){const i=t[r],a=n[r];if(Ms(i))e.addValue(r,i);else if(Ms(a))e.addValue(r,ag(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,ag(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const i9=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let $S={};function Bte(e){$S=e}function J4e(){return $S}class Q4e{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=y3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Qs.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Gn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=C_(n),this.isVariantNode=Fte(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const f=h[m];c[m]!==void 0&&Ms(f)&&f.set(c[m])}}mount(t){var n;this.current=t,Y4e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:($te.current||G4e(),this.shouldReduceMotion=BI.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),wu(this.notifyUpdate),wu(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=hx.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Gn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $S){const n=$S[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<i9.length;r++){const i=i9[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=X4e(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ag(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Vee(r)||Wee(r))?r=parseFloat(r):!H4e(r)&&ju.test(n)&&(r=Pte(t,n)),this.setBaseTarget(t,Ms(r)?r.get():r)),Ms(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=w3(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ms(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new o3),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){N3.render(this.render)}}class Ute extends Q4e{constructor(){super(...arguments),this.KeyframeResolver=L4e}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ms(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Lu{constructor(t){this.isMounted=!1,this.node=t}update(){}}function zte({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Z4e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function e5e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ET(e){return e===void 0||e===1}function UI({scale:e,scaleX:t,scaleY:n}){return!ET(e)||!ET(t)||!ET(n)}function ah(e){return UI(e)||Vte(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Vte(e){return a9(e.x)||a9(e.y)}function a9(e){return e&&e!=="0%"}function FS(e,t,n){const r=e-n,i=t*r;return n+i}function o9(e,t,n,r,i){return i!==void 0&&(e=FS(e,i,r)),FS(e,n,r)+t}function zI(e,t=0,n=1,r,i){e.min=o9(e.min,t,n,r,i),e.max=o9(e.max,t,n,r,i)}function qte(e,{x:t,y:n}){zI(e.x,t.translate,t.scale,t.originPoint),zI(e.y,n.translate,n.scale,n.originPoint)}const l9=.999999999999,c9=1.0000000000001;function t5e(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ff(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,qte(e,o)),r&&ah(a.latestValues)&&Ff(e,a.latestValues))}t.x<c9&&t.x>l9&&(t.x=1),t.y<c9&&t.y>l9&&(t.y=1)}function $f(e,t){e.min=e.min+t,e.max=e.max+t}function d9(e,t,n,r,i=.5){const a=or(e.min,e.max,i);zI(e,t,n,a,r)}function Ff(e,t){d9(e.x,t.x,t.scaleX,t.scale,t.originX),d9(e.y,t.y,t.scaleY,t.scale,t.originY)}function Wte(e,t){return zte(e5e(e.getBoundingClientRect(),t))}function n5e(e,t,n){const r=Wte(e,n),{scroll:i}=t;return i&&($f(r.x,i.offset.x),$f(r.y,i.offset.y)),r}const r5e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},s5e=ux.length;function i5e(e,t,n){let r="",i=!0;for(let a=0;a<s5e;a++){const o=ux[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(o.startsWith("scale")?1:0);else{const d=parseFloat(l);c=o.startsWith("scale")?d===1:d===0}if(!c||n){const d=Ite(l,S3[o]);if(!c){i=!1;const u=r5e[o]||o;r+=`${u}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function E3(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(hx.has(c)){o=!0;continue}else if(ite(c)){i[c]=d;continue}else{const u=Ite(d,S3[c]);c.startsWith("origin")?(l=!0,a[c]=u):r[c]=u}}if(t.transform||(o||n?r.transform=i5e(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;r.transformOrigin=`${c} ${d} ${u}`}}function Hte(e,{style:t,vars:n},r,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function u9(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wx={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qe.test(e))e=parseFloat(e);else return e;const n=u9(e,t.target.x),r=u9(e,t.target.y);return`${n}% ${r}%`}},a5e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ju.parse(e);if(i.length>5)return r;const a=ju.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=or(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}},VI={borderRadius:{...Wx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wx,borderTopRightRadius:Wx,borderBottomLeftRadius:Wx,borderBottomRightRadius:Wx,boxShadow:a5e};function Kte(e,{layout:t,layoutId:n}){return hx.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!VI[e]||e==="opacity")}function T3(e,t,n){var o;const r=e.style,i=t==null?void 0:t.style,a={};if(!r)return a;for(const l in r)(Ms(r[l])||i&&Ms(i[l])||Kte(l,e)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(a[l]=r[l]);return a}function o5e(e){return window.getComputedStyle(e)}class l5e extends Ute{constructor(){super(...arguments),this.type="html",this.renderInstance=Hte}readValueFromInstance(t,n){var r;if(hx.has(n))return(r=this.projection)!=null&&r.isProjecting?TI(n):LRe(t,n);{const i=o5e(t),a=(ite(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Wte(t,n)}build(t,n,r){E3(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return T3(t,n,r)}}const c5e={offset:"stroke-dashoffset",array:"stroke-dasharray"},d5e={offset:"strokeDashoffset",array:"strokeDasharray"};function u5e(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?c5e:d5e;e[a.offset]=`${-r}`,e[a.array]=`${t} ${n}`}const h5e=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Gte(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,u){if(E3(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox);for(const f of h5e)h[f]!==void 0&&(m[f]=h[f],delete h[f]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&u5e(h,i,a,o,!1)}const Yte=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Xte=e=>typeof e=="string"&&e.toLowerCase()==="svg";function m5e(e,t,n,r){Hte(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Yte.has(i)?i:j3(i),t.attrs[i])}function Jte(e,t,n){const r=T3(e,t,n);for(const i in e)if(Ms(e[i])||Ms(t[i])){const a=ux.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}class f5e extends Ute{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(hx.has(n)){const r=Ate(n);return r&&r.default||0}return n=Yte.has(n)?n:j3(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Jte(t,n,r)}build(t,n,r){Gte(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){m5e(t,n,r,i)}mount(t){this.isSVGTag=Xte(t.tagName),super.mount(t)}}const p5e=C3.length;function Qte(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Qte(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<p5e;n++){const r=C3[n],i=e.props[r];(h0(i)||i===!1)&&(t[r]=i)}return t}function Zte(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const g5e=[..._3].reverse(),x5e=_3.length;function y5e(e){return t=>Promise.all(t.map(({animation:n,options:r})=>C4e(e,n,r)))}function v5e(e){let t=y5e(e),n=h9(),r=!0;const i=c=>(d,u)=>{var m;const h=ip(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:f,transitionEnd:p,...g}=h;d={...d,...g,...p}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=Qte(e.parent)||{},h=[],m=new Set;let f={},p=1/0;for(let y=0;y<x5e;y++){const v=g5e[y],b=n[v],w=d[v]!==void 0?d[v]:u[v],S=h0(w),j=v===c?b.isActive:null;j===!1&&(p=y);let N=w===u[v]&&w!==d[v]&&S;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...f},!b.isActive&&j===null||!w&&!b.prevProp||__(w)||typeof w=="boolean")continue;const k=b5e(b.prevProp,w);let _=k||v===c&&b.isActive&&!N&&S||y>p&&S,C=!1;const T=Array.isArray(w)?w:[w];let A=T.reduce(i(v),{});j===!1&&(A={});const{prevResolvedValues:P={}}=b,R={...P,...A},D=F=>{_=!0,m.has(F)&&(C=!0,m.delete(F)),b.needsAnimating[F]=!0;const O=e.getValue(F);O&&(O.liveStyle=!1)};for(const F in R){const O=A[F],L=P[F];if(f.hasOwnProperty(F))continue;let I=!1;MI(O)&&MI(L)?I=!Zte(O,L):I=O!==L,I?O!=null?D(F):m.add(F):O!==void 0&&m.has(F)?D(F):b.protectedKeys[F]=!0}b.prevProp=w,b.prevResolvedValues=A,b.isActive&&(f={...f,...A}),r&&e.blockInitialAnimation&&(_=!1);const $=N&&k;_&&(!$||C)&&h.push(...T.map(F=>{const O={type:v};if(typeof F=="string"&&r&&!$&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,I=ip(L,F);if(L.enteringChildren&&I){const{delayChildren:z}=I.transition||{};O.delay=jte(L.enteringChildren,e,z)}}return{animation:F,options:O}}))}if(m.size){const y={};if(typeof d.initial!="boolean"){const v=ip(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(y.transition=v.transition)}m.forEach(v=>{const b=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),y[v]=b??null}),h.push({animation:y})}let g=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var f;return(f=m.animationState)==null?void 0:f.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const m in n)n[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=h9()}}}function b5e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Zte(t,e):!1}function Ju(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h9(){return{animate:Ju(!0),whileInView:Ju(),whileHover:Ju(),whileTap:Ju(),whileDrag:Ju(),whileFocus:Ju(),exit:Ju()}}function m9(e,t){e.min=t.min,e.max=t.max}function oo(e,t){m9(e.x,t.x),m9(e.y,t.y)}function f9(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const ene=1e-4,w5e=1-ene,j5e=1+ene,tne=.01,S5e=0-tne,N5e=0+tne;function Zs(e){return e.max-e.min}function k5e(e,t,n){return Math.abs(e-t)<=n}function p9(e,t,n,r=.5){e.origin=r,e.originPoint=or(t.min,t.max,e.origin),e.scale=Zs(n)/Zs(t),e.translate=or(n.min,n.max,e.origin)-e.originPoint,(e.scale>=w5e&&e.scale<=j5e||isNaN(e.scale))&&(e.scale=1),(e.translate>=S5e&&e.translate<=N5e||isNaN(e.translate))&&(e.translate=0)}function sv(e,t,n,r){p9(e.x,t.x,n.x,r?r.originX:void 0),p9(e.y,t.y,n.y,r?r.originY:void 0)}function g9(e,t,n){e.min=n.min+t.min,e.max=e.min+Zs(t)}function _5e(e,t,n){g9(e.x,t.x,n.x),g9(e.y,t.y,n.y)}function x9(e,t,n){e.min=t.min-n.min,e.max=e.min+Zs(t)}function BS(e,t,n){x9(e.x,t.x,n.x),x9(e.y,t.y,n.y)}function y9(e,t,n,r,i){return e-=t,e=FS(e,1/n,r),i!==void 0&&(e=FS(e,1/i,r)),e}function C5e(e,t=0,n=1,r=.5,i,a=e,o=e){if(pl.test(t)&&(t=parseFloat(t),t=or(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=or(a.min,a.max,r);e===a&&(l-=t),e.min=y9(e.min,t,n,l,i),e.max=y9(e.max,t,n,l,i)}function v9(e,t,[n,r,i],a,o){C5e(e,t[n],t[r],t[i],t.scale,a,o)}const E5e=["x","scaleX","originX"],T5e=["y","scaleY","originY"];function b9(e,t,n,r){v9(e.x,t,E5e,n?n.x:void 0,r?r.x:void 0),v9(e.y,t,T5e,n?n.y:void 0,r?r.y:void 0)}function w9(e){return e.translate===0&&e.scale===1}function nne(e){return w9(e.x)&&w9(e.y)}function j9(e,t){return e.min===t.min&&e.max===t.max}function A5e(e,t){return j9(e.x,t.x)&&j9(e.y,t.y)}function S9(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rne(e,t){return S9(e.x,t.x)&&S9(e.y,t.y)}function N9(e){return Zs(e.x)/Zs(e.y)}function k9(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function ka(e){return[e("x"),e("y")]}function P5e(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:p}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),f&&(r+=`skewX(${f}deg) `),p&&(r+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const sne=["TopLeft","TopRight","BottomLeft","BottomRight"],I5e=sne.length,_9=e=>typeof e=="string"?parseFloat(e):e,C9=e=>typeof e=="number"||qe.test(e);function O5e(e,t,n,r,i,a){i?(e.opacity=or(0,n.opacity??1,R5e(r)),e.opacityExit=or(t.opacity??1,0,M5e(r))):a&&(e.opacity=or(t.opacity??1,n.opacity??1,r));for(let o=0;o<I5e;o++){const l=`border${sne[o]}Radius`;let c=E9(t,l),d=E9(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||C9(c)===C9(d)?(e[l]=Math.max(or(_9(c),_9(d),r),0),(pl.test(d)||pl.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=or(t.rotate||0,n.rotate||0,r))}function E9(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const R5e=ine(0,.5,Zee),M5e=ine(.5,.95,Va);function ine(e,t,n){return r=>r<e?0:r>t?1:n(c0(e,t,r))}function D5e(e,t,n){const r=Ms(e)?e:ag(e);return r.start(b3("",r,t,n)),r.animation}function m0(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const L5e=(e,t)=>e.depth-t.depth;class $5e{constructor(){this.children=[],this.isDirty=!1}add(t){s3(this.children,t),this.isDirty=!0}remove(t){i3(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(L5e),this.isDirty=!1,this.children.forEach(t)}}function F5e(e,t){const n=Qs.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(wu(r),e(a-t))};return Gn.setup(r,!0),()=>wu(r)}function pj(e){return Ms(e)?e.get():e}class B5e{constructor(){this.members=[]}add(t){s3(this.members,t),t.scheduleRender()}remove(t){if(i3(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const i=r.options.layoutDependency,a=t.options.layoutDependency;i!==void 0&&a!==void 0&&i===a||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:l}=t.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const gj={hasAnimatedSinceResize:!0,hasEverUpdated:!1},TT=["","X","Y","Z"],U5e=1e3;let z5e=0;function AT(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ane(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=_te(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Gn,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&ane(r)}function one({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=z5e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(W5e),this.nodes.forEach(Y5e),this.nodes.forEach(X5e),this.nodes.forEach(H5e)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $5e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new o3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Lte(o)&&!q4e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;Gn.read(()=>{h=window.innerWidth}),e(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,u&&u(),u=F5e(m,250),gj.hasAnimatedSinceResize&&(gj.hasAnimatedSinceResize=!1,this.nodes.forEach(P9)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||tMe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=d.getProps(),v=!this.targetLayout||!rne(this.targetLayout,f),b=!h&&m;if(this.options.layoutRoot||this.resumeFrom||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...v3(p,"layout"),onPlay:g,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,b)}else h||P9(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J5e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ane(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(T9);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(A9);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(G5e),this.nodes.forEach(V5e),this.nodes.forEach(q5e)):this.nodes.forEach(A9),this.clearAllSnapshots();const l=Qs.now();bs.delta=kl(0,1e3/60,l-bs.timestamp),bs.timestamp=l,bs.isProcessing=!0,wT.update.process(bs),wT.preRender.process(bs),wT.render.process(bs),bs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,N3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(K5e),this.sharedNodes.forEach(Q5e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zs(this.snapshot.measuredBox.x)&&!Zs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Yr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!nne(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ah(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),nMe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Yr();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(rMe))){const{scroll:u}=this.root;u&&($f(l.x,u.offset.x),$f(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=Yr();if(oo(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&oo(l,o),$f(l.x,h.offset.x),$f(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Yr();oo(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ff(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ah(u.latestValues)&&Ff(c,u.latestValues)}return ah(this.latestValues)&&Ff(c,this.latestValues),c}removeTransform(o){const l=Yr();oo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ah(d.latestValues))continue;UI(d.latestValues)&&d.updateSnapshot();const u=Yr(),h=d.measurePageBox();oo(u,h),b9(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ah(this.latestValues)&&b9(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!this.layout||!(u||h))return;this.resolvedRelativeTargetAt=bs.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yr(),this.targetWithTransforms=Yr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_5e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oo(this.target,this.layout.layoutBox),qte(this.target,this.targetDelta)):oo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||UI(this.parent.latestValues)||Vte(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),BS(this.relativeTargetOrigin,l,c),oo(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var p;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===bs.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;oo(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;t5e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Yr());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(f9(this.prevProjectionDelta.x,this.projectionDelta.x),f9(this.prevProjectionDelta.y,this.projectionDelta.y)),sv(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!k9(this.projectionDelta.x,this.prevProjectionDelta.x)||!k9(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lf(),this.projectionDelta=Lf(),this.projectionDeltaWithTransform=Lf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Lf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Yr(),f=c?c.source:void 0,p=this.layout?this.layout.source:void 0,g=f!==p,y=this.getStack(),v=!y||y.members.length<=1,b=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(eMe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const j=S/1e3;I9(h.x,o.x,j),I9(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(BS(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Z5e(this.relativeTarget,this.relativeTargetOrigin,m,j),w&&A5e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Yr()),oo(w,this.relativeTarget)),g&&(this.animationValues=u,O5e(u,d,this.latestValues,j,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(wu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gn.update(()=>{gj.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ag(0)),this.currentAnimation=D5e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U5e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&lne(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Yr();const h=Zs(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=Zs(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}oo(l,c),Ff(l,u),sv(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new B5e),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&AT("z",o,d,this.animationValues);for(let u=0;u<TT.length;u++)AT(`rotate${TT[u]}`,o,d,this.animationValues),AT(`skew${TT[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=pj(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=pj(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ah(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=P5e(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:m,y:f}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in VI){if(u[p]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:v}=VI[p],b=h==="none"?u[p]:g(u[p],d);if(y){const w=y.length;for(let S=0;S<w;S++)o[y[S]]=b}else v?this.options.visualElement.renderState.vars[p]=b:o[p]=b}this.options.layoutId&&(o.pointerEvents=d===this?pj(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(T9),this.root.sharedNodes.clear()}}}function V5e(e){e.updateLayout()}function q5e(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?ka(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],f=Zs(m);m.min=r[h].min,m.max=m.min+f}):lne(a,t.layoutBox,r)&&ka(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],f=Zs(r[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=Lf();sv(l,r,t.layoutBox);const c=Lf();o?sv(c,e.applyTransform(i,!0),t.measuredBox):sv(c,r,t.layoutBox);const d=!nne(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const p=Yr();BS(p,t.layoutBox,m.layoutBox);const g=Yr();BS(g,r,f.layoutBox),rne(p,g)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function W5e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function H5e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function K5e(e){e.clearSnapshot()}function T9(e){e.clearMeasurements()}function A9(e){e.isLayoutDirty=!1}function G5e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function P9(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Y5e(e){e.resolveTargetDelta()}function X5e(e){e.calcProjection()}function J5e(e){e.resetSkewAndRotation()}function Q5e(e){e.removeLeadSnapshot()}function I9(e,t,n){e.translate=or(t.translate,0,n),e.scale=or(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function O9(e,t,n,r){e.min=or(t.min,n.min,r),e.max=or(t.max,n.max,r)}function Z5e(e,t,n,r){O9(e.x,t.x,n.x,r),O9(e.y,t.y,n.y,r)}function eMe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const tMe={duration:.45,ease:[.4,0,.1,1]},R9=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),M9=R9("applewebkit/")&&!R9("chrome/")?Math.round:Va;function D9(e){e.min=M9(e.min),e.max=M9(e.max)}function nMe(e){D9(e.x),D9(e.y)}function lne(e,t,n){return e==="position"||e==="preserve-aspect"&&!k5e(N9(t),N9(n),.2)}function rMe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const sMe=one({attachResizeListener:(e,t)=>m0(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),PT={current:void 0},cne=one({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!PT.current){const e=new sMe({});e.mount(window),e.setOptions({layoutScroll:!0}),PT.current=e}return PT.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),A3=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function L9(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iMe(...e){return t=>{let n=!1;const r=e.map(i=>{const a=L9(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():L9(e[i],null)}}}}function aMe(...e){return x.useCallback(iMe(...e),e)}class oMe extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=FI(r)&&r.offsetWidth||0,a=FI(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left,o.bottom=a-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function lMe({children:e,isPresent:t,anchorX:n,anchorY:r,root:i}){var h;const a=x.useId(),o=x.useRef(null),l=x.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:c}=x.useContext(A3),d=((h=e.props)==null?void 0:h.ref)??(e==null?void 0:e.ref),u=aMe(o,d);return x.useInsertionEffect(()=>{const{width:m,height:f,top:p,left:g,right:y,bottom:v}=l.current;if(t||!o.current||!m||!f)return;const b=n==="left"?`left: ${g}`:`right: ${y}`,w=r==="bottom"?`bottom: ${v}`:`top: ${p}`;o.current.dataset.motionPopId=a;const S=document.createElement("style");c&&(S.nonce=c);const j=i??document.head;return j.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${f}px !important;
            ${b}px !important;
            ${w}px !important;
          }
        `),()=>{j.contains(S)&&j.removeChild(S)}},[t]),s.jsx(oMe,{isPresent:t,childRef:o,sizeRef:l,children:x.cloneElement(e,{ref:u})})}const cMe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,anchorY:c,root:d})=>{const u=r3(dMe),h=x.useId();let m=!0,f=x.useMemo(()=>(m=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const g of u.values())if(!g)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return a&&m&&(f={...f}),x.useMemo(()=>{u.forEach((p,g)=>u.set(g,!1))},[n]),x.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=s.jsx(lMe,{isPresent:n,anchorX:l,anchorY:c,root:d,children:e})),s.jsx(N_.Provider,{value:f,children:e})};function dMe(){return new Map}function dne(e=!0){const t=x.useContext(N_);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=x.useId();x.useEffect(()=>{if(e)return i(a)},[e]);const o=x.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const r1=e=>e.key||"";function $9(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const He=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",anchorY:c="top",root:d})=>{const[u,h]=dne(o),m=x.useMemo(()=>$9(e),[e]),f=o&&!u?[]:m.map(r1),p=x.useRef(!0),g=x.useRef(m),y=r3(()=>new Map),v=x.useRef(new Set),[b,w]=x.useState(m),[S,j]=x.useState(m);zee(()=>{p.current=!1,g.current=m;for(let _=0;_<S.length;_++){const C=r1(S[_]);f.includes(C)?(y.delete(C),v.current.delete(C)):y.get(C)!==!0&&y.set(C,!1)}},[S,f.length,f.join("-")]);const N=[];if(m!==b){let _=[...m];for(let C=0;C<S.length;C++){const T=S[C],A=r1(T);f.includes(A)||(_.splice(C,0,T),N.push(T))}return a==="wait"&&N.length&&(_=N),j($9(_)),w(m),null}const{forceRender:k}=x.useContext(n3);return s.jsx(s.Fragment,{children:S.map(_=>{const C=r1(_),T=o&&!u?!1:m===S||f.includes(C),A=()=>{if(v.current.has(C))return;if(v.current.add(C),y.has(C))y.set(C,!0);else return;let P=!0;y.forEach(R=>{R||(P=!1)}),P&&(k==null||k(),j(g.current),o&&(h==null||h()),r&&r())};return s.jsx(cMe,{isPresent:T,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:T?void 0:A,anchorX:l,anchorY:c,children:_},C)})})},une=x.createContext({strict:!1}),F9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let B9=!1;function uMe(){if(B9)return;const e={};for(const t in F9)e[t]={isEnabled:n=>F9[t].some(r=>!!n[r])};Bte(e),B9=!0}function hne(){return uMe(),J4e()}function hMe(e){const t=hne();for(const n in e)t[n]={...t[n],...e[n]};Bte(t)}const mMe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function US(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mMe.has(e)}let mne=e=>!US(e);function fMe(e){typeof e=="function"&&(mne=t=>t.startsWith("on")?!US(t):e(t))}try{fMe(require("@emotion/is-prop-valid").default)}catch{}function pMe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(mne(i)||n===!0&&US(i)||!t&&!US(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const E_=x.createContext({});function gMe(e,t){if(C_(e)){const{initial:n,animate:r}=e;return{initial:n===!1||h0(n)?n:void 0,animate:h0(r)?r:void 0}}return e.inherit!==!1?t:{}}function xMe(e){const{initial:t,animate:n}=gMe(e,x.useContext(E_));return x.useMemo(()=>({initial:t,animate:n}),[U9(t),U9(n)])}function U9(e){return Array.isArray(e)?e.join(" "):e}const P3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fne(e,t,n){for(const r in t)!Ms(t[r])&&!Kte(r,n)&&(e[r]=t[r])}function yMe({transformTemplate:e},t){return x.useMemo(()=>{const n=P3();return E3(n,t,e),Object.assign({},n.vars,n.style)},[t])}function vMe(e,t){const n=e.style||{},r={};return fne(r,n,e),Object.assign(r,yMe(e,t)),r}function bMe(e,t){const n={},r=vMe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const pne=()=>({...P3(),attrs:{}});function wMe(e,t,n,r){const i=x.useMemo(()=>{const a=pne();return Gte(a,t,Xte(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};fne(a,e.style,e),i.style={...a,...i.style}}return i}const jMe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I3(e){return typeof e!="string"||e.includes("-")?!1:!!(jMe.indexOf(e)>-1||/[A-Z]/u.test(e))}function SMe(e,t,n,{latestValues:r},i,a=!1,o){const c=(o??I3(e)?wMe:bMe)(t,r,i,e),d=pMe(t,typeof e=="string",a),u=e!==x.Fragment?{...d,...c,ref:n}:{},{children:h}=t,m=x.useMemo(()=>Ms(h)?h.get():h,[h]);return x.createElement(e,{...u,children:m})}function NMe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:kMe(n,r,i,e),renderState:t()}}function kMe(e,t,n,r){const i={},a=r(e,{});for(const m in a)i[m]=pj(a[m]);let{initial:o,animate:l}=e;const c=C_(e),d=Fte(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!__(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const p=w3(e,m[f]);if(p){const{transitionEnd:g,transition:y,...v}=p;for(const b in v){let w=v[b];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(i[b]=w)}for(const b in g)i[b]=g[b]}}}return i}const gne=e=>(t,n)=>{const r=x.useContext(E_),i=x.useContext(N_),a=()=>NMe(e,t,r,i);return n?a():r3(a)},_Me=gne({scrapeMotionValuesFromProps:T3,createRenderState:P3}),CMe=gne({scrapeMotionValuesFromProps:Jte,createRenderState:pne}),EMe=Symbol.for("motionComponentSymbol");function TMe(e,t,n){const r=x.useRef(n);x.useInsertionEffect(()=>{r.current=n});const i=x.useRef(null);return x.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const o=r.current;if(typeof o=="function")if(a){const c=o(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[t])}const xne=x.createContext({});function Ty(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function AMe(e,t,n,r,i,a){var v,b;const{visualElement:o}=x.useContext(E_),l=x.useContext(une),c=x.useContext(N_),d=x.useContext(A3).reducedMotion,u=x.useRef(null),h=x.useRef(!1);r=r||l.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d,isSVG:a}),h.current&&u.current&&(u.current.manuallyAnimateOnMount=!0));const m=u.current,f=x.useContext(xne);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&PMe(u.current,n,i,f);const p=x.useRef(!1);x.useInsertionEffect(()=>{m&&p.current&&m.update(n,c)});const g=n[kte],y=x.useRef(!!g&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,g))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,g)));return zee(()=>{h.current=!0,m&&(p.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),y.current&&m.animationState&&m.animationState.animateChanges())}),x.useEffect(()=>{m&&(!y.current&&m.animationState&&m.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,g)}),y.current=!1),m.enteringChildren=void 0)}),m}function PMe(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:yne(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Ty(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function yne(e){if(e)return e.options.allowProjection!==!1?e.projection:yne(e.parent)}function IT(e,{forwardMotionProps:t=!1,type:n}={},r,i){r&&hMe(r);const a=n?n==="svg":I3(e),o=a?CMe:_Me;function l(d,u){let h;const m={...x.useContext(A3),...d,layoutId:IMe(d)},{isStatic:f}=m,p=xMe(d),g=o(d,f);if(!f&&Uee){OMe();const y=RMe(m);h=y.MeasureLayout,p.visualElement=AMe(e,g,m,i,y.ProjectionNode,a)}return s.jsxs(E_.Provider,{value:p,children:[h&&p.visualElement?s.jsx(h,{visualElement:p.visualElement,...m}):null,SMe(e,d,TMe(g,p.visualElement,u),g,f,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=x.forwardRef(l);return c[EMe]=e,c}function IMe({layoutId:e}){const t=x.useContext(n3).id;return t&&e!==void 0?t+"-"+e:e}function OMe(e,t){x.useContext(une).strict}function RMe(e){const t=hne(),{drag:n,layout:r}=t;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(e)||r!=null&&r.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function MMe(e,t){if(typeof Proxy>"u")return IT;const n=new Map,r=(a,o)=>IT(a,o,e,t),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,IT(o,void 0,e,t)),n.get(o))})}const DMe=(e,t)=>t.isSVG??I3(e)?new f5e(t):new l5e(t,{allowProjection:e!==x.Fragment});class LMe extends Lu{constructor(t){super(t),t.animationState||(t.animationState=v5e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();__(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let $Me=0;class FMe extends Lu{constructor(){super(...arguments),this.id=$Me++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const BMe={animation:{Feature:LMe},exit:{Feature:FMe}};function Xb(e){return{point:{x:e.pageX,y:e.pageY}}}const UMe=e=>t=>k3(t)&&e(t,Xb(t));function iv(e,t,n,r){return m0(e,t,UMe(n),r)}const vne=({current:e})=>e?e.ownerDocument.defaultView:null,z9=(e,t)=>Math.abs(e-t);function zMe(e,t){const n=z9(e.x,t.x),r=z9(e.y,t.y);return Math.sqrt(n**2+r**2)}const V9=new Set(["auto","scroll"]);class bne{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=f=>{this.handleScroll(f.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=RT(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=zMe(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:y}=f,{timestamp:v}=bs;this.history.push({...y,timestamp:v});const{onStart:b,onMove:w}=this.handlers;p||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=OT(p,this.transformPagePoint),Gn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=RT(f.type==="pointercancel"?this.lastMoveEventInfo:OT(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,b),y&&y(f,b)},!k3(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=Xb(t),d=OT(c,this.transformPagePoint),{point:u}=d,{timestamp:h}=bs;this.history=[{...u,timestamp:h}];const{onSessionStart:m}=n;m&&m(t,RT(d,this.history)),this.removeListeners=Kb(iv(this.contextWindow,"pointermove",this.handlePointerMove),iv(this.contextWindow,"pointerup",this.handlePointerUp),iv(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(V9.has(r.overflowX)||V9.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:i.x-n.x,y:i.y-n.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,i),Gn.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),wu(this.updatePoint)}}function OT(e,t){return t?{point:t(e.point)}:e}function q9(e,t){return{x:e.x-t.x,y:e.y-t.y}}function RT({point:e},t){return{point:e,delta:q9(e,wne(t)),offset:q9(e,VMe(t)),velocity:qMe(t,.1)}}function VMe(e){return e[0]}function wne(e){return e[e.length-1]}function qMe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=wne(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>fl(t)));)n--;if(!r)return{x:0,y:0};const a=La(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function WMe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?or(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?or(n,e,r.max):Math.min(e,n)),e}function W9(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function HMe(e,{top:t,left:n,bottom:r,right:i}){return{x:W9(e.x,n,i),y:W9(e.y,t,r)}}function H9(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function KMe(e,t){return{x:H9(e.x,t.x),y:H9(e.y,t.y)}}function GMe(e,t){let n=.5;const r=Zs(e),i=Zs(t);return i>r?n=c0(t.min,t.max-r,e.min):r>i&&(n=c0(e.min,e.max-i,t.min)),kl(0,1,n)}function YMe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const qI=.35;function XMe(e=qI){return e===!1?e=0:e===!0&&(e=qI),{x:K9(e,"left","right"),y:K9(e,"top","bottom")}}function K9(e,t,n){return{min:G9(e,t),max:G9(e,n)}}function G9(e,t){return typeof e=="number"?e:e[t]||0}const JMe=new WeakMap;class QMe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=h=>{n?(this.stopAnimation(),this.snapToCursor(Xb(h).point)):this.pauseAnimation()},o=(h,m)=>{this.stopAnimation();const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F4e(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ka(v=>{let b=this.getAxisMotionValue(v).get()||0;if(pl.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[v];S&&(b=Zs(S)*(parseFloat(b)/100))}}this.originPoint[v]=b}),g&&Gn.postRender(()=>g(h,m)),DI(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=m;if(p&&this.currentDirection===null){this.currentDirection=ZMe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),y&&y(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ka(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new bne(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:vne(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Gn.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!s1(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=WMe(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Ty(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=HMe(r.layoutBox,t):this.constraints=!1,this.elastic=XMe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ka(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=YMe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ty(t))return!1;const r=t.current;ig(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=n5e(r,i.root,this.visualElement.getTransformPagePoint());let o=KMe(i.layout.layoutBox,a);if(n){const l=n(Z4e(o));this.hasMutatedConstraints=!!l,l&&(o=zte(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ka(u=>{if(!s1(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:r?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return DI(this.visualElement,t),r.start(b3(t,r,0,n,this.visualElement,!1))}stopAnimation(){ka(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ka(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ka(n=>{const{drag:r}=this.getProps();if(!s1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n],c=a.get()||0;a.set(t[n]-or(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ty(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ka(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=GMe({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ka(o=>{if(!s1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(or(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;JMe.set(this.visualElement,this);const t=this.visualElement.current,n=iv(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps(),h=c.target,m=h!==t&&Dte(h);d&&u&&!m&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ty(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Gn.read(r);const o=m0(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ka(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=qI,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function s1(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ZMe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class e3e extends Lu{constructor(t){super(t),this.removeGroupControls=Va,this.removeListeners=Va,this.controls=new QMe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Va}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Y9=e=>(t,n)=>{e&&Gn.postRender(()=>e(t,n))};class t3e extends Lu{constructor(){super(...arguments),this.removePointerDownListener=Va}onPointerDown(t){this.session=new bne(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vne(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Y9(t),onStart:Y9(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Gn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=iv(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let MT=!1;class n3e extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),MT&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),gj.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,t.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),MT=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Gn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),N3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;MT=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jne(e){const[t,n]=dne(),r=x.useContext(n3);return s.jsx(n3e,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(xne),isPresent:t,safeToRemove:n})}const r3e={pan:{Feature:t3e},drag:{Feature:e3e,ProjectionNode:cne,MeasureLayout:jne}};function X9(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Gn.postRender(()=>a(t,Xb(t)))}class s3e extends Lu{mount(){const{current:t}=this.node;t&&(this.unmount=B4e(t,(n,r)=>(X9(this.node,r,"Start"),i=>X9(this.node,i,"End"))))}unmount(){}}class i3e extends Lu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kb(m0(this.node.current,"focus",()=>this.onFocus()),m0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function J9(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Gn.postRender(()=>a(t,Xb(t)))}class a3e extends Lu{mount(){const{current:t}=this.node;t&&(this.unmount=V4e(t,(n,r)=>(J9(this.node,r,"Start"),(i,{success:a})=>J9(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const WI=new WeakMap,DT=new WeakMap,o3e=e=>{const t=WI.get(e.target);t&&t(e)},l3e=e=>{e.forEach(o3e)};function c3e({root:e,...t}){const n=e||document;DT.has(n)||DT.set(n,{});const r=DT.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(l3e,{root:e,...t})),r[i]}function d3e(e,t,n){const r=c3e(t);return WI.set(e,n),r.observe(e),()=>{WI.delete(e),r.unobserve(e)}}const u3e={some:0,all:1};class h3e extends Lu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:u3e[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return d3e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(m3e(t,n))&&this.startObserver()}unmount(){}}function m3e({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const f3e={inView:{Feature:h3e},tap:{Feature:a3e},focus:{Feature:i3e},hover:{Feature:s3e}},p3e={layout:{ProjectionNode:cne,MeasureLayout:jne}},g3e={...BMe,...f3e,...r3e,...p3e},E=MMe(g3e,DMe);var Q9={};function x3e(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var y3e=Object.defineProperty,v3e=(e,t,n)=>t in e?y3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z9=(e,t,n)=>v3e(e,typeof t!="symbol"?t+"":t,n);let si=class{constructor(){Z9(this,"_locking"),Z9(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let t;const n=new Promise(i=>t=()=>{this._locks-=1,i()}),r=this._locking.then(()=>t);return this._locking=this._locking.then(()=>n),r}};function wr(e,t){if(!e)throw new Error(t)}const b3e=34028234663852886e22,w3e=-34028234663852886e22,j3e=4294967295,S3e=2147483647,N3e=-2147483648;function xj(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>S3e||e<N3e)throw new Error("invalid int 32: "+e)}function HI(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>j3e||e<0)throw new Error("invalid uint 32: "+e)}function Sne(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>b3e||e<w3e))throw new Error("invalid float 32: "+e)}const Nne=Symbol("@bufbuild/protobuf/enum-type");function k3e(e){const t=e[Nne];return wr(t,"missing enum type on enum object"),t}function kne(e,t,n,r){e[Nne]=_ne(t,n.map(i=>({no:i.no,name:i.name,localName:e[i.no]})))}function _ne(e,t,n){const r=Object.create(null),i=Object.create(null),a=[];for(const o of t){const l=Cne(o);a.push(l),r[o.name]=l,i[o.no]=l}return{typeName:e,values:a,findName(o){return r[o]},findNumber(o){return i[o]}}}function _3e(e,t,n){const r={};for(const i of t){const a=Cne(i);r[a.localName]=a.no,r[a.no]=a.localName}return kne(r,e,t),r}function Cne(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class O3{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const r=this.getType(),i=r.runtime.bin,a=i.makeReadOptions(n);return i.readMessage(this,a.readerFactory(t),t.byteLength,a),this}fromJson(t,n){const r=this.getType(),i=r.runtime.json,a=i.makeReadOptions(n);return i.readMessage(r,t,a,this),this}fromJsonString(t,n){let r;try{r=JSON.parse(t)}catch(i){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(i instanceof Error?i.message:String(i)))}return this.fromJson(r,n)}toBinary(t){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(t),a=i.writerFactory();return r.writeMessage(this,a,i),a.finish()}toJson(t){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(t);return r.writeMessage(this,i)}toJsonString(t){var n;const r=this.toJson(t);return JSON.stringify(r,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function C3e(e,t,n,r){var i;const a=(i=r==null?void 0:r.localName)!==null&&i!==void 0?i:t.substring(t.lastIndexOf(".")+1),o={[a]:function(l){e.util.initFields(this),e.util.initPartial(l,this)}}[a];return Object.setPrototypeOf(o.prototype,new O3),Object.assign(o,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(l,c){return new o().fromBinary(l,c)},fromJson(l,c){return new o().fromJson(l,c)},fromJsonString(l,c){return new o().fromJsonString(l,c)},equals(l,c){return e.util.equals(o,l,c)}}),o}function E3e(){let e=0,t=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function LT(e,t,n){for(let a=0;a<28;a=a+7){const o=e>>>a,l=!(!(o>>>7)&&t==0),c=(l?o|128:o)&255;if(n.push(c),!l)return}const r=e>>>28&15|(t&7)<<4,i=!!(t>>3);if(n.push((i?r|128:r)&255),!!i){for(let a=3;a<31;a=a+7){const o=t>>>a,l=!!(o>>>7),c=(l?o|128:o)&255;if(n.push(c),!l)return}n.push(t>>>31&1)}}const yj=4294967296;function eU(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let r=0,i=0;function a(o,l){const c=Number(e.slice(o,l));i*=n,r=r*n+c,r>=yj&&(i=i+(r/yj|0),r=r%yj)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),t?Tne(r,i):R3(r,i)}function T3e(e,t){let n=R3(e,t);const r=n.hi&2147483648;r&&(n=Tne(n.lo,n.hi));const i=Ene(n.lo,n.hi);return r?"-"+i:i}function Ene(e,t){if({lo:e,hi:t}=A3e(e,t),t<=2097151)return String(yj*t+e);const n=e&16777215,r=(e>>>24|t<<8)&16777215,i=t>>16&65535;let a=n+r*6777216+i*6710656,o=r+i*8147497,l=i*2;const c=1e7;return a>=c&&(o+=Math.floor(a/c),a%=c),o>=c&&(l+=Math.floor(o/c),o%=c),l.toString()+tU(o)+tU(a)}function A3e(e,t){return{lo:e>>>0,hi:t>>>0}}function R3(e,t){return{lo:e|0,hi:t|0}}function Tne(e,t){return t=~t,e?e=~e+1:t+=1,R3(e,t)}const tU=e=>{const t=String(e);return"0000000".slice(t.length)+t};function nU(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function P3e(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function I3e(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof Q9!="object"||Q9.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),o=BigInt("0"),l=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(c){const d=typeof c=="bigint"?c:BigInt(c);if(d>a||d<i)throw new Error("int64 invalid: ".concat(c));return d},uParse(c){const d=typeof c=="bigint"?c:BigInt(c);if(d>l||d<o)throw new Error("uint64 invalid: ".concat(c));return d},enc(c){return e.setBigInt64(0,this.parse(c),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(c){return e.setBigInt64(0,this.uParse(c),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(c,d){return e.setInt32(0,c,!0),e.setInt32(4,d,!0),e.getBigInt64(0,!0)},uDec(c,d){return e.setInt32(0,c,!0),e.setInt32(4,d,!0),e.getBigUint64(0,!0)}}}const n=i=>wr(/^-?[0-9]+$/.test(i),"int64 invalid: ".concat(i)),r=i=>wr(/^[0-9]+$/.test(i),"uint64 invalid: ".concat(i));return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),eU(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),eU(i)},dec(i,a){return T3e(i,a)},uDec(i,a){return Ene(i,a)}}}const er=I3e();var pe;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(pe||(pe={}));var Su;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(Su||(Su={}));function ed(e,t,n){if(t===n)return!0;if(e==pe.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}switch(e){case pe.UINT64:case pe.FIXED64:case pe.INT64:case pe.SFIXED64:case pe.SINT64:return t==n}return!1}function og(e,t){switch(e){case pe.BOOL:return!1;case pe.UINT64:case pe.FIXED64:case pe.INT64:case pe.SFIXED64:case pe.SINT64:return t==0?er.zero:"0";case pe.DOUBLE:case pe.FLOAT:return 0;case pe.BYTES:return new Uint8Array(0);case pe.STRING:return"";default:return 0}}function Ane(e,t){switch(e){case pe.BOOL:return t===!1;case pe.STRING:return t==="";case pe.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var Er;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(Er||(Er={}));class O3e{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let i=0;i<this.chunks.length;i++)t+=this.chunks[i].length;let n=new Uint8Array(t),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(HI(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return xj(t),nU(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){Sne(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){HI(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){xj(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return xj(t),t=(t<<1^t>>31)>>>0,nU(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=er.enc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=er.uEnc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(t){let n=er.enc(t);return LT(n.lo,n.hi,this.buf),this}sint64(t){let n=er.enc(t),r=n.hi>>31,i=n.lo<<1^r,a=(n.hi<<1|n.lo>>>31)^r;return LT(i,a,this.buf),this}uint64(t){let n=er.uEnc(t);return LT(n.lo,n.hi,this.buf),this}}class R3e{constructor(t,n){this.varint64=E3e,this.uint32=P3e,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,r=t&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(t,n){let r=this.pos;switch(t){case Er.Varint:for(;this.buf[this.pos++]&128;);break;case Er.Bit64:this.pos+=4;case Er.Bit32:this.pos+=4;break;case Er.LengthDelimited:let i=this.uint32();this.pos+=i;break;case Er.StartGroup:for(;;){const[a,o]=this.tag();if(o===Er.EndGroup){if(n!==void 0&&a!==n)throw new Error("invalid end group tag");break}this.skip(o,a)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return er.dec(...this.varint64())}uint64(){return er.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),r=-(t&1);return t=(t>>>1|(n&1)<<31)^r,n=n>>>1^r,er.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return er.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return er.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function M3e(e,t,n,r){let i;return{typeName:t,extendee:n,get field(){if(!i){const a=typeof r=="function"?r():r;a.name=t.split(".").pop(),a.jsonName="[".concat(t,"]"),i=e.util.newFieldList([a]).list()[0]}return i},runtime:e}}function Pne(e){const t=e.field.localName,n=Object.create(null);return n[t]=D3e(e),[n,()=>n[t]]}function D3e(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return og(t.T,t.L);case"message":const n=t.T,r=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function L3e(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),T_=[];for(let e=0;e<rc.length;e++)T_[rc[e].charCodeAt(0)]=e;T_[45]=rc.indexOf("+");T_[95]=rc.indexOf("/");const Ine={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),r=0,i=0,a,o=0;for(let l=0;l<e.length;l++){if(a=T_[e.charCodeAt(l)],a===void 0)switch(e[l]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:o=a,i=1;break;case 1:n[r++]=o<<2|(a&48)>>4,o=a,i=2;break;case 2:n[r++]=(o&15)<<4|(a&60)>>2,o=a,i=3;break;case 3:n[r++]=(o&3)<<6|a,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(e){let t="",n=0,r,i=0;for(let a=0;a<e.length;a++)switch(r=e[a],n){case 0:t+=rc[r>>2],i=(r&3)<<4,n=1;break;case 1:t+=rc[i|r>>4],i=(r&15)<<2,n=2;break;case 2:t+=rc[i|r>>6],t+=rc[r&63],n=0;break}return n&&(t+=rc[i],t+="=",n==1&&(t+="=")),t}};function $3e(e,t,n){Rne(t,e);const r=t.runtime.bin.makeReadOptions(n),i=L3e(e.getType().runtime.bin.listUnknownFields(e),t.field),[a,o]=Pne(t);for(const l of i)t.runtime.bin.readField(a,r.readerFactory(l.data),t.field,l.wireType,r);return o()}function F3e(e,t,n,r){Rne(t,e);const i=t.runtime.bin.makeReadOptions(r),a=t.runtime.bin.makeWriteOptions(r);if(One(e,t)){const d=e.getType().runtime.bin.listUnknownFields(e).filter(u=>u.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const u of d)e.getType().runtime.bin.onUnknownField(e,u.no,u.wireType,u.data)}const o=a.writerFactory();let l=t.field;!l.opt&&!l.repeated&&(l.kind=="enum"||l.kind=="scalar")&&(l=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(l,n,o,a);const c=i.readerFactory(o.finish());for(;c.pos<c.len;){const[d,u]=c.tag(),h=c.skip(u,d);e.getType().runtime.bin.onUnknownField(e,d,u,h)}}function One(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(r=>r.no==t.field.no)}function Rne(e,t){wr(e.extendee.typeName==t.getType().typeName,"extension ".concat(e.typeName," can only be applied to message ").concat(e.extendee.typeName))}function Mne(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!Ane(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function rU(e,t){const n=e.localName,r=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=r?e.T.values[0].no:void 0;break;case"scalar":t[n]=r?og(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function sc(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(O3.prototype).every(r=>r in e&&typeof e[r]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function Dne(e,t){return sc(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}pe.DOUBLE,pe.FLOAT,pe.INT64,pe.UINT64,pe.INT32,pe.UINT32,pe.BOOL,pe.STRING,pe.BYTES;const sU={ignoreUnknownFields:!1},iU={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function B3e(e){return e?Object.assign(Object.assign({},sU),e):sU}function U3e(e){return e?Object.assign(Object.assign({},iU),e):iU}const zS=Symbol(),vj=Symbol();function z3e(){return{makeReadOptions:B3e,makeWriteOptions:U3e,readMessage(e,t,n,r){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error("cannot decode message ".concat(e.typeName," from JSON: ").concat(Zo(t)));r=r??new e;const i=new Map,a=n.typeRegistry;for(const[o,l]of Object.entries(t)){const c=e.fields.findJsonName(o);if(c){if(c.oneof){if(l===null&&c.kind=="scalar")continue;const d=i.get(c.oneof);if(d!==void 0)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: multiple keys for oneof "').concat(c.oneof.name,'" present: "').concat(d,'", "').concat(o,'"'));i.set(c.oneof,o)}aU(r,l,c,n,e)}else{let d=!1;if(a!=null&&a.findExtension&&o.startsWith("[")&&o.endsWith("]")){const u=a.findExtension(o.substring(1,o.length-1));if(u&&u.extendee.typeName==e.typeName){d=!0;const[h,m]=Pne(u);aU(h,l,u.field,n,u),F3e(r,u,m(),n)}}if(!d&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(e.typeName,' from JSON: key "').concat(o,'" is unknown'))}}return r},writeMessage(e,t){const n=e.getType(),r={};let i;try{for(i of n.fields.byNumber()){if(!Mne(i,e)){if(i.req)throw"required field not set";if(!t.emitDefaultValues||!q3e(i))continue}const o=i.oneof?e[i.oneof.localName].value:e[i.localName],l=oU(i,o,t);l!==void 0&&(r[t.useProtoFieldName?i.name:i.jsonName]=l)}const a=t.typeRegistry;if(a!=null&&a.findExtensionFor)for(const o of n.runtime.bin.listUnknownFields(e)){const l=a.findExtensionFor(n.typeName,o.no);if(l&&One(e,l)){const c=$3e(e,l,t),d=oU(l.field,c,t);d!==void 0&&(r[l.field.jsonName]=d)}}}catch(a){const o=i?"cannot encode field ".concat(n.typeName,".").concat(i.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),l=a instanceof Error?a.message:String(a);throw new Error(o+(l.length>0?": ".concat(l):""))}return r},readScalar(e,t,n){return av(e,t,n??Su.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||Ane(e,t)))return bj(e,t)},debug:Zo}}function Zo(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":'"'.concat(e.split('"').join('\\"'),'"');default:return String(e)}}function aU(e,t,n,r,i){let a=n.localName;if(n.repeated){if(wr(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Zo(t)));const o=e[a];for(const l of t){if(l===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Zo(l)));switch(n.kind){case"message":o.push(n.T.fromJson(l,r));break;case"enum":const c=$T(n.T,l,r.ignoreUnknownFields,!0);c!==vj&&o.push(c);break;case"scalar":try{o.push(av(n.T,l,n.L,!0))}catch(d){let u="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Zo(l));throw d instanceof Error&&d.message.length>0&&(u+=": ".concat(d.message)),new Error(u)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Zo(t)));const o=e[a];for(const[l,c]of Object.entries(t)){if(c===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: map value null"));let d;try{d=V3e(n.K,l)}catch(u){let h="cannot decode map key for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Zo(t));throw u instanceof Error&&u.message.length>0&&(h+=": ".concat(u.message)),new Error(h)}switch(n.V.kind){case"message":o[d]=n.V.T.fromJson(c,r);break;case"enum":const u=$T(n.V.T,c,r.ignoreUnknownFields,!0);u!==vj&&(o[d]=u);break;case"scalar":try{o[d]=av(n.V.T,c,Su.BIGINT,!0)}catch(h){let m="cannot decode map value for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Zo(t));throw h instanceof Error&&h.message.length>0&&(m+=": ".concat(h.message)),new Error(m)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const o=n.T;if(t===null&&o.typeName!="google.protobuf.Value")return;let l=e[a];sc(l)?l.fromJson(t,r):(e[a]=l=o.fromJson(t,r),o.fieldWrapper&&!n.oneof&&(e[a]=o.fieldWrapper.unwrapField(l)));break;case"enum":const c=$T(n.T,t,r.ignoreUnknownFields,!1);switch(c){case zS:rU(n,e);break;case vj:break;default:e[a]=c;break}break;case"scalar":try{const d=av(n.T,t,n.L,!1);switch(d){case zS:rU(n,e);break;default:e[a]=d;break}}catch(d){let u="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Zo(t));throw d instanceof Error&&d.message.length>0&&(u+=": ".concat(d.message)),new Error(u)}break}}function V3e(e,t){if(e===pe.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return av(e,t,Su.BIGINT,!0).toString()}function av(e,t,n,r){if(t===null)return r?og(e,n):zS;switch(e){case pe.DOUBLE:case pe.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const i=Number(t);if(Number.isNaN(i)||!Number.isFinite(i))break;return e==pe.FLOAT&&Sne(i),i;case pe.INT32:case pe.FIXED32:case pe.SFIXED32:case pe.SINT32:case pe.UINT32:let a;if(typeof t=="number"?a=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(a=Number(t)),a===void 0)break;return e==pe.UINT32||e==pe.FIXED32?HI(a):xj(a),a;case pe.INT64:case pe.SFIXED64:case pe.SINT64:if(typeof t!="number"&&typeof t!="string")break;const o=er.parse(t);return n?o.toString():o;case pe.FIXED64:case pe.UINT64:if(typeof t!="number"&&typeof t!="string")break;const l=er.uParse(t);return n?l.toString():l;case pe.BOOL:if(typeof t!="boolean")break;return t;case pe.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case pe.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return Ine.dec(t)}throw new Error}function $T(e,t,n,r){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:r?e.values[0].no:zS;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const i=e.findName(t);if(i!==void 0)return i.no;if(n)return vj;break}throw new Error("cannot decode enum ".concat(e.typeName," from JSON: ").concat(Zo(t)))}function q3e(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function oU(e,t,n){if(e.kind=="map"){wr(typeof t=="object"&&t!=null);const r={},i=Object.entries(t);switch(e.V.kind){case"scalar":for(const[o,l]of i)r[o.toString()]=bj(e.V.T,l);break;case"message":for(const[o,l]of i)r[o.toString()]=l.toJson(n);break;case"enum":const a=e.V.T;for(const[o,l]of i)r[o.toString()]=FT(a,l,n.enumAsInteger);break}return n.emitDefaultValues||i.length>0?r:void 0}if(e.repeated){wr(Array.isArray(t));const r=[];switch(e.kind){case"scalar":for(let i=0;i<t.length;i++)r.push(bj(e.T,t[i]));break;case"enum":for(let i=0;i<t.length;i++)r.push(FT(e.T,t[i],n.enumAsInteger));break;case"message":for(let i=0;i<t.length;i++)r.push(t[i].toJson(n));break}return n.emitDefaultValues||r.length>0?r:void 0}switch(e.kind){case"scalar":return bj(e.T,t);case"enum":return FT(e.T,t,n.enumAsInteger);case"message":return Dne(e.T,t).toJson(n)}}function FT(e,t,n){var r;if(wr(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const i=e.findNumber(t);return(r=i==null?void 0:i.name)!==null&&r!==void 0?r:t}function bj(e,t){switch(e){case pe.INT32:case pe.SFIXED32:case pe.SINT32:case pe.FIXED32:case pe.UINT32:return wr(typeof t=="number"),t;case pe.FLOAT:case pe.DOUBLE:return wr(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case pe.STRING:return wr(typeof t=="string"),t;case pe.BOOL:return wr(typeof t=="boolean"),t;case pe.UINT64:case pe.FIXED64:case pe.INT64:case pe.SFIXED64:case pe.SINT64:return wr(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case pe.BYTES:return wr(t instanceof Uint8Array),Ine.enc(t)}}const Qm=Symbol("@bufbuild/protobuf/unknown-fields"),lU={readUnknownFields:!0,readerFactory:e=>new R3e(e)},cU={writeUnknownFields:!0,writerFactory:()=>new O3e};function W3e(e){return e?Object.assign(Object.assign({},lU),e):lU}function H3e(e){return e?Object.assign(Object.assign({},cU),e):cU}function K3e(){return{makeReadOptions:W3e,makeWriteOptions:H3e,listUnknownFields(e){var t;return(t=e[Qm])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[Qm]},writeUnknownFields(e,t){const r=e[Qm];if(r)for(const i of r)t.tag(i.no,i.wireType).raw(i.data)},onUnknownField(e,t,n,r){const i=e;Array.isArray(i[Qm])||(i[Qm]=[]),i[Qm].push({no:t,wireType:n,data:r})},readMessage(e,t,n,r,i){const a=e.getType(),o=i?t.len:t.pos+n;let l,c;for(;t.pos<o&&([l,c]=t.tag(),!(i===!0&&c==Er.EndGroup));){const d=a.fields.find(l);if(!d){const u=t.skip(c,l);r.readUnknownFields&&this.onUnknownField(e,l,c,u);continue}dU(e,t,d,c,r)}if(i&&(c!=Er.EndGroup||l!==n))throw new Error("invalid end group tag")},readField:dU,writeMessage(e,t,n){const r=e.getType();for(const i of r.fields.byNumber()){if(!Mne(i,e)){if(i.req)throw new Error("cannot encode field ".concat(r.typeName,".").concat(i.name," to binary: required field not set"));continue}const a=i.oneof?e[i.oneof.localName].value:e[i.localName];uU(i,a,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,r){t!==void 0&&uU(e,t,n,r)}}}function dU(e,t,n,r,i){let{repeated:a,localName:o}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=o&&delete e.value,e.case=o,o="value"),n.kind){case"scalar":case"enum":const l=n.kind=="enum"?pe.INT32:n.T;let c=VS;if(n.kind=="scalar"&&n.L>0&&(c=Y3e),a){let m=e[o];if(r==Er.LengthDelimited&&l!=pe.STRING&&l!=pe.BYTES){let p=t.uint32()+t.pos;for(;t.pos<p;)m.push(c(t,l))}else m.push(c(t,l))}else e[o]=c(t,l);break;case"message":const d=n.T;a?e[o].push(wj(t,new d,i,n)):sc(e[o])?wj(t,e[o],i,n):(e[o]=wj(t,new d,i,n),d.fieldWrapper&&!n.oneof&&!n.repeated&&(e[o]=d.fieldWrapper.unwrapField(e[o])));break;case"map":let[u,h]=G3e(n,t,i);e[o][u]=h;break}}function wj(e,t,n,r){const i=t.getType().runtime.bin,a=r==null?void 0:r.delimited;return i.readMessage(t,e,a?r.no:e.uint32(),n,a),t}function G3e(e,t,n){const r=t.uint32(),i=t.pos+r;let a,o;for(;t.pos<i;){const[l]=t.tag();switch(l){case 1:a=VS(t,e.K);break;case 2:switch(e.V.kind){case"scalar":o=VS(t,e.V.T);break;case"enum":o=t.int32();break;case"message":o=wj(t,new e.V.T,n,void 0);break}break}}if(a===void 0&&(a=og(e.K,Su.BIGINT)),typeof a!="string"&&typeof a!="number"&&(a=a.toString()),o===void 0)switch(e.V.kind){case"scalar":o=og(e.V.T,Su.BIGINT);break;case"enum":o=e.V.T.values[0].no;break;case"message":o=new e.V.T;break}return[a,o]}function Y3e(e,t){const n=VS(e,t);return typeof n=="bigint"?n.toString():n}function VS(e,t){switch(t){case pe.STRING:return e.string();case pe.BOOL:return e.bool();case pe.DOUBLE:return e.double();case pe.FLOAT:return e.float();case pe.INT32:return e.int32();case pe.INT64:return e.int64();case pe.UINT64:return e.uint64();case pe.FIXED64:return e.fixed64();case pe.BYTES:return e.bytes();case pe.FIXED32:return e.fixed32();case pe.SFIXED32:return e.sfixed32();case pe.SFIXED64:return e.sfixed64();case pe.SINT64:return e.sint64();case pe.UINT32:return e.uint32();case pe.SINT32:return e.sint32()}}function uU(e,t,n,r){wr(t!==void 0);const i=e.repeated;switch(e.kind){case"scalar":case"enum":let a=e.kind=="enum"?pe.INT32:e.T;if(i)if(wr(Array.isArray(t)),e.packed)J3e(n,a,e.no,t);else for(const o of t)ov(n,a,e.no,o);else ov(n,a,e.no,t);break;case"message":if(i){wr(Array.isArray(t));for(const o of t)hU(n,r,e,o)}else hU(n,r,e,t);break;case"map":wr(typeof t=="object"&&t!=null);for(const[o,l]of Object.entries(t))X3e(n,r,e,o,l);break}}function X3e(e,t,n,r,i){e.tag(n.no,Er.LengthDelimited),e.fork();let a=r;switch(n.K){case pe.INT32:case pe.FIXED32:case pe.UINT32:case pe.SFIXED32:case pe.SINT32:a=Number.parseInt(r);break;case pe.BOOL:wr(r=="true"||r=="false"),a=r=="true";break}switch(ov(e,n.K,1,a),n.V.kind){case"scalar":ov(e,n.V.T,2,i);break;case"enum":ov(e,pe.INT32,2,i);break;case"message":wr(i!==void 0),e.tag(2,Er.LengthDelimited).bytes(i.toBinary(t));break}e.join()}function hU(e,t,n,r){const i=Dne(n.T,r);n.delimited?e.tag(n.no,Er.StartGroup).raw(i.toBinary(t)).tag(n.no,Er.EndGroup):e.tag(n.no,Er.LengthDelimited).bytes(i.toBinary(t))}function ov(e,t,n,r){wr(r!==void 0);let[i,a]=Lne(t);e.tag(n,i)[a](r)}function J3e(e,t,n,r){if(!r.length)return;e.tag(n,Er.LengthDelimited).fork();let[,i]=Lne(t);for(let a=0;a<r.length;a++)e[i](r[a]);e.join()}function Lne(e){let t=Er.Varint;switch(e){case pe.BYTES:case pe.STRING:t=Er.LengthDelimited;break;case pe.DOUBLE:case pe.FIXED64:case pe.SFIXED64:t=Er.Bit64;break;case pe.FIXED32:case pe.SFIXED32:case pe.FLOAT:t=Er.Bit32;break}const n=pe[e].toLowerCase();return[t,n]}function Q3e(){return{setEnumType:kne,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const r of n.fields.byMember()){const i=r.localName,a=t,o=e;if(o[i]!=null)switch(r.kind){case"oneof":const l=o[i].case;if(l===void 0)continue;const c=r.findField(l);let d=o[i].value;c&&c.kind=="message"&&!sc(d,c.T)?d=new c.T(d):c&&c.kind==="scalar"&&c.T===pe.BYTES&&(d=Hx(d)),a[i]={case:l,value:d};break;case"scalar":case"enum":let u=o[i];r.T===pe.BYTES&&(u=r.repeated?u.map(Hx):Hx(u)),a[i]=u;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===pe.BYTES)for(const[f,p]of Object.entries(o[i]))a[i][f]=Hx(p);else Object.assign(a[i],o[i]);break;case"message":const m=r.V.T;for(const f of Object.keys(o[i])){let p=o[i][f];m.fieldWrapper||(p=new m(p)),a[i][f]=p}break}break;case"message":const h=r.T;if(r.repeated)a[i]=o[i].map(m=>sc(m,h)?m:new h(m));else{const m=o[i];h.fieldWrapper?h.typeName==="google.protobuf.BytesValue"?a[i]=Hx(m):a[i]=m:a[i]=sc(m,h)?m:new h(m)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(r=>{const i=t[r.localName],a=n[r.localName];if(r.repeated){if(i.length!==a.length)return!1;switch(r.kind){case"message":return i.every((o,l)=>r.T.equals(o,a[l]));case"scalar":return i.every((o,l)=>ed(r.T,o,a[l]));case"enum":return i.every((o,l)=>ed(pe.INT32,o,a[l]))}throw new Error("repeated cannot contain ".concat(r.kind))}switch(r.kind){case"message":let o=i,l=a;return r.T.fieldWrapper&&(o!==void 0&&!sc(o)&&(o=r.T.fieldWrapper.wrapField(o)),l!==void 0&&!sc(l)&&(l=r.T.fieldWrapper.wrapField(l))),r.T.equals(o,l);case"enum":return ed(pe.INT32,i,a);case"scalar":return ed(r.T,i,a);case"oneof":if(i.case!==a.case)return!1;const c=r.findField(i.case);if(c===void 0)return!0;switch(c.kind){case"message":return c.T.equals(i.value,a.value);case"enum":return ed(pe.INT32,i.value,a.value);case"scalar":return ed(c.T,i.value,a.value)}throw new Error("oneof cannot contain ".concat(c.kind));case"map":const d=Object.keys(i).concat(Object.keys(a));switch(r.V.kind){case"message":const u=r.V.T;return d.every(m=>u.equals(i[m],a[m]));case"enum":return d.every(m=>ed(pe.INT32,i[m],a[m]));case"scalar":const h=r.V.T;return d.every(m=>ed(h,i[m],a[m]))}break}})},clone(e){const t=e.getType(),n=new t,r=n;for(const i of t.fields.byMember()){const a=e[i.localName];let o;if(i.repeated)o=a.map(i1);else if(i.kind=="map"){o=r[i.localName];for(const[l,c]of Object.entries(a))o[l]=i1(c)}else i.kind=="oneof"?o=i.findField(a.case)?{case:a.case,value:i1(a.value)}:{case:void 0}:o=i1(a);r[i.localName]=o}for(const i of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(r,i.no,i.wireType,i.data);return n}}}function i1(e){if(e===void 0)return e;if(sc(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Hx(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Z3e(e,t,n){return{syntax:e,json:z3e(),bin:K3e(),util:Object.assign(Object.assign({},Q3e()),{newFieldList:t,initFields:n}),makeMessageType(r,i,a){return C3e(this,r,i,a)},makeEnum:_3e,makeEnumType:_ne,getEnumType:k3e,makeExtension(r,i,a){return M3e(this,r,i,a)}}}class eDe{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,t.push(n)):t.push(r)}return this.members}}function $ne(e,t){const n=Fne(e);return t?n:aDe(iDe(n))}function tDe(e){return $ne(e,!1)}const nDe=Fne;function Fne(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);switch(i){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),t=!1;break;default:t&&(t=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const rDe=new Set(["constructor","toString","toJSON","valueOf"]),sDe=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Bne=e=>"".concat(e,"$"),iDe=e=>sDe.has(e)?Bne(e):e,aDe=e=>rDe.has(e)?Bne(e):e;class oDe{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=tDe(t)}addField(t){wr(t.oneof===this,"field ".concat(t.name," not one of ").concat(this.name)),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}function lDe(e,t){var n,r,i,a,o,l;const c=[];let d;for(const u of typeof e=="function"?e():e){const h=u;if(h.localName=$ne(u.name,u.oneof!==void 0),h.jsonName=(n=u.jsonName)!==null&&n!==void 0?n:nDe(u.name),h.repeated=(r=u.repeated)!==null&&r!==void 0?r:!1,u.kind=="scalar"&&(h.L=(i=u.L)!==null&&i!==void 0?i:Su.BIGINT),h.delimited=(a=u.delimited)!==null&&a!==void 0?a:!1,h.req=(o=u.req)!==null&&o!==void 0?o:!1,h.opt=(l=u.opt)!==null&&l!==void 0?l:!1,u.packed===void 0&&(h.packed=u.kind=="enum"||u.kind=="scalar"&&u.T!=pe.BYTES&&u.T!=pe.STRING),u.oneof!==void 0){const m=typeof u.oneof=="string"?u.oneof:u.oneof.name;(!d||d.name!=m)&&(d=new oDe(m)),h.oneof=d,d.addField(h)}c.push(h)}return c}const se=Z3e("proto3",e=>new eDe(e,t=>lDe(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,r=e;if(t.repeated){r[n]=[];continue}switch(t.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=og(t.T,t.L);break}}});class vi extends O3{constructor(t){super(),this.seconds=er.zero,this.nanos=0,se.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(se.json.debug(t)));const r=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=er.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return vi.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new vi({seconds:er.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new vi().fromBinary(t,n)}static fromJson(t,n){return new vi().fromJson(t,n)}static fromJsonString(t,n){return new vi().fromJsonString(t,n)}static equals(t,n){return se.util.equals(vi,t,n)}}vi.runtime=se;vi.typeName="google.protobuf.Timestamp";vi.fields=se.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const cDe=se.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:vi},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:dDe,repeated:!0},{no:5,name:"events",kind:"message",T:hDe,repeated:!0}]),dDe=se.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:uDe,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),uDe=se.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:vi},{no:3,name:"value",kind:"scalar",T:2}]),hDe=se.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:vi},{no:7,name:"normalized_end_timestamp",kind:"message",T:vi,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),Une=se.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),Co=se.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),$r=se.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),M3=se.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),Ay=se.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),f0=se.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),Io=se.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),oh=se.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),mDe=se.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),ls=se.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),A_=se.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:qS,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:ere}]),qS=se.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),fDe=se.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:se.getEnumType($r),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),um=se.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:se.getEnumType(ap)},{no:4,name:"tracks",kind:"message",T:Bf,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:fDe},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:se.getEnumType(p0)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:se.getEnumType(Io)},{no:18,name:"kind_details",kind:"enum",T:se.getEnumType(pDe),repeated:!0}]),ap=se.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),p0=se.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"},{no:7,name:"CONNECTOR"}]),pDe=se.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"}]),Qr=se.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),gDe=se.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:nu,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:se.getEnumType(zne)},{no:6,name:"sdp_cid",kind:"scalar",T:9}]),Bf=se.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:se.getEnumType(Co)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:se.getEnumType($r)},{no:10,name:"layers",kind:"message",T:nu,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:gDe,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:se.getEnumType(Qr)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:ere},{no:19,name:"audio_features",kind:"enum",T:se.getEnumType(ls),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:se.getEnumType(Une)}]),nu=se.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:se.getEnumType(M3)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9}]),zne=se.makeEnum("livekit.VideoLayer.Mode",[{no:0,name:"MODE_UNUSED"},{no:1,name:"ONE_SPATIAL_LAYER_PER_STREAM"},{no:2,name:"MULTIPLE_SPATIAL_LAYERS_PER_STREAM"},{no:3,name:"ONE_SPATIAL_LAYER_PER_STREAM_INCOMPLETE_RTCP_SR"}]),Ys=se.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:se.getEnumType($t)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:D3,oneof:"value"},{no:3,name:"speaker",kind:"message",T:xDe,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:Hne,oneof:"value"},{no:7,name:"transcription",kind:"message",T:yDe,oneof:"value"},{no:8,name:"metrics",kind:"message",T:cDe,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:WS,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:L3,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:$3,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:F3,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:HS,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:KS,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:GS,oneof:"value"},{no:18,name:"encrypted_packet",kind:"message",T:Vne,oneof:"value"},{no:16,name:"sequence",kind:"scalar",T:13},{no:17,name:"participant_sid",kind:"scalar",T:9}]),$t=se.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),Vne=se.makeMessageType("livekit.EncryptedPacket",()=>[{no:1,name:"encryption_type",kind:"enum",T:se.getEnumType(Qr)},{no:2,name:"iv",kind:"scalar",T:12},{no:3,name:"key_index",kind:"scalar",T:13},{no:4,name:"encrypted_value",kind:"scalar",T:12}]),qne=se.makeMessageType("livekit.EncryptedPacketPayload",()=>[{no:1,name:"user",kind:"message",T:D3,oneof:"value"},{no:3,name:"chat_message",kind:"message",T:WS,oneof:"value"},{no:4,name:"rpc_request",kind:"message",T:L3,oneof:"value"},{no:5,name:"rpc_ack",kind:"message",T:$3,oneof:"value"},{no:6,name:"rpc_response",kind:"message",T:F3,oneof:"value"},{no:7,name:"stream_header",kind:"message",T:HS,oneof:"value"},{no:8,name:"stream_chunk",kind:"message",T:KS,oneof:"value"},{no:9,name:"stream_trailer",kind:"message",T:GS,oneof:"value"}]),xDe=se.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:Wne,repeated:!0}]),Wne=se.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),D3=se.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}]),Hne=se.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),yDe=se.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:vDe,repeated:!0}]),vDe=se.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),WS=se.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),L3=se.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),$3=se.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),F3=se.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:Kne,oneof:"value"}]),Kne=se.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),Gne=se.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),Yne=se.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:se.getEnumType(Xne)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),Xne=se.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),Jne=se.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:se.getEnumType(Qne)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),Qne=se.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}]),Zne=se.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:mU},{no:2,name:"screen",kind:"message",T:mU},{no:3,name:"resume_connection",kind:"enum",T:se.getEnumType(f0)},{no:4,name:"disabled_codecs",kind:"message",T:bDe},{no:5,name:"force_relay",kind:"enum",T:se.getEnumType(f0)}]),mU=se.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:se.getEnumType(f0)}]),bDe=se.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:qS,repeated:!0},{no:2,name:"publish",kind:"message",T:qS,repeated:!0}]),ere=se.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),KI=se.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),tre=se.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:se.getEnumType(KI)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),nre=se.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),HS=se.makeMessageType("livekit.DataStream.Header",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:se.getEnumType(Qr)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:tre,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:nre,oneof:"content_header"}],{localName:"DataStream_Header"}),KS=se.makeMessageType("livekit.DataStream.Chunk",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}],{localName:"DataStream_Chunk"}),GS=se.makeMessageType("livekit.DataStream.Trailer",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"DataStream_Trailer"}),wDe=se.makeMessageType("livekit.SubscribedAudioCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"enabled",kind:"scalar",T:8}]),Eo=se.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),GI=se.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),jDe=se.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),SDe=se.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:Nu,oneof:"message"},{no:2,name:"answer",kind:"message",T:Nu,oneof:"message"},{no:3,name:"trickle",kind:"message",T:P_,oneof:"message"},{no:4,name:"add_track",kind:"message",T:g0,oneof:"message"},{no:5,name:"mute",kind:"message",T:I_,oneof:"message"},{no:6,name:"subscription",kind:"message",T:O_,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:rre,oneof:"message"},{no:8,name:"leave",kind:"message",T:R_,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:ire,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:lre,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:q3,oneof:"message"},{no:13,name:"simulate",kind:"message",T:Xo,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:z3,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:ure,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:U3,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:sre,oneof:"message"}]),fU=se.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:NDe,oneof:"message"},{no:2,name:"answer",kind:"message",T:Nu,oneof:"message"},{no:3,name:"offer",kind:"message",T:Nu,oneof:"message"},{no:4,name:"trickle",kind:"message",T:P_,oneof:"message"},{no:5,name:"update",kind:"message",T:CDe,oneof:"message"},{no:6,name:"track_published",kind:"message",T:B3,oneof:"message"},{no:8,name:"leave",kind:"message",T:R_,oneof:"message"},{no:9,name:"mute",kind:"message",T:I_,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:EDe,oneof:"message"},{no:11,name:"room_update",kind:"message",T:TDe,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:PDe,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:ODe,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:MDe,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:LDe,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:_De,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:kDe,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:FDe,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:zDe,oneof:"message"},{no:22,name:"request_response",kind:"message",T:VDe,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:qDe,oneof:"message"},{no:24,name:"room_moved",kind:"message",T:$De,oneof:"message"},{no:25,name:"media_sections_requirement",kind:"message",T:GDe,oneof:"message"},{no:26,name:"subscribed_audio_codec_update",kind:"message",T:DDe,oneof:"message"}]),YI=se.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:nu,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:se.getEnumType(zne)}]),g0=se.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:se.getEnumType(Co)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:se.getEnumType($r)},{no:9,name:"layers",kind:"message",T:nu,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:YI,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:se.getEnumType(Qr)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:se.getEnumType(Une)},{no:17,name:"audio_features",kind:"enum",T:se.getEnumType(ls),repeated:!0}]),P_=se.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:se.getEnumType(Eo)},{no:3,name:"final",kind:"scalar",T:8}]),I_=se.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),NDe=se.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:A_},{no:2,name:"participant",kind:"message",T:um},{no:3,name:"other_participants",kind:"message",T:um,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:are,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:Zne},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:Yne},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:qS,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),kDe=se.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:are,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:Zne},{no:3,name:"server_info",kind:"message",T:Yne},{no:4,name:"last_message_seq",kind:"scalar",T:13}]),B3=se.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:Bf}]),_De=se.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),Nu=se.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13},{no:4,name:"mid_to_track_id",kind:"map",K:9,V:{kind:"scalar",T:9}}]),CDe=se.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:um,repeated:!0}]),O_=se.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:Gne,repeated:!0}]),rre=se.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:se.getEnumType(M3)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),U3=se.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:se.getEnumType(ls),repeated:!0}]),sre=se.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),R_=se.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:se.getEnumType(Io)},{no:3,name:"action",kind:"enum",T:se.getEnumType(op)},{no:4,name:"regions",kind:"message",T:BDe}]),op=se.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),ire=se.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:nu,repeated:!0}]),z3=se.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),are=se.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),EDe=se.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:Wne,repeated:!0}]),TDe=se.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:A_}]),ADe=se.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:se.getEnumType(Ay)},{no:3,name:"score",kind:"scalar",T:2}]),PDe=se.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:ADe,repeated:!0}]),IDe=se.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:se.getEnumType(GI)}]),ODe=se.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:IDe,repeated:!0}]),V3=se.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:se.getEnumType(M3)},{no:2,name:"enabled",kind:"scalar",T:8}]),RDe=se.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:V3,repeated:!0}]),MDe=se.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:V3,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:RDe,repeated:!0}]),DDe=se.makeMessageType("livekit.SubscribedAudioCodecUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_audio_codecs",kind:"message",T:wDe,repeated:!0}]),ore=se.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),lre=se.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:ore,repeated:!0}]),LDe=se.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),$De=se.makeMessageType("livekit.RoomMovedResponse",()=>[{no:1,name:"room",kind:"message",T:A_},{no:2,name:"token",kind:"scalar",T:9},{no:3,name:"participant",kind:"message",T:um},{no:4,name:"other_participants",kind:"message",T:um,repeated:!0}]),q3=se.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:Nu},{no:2,name:"subscription",kind:"message",T:O_},{no:3,name:"publish_tracks",kind:"message",T:B3,repeated:!0},{no:4,name:"data_channels",kind:"message",T:dre,repeated:!0},{no:5,name:"offer",kind:"message",T:Nu},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0},{no:7,name:"datachannel_receive_states",kind:"message",T:cre,repeated:!0}]),cre=se.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}]),dre=se.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:se.getEnumType(Eo)}]),Xo=se.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:se.getEnumType(jDe),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),ure=se.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),FDe=se.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),BDe=se.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:UDe,repeated:!0}]),UDe=se.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),zDe=se.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:se.getEnumType(mDe)}]),VDe=se.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:se.getEnumType(W3)},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"trickle",kind:"message",T:P_,oneof:"request"},{no:5,name:"add_track",kind:"message",T:g0,oneof:"request"},{no:6,name:"mute",kind:"message",T:I_,oneof:"request"},{no:7,name:"update_metadata",kind:"message",T:z3,oneof:"request"},{no:8,name:"update_audio_track",kind:"message",T:U3,oneof:"request"},{no:9,name:"update_video_track",kind:"message",T:sre,oneof:"request"}]),W3=se.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"},{no:4,name:"QUEUED"},{no:5,name:"UNSUPPORTED_TYPE"},{no:6,name:"UNCLASSIFIED_ERROR"}]),qDe=se.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),hre=se.makeMessageType("livekit.ConnectionSettings",()=>[{no:1,name:"auto_subscribe",kind:"scalar",T:8},{no:2,name:"adaptive_stream",kind:"scalar",T:8},{no:3,name:"subscriber_allow_pause",kind:"scalar",T:8,opt:!0},{no:4,name:"disable_ice_lite",kind:"scalar",T:8}]),WDe=se.makeMessageType("livekit.JoinRequest",()=>[{no:1,name:"client_info",kind:"message",T:Jne},{no:2,name:"connection_settings",kind:"message",T:hre},{no:3,name:"metadata",kind:"scalar",T:9},{no:4,name:"participant_attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"add_track_requests",kind:"message",T:g0,repeated:!0},{no:6,name:"publisher_offer",kind:"message",T:Nu},{no:7,name:"reconnect",kind:"scalar",T:8},{no:8,name:"reconnect_reason",kind:"enum",T:se.getEnumType(oh)},{no:9,name:"participant_sid",kind:"scalar",T:9},{no:10,name:"sync_state",kind:"message",T:q3}]),HDe=se.makeMessageType("livekit.WrappedJoinRequest",()=>[{no:1,name:"compression",kind:"enum",T:se.getEnumType(KDe)},{no:2,name:"join_request",kind:"scalar",T:12}]),KDe=se.makeEnum("livekit.WrappedJoinRequest.Compression",[{no:0,name:"NONE"},{no:1,name:"GZIP"}]),GDe=se.makeMessageType("livekit.MediaSectionsRequirement",()=>[{no:1,name:"num_audios",kind:"scalar",T:13},{no:2,name:"num_videos",kind:"scalar",T:13}]);function YDe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jj={exports:{}},XDe=jj.exports,pU;function JDe(){return pU||(pU=1,function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(XDe,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],a={},o=null;function l(g,y){var v=g[y];if(typeof v.bind=="function")return v.bind(g);try{return Function.prototype.bind.call(v,g)}catch{return function(){return Function.prototype.apply.apply(v,[g,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function d(g){return g==="debug"&&(g="log"),typeof console===n?!1:g==="trace"&&r?c:console[g]!==void 0?l(console,g):console.log!==void 0?l(console,"log"):t}function u(){for(var g=this.getLevel(),y=0;y<i.length;y++){var v=i[y];this[v]=y<g?t:this.methodFactory(v,g,this.name)}if(this.log=this.debug,typeof console===n&&g<this.levels.SILENT)return"No console available for logging"}function h(g){return function(){typeof console!==n&&(u.call(this),this[g].apply(this,arguments))}}function m(g,y,v){return d(g)||h.apply(this,arguments)}function f(g,y){var v=this,b,w,S,j="loglevel";typeof g=="string"?j+=":"+g:typeof g=="symbol"&&(j=void 0);function N(A){var P=(i[A]||"silent").toUpperCase();if(!(typeof window===n||!j)){try{window.localStorage[j]=P;return}catch{}try{window.document.cookie=encodeURIComponent(j)+"="+P+";"}catch{}}}function k(){var A;if(!(typeof window===n||!j)){try{A=window.localStorage[j]}catch{}if(typeof A===n)try{var P=window.document.cookie,R=encodeURIComponent(j),D=P.indexOf(R+"=");D!==-1&&(A=/^([^;]+)/.exec(P.slice(D+R.length+1))[1])}catch{}return v.levels[A]===void 0&&(A=void 0),A}}function _(){if(!(typeof window===n||!j)){try{window.localStorage.removeItem(j)}catch{}try{window.document.cookie=encodeURIComponent(j)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function C(A){var P=A;if(typeof P=="string"&&v.levels[P.toUpperCase()]!==void 0&&(P=v.levels[P.toUpperCase()]),typeof P=="number"&&P>=0&&P<=v.levels.SILENT)return P;throw new TypeError("log.setLevel() called with invalid level: "+A)}v.name=g,v.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},v.methodFactory=y||m,v.getLevel=function(){return S??w??b},v.setLevel=function(A,P){return S=C(A),P!==!1&&N(S),u.call(v)},v.setDefaultLevel=function(A){w=C(A),k()||v.setLevel(A,!1)},v.resetLevel=function(){S=null,_(),u.call(v)},v.enableAll=function(A){v.setLevel(v.levels.TRACE,A)},v.disableAll=function(A){v.setLevel(v.levels.SILENT,A)},v.rebuild=function(){if(o!==v&&(b=C(o.getLevel())),u.call(v),o===v)for(var A in a)a[A].rebuild()},b=C(o?o.getLevel():"WARN");var T=k();T!=null&&(S=C(T)),u.call(v)}o=new f,o.getLogger=function(y){if(typeof y!="symbol"&&typeof y!="string"||y==="")throw new TypeError("You must supply a name when creating a logger.");var v=a[y];return v||(v=a[y]=new f(y,o.methodFactory)),v};var p=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=p),o},o.getLoggers=function(){return a},o.default=o,o})}(jj)),jj.exports}var M_=JDe(),XI;(function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"})(XI||(XI={}));var zo;(function(e){e.Default="livekit",e.Room="livekit-room",e.TokenSource="livekit-token-source",e.Participant="livekit-participant",e.Track="livekit-track",e.Publication="livekit-track-publication",e.Engine="livekit-engine",e.Signal="livekit-signal",e.PCManager="livekit-pc-manager",e.PCTransport="livekit-pc-transport",e.E2EE="lk-e2ee"})(zo||(zo={}));let It=M_.getLogger("livekit");Object.values(zo).map(e=>M_.getLogger(e));It.setDefaultLevel(XI.info);function Rc(e){const t=M_.getLogger(e);return t.setDefaultLevel(It.getLevel()),t}const QDe=M_.getLogger("lk-e2ee"),Kx=7e3,ZDe=[0,300,2*2*300,3*3*300,4*4*300,Kx,Kx,Kx,Kx,Kx];class eLe{constructor(t){this._retryDelays=t!==void 0?[...t]:ZDe}nextRetryDelayInMs(t){if(t.retryCount>=this._retryDelays.length)return null;const n=this._retryDelays[t.retryCount];return t.retryCount<=1?n:n+Math.random()*1e3}}function tLe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function W(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})}function gU(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ic(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof gU=="function"?gU(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,c){o=e[a](o),i(l,c,o.done,o.value)})}}function i(a,o,l,c){Promise.resolve(c).then(function(d){a({value:d,done:l})},o)}}var a1={exports:{}},xU;function nLe(){if(xU)return a1.exports;xU=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(j,N,k){return Function.prototype.apply.call(j,N,k)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(j){return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j))}:n=function(j){return Object.getOwnPropertyNames(j)};function r(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(j){return j!==j};function a(){a.init.call(this)}a1.exports=a,a1.exports.once=v,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function l(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");o=S}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||i(j))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+j+".");return this._maxListeners=j,this};function c(S){return S._maxListeners===void 0?a.defaultMaxListeners:S._maxListeners}a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(j){for(var N=[],k=1;k<arguments.length;k++)N.push(arguments[k]);var _=j==="error",C=this._events;if(C!==void 0)_=_&&C.error===void 0;else if(!_)return!1;if(_){var T;if(N.length>0&&(T=N[0]),T instanceof Error)throw T;var A=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw A.context=T,A}var P=C[j];if(P===void 0)return!1;if(typeof P=="function")t(P,this,N);else for(var R=P.length,D=p(P,R),k=0;k<R;++k)t(D[k],this,N);return!0};function d(S,j,N,k){var _,C,T;if(l(N),C=S._events,C===void 0?(C=S._events=Object.create(null),S._eventsCount=0):(C.newListener!==void 0&&(S.emit("newListener",j,N.listener?N.listener:N),C=S._events),T=C[j]),T===void 0)T=C[j]=N,++S._eventsCount;else if(typeof T=="function"?T=C[j]=k?[N,T]:[T,N]:k?T.unshift(N):T.push(N),_=c(S),_>0&&T.length>_&&!T.warned){T.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(j)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=S,A.type=j,A.count=T.length,r(A)}return S}a.prototype.addListener=function(j,N){return d(this,j,N,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(j,N){return d(this,j,N,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(S,j,N){var k={fired:!1,wrapFn:void 0,target:S,type:j,listener:N},_=u.bind(k);return _.listener=N,k.wrapFn=_,_}a.prototype.once=function(j,N){return l(N),this.on(j,h(this,j,N)),this},a.prototype.prependOnceListener=function(j,N){return l(N),this.prependListener(j,h(this,j,N)),this},a.prototype.removeListener=function(j,N){var k,_,C,T,A;if(l(N),_=this._events,_===void 0)return this;if(k=_[j],k===void 0)return this;if(k===N||k.listener===N)--this._eventsCount===0?this._events=Object.create(null):(delete _[j],_.removeListener&&this.emit("removeListener",j,k.listener||N));else if(typeof k!="function"){for(C=-1,T=k.length-1;T>=0;T--)if(k[T]===N||k[T].listener===N){A=k[T].listener,C=T;break}if(C<0)return this;C===0?k.shift():g(k,C),k.length===1&&(_[j]=k[0]),_.removeListener!==void 0&&this.emit("removeListener",j,A||N)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(j){var N,k,_;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[j]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[j]),this;if(arguments.length===0){var C=Object.keys(k),T;for(_=0;_<C.length;++_)T=C[_],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(N=k[j],typeof N=="function")this.removeListener(j,N);else if(N!==void 0)for(_=N.length-1;_>=0;_--)this.removeListener(j,N[_]);return this};function m(S,j,N){var k=S._events;if(k===void 0)return[];var _=k[j];return _===void 0?[]:typeof _=="function"?N?[_.listener||_]:[_]:N?y(_):p(_,_.length)}a.prototype.listeners=function(j){return m(this,j,!0)},a.prototype.rawListeners=function(j){return m(this,j,!1)},a.listenerCount=function(S,j){return typeof S.listenerCount=="function"?S.listenerCount(j):f.call(S,j)},a.prototype.listenerCount=f;function f(S){var j=this._events;if(j!==void 0){var N=j[S];if(typeof N=="function")return 1;if(N!==void 0)return N.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function p(S,j){for(var N=new Array(j),k=0;k<j;++k)N[k]=S[k];return N}function g(S,j){for(;j+1<S.length;j++)S[j]=S[j+1];S.pop()}function y(S){for(var j=new Array(S.length),N=0;N<j.length;++N)j[N]=S[N].listener||S[N];return j}function v(S,j){return new Promise(function(N,k){function _(T){S.removeListener(j,C),k(T)}function C(){typeof S.removeListener=="function"&&S.removeListener("error",_),N([].slice.call(arguments))}w(S,j,C,{once:!0}),j!=="error"&&b(S,_,{once:!0})})}function b(S,j,N){typeof S.on=="function"&&w(S,"error",j,N)}function w(S,j,N,k){if(typeof S.on=="function")k.once?S.once(j,N):S.on(j,N);else if(typeof S.addEventListener=="function")S.addEventListener(j,function _(C){k.once&&S.removeEventListener(j,_),N(C)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return a1.exports}var $l=nLe();let mre=!0,fre=!0;function Py(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function Om(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,l){if(o!==t)return i.apply(this,arguments);const c=d=>{const u=n(d);u&&(l.handleEvent?l.handleEvent(u):l(u))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,c),i.apply(this,[o,c])};const a=r.removeEventListener;r.removeEventListener=function(o,l){if(o!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(l))return a.apply(this,arguments);const c=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,a.apply(this,[o,c])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(o){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),o&&this.addEventListener(t,this["_on"+t]=o)},enumerable:!0,configurable:!0})}function rLe(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(mre=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function sLe(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(fre=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function pre(){if(typeof window=="object"){if(mre)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function H3(e,t){fre&&console.warn(e+" is deprecated, please use "+t+" instead.")}function iLe(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Py(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Py(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Py(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=Py(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function yU(e){return Object.prototype.toString.call(e)==="[object Object]"}function gre(e){return yU(e)?Object.keys(e).reduce(function(t,n){const r=yU(e[n]),i=r?gre(e[n]):e[n],a=r&&!Object.keys(i).length;return i===void 0||a?t:Object.assign(t,{[n]:i})},{}):e}function JI(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?JI(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{JI(e,e.get(i),n)})}))}function vU(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const a=[];return e.forEach(o=>{o.type==="track"&&o.trackIdentifier===t.id&&a.push(o)}),a.forEach(o=>{e.forEach(l=>{l.type===r&&l.trackId===o.id&&JI(e,l,i)})}),i}const bU=pre;function xre(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const c={};return Object.keys(l).forEach(d=>{if(d==="require"||d==="advanced"||d==="mediaSource")return;const u=typeof l[d]=="object"?l[d]:{ideal:l[d]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const h=function(m,f){return m?m+f.charAt(0).toUpperCase()+f.slice(1):f==="deviceId"?"sourceId":f};if(u.ideal!==void 0){c.optional=c.optional||[];let m={};typeof u.ideal=="number"?(m[h("min",d)]=u.ideal,c.optional.push(m),m={},m[h("max",d)]=u.ideal,c.optional.push(m)):(m[h("",d)]=u.ideal,c.optional.push(m))}u.exact!==void 0&&typeof u.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[h("",d)]=u.exact):["min","max"].forEach(m=>{u[m]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[h(m,d)]=u[m])})}),l.advanced&&(c.optional=(c.optional||[]).concat(l.advanced)),c},i=function(l,c){if(t.version>=61)return c(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const d=function(u,h,m){h in u&&!(m in u)&&(u[m]=u[h],delete u[h])};l=JSON.parse(JSON.stringify(l)),d(l.audio,"autoGainControl","googAutoGainControl"),d(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=r(l.audio)}if(l&&typeof l.video=="object"){let d=l.video.facingMode;d=d&&(typeof d=="object"?d:{ideal:d});const u=t.version<66;if(d&&(d.exact==="user"||d.exact==="environment"||d.ideal==="user"||d.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete l.video.facingMode;let h;if(d.exact==="environment"||d.ideal==="environment"?h=["back","rear"]:(d.exact==="user"||d.ideal==="user")&&(h=["front"]),h)return n.mediaDevices.enumerateDevices().then(m=>{m=m.filter(p=>p.kind==="videoinput");let f=m.find(p=>h.some(g=>p.label.toLowerCase().includes(g)));return!f&&m.length&&h.includes("back")&&(f=m[m.length-1]),f&&(l.video.deviceId=d.exact?{exact:f.deviceId}:{ideal:f.deviceId}),l.video=r(l.video),bU("chrome: "+JSON.stringify(l)),c(l)})}l.video=r(l.video)}return bU("chrome: "+JSON.stringify(l)),c(l)},a=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(l,c,d){i(l,u=>{n.webkitGetUserMedia(u,c,h=>{d&&d(a(h))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return i(c,d=>l(d).then(u=>{if(d.audio&&!u.getAudioTracks().length||d.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(h=>{h.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(a(u))))}}}function yre(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function vre(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let a;e.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(l=>l.track&&l.track.id===i.track.id):a={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=a,o.transceiver={receiver:a},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let a;e.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(l=>l.track&&l.track.id===i.id):a={track:i};const o=new Event("track");o.track=i,o.receiver=a,o.transceiver={receiver:a},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Om(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function bre(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,a){return{track:a,get dtmf(){return this._dtmf===void 0&&(a.kind==="audio"?this._dtmf=i.createDTMFSender(a):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,c){let d=i.apply(this,arguments);return d||(d=t(this,l),this._senders.push(d)),d};const a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){a.apply(this,arguments);const c=this._senders.indexOf(l);c!==-1&&this._senders.splice(c,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._senders=this._senders||[],n.apply(this,[a]),a.getTracks().forEach(o=>{this._senders.push(t(this,o))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){this._senders=this._senders||[],r.apply(this,[a]),a.getTracks().forEach(o=>{const l=this._senders.find(c=>c.track===o);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function wre(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const a=n.apply(this,[]);return a.forEach(o=>o._pc=this),a});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const a=r.apply(this,arguments);return a._pc=this,a}),e.RTCRtpSender.prototype.getStats=function(){const a=this;return this._pc.getStats().then(o=>vU(o,a.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(a=>a._pc=this),i}),Om(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(a=>vU(a,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,a,o;return this.getSenders().forEach(l=>{l.track===r&&(i?o=!0:i=l)}),this.getReceivers().forEach(l=>(l.track===r&&(a?o=!0:a=l),l.track===r)),o||i&&a?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():a?a.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function jre(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(c)===-1&&this._shimmedLocalStreams[l.id].push(c):this._shimmedLocalStreams[l.id]=[l,c],c};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(d=>{if(this.getSenders().find(h=>h.track===d))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(d=>l.indexOf(d)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const c=this._shimmedLocalStreams[l].indexOf(o);c!==-1&&this._shimmedLocalStreams[l].splice(c,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),i.apply(this,arguments)}}function Sre(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return jre(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(h=>this._reverseStreams[h.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(h=>{if(this.getSenders().find(f=>f.track===h))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const h=new e.MediaStream(u.getTracks());this._streams[u.id]=h,this._reverseStreams[h.id]=u,u=h}r.apply(this,[u])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},e.RTCPeerConnection.prototype.addTrack=function(u,h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const m=[].slice.call(arguments,1);if(m.length!==1||!m[0].getTracks().find(g=>g===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(g=>g.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const p=this._streams[h.id];if(p)p.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const g=new e.MediaStream([u]);this._streams[h.id]=g,this._reverseStreams[g.id]=h,this.addStream(g)}return this.getSenders().find(g=>g.track===u)};function a(d,u){let h=u.sdp;return Object.keys(d._reverseStreams||[]).forEach(m=>{const f=d._reverseStreams[m],p=d._streams[f.id];h=h.replace(new RegExp(p.id,"g"),f.id)}),new RTCSessionDescription({type:u.type,sdp:h})}function o(d,u){let h=u.sdp;return Object.keys(d._reverseStreams||[]).forEach(m=>{const f=d._reverseStreams[m],p=d._streams[f.id];h=h.replace(new RegExp(f.id,"g"),p.id)}),new RTCSessionDescription({type:u.type,sdp:h})}["createOffer","createAnswer"].forEach(function(d){const u=e.RTCPeerConnection.prototype[d],h={[d](){const m=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[p=>{const g=a(this,p);m[0].apply(null,[g])},p=>{m[1]&&m[1].apply(null,p)},arguments[2]]):u.apply(this,arguments).then(p=>a(this,p))}};e.RTCPeerConnection.prototype[d]=h[d]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=o(this,arguments[0]),l.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const d=c.get.apply(this);return d.type===""?d:a(this,d)}}),e.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let m;Object.keys(this._streams).forEach(f=>{this._streams[f].getTracks().find(g=>u.track===g)&&(m=this._streams[f])}),m&&(m.getTracks().length===1?this.removeStream(this._reverseStreams[m.id]):m.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function QI(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function Nre(e,t){Om(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}var wU=Object.freeze({__proto__:null,fixNegotiationNeeded:Nre,shimAddTrackRemoveTrack:Sre,shimAddTrackRemoveTrackWithNative:jre,shimGetSendersWithDtmf:bre,shimGetUserMedia:xre,shimMediaStream:yre,shimOnTrack:vre,shimPeerConnection:QI,shimSenderReceiverGetStats:wre});function kre(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,a,o){H3("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(a,o)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(o,l,c){l in o&&!(c in o)&&(o[c]=o[l],delete o[l])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),a(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const l=o.apply(this,arguments);return i(l,"mozAutoGainControl","autoGainControl"),i(l,"mozNoiseSuppression","noiseSuppression"),l}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),i(l,"autoGainControl","mozAutoGainControl"),i(l,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[l])}}}}function aLe(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function _re(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ZI(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const a=e.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=o[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[a,o,l]=arguments;return r.apply(this,[a||null]).then(c=>{if(t.version<53&&!o)try{c.forEach(d=>{d.type=n[d.type]||d.type})}catch(d){if(d.name!=="TypeError")throw d;c.forEach((u,h)=>{c.set(h,Object.assign({},u,{type:n[u.type]||u.type}))})}return c}).then(o,l)}}function Cre(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(a=>a._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Ere(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Om(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Tre(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){H3("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Are(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Pre(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const a=t.apply(this,arguments);if(i){const{sender:o}=a,l=o.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(l).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return a})}function Ire(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Ore(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Rre(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var jU=Object.freeze({__proto__:null,shimAddTransceiver:Pre,shimCreateAnswer:Rre,shimCreateOffer:Ore,shimGetDisplayMedia:aLe,shimGetParameters:Ire,shimGetUserMedia:kre,shimOnTrack:_re,shimPeerConnection:ZI,shimRTCDataChannel:Are,shimReceiverGetStats:Ere,shimRemoveStream:Tre,shimSenderGetStats:Cre});function Mre(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return a&&a.forEach(l=>{this._localStreams?this._localStreams.includes(l)||this._localStreams.push(l):this._localStreams=[l]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(a=>{i.includes(a.track)&&this.removeTrack(a)})})}}function Dre(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const a=new Event("addstream");a.stream=i,this.dispatchEvent(a)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(a=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(a)>=0)return;r._remoteStreams.push(a);const o=new Event("addstream");o.stream=a,r.dispatchEvent(o)})}),t.apply(r,arguments)}}}function Lre(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(d,u){const h=arguments.length>=2?arguments[2]:arguments[0],m=n.apply(this,[h]);return u?(m.then(d,u),Promise.resolve()):m},t.createAnswer=function(d,u){const h=arguments.length>=2?arguments[2]:arguments[0],m=r.apply(this,[h]);return u?(m.then(d,u),Promise.resolve()):m};let l=function(c,d,u){const h=i.apply(this,[c]);return u?(h.then(d,u),Promise.resolve()):h};t.setLocalDescription=l,l=function(c,d,u){const h=a.apply(this,[c]);return u?(h.then(d,u),Promise.resolve()):h},t.setRemoteDescription=l,l=function(c,d,u){const h=o.apply(this,[c]);return u?(h.then(d,u),Promise.resolve()):h},t.addIceCandidate=l}function $re(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(Fre(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,i,a){t.mediaDevices.getUserMedia(r).then(i,a)}).bind(t))}function Fre(e){return e&&e.video!==void 0?Object.assign({},e,{video:gre(e.video)}):e}function Bre(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const a=[];for(let o=0;o<r.iceServers.length;o++){let l=r.iceServers[o];l.urls===void 0&&l.url?(H3("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,a.push(l)):a.push(r.iceServers[o])}r.iceServers=a}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Ure(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function zre(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const a=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):r.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Vre(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var SU=Object.freeze({__proto__:null,shimAudioContext:Vre,shimCallbacksAPI:Lre,shimConstraints:Fre,shimCreateOfferLegacy:zre,shimGetUserMedia:$re,shimLocalStreamsAPI:Mre,shimRTCIceServerUrls:Bre,shimRemoteStreamsAPI:Dre,shimTrackEventTransceiver:Ure}),BT={exports:{}},NU;function oLe(){return NU||(NU=1,function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((i,a)=>(a>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(i=>i.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let a=8;a<r.length;a+=2)switch(r[a]){case"raddr":i.relatedAddress=r[a+1];break;case"rport":i.relatedPort=parseInt(r[a+1],10);break;case"tcptype":i.tcpType=r[a+1];break;case"ufrag":i.ufrag=r[a+1],i.usernameFragment=r[a+1];break;default:i[r[a]]===void 0&&(i[r[a]]=r[a+1]);break}return i},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const a=n.type;return r.push("typ"),r.push(a),a!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let i;const a=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<a.length;o++)i=a[o].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const a=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?a.push(o+"="+n.parameters[o]):a.push(o)}),r+="a=fmtp:"+i+" "+a.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(a=>{r+="a=rtcp-fb:"+i+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},a=n.indexOf(":",r);return a>-1?(i.attribute=n.substring(r+1,a),i.value=n.substring(a+1)):i.attribute=n.substring(r+1),i},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(a=>{i+="a=fingerprint:"+a.algorithm+" "+a.value+`\r
`}),i},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],a=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&a?{usernameFragment:i.substring(12),password:a.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=t.splitLines(n)[0].split(" ");r.profile=a[2];for(let l=3;l<a.length;l++){const c=a[l],d=t.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(d){const u=t.parseRtpMap(d),h=t.matchPrefix(n,"a=fmtp:"+c+" ");switch(u.parameters=h.length?t.parseFmtp(h[0]):{},u.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(t.parseRtcpFb),r.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(u.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(l=>{r.headerExtensions.push(t.parseExtmap(l))});const o=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(l=>{o.forEach(c=>{l.rtcpFeedback.find(u=>u.type===c.type&&u.parameter===c.parameter)||l.rtcpFeedback.push(c)})}),r},t.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{i+=t.writeRtpMap(o),i+=t.writeFmtp(o),i+=t.writeRtcpFb(o)});let a=0;return r.codecs.forEach(o=>{o.maxptime>a&&(a=o.maxptime)}),a>0&&(i+="a=maxptime:"+a+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{i+=t.writeExtmap(o)}),i},t.parseRtpEncodingParameters=function(n){const r=[],i=t.parseRtpParameters(n),a=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(n,"a=ssrc:").map(m=>t.parseSsrcMedia(m)).filter(m=>m.attribute==="cname"),c=l.length>0&&l[0].ssrc;let d;const u=t.matchPrefix(n,"a=ssrc-group:FID").map(m=>m.substring(17).split(" ").map(p=>parseInt(p,10)));u.length>0&&u[0].length>1&&u[0][0]===c&&(d=u[0][1]),i.codecs.forEach(m=>{if(m.name.toUpperCase()==="RTX"&&m.parameters.apt){let f={ssrc:c,codecPayloadType:parseInt(m.parameters.apt,10)};c&&d&&(f.rtx={ssrc:d}),r.push(f),a&&(f=JSON.parse(JSON.stringify(f)),f.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(f))}}),r.length===0&&c&&r.push({ssrc:c});let h=t.matchPrefix(n,"b=");return h.length&&(h[0].indexOf("b=TIAS:")===0?h=parseInt(h[0].substring(7),10):h[0].indexOf("b=AS:")===0?h=parseInt(h[0].substring(5),10)*1e3*.95-50*40*8:h=void 0,r.forEach(m=>{m.maxBitrate=h})),r},t.parseRtcpParameters=function(n){const r={},i=t.matchPrefix(n,"a=ssrc:").map(l=>t.parseSsrcMedia(l)).filter(l=>l.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const a=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=a.length>0,r.compound=a.length===0;const o=t.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const a=t.matchPrefix(n,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(a.length>0)return r=a[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:");let a;i.length>0&&(a=parseInt(i[0].substring(19),10)),isNaN(a)&&(a=65536);const o=t.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:a};const l=t.matchPrefix(n,"a=sctpmap:");if(l.length>0){const c=l[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:a}}},t.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,i){let a;const o=r!==void 0?r:2;return n?a=n:a=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+a+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const i=t.splitLines(n);for(let a=0;a<i.length;a++)switch(i[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[a].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const i=t.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){const i=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t}(BT)),BT.exports}var qre=oLe(),lp=YDe(qre),lLe=x3e({__proto__:null,default:lp},[qre]);function Sj(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new t(r),a=lp.parseCandidate(r.candidate);for(const o in a)o in i||Object.defineProperty(i,o,{value:a[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Om(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function eO(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Om(e,"icecandidate",t=>{if(t.candidate){const n=lp.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Nj(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const c=lp.splitSections(l.sdp);return c.shift(),c.some(d=>{const u=lp.parseMLine(d);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(l){const c=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const d=parseInt(c[1],10);return d!==d?-1:d},i=function(l){let c=65536;return t.browser==="firefox"&&(t.version<57?l===-1?c=16384:c=2147483637:t.version<60?c=t.version===57?65535:65536:c=2147483637),c},a=function(l,c){let d=65536;t.browser==="firefox"&&t.version===57&&(d=65535);const u=lp.matchPrefix(l.sdp,"a=max-message-size:");return u.length>0?d=parseInt(u[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(d=2147483637),d},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),d=i(c),u=a(arguments[0],c);let h;d===0&&u===0?h=Number.POSITIVE_INFINITY:d===0||u===0?h=Math.max(d,u):h=Math.min(d,u);const m={};Object.defineProperty(m,"maxMessageSize",{get(){return h}}),this._sctp=m}return o.apply(this,arguments)}}function kj(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const a=r.send;r.send=function(){const l=arguments[0],c=l.length||l.size||l.byteLength;if(r.readyState==="open"&&i.sctp&&c>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return a.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},Om(e,"datachannel",r=>(t(r.channel,r.target),r))}function tO(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const a=i.target;if(a._lastConnectionState!==a.connectionState){a._lastConnectionState=a.connectionState;const o=new Event("connectionstatechange",i);a.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function nO(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const a=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:a}):i.sdp=a}return n.apply(this,arguments)}}function _j(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Cj(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}var cLe=Object.freeze({__proto__:null,removeExtmapAllowMixed:nO,shimAddIceCandidateNullOrEmpty:_j,shimConnectionState:tO,shimMaxMessageSize:Nj,shimParameterlessSetLocalDescription:Cj,shimRTCIceCandidate:Sj,shimRTCIceCandidateRelayProtocol:eO,shimSendThrowTypeError:kj});function dLe(){let{window:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=pre,r=iLe(e),i={browserDetails:r,commonShim:cLe,extractVersion:Py,disableLog:rLe,disableWarnings:sLe,sdp:lLe};switch(r.browser){case"chrome":if(!wU||!QI||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=wU,_j(e,r),Cj(e),xre(e,r),yre(e),QI(e,r),vre(e),Sre(e,r),bre(e),wre(e),Nre(e,r),Sj(e),eO(e),tO(e),Nj(e,r),kj(e),nO(e,r);break;case"firefox":if(!jU||!ZI||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=jU,_j(e,r),Cj(e),kre(e,r),ZI(e,r),_re(e),Tre(e),Cre(e),Ere(e),Are(e),Pre(e),Ire(e),Ore(e),Rre(e),Sj(e),tO(e),Nj(e,r),kj(e);break;case"safari":if(!SU||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=SU,_j(e,r),Cj(e),Bre(e),zre(e),Lre(e),Mre(e),Dre(e),Ure(e),$re(e),Vre(e),Sj(e),eO(e),Nj(e,r),kj(e),nO(e,r);break;default:n("Unsupported browser!");break}return i}dLe({window:typeof window>"u"?void 0:window});class ji extends Promise{constructor(t){super(t)}catch(t){return super.catch(t)}static reject(t){return super.reject(t)}static all(t){return super.all(t)}static race(t){return super.race(t)}}const uLe=/version\/(\d+(\.?_?\d+)+)/i;let UT;function Ei(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof navigator>"u")return;const n=navigator.userAgent.toLowerCase();if(UT===void 0||t){const r=hLe.find(i=>{let{test:a}=i;return a.test(n)});UT=r==null?void 0:r.describe(n)}return UT}const hLe=[{test:/firefox|iceweasel|fxios/i,describe(e){return{name:"Firefox",version:Ej(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:zT(e)}}},{test:/chrom|crios|crmo/i,describe(e){return{name:"Chrome",version:Ej(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e),os:e.toLowerCase().includes("crios")?"iOS":void 0,osVersion:zT(e)}}},{test:/safari|applewebkit/i,describe(e){return{name:"Safari",version:Ej(uLe,e),os:e.includes("mobile/")?"iOS":"macOS",osVersion:zT(e)}}}];function Ej(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=t.match(e);return r&&r.length>=n&&r[n]||""}function zT(e){return e.includes("mac os")?Ej(/\(.+?(\d+_\d+(:?_\d+)?)/,e,1).replace(/_/g,"."):void 0}var mLe="2.17.0";const fLe=mLe,pLe=16;class Fl extends Error{constructor(t,n){super(n||"an error has occured"),this.name="LiveKitError",this.code=t}}var En;(function(e){e[e.NotAllowed=0]="NotAllowed",e[e.ServerUnreachable=1]="ServerUnreachable",e[e.InternalError=2]="InternalError",e[e.Cancelled=3]="Cancelled",e[e.LeaveRequest=4]="LeaveRequest",e[e.Timeout=5]="Timeout",e[e.WebSocket=6]="WebSocket",e[e.ServiceNotFound=7]="ServiceNotFound"})(En||(En={}));class it extends Fl{constructor(t,n,r,i){super(1,t),this.name="ConnectionError",this.status=r,this.reason=n,this.context=i,this.reasonName=En[n]}static notAllowed(t,n,r){return new it(t,En.NotAllowed,n,r)}static timeout(t){return new it(t,En.Timeout)}static leaveRequest(t,n){return new it(t,En.LeaveRequest,void 0,n)}static internal(t,n){return new it(t,En.InternalError,void 0,n)}static cancelled(t){return new it(t,En.Cancelled)}static serverUnreachable(t,n){return new it(t,En.ServerUnreachable,n)}static websocket(t,n,r){return new it(t,En.WebSocket,n,r)}static serviceNotFound(t,n){return new it(t,En.ServiceNotFound,void 0,n)}}class K3 extends Fl{constructor(t){super(21,t??"device is unsupported"),this.name="DeviceUnsupportedError"}}class ac extends Fl{constructor(t){super(20,t??"track is invalid"),this.name="TrackInvalidError"}}class gLe extends Fl{constructor(t){super(10,t??"unsupported server"),this.name="UnsupportedServer"}}class _r extends Fl{constructor(t){super(12,t??"unexpected connection state"),this.name="UnexpectedConnectionState"}}class cp extends Fl{constructor(t){super(13,t??"unable to negotiate"),this.name="NegotiationError"}}class kU extends Fl{constructor(t,n){super(15,t),this.name="PublishTrackError",this.status=n}}class _U extends Fl{constructor(t,n){super(15,t),this.name="SignalRequestError",this.reason=n,this.reasonName=typeof n=="string"?n:W3[n]}}var Ks;(function(e){e[e.AlreadyOpened=0]="AlreadyOpened",e[e.AbnormalEnd=1]="AbnormalEnd",e[e.DecodeFailed=2]="DecodeFailed",e[e.LengthExceeded=3]="LengthExceeded",e[e.Incomplete=4]="Incomplete",e[e.HandlerAlreadyRegistered=7]="HandlerAlreadyRegistered",e[e.EncryptionTypeMismatch=8]="EncryptionTypeMismatch"})(Ks||(Ks={}));class Ca extends Fl{constructor(t,n){super(16,t),this.name="DataStreamError",this.reason=n,this.reasonName=Ks[n]}}class Zm extends Fl{constructor(t){super(18,t),this.name="SignalReconnectError"}}var YS;(function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"})(YS||(YS={}));(function(e){function t(n){if(n&&"name"in n)return n.name==="NotFoundError"||n.name==="DevicesNotFoundError"?e.NotFound:n.name==="NotAllowedError"||n.name==="PermissionDeniedError"?e.PermissionDenied:n.name==="NotReadableError"||n.name==="TrackStartError"?e.DeviceInUse:e.Other}e.getFailure=t})(YS||(YS={}));class js{}js.setTimeout=function(){return setTimeout(...arguments)};js.setInterval=function(){return setInterval(...arguments)};js.clearTimeout=function(){return clearTimeout(...arguments)};js.clearInterval=function(){return clearInterval(...arguments)};var je;(function(e){e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.Moved="moved",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalAudioSilenceDetected="localAudioSilenceDetected",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.ParticipantAttributesChanged="participantAttributesChanged",e.ParticipantActive="participantActive",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.VideoPlaybackStatusChanged="videoPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected",e.RecordingStatusChanged="recordingStatusChanged",e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ActiveDeviceChanged="activeDeviceChanged",e.ChatMessage="chatMessage",e.LocalTrackSubscribed="localTrackSubscribed",e.MetricsReceived="metricsReceived"})(je||(je={}));var Ie;(function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackCpuConstrained="localTrackCpuConstrained",e.LocalSenderCreated="localSenderCreated",e.ParticipantMetadataChanged="participantMetadataChanged",e.ParticipantNameChanged="participantNameChanged",e.DataReceived="dataReceived",e.SipDTMFReceived="sipDTMFReceived",e.TranscriptionReceived="transcriptionReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",e.TrackCpuConstrained="trackCpuConstrained",e.MediaDevicesError="mediaDevicesError",e.AudioStreamAcquired="audioStreamAcquired",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.PCTrackAdded="pcTrackAdded",e.AttributesChanged="attributesChanged",e.LocalTrackSubscribed="localTrackSubscribed",e.ChatMessage="chatMessage",e.Active="active"})(Ie||(Ie={}));var Pe;(function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.SignalRestarted="signalRestarted",e.Closing="closing",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived",e.RTPVideoMapUpdate="rtpVideoMapUpdate",e.DCBufferStatusChanged="dcBufferStatusChanged",e.ParticipantUpdate="participantUpdate",e.RoomUpdate="roomUpdate",e.SpeakersChanged="speakersChanged",e.StreamStateChanged="streamStateChanged",e.ConnectionQualityUpdate="connectionQualityUpdate",e.SubscriptionError="subscriptionError",e.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",e.RemoteMute="remoteMute",e.SubscribedQualityUpdate="subscribedQualityUpdate",e.LocalTrackUnpublished="localTrackUnpublished",e.LocalTrackSubscribed="localTrackSubscribed",e.Offline="offline",e.SignalRequestResponse="signalRequestResponse",e.SignalConnected="signalConnected",e.RoomMoved="roomMoved"})(Pe||(Pe={}));var ke;(function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Restarted="restarted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.CpuConstrained="cpuConstrained",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.VideoPlaybackStarted="videoPlaybackStarted",e.VideoPlaybackFailed="videoPlaybackFailed",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged",e.SubscriptionStatusChanged="subscriptionStatusChanged",e.SubscriptionFailed="subscriptionFailed",e.TrackProcessorUpdate="trackProcessorUpdate",e.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",e.TranscriptionReceived="transcriptionReceived",e.TimeSyncUpdate="timeSyncUpdate",e.PreConnectBufferFlushed="preConnectBufferFlushed"})(ke||(ke={}));function xLe(e){return typeof e>"u"?e:typeof structuredClone=="function"?typeof e=="object"&&e!==null?structuredClone(Object.assign({},e)):structuredClone(e):JSON.parse(JSON.stringify(e))}class _n{constructor(t,n,r,i,a){if(typeof t=="object")this.width=t.width,this.height=t.height,this.aspectRatio=t.aspectRatio,this.encoding={maxBitrate:t.maxBitrate,maxFramerate:t.maxFramerate,priority:t.priority};else if(n!==void 0&&r!==void 0)this.width=t,this.height=n,this.aspectRatio=t/n,this.encoding={maxBitrate:r,maxFramerate:i,priority:a};else throw new TypeError("Unsupported options: provide at least width, height and maxBitrate")}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const yLe=["vp8","h264"],vLe=["vp8","h264","vp9","av1","h265"];function bLe(e){return!!yLe.find(t=>t===e)}const wLe=bLe;var CU;(function(e){e[e.PREFER_REGRESSION=0]="PREFER_REGRESSION",e[e.SIMULCAST=1]="SIMULCAST",e[e.REGRESSION=2]="REGRESSION"})(CU||(CU={}));var rO;(function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:24e3},e.music={maxBitrate:48e3},e.musicStereo={maxBitrate:64e3},e.musicHighQuality={maxBitrate:96e3},e.musicHighQualityStereo={maxBitrate:128e3}})(rO||(rO={}));const x0={h90:new _n(160,90,9e4,20),h180:new _n(320,180,16e4,20),h216:new _n(384,216,18e4,20),h360:new _n(640,360,45e4,20),h540:new _n(960,540,8e5,25),h720:new _n(1280,720,17e5,30),h1080:new _n(1920,1080,3e6,30),h1440:new _n(2560,1440,5e6,30),h2160:new _n(3840,2160,8e6,30)},sO={h120:new _n(160,120,7e4,20),h180:new _n(240,180,125e3,20),h240:new _n(320,240,14e4,20),h360:new _n(480,360,33e4,20),h480:new _n(640,480,5e5,20),h540:new _n(720,540,6e5,25),h720:new _n(960,720,13e5,30),h1080:new _n(1440,1080,23e5,30),h1440:new _n(1920,1440,38e5,30)},G3={h360fps3:new _n(640,360,2e5,3,"medium"),h360fps15:new _n(640,360,4e5,15,"medium"),h720fps5:new _n(1280,720,8e5,5,"medium"),h720fps15:new _n(1280,720,15e5,15,"medium"),h720fps30:new _n(1280,720,2e6,30,"medium"),h1080fps15:new _n(1920,1080,25e5,15,"medium"),h1080fps30:new _n(1920,1080,5e6,30,"medium"),original:new _n(0,0,7e6,30,"medium")};function Wre(e,t,n){var r,i,a,o;const{optionsWithoutProcessor:l,audioProcessor:c,videoProcessor:d}=Gre(e??{}),u=t==null?void 0:t.processor,h=n==null?void 0:n.processor,m=l??{};return m.audio===!0&&(m.audio={}),m.video===!0&&(m.video={}),m.audio&&(iO(m.audio,t),(r=(a=m.audio).deviceId)!==null&&r!==void 0||(a.deviceId={ideal:"default"}),(c||u)&&(m.audio.processor=c??u)),m.video&&(iO(m.video,n),(i=(o=m.video).deviceId)!==null&&i!==void 0||(o.deviceId={ideal:"default"}),(d||h)&&(m.video.processor=d??h)),m}function iO(e,t){return Object.keys(t).forEach(n=>{e[n]===void 0&&(e[n]=t[n])}),e}function Y3(e){var t,n,r,i;const a={};if(e.video)if(typeof e.video=="object"){const o={},l=o,c=e.video;Object.keys(c).forEach(d=>{switch(d){case"resolution":iO(l,c.resolution);break;default:l[d]=c[d]}}),a.video=o,(t=(r=a.video).deviceId)!==null&&t!==void 0||(r.deviceId={ideal:"default"})}else a.video=e.video?{deviceId:{ideal:"default"}}:!1;else a.video=!1;return e.audio?typeof e.audio=="object"?(a.audio=e.audio,(n=(i=a.audio).deviceId)!==null&&n!==void 0||(i.deviceId={ideal:"default"})):a.audio={deviceId:{ideal:"default"}}:a.audio=!1,a}function Hre(e){return W(this,arguments,void 0,function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return function*(){const r=Kre();if(r){const i=r.createAnalyser();i.fftSize=2048;const a=i.frequencyBinCount,o=new Uint8Array(a);r.createMediaStreamSource(new MediaStream([t.mediaStreamTrack])).connect(i),yield Ss(n),i.getByteTimeDomainData(o);const c=o.some(d=>d!==128&&d!==0);return r.close(),!c}return!1}()})}function Kre(){var e;const t=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(t){const n=new t({latencyHint:"interactive"});if(n.state==="suspended"&&typeof window<"u"&&(!((e=window.document)===null||e===void 0)&&e.body)){const r=()=>W(this,void 0,void 0,function*(){var i;try{n.state==="suspended"&&(yield n.resume())}catch(a){console.warn("Error trying to auto-resume audio context",a)}finally{(i=window.document.body)===null||i===void 0||i.removeEventListener("click",r)}});n.addEventListener("statechange",()=>{var i;n.state==="closed"&&((i=window.document.body)===null||i===void 0||i.removeEventListener("click",r))}),window.document.body.addEventListener("click",r)}return n}}function jLe(e){return e==="audioinput"?fe.Source.Microphone:e==="videoinput"?fe.Source.Camera:fe.Source.Unknown}function aO(e){return e===fe.Source.Microphone?"audioinput":e===fe.Source.Camera?"videoinput":void 0}function SLe(e){var t,n;let r=(t=e.video)!==null&&t!==void 0?t:!0;return e.resolution&&e.resolution.width>0&&e.resolution.height>0&&(r=typeof r=="boolean"?{}:r,mm()?r=Object.assign(Object.assign({},r),{width:{max:e.resolution.width},height:{max:e.resolution.height},frameRate:e.resolution.frameRate}):r=Object.assign(Object.assign({},r),{width:{ideal:e.resolution.width},height:{ideal:e.resolution.height},frameRate:e.resolution.frameRate})),{audio:(n=e.audio)!==null&&n!==void 0?n:!1,video:r,controller:e.controller,selfBrowserSurface:e.selfBrowserSurface,surfaceSwitching:e.surfaceSwitching,systemAudio:e.systemAudio,preferCurrentTab:e.preferCurrentTab}}function lv(e){return e.split("/")[1].toLowerCase()}function NLe(e){const t=[];return e.forEach(n=>{n.track!==void 0&&t.push(new B3({cid:n.track.mediaStreamID,track:n.trackInfo}))}),t}function Bt(e){return"mediaStreamTrack"in e?{trackID:e.sid,source:e.source,muted:e.isMuted,enabled:e.mediaStreamTrack.enabled,kind:e.kind,streamID:e.mediaStreamID,streamTrackID:e.mediaStreamTrack.id}:{trackID:e.trackSid,enabled:e.isEnabled,muted:e.isMuted,trackInfo:Object.assign({mimeType:e.mimeType,name:e.trackName,encrypted:e.isEncrypted,kind:e.kind,source:e.source},e.track?Bt(e.track):{})}}function kLe(){return typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver}function _Le(e,t){var n;e===void 0&&(e={}),t===void 0&&(t={});const r=[...Object.keys(t),...Object.keys(e)],i={};for(const a of r)e[a]!==t[a]&&(i[a]=(n=t[a])!==null&&n!==void 0?n:"");return i}function Gre(e){const t=Object.assign({},e);let n,r;return typeof t.audio=="object"&&t.audio.processor&&(n=t.audio.processor,t.audio=Object.assign(Object.assign({},t.audio),{processor:void 0})),typeof t.video=="object"&&t.video.processor&&(r=t.video.processor,t.video=Object.assign(Object.assign({},t.video),{processor:void 0})),{audioProcessor:n,videoProcessor:r,optionsWithoutProcessor:xLe(t)}}function CLe(e){switch(e){case $r.CAMERA:return fe.Source.Camera;case $r.MICROPHONE:return fe.Source.Microphone;case $r.SCREEN_SHARE:return fe.Source.ScreenShare;case $r.SCREEN_SHARE_AUDIO:return fe.Source.ScreenShareAudio;default:return fe.Source.Unknown}}function EU(e,t){return e.width*e.height<t.width*t.height}function ELe(e,t){var n;return(n=e.layers)===null||n===void 0?void 0:n.find(r=>r.quality===t)}const TLe=5e3,Gx=[];var ra;(function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH"})(ra||(ra={}));class fe extends $l.EventEmitter{get streamState(){return this._streamState}setStreamState(t){this._streamState=t}constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i;super(),this.attachedElements=[],this.isMuted=!1,this._streamState=fe.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=It,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),TLe):this.handleAppVisibilityChanged()},this.log=Rc((i=r.loggerName)!==null&&i!==void 0?i:zo.Track),this.loggerContextCb=r.loggerContextCb,this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=t,this._mediaStreamID=t.id,this.source=fe.Source.Unknown}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),Bt(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(t){let n="audio";this.kind===fe.Kind.Video&&(n="video"),this.attachedElements.length===0&&this.kind===fe.Kind.Video&&this.addAppVisibilityListener(),t||(n==="audio"&&(Gx.forEach(a=>{a.parentElement===null&&!t&&(t=a)}),t&&Gx.splice(Gx.indexOf(t),1)),t||(t=document.createElement(n))),this.attachedElements.includes(t)||this.attachedElements.push(t),Uf(this.mediaStreamTrack,t);const r=t.srcObject.getTracks(),i=r.some(a=>a.kind==="audio");return t.play().then(()=>{this.emit(i?ke.AudioPlaybackStarted:ke.VideoPlaybackStarted)}).catch(a=>{a.name==="NotAllowedError"?this.emit(i?ke.AudioPlaybackFailed:ke.VideoPlaybackFailed,a):a.name==="AbortError"?It.debug("".concat(i?"audio":"video"," playback aborted, likely due to new play request")):It.warn("could not playback ".concat(i?"audio":"video"),a),i&&t&&r.some(o=>o.kind==="video")&&a.name==="NotAllowedError"&&(t.muted=!0,t.play().catch(()=>{}))}),this.emit(ke.ElementAttached,t),t}detach(t){try{if(t){dp(this.mediaStreamTrack,t);const r=this.attachedElements.indexOf(t);return r>=0&&(this.attachedElements.splice(r,1),this.recycleElement(t),this.emit(ke.ElementDetached,t)),t}const n=[];return this.attachedElements.forEach(r=>{dp(this.mediaStreamTrack,r),n.push(r),this.recycleElement(r),this.emit(ke.ElementDetached,r)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(t){t.loggerName&&(this.log=Rc(t.loggerName)),t.loggerContextCb&&(this.loggerContextCb=t.loggerContextCb)}recycleElement(t){if(t instanceof HTMLAudioElement){let n=!0;t.pause(),Gx.forEach(r=>{r.parentElement||(n=!1)}),n&&Gx.push(t)}}handleAppVisibilityChanged(){return W(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden",!this.isInBackground&&this.kind===fe.Kind.Video&&setTimeout(()=>this.attachedElements.forEach(t=>t.play().catch(()=>{})),0)})}addAppVisibilityListener(){Si()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){Si()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function Uf(e,t){let n;t.srcObject instanceof MediaStream?n=t.srcObject:n=new MediaStream;let r;e.kind==="audio"?r=n.getAudioTracks():r=n.getVideoTracks(),r.includes(e)||(r.forEach(i=>{n.removeTrack(i)}),n.addTrack(e)),(!mm()||!(t instanceof HTMLVideoElement))&&(t.autoplay=!0),t.muted=n.getAudioTracks().length===0,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(mm()||hm())&&t instanceof HTMLVideoElement&&setTimeout(()=>{t.srcObject=n,t.play().catch(()=>{})},0))}function dp(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}(function(e){let t;(function(d){d.Audio="audio",d.Video="video",d.Unknown="unknown"})(t=e.Kind||(e.Kind={}));let n;(function(d){d.Camera="camera",d.Microphone="microphone",d.ScreenShare="screen_share",d.ScreenShareAudio="screen_share_audio",d.Unknown="unknown"})(n=e.Source||(e.Source={}));let r;(function(d){d.Active="active",d.Paused="paused",d.Unknown="unknown"})(r=e.StreamState||(e.StreamState={}));function i(d){switch(d){case t.Audio:return Co.AUDIO;case t.Video:return Co.VIDEO;default:return Co.DATA}}e.kindToProto=i;function a(d){switch(d){case Co.AUDIO:return t.Audio;case Co.VIDEO:return t.Video;default:return t.Unknown}}e.kindFromProto=a;function o(d){switch(d){case n.Camera:return $r.CAMERA;case n.Microphone:return $r.MICROPHONE;case n.ScreenShare:return $r.SCREEN_SHARE;case n.ScreenShareAudio:return $r.SCREEN_SHARE_AUDIO;default:return $r.UNKNOWN}}e.sourceToProto=o;function l(d){switch(d){case $r.CAMERA:return n.Camera;case $r.MICROPHONE:return n.Microphone;case $r.SCREEN_SHARE:return n.ScreenShare;case $r.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}}e.sourceFromProto=l;function c(d){switch(d){case GI.ACTIVE:return r.Active;case GI.PAUSED:return r.Paused;default:return r.Unknown}}e.streamStateFromProto=c})(fe||(fe={}));const ALe="|",TU="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function PLe(e){const t=e.split(ALe);return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}function Ss(e){return new ji(t=>js.setTimeout(t,e))}function oO(){return"addTransceiver"in RTCPeerConnection.prototype}function lO(){return"addTrack"in RTCPeerConnection.prototype}function ILe(){if(!("getCapabilities"in RTCRtpSender)||mm()||hm())return!1;const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType.toLowerCase()==="video/av1"){t=!0;break}}return t}function OLe(){if(!("getCapabilities"in RTCRtpSender)||hm())return!1;if(mm()){const n=Ei();if(n!=null&&n.version&&Cl(n.version,"16")<0||(n==null?void 0:n.os)==="iOS"&&(n!=null&&n.osVersion)&&Cl(n.osVersion,"16")<0)return!1}const e=RTCRtpSender.getCapabilities("video");let t=!1;if(e){for(const n of e.codecs)if(n.mimeType.toLowerCase()==="video/vp9"){t=!0;break}}return t}function To(e){return e==="av1"||e==="vp9"}function cO(e){return!document||y0()?!1:(e||(e=document.createElement("audio")),"setSinkId"in e)}function RLe(){return typeof RTCPeerConnection>"u"?!1:oO()||lO()}function hm(){var e;return((e=Ei())===null||e===void 0?void 0:e.name)==="Firefox"}function AU(){const e=Ei();return!!e&&e.name==="Chrome"&&e.os!=="iOS"}function mm(){var e;return((e=Ei())===null||e===void 0?void 0:e.name)==="Safari"}function y0(){const e=Ei();return(e==null?void 0:e.name)==="Safari"||(e==null?void 0:e.os)==="iOS"}function MLe(){const e=Ei();return(e==null?void 0:e.name)==="Safari"&&e.version.startsWith("17.")||(e==null?void 0:e.os)==="iOS"&&!!(e!=null&&e.osVersion)&&Cl(e.osVersion,"17")>=0}function DLe(e){return e||(e=Ei()),(e==null?void 0:e.name)==="Safari"&&Cl(e.version,"18.3")>0||(e==null?void 0:e.os)==="iOS"&&!!(e!=null&&e.osVersion)&&Cl(e.osVersion,"18.3")>0}function Yre(){var e,t;return Si()?(t=(e=navigator.userAgentData)===null||e===void 0?void 0:e.mobile)!==null&&t!==void 0?t:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent):!1}function LLe(){const e=Ei(),t="17.2";if(e)return e.name!=="Safari"&&e.os!=="iOS"||e.os==="iOS"&&e.osVersion&&Cl(e.osVersion,t)>=0?!0:e.name==="Safari"&&Cl(e.version,t)>=0}function Si(){return typeof document<"u"}function _l(){return navigator.product=="ReactNative"}function lg(e){return e.hostname.endsWith(".livekit.cloud")||e.hostname.endsWith(".livekit.run")}function VT(e){return lg(e)?e.hostname.split(".")[0]:null}function Xre(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function Jre(){if(!_l())return;let e=Xre();if(e)return e.platform}function PU(){if(Si())return window.devicePixelRatio;if(_l()){let e=Xre();if(e)return e.devicePixelRatio}return 1}function Cl(e,t){const n=e.split("."),r=t.split("."),i=Math.min(n.length,r.length);for(let a=0;a<i;++a){const o=parseInt(n[a],10),l=parseInt(r[a],10);if(o>l)return 1;if(o<l)return-1;if(a===i-1&&o===l)return 0}return e===""&&t!==""?-1:t===""?1:n.length==r.length?0:n.length<r.length?-1:1}function $Le(e){for(const t of e)t.target.handleResize(t)}function FLe(e){for(const t of e)t.target.handleVisibilityChanged(t)}let qT=null;const IU=()=>(qT||(qT=new ResizeObserver($Le)),qT);let WT=null;const OU=()=>(WT||(WT=new IntersectionObserver(FLe,{root:null,rootMargin:"0px"})),WT);function BLe(){var e;const t=new Jne({sdk:Qne.JS,protocol:pLe,version:fLe});return _l()&&(t.os=(e=Jre())!==null&&e!==void 0?e:""),t}function RU(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=document.createElement("canvas");i.width=e,i.height=t;const a=i.getContext("2d");a==null||a.fillRect(0,0,i.width,i.height),r&&a&&(a.beginPath(),a.arc(e/2,t/2,50,0,Math.PI*2,!0),a.closePath(),a.fillStyle="grey",a.fill());const o=i.captureStream(),[l]=o.getTracks();if(!l)throw Error("Could not get empty media stream video track");return l.enabled=n,l}let Yx;function HT(){if(!Yx){const e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);const r=e.createMediaStreamDestination();if(t.connect(n),n.connect(r),t.start(),[Yx]=r.stream.getAudioTracks(),!Yx)throw Error("Could not get empty media stream audio track");Yx.enabled=!1}return Yx.clone()}class $a{get isResolved(){return this._isResolved}constructor(t,n){this._isResolved=!1,this.onFinally=n,this.promise=new Promise((r,i)=>W(this,void 0,void 0,function*(){this.resolve=r,this.reject=i,t&&(yield t(r,i))})).finally(()=>{var r;this._isResolved=!0,(r=this.onFinally)===null||r===void 0||r.call(this)})}}function ULe(e){return vLe.includes(e)}function ru(e){if(typeof e=="string"||typeof e=="number")return e;if(Array.isArray(e))return e[0];if(e.exact!==void 0)return Array.isArray(e.exact)?e.exact[0]:e.exact;if(e.ideal!==void 0)return Array.isArray(e.ideal)?e.ideal[0]:e.ideal;throw Error("could not unwrap constraint")}function zLe(e){return e.startsWith("http")?e.replace(/^(http)/,"ws"):e}function v0(e){return e.startsWith("ws")?e.replace(/^(ws)/,"http"):e}function VLe(e,t){return e.segments.map(n=>{let{id:r,text:i,language:a,startTime:o,endTime:l,final:c}=n;var d;const u=(d=t.get(r))!==null&&d!==void 0?d:Date.now(),h=Date.now();return c?t.delete(r):t.set(r,u),{id:r,text:i,startTime:Number.parseInt(o.toString()),endTime:Number.parseInt(l.toString()),final:c,language:a,firstReceivedTime:u,lastReceivedTime:h}})}function qLe(e){const{id:t,timestamp:n,message:r,editTimestamp:i}=e;return{id:t,timestamp:Number.parseInt(n.toString()),editTimestamp:i?Number.parseInt(i.toString()):void 0,message:r}}function MU(e){switch(e.reason){case En.LeaveRequest:return e.context;case En.Cancelled:return Io.CLIENT_INITIATED;case En.NotAllowed:return Io.USER_REJECTED;case En.ServerUnreachable:return Io.JOIN_FAILURE;default:return Io.UNKNOWN_REASON}}function Tj(e){return e!==void 0?Number(e):void 0}function lh(e){return e!==void 0?BigInt(e):void 0}function up(e){return!!e&&!(e instanceof MediaStreamTrack)&&e.isLocal}function gl(e){return!!e&&e.kind==fe.Kind.Audio}function $u(e){return!!e&&e.kind==fe.Kind.Video}function td(e){return up(e)&&$u(e)}function Xl(e){return up(e)&&gl(e)}function dO(e){return!!e&&!e.isLocal}function WLe(e){return!!e&&!e.isLocal}function KT(e){return dO(e)&&$u(e)}function HLe(e){return e.isLocal}function KLe(e,t){const n=[];let r=new TextEncoder().encode(e);for(;r.length>t;){let i=t;for(;i>0;){const a=r[i];if(a!==void 0&&(a&192)!==128)break;i--}n.push(r.slice(0,i)),r=r.slice(i)}return r.length>0&&n.push(r),n}function GLe(e){var t;const n=e.get("Cache-Control");if(n){const r=(t=n.match(/(?:^|[,\s])max-age=(\d+)/))===null||t===void 0?void 0:t[1];if(r)return parseInt(r,10)}}function YLe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=XLe(e,t);return n?r:X3(r,"v1")}function XLe(e,t){const n=new URL(zLe(e));return t.forEach((r,i)=>{n.searchParams.set(i,r)}),X3(n,"rtc")}function JLe(e){const t=new URL(v0(e));return X3(t,"validate")}function Qre(e){return e.endsWith("/")?e:"".concat(e,"/")}function X3(e,t){return e.pathname="".concat(Qre(e.pathname)).concat(t),e}function DU(e){if(typeof e=="string")return fU.fromJson(JSON.parse(e),{ignoreUnknownFields:!0});if(e instanceof ArrayBuffer)return fU.fromBinary(new Uint8Array(e));throw new Error("could not decode websocket message: ".concat(typeof e))}function QLe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Unknown reason";if(!(e instanceof AbortSignal))return t;const n=e.reason;switch(typeof n){case"string":return n;case"object":return n instanceof Error?n.message:t;default:return"toString"in n?n.toString():t}}const ZLe=10,Xx="lk_e2ee",e$e="LKFrameEncryptionKey",t$e={sharedKey:!1,ratchetSalt:e$e,ratchetWindowSize:8,failureTolerance:ZLe,keyringSize:16};var su;(function(e){e.SetKey="setKey",e.RatchetRequest="ratchetRequest",e.KeyRatcheted="keyRatcheted"})(su||(su={}));var LU;(function(e){e.KeyRatcheted="keyRatcheted"})(LU||(LU={}));var Md;(function(e){e.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",e.EncryptionError="encryptionError"})(Md||(Md={}));var $U;(function(e){e.Error="cryptorError"})($U||($U={}));function n$e(){return r$e()||uO()}function uO(){return typeof window.RTCRtpScriptTransform<"u"}function r$e(){return typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"}function s$e(e){var t,n,r,i,a;if(((t=e.value)===null||t===void 0?void 0:t.case)!=="sipDtmf"&&((n=e.value)===null||n===void 0?void 0:n.case)!=="metrics"&&((r=e.value)===null||r===void 0?void 0:r.case)!=="speaker"&&((i=e.value)===null||i===void 0?void 0:i.case)!=="transcription"&&((a=e.value)===null||a===void 0?void 0:a.case)!=="encryptedPacket")return new qne({value:e.value})}class Ykt extends $l.EventEmitter{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.onKeyRatcheted=(n,r,i)=>{It.debug("key ratcheted event received",{ratchetResult:n,participantId:r,keyIndex:i})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},t$e),t),this.on(su.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(t,n,r){const i={key:t,participantIdentity:n,keyIndex:r};if(!this.options.sharedKey&&!n)throw new Error("participant identity needs to be passed for encryption key if sharedKey option is false");this.keyInfoMap.set("".concat(n??"shared","-").concat(r??0),i),this.emit(su.SetKey,i)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(t,n){this.emit(su.RatchetRequest,t,n)}}var FU;(function(e){e[e.InvalidKey=0]="InvalidKey",e[e.MissingKey=1]="MissingKey",e[e.InternalError=2]="InternalError"})(FU||(FU={}));class i$e extends $l.EventEmitter{constructor(t,n){super(),this.decryptDataRequests=new Map,this.encryptDataRequests=new Map,this.onWorkerMessage=r=>{var i,a;const{kind:o,data:l}=r.data;switch(o){case"error":if(It.error(l.error.message),l.uuid){const u=this.decryptDataRequests.get(l.uuid);if(u!=null&&u.reject){u.reject(l.error);break}const h=this.encryptDataRequests.get(l.uuid);if(h!=null&&h.reject){h.reject(l.error);break}}this.emit(Md.EncryptionError,l.error,l.participantIdentity);break;case"initAck":l.enabled&&this.keyProvider.getKeys().forEach(u=>{this.postKey(u)});break;case"enable":if(l.enabled&&this.keyProvider.getKeys().forEach(u=>{this.postKey(u)}),this.encryptionEnabled!==l.enabled&&l.participantIdentity===((i=this.room)===null||i===void 0?void 0:i.localParticipant.identity))this.emit(Md.ParticipantEncryptionStatusChanged,l.enabled,this.room.localParticipant),this.encryptionEnabled=l.enabled;else if(l.participantIdentity){const u=(a=this.room)===null||a===void 0?void 0:a.getParticipantByIdentity(l.participantIdentity);if(!u)throw TypeError("couldn't set encryption status, participant not found".concat(l.participantIdentity));this.emit(Md.ParticipantEncryptionStatusChanged,l.enabled,u)}break;case"ratchetKey":this.keyProvider.emit(su.KeyRatcheted,l.ratchetResult,l.participantIdentity,l.keyIndex);break;case"decryptDataResponse":const c=this.decryptDataRequests.get(l.uuid);c!=null&&c.resolve&&c.resolve(l);break;case"encryptDataResponse":const d=this.encryptDataRequests.get(l.uuid);d!=null&&d.resolve&&d.resolve(l);break}},this.onWorkerError=r=>{It.error("e2ee worker encountered an error:",{error:r.error}),this.emit(Md.EncryptionError,r.error,void 0)},this.keyProvider=t.keyProvider,this.worker=t.worker,this.encryptionEnabled=!1,this.dataChannelEncryptionEnabled=n}get isEnabled(){return this.encryptionEnabled}get isDataChannelEncryptionEnabled(){return this.isEnabled&&this.dataChannelEncryptionEnabled}setup(t){if(!n$e())throw new K3("tried to setup end-to-end encryption on an unsupported browser");if(It.info("setting up e2ee"),t!==this.room){this.room=t,this.setupEventListeners(t,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:QDe.getLevel()}};this.worker&&(It.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(t,n){It.debug("set e2ee to ".concat(t," for participant ").concat(n)),this.postEnable(t,n)}setSifTrailer(t){!t||t.length===0?It.warn("ignoring server sent trailer as it's empty"):this.postSifTrailer(t)}setupEngine(t){t.on(Pe.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(t,n){t.on(je.TrackPublished,(r,i)=>this.setParticipantCryptorEnabled(r.trackInfo.encryption!==Qr.NONE,i.identity)),t.on(je.ConnectionStateChanged,r=>{r===hn.Connected&&t.remoteParticipants.forEach(i=>{i.trackPublications.forEach(a=>{this.setParticipantCryptorEnabled(a.trackInfo.encryption!==Qr.NONE,i.identity)})})}).on(je.TrackUnsubscribed,(r,i,a)=>{var o;const l={kind:"removeTransform",data:{participantIdentity:a.identity,trackId:r.mediaStreamID}};(o=this.worker)===null||o===void 0||o.postMessage(l)}).on(je.TrackSubscribed,(r,i,a)=>{this.setupE2EEReceiver(r,a.identity,i.trackInfo)}).on(je.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");n.getKeys().forEach(r=>{this.postKey(r)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),t.localParticipant.on(Ie.LocalSenderCreated,(r,i)=>W(this,void 0,void 0,function*(){this.setupE2EESender(i,r)})),t.localParticipant.on(Ie.LocalTrackPublished,r=>{if(!$u(r.track)||!y0())return;const i={kind:"updateCodec",data:{trackId:r.track.mediaStreamID,codec:lv(r.trackInfo.codecs[0].mimeType),participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(i)}),n.on(su.SetKey,r=>this.postKey(r)).on(su.RatchetRequest,(r,i)=>this.postRatchetRequest(r,i))}encryptData(t){return W(this,void 0,void 0,function*(){if(!this.worker)throw Error("could not encrypt data, worker is missing");const n=crypto.randomUUID(),r={kind:"encryptDataRequest",data:{uuid:n,payload:t,participantIdentity:this.room.localParticipant.identity}},i=new $a;return i.onFinally=()=>{this.encryptDataRequests.delete(n)},this.encryptDataRequests.set(n,i),this.worker.postMessage(r),i.promise})}handleEncryptedData(t,n,r,i){if(!this.worker)throw Error("could not handle encrypted data, worker is missing");const a=crypto.randomUUID(),o={kind:"decryptDataRequest",data:{uuid:a,payload:t,iv:n,participantIdentity:r,keyIndex:i}},l=new $a;return l.onFinally=()=>{this.decryptDataRequests.delete(a)},this.decryptDataRequests.set(a,l),this.worker.postMessage(o),l.promise}postRatchetRequest(t,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:t,keyIndex:n}};this.worker.postMessage(r)}postKey(t){let{key:n,participantIdentity:r,keyIndex:i}=t;var a;if(!this.worker)throw Error("could not set key, worker is missing");const o={kind:"setKey",data:{participantIdentity:r,isPublisher:r===((a=this.room)===null||a===void 0?void 0:a.localParticipant.identity),key:n,keyIndex:i}};this.worker.postMessage(o)}postEnable(t,n){if(this.worker){const r={kind:"enable",data:{enabled:t,participantIdentity:n}};this.worker.postMessage(r)}else throw new ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(t){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:t,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(t){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:t}};this.worker.postMessage(n)}setupE2EEReceiver(t,n,r){if(t.receiver){if(!(r!=null&&r.mimeType)||r.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(t.receiver,t.mediaStreamID,n,t.kind==="video"?lv(r.mimeType):void 0)}}setupE2EESender(t,n){if(!up(t)||!n){n||It.warn("early return because sender is not ready");return}this.handleSender(n,t.mediaStreamID,void 0)}handleReceiver(t,n,r,i){return W(this,void 0,void 0,function*(){if(this.worker){if(uO()&&!AU()){const a={kind:"decode",participantIdentity:r,trackId:n,codec:i};t.transform=new RTCRtpScriptTransform(this.worker,a)}else{if(Xx in t&&i){const c={kind:"updateCodec",data:{trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(c);return}let a=t.writableStream,o=t.readableStream;if(!a||!o){const c=t.createEncodedStreams();t.writableStream=c.writable,a=c.writable,t.readableStream=c.readable,o=c.readable}const l={kind:"decode",data:{readableStream:o,writableStream:a,trackId:n,codec:i,participantIdentity:r,isReuse:Xx in t}};this.worker.postMessage(l,[o,a])}t[Xx]=!0}})}handleSender(t,n,r){var i;if(!(Xx in t||!this.worker)){if(!(!((i=this.room)===null||i===void 0)&&i.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(uO()&&!AU()){It.info("initialize script transform");const a={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:r};t.transform=new RTCRtpScriptTransform(this.worker,a)}else{It.info("initialize encoded streams");const a=t.createEncodedStreams(),o={kind:"encode",data:{readableStream:a.readable,writableStream:a.writable,codec:r,trackId:n,participantIdentity:this.room.localParticipant.identity,isReuse:!1}};this.worker.postMessage(o,[a.readable,a.writable])}t[Xx]=!0}}}const a$e=500,o$e=15e3;class hp{constructor(){this.failedConnectionAttempts=new Map,this.backOffPromises=new Map}static getInstance(){return this._instance||(this._instance=new hp),this._instance}addFailedConnectionAttempt(t){var n;const r=new URL(t),i=VT(r);if(!i)return;let a=(n=this.failedConnectionAttempts.get(i))!==null&&n!==void 0?n:0;this.failedConnectionAttempts.set(i,a+1),this.backOffPromises.set(i,Ss(Math.min(a$e*Math.pow(2,a),o$e)))}getBackOffPromise(t){const n=new URL(t),r=n&&VT(n);return r&&this.backOffPromises.get(r)||Promise.resolve()}resetFailedConnectionAttempts(t){const n=new URL(t),r=n&&VT(n);r&&(this.failedConnectionAttempts.set(r,0),this.backOffPromises.set(r,Promise.resolve()))}resetAll(){this.backOffPromises.clear(),this.failedConnectionAttempts.clear()}}hp._instance=null;const GT="default";class cs{constructor(){this._previousDevices=[]}static getInstance(){return this.instance===void 0&&(this.instance=new cs),this.instance}get previousDevices(){return this._previousDevices}getDevices(t){return W(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var a;if(((a=cs.userMediaPromiseMap)===null||a===void 0?void 0:a.size)>0){It.debug("awaiting getUserMedia promise");try{n?yield cs.userMediaPromiseMap.get(n):yield Promise.all(cs.userMediaPromiseMap.values())}catch{It.warn("error waiting for media permissons")}}let o=yield navigator.mediaDevices.enumerateDevices();if(i&&!(mm()&&r.hasDeviceInUse(n))&&(o.filter(c=>c.kind===n).length===0||o.some(c=>{const d=c.label==="",u=n?c.kind===n:!0;return d&&u}))){const c={video:n!=="audioinput"&&n!=="audiooutput",audio:n!=="videoinput"&&{deviceId:{ideal:"default"}}},d=yield navigator.mediaDevices.getUserMedia(c);o=yield navigator.mediaDevices.enumerateDevices(),d.getTracks().forEach(u=>{u.stop()})}return r._previousDevices=o,n&&(o=o.filter(l=>l.kind===n)),o}()})}normalizeDeviceId(t,n,r){return W(this,void 0,void 0,function*(){if(n!==GT)return n;const i=yield this.getDevices(t),a=i.find(l=>l.deviceId===GT);if(!a){It.warn("could not reliably determine default device");return}const o=i.find(l=>l.deviceId!==GT&&l.groupId===(r??a.groupId));if(!o){It.warn("could not reliably determine default device");return}return o==null?void 0:o.deviceId})}hasDeviceInUse(t){return t?cs.userMediaPromiseMap.has(t):cs.userMediaPromiseMap.size>0}}cs.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];cs.userMediaPromiseMap=new Map;var cv;(function(e){e[e.WAITING=0]="WAITING",e[e.RUNNING=1]="RUNNING",e[e.COMPLETED=2]="COMPLETED"})(cv||(cv={}));class l$e{constructor(){this.pendingTasks=new Map,this.taskMutex=new si,this.nextTaskIndex=0}run(t){return W(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:cv.WAITING};this.pendingTasks.set(n.id,n);const r=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=cv.RUNNING,yield t()}finally{n.status=cv.COMPLETED,this.pendingTasks.delete(n.id),r()}})}flush(){return W(this,void 0,void 0,function*(){return this.run(()=>W(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}class c$e{get readyState(){return this.ws.readyState}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r,i;if(!((r=n.signal)===null||r===void 0)&&r.aborted)throw new DOMException("This operation was aborted","AbortError");this.url=t;const a=new WebSocket(t,(i=n.protocols)!==null&&i!==void 0?i:[]);a.binaryType="arraybuffer",this.ws=a;const o=function(){let{closeCode:l,reason:c}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a.close(l,c)};this.opened=new ji((l,c)=>{const d=()=>{c(it.websocket("Encountered websocket error during connection establishment"))};a.onopen=()=>{l({readable:new ReadableStream({start(u){a.onmessage=h=>{let{data:m}=h;return u.enqueue(m)},a.onerror=h=>u.error(h)},cancel:o}),writable:new WritableStream({write(u){a.send(u)},abort(){a.close()},close:o}),protocol:a.protocol,extensions:a.extensions}),a.removeEventListener("error",d)},a.addEventListener("error",d)}),this.closed=new ji((l,c)=>{const d=()=>W(this,void 0,void 0,function*(){const u=new ji(m=>{a.readyState!==WebSocket.CLOSED&&a.addEventListener("close",f=>{m(f)},{once:!0})}),h=yield ji.race([Ss(250),u]);h?l(h):c(it.websocket("Encountered unspecified websocket error without a timely close event"))});a.onclose=u=>{let{code:h,reason:m}=u;l({closeCode:h,reason:m}),a.removeEventListener("error",d)},a.addEventListener("error",d)}),n.signal&&(n.signal.onabort=()=>a.close()),this.close=o}}const d$e=["syncState","trickle","offer","answer","simulate","leave"];function u$e(e){const t=d$e.indexOf(e.case)>=0;return It.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}var Cn;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.RECONNECTING=2]="RECONNECTING",e[e.DISCONNECTING=3]="DISCONNECTING",e[e.DISCONNECTED=4]="DISCONNECTED"})(Cn||(Cn={}));const h$e=250;class J3{get currentState(){return this.state}get isDisconnected(){return this.state===Cn.DISCONNECTING||this.state===Cn.DISCONNECTED}get isEstablishingConnection(){return this.state===Cn.CONNECTING||this.state===Cn.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;this.rtt=0,this.state=Cn.DISCONNECTED,this.log=It,this._requestId=0,this.useV0SignalPath=!1,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0,this.onMediaSectionsRequirement=void 0},this.log=Rc((r=n.loggerName)!==null&&r!==void 0?r:zo.Signal),this.loggerContextCb=n.loggerContextCb,this.useJSON=t,this.requestQueue=new l$e,this.queuedRequests=[],this.closingLock=new si,this.connectionLock=new si,this.state=Cn.DISCONNECTED}get logContext(){var t,n;return(n=(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this))!==null&&n!==void 0?n:{}}join(t,n,r,i){return W(this,arguments,void 0,function(a,o,l,c){var d=this;let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return function*(){return d.state=Cn.CONNECTING,d.options=l,yield d.connect(a,o,l,c,u)}()})}reconnect(t,n,r,i){return W(this,void 0,void 0,function*(){if(!this.options){this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext);return}return this.state=Cn.RECONNECTING,this.clearPingInterval(),yield this.connect(t,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:i}),void 0,this.useV0SignalPath)})}connect(t,n,r,i){return W(this,arguments,void 0,function(a,o,l,c){var d=this;let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return function*(){const h=yield d.connectionLock.lock();d.connectOptions=l,d.useV0SignalPath=u;const m=BLe(),f=u?m$e(o,m,l):f$e(o,m,l),p=YLe(a,f,u).toString(),g=JLe(p).toString();return new Promise((y,v)=>W(d,void 0,void 0,function*(){var b,w;try{let S=!1;const j=T=>W(this,void 0,void 0,function*(){if(S)return;S=!0;const A=T instanceof Event?T.currentTarget:T,P=QLe(A,"Abort handler called");this.streamWriter&&!this.isDisconnected?this.sendLeave().then(()=>this.close(P)).catch(R=>{this.log.error(R),this.close()}):this.close(),N(),v(it.cancelled(P))});c==null||c.addEventListener("abort",j);const N=()=>{clearTimeout(k),c==null||c.removeEventListener("abort",j)},k=setTimeout(()=>{j(it.timeout("room connection has timed out (signal)"))},l.websocketTimeout),_=(T,A)=>{this.handleSignalConnected(T,k,A)},C=new URL(p);C.searchParams.has("access_token")&&C.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(C),Object.assign({reconnect:l.reconnect,reconnectReason:l.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new c$e(p);try{this.ws.closed.then(M=>{var F;this.isEstablishingConnection&&v(it.internal("Websocket got closed during a (re)connection attempt: ".concat(M.reason))),M.closeCode!==1e3&&(this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:M.reason,code:M.closeCode,wasClean:M.closeCode===1e3,state:this.state})),this.state===Cn.CONNECTED&&this.handleOnClose((F=M.reason)!==null&&F!==void 0?F:"Unexpected WS error"))}).catch(M=>{this.isEstablishingConnection&&v(it.internal("Websocket error during a (re)connection attempt: ".concat(M)))});const T=yield this.ws.opened.catch(M=>W(this,void 0,void 0,function*(){if(this.state!==Cn.CONNECTED){this.state=Cn.DISCONNECTED,clearTimeout(k);const F=yield this.handleConnectionError(M,g);v(F);return}this.handleWSError(M),v(M)}));if(clearTimeout(k),!T)return;const A=T.readable.getReader();this.streamWriter=T.writable.getWriter();const P=yield A.read();if(A.releaseLock(),!P.value)throw it.internal("no message received as first message");const R=DU(P.value),D=this.validateFirstMessage(R,(b=l.reconnect)!==null&&b!==void 0?b:!1);if(!D.isValid){v(D.error);return}((w=R.message)===null||w===void 0?void 0:w.case)==="join"&&(this.pingTimeoutDuration=R.message.value.pingTimeout,this.pingIntervalDuration=R.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})));const $=D.shouldProcessFirstMessage?R:void 0;_(T,$),y(D.response)}catch(T){v(T)}finally{N()}}finally{h()}}))}()})}startReadingLoop(t,n){return W(this,void 0,void 0,function*(){for(n&&this.handleSignalResponse(n);;){this.signalLatency&&(yield Ss(this.signalLatency));const{done:r,value:i}=yield t.read();if(r)break;const a=DU(i);this.handleSignalResponse(a)}})}close(){return W(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Close method called on signal client";return function*(){if([Cn.DISCONNECTING||Cn.DISCONNECTED].includes(t.state)){t.log.debug("ignoring signal close as it's already in disconnecting state");return}const i=yield t.closingLock.lock();try{if(t.clearPingInterval(),n&&(t.state=Cn.DISCONNECTING),t.ws){t.ws.close({closeCode:1e3,reason:r});const a=t.ws.closed;t.ws=void 0,t.streamWriter=void 0,yield Promise.race([a,Ss(h$e)])}}catch(a){t.log.debug("websocket error while closing",Object.assign(Object.assign({},t.logContext),{error:a}))}finally{n&&(t.state=Cn.DISCONNECTED),i()}}()})}sendOffer(t,n){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:t.sdp})),this.sendRequest({case:"offer",value:zf(t,n)})}sendAnswer(t,n){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:t.sdp})),this.sendRequest({case:"answer",value:zf(t,n)})}sendIceCandidate(t,n){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:t})),this.sendRequest({case:"trickle",value:new P_({candidateInit:JSON.stringify(t),target:n})})}sendMuteTrack(t,n){return this.sendRequest({case:"mute",value:new I_({sid:t,muted:n})})}sendAddTrack(t){return this.sendRequest({case:"addTrack",value:t})}sendUpdateLocalMetadata(t,n){return W(this,arguments,void 0,function(r,i){var a=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){const l=a.getNextRequestId();return yield a.sendRequest({case:"updateMetadata",value:new z3({requestId:l,metadata:r,name:i,attributes:o})}),l}()})}sendUpdateTrackSettings(t){this.sendRequest({case:"trackSetting",value:t})}sendUpdateSubscription(t){return this.sendRequest({case:"subscription",value:t})}sendSyncState(t){return this.sendRequest({case:"syncState",value:t})}sendUpdateVideoLayers(t,n){return this.sendRequest({case:"updateLayers",value:new ire({trackSid:t,layers:n})})}sendUpdateSubscriptionPermissions(t,n){return this.sendRequest({case:"subscriptionPermission",value:new lre({allParticipants:t,trackPermissions:n})})}sendSimulateScenario(t){return this.sendRequest({case:"simulate",value:t})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:er.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new ure({timestamp:er.parse(Date.now()),rtt:er.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(t,n){return this.sendRequest({case:"updateAudioTrack",value:new U3({trackSid:t,features:n})})}sendLeave(){return this.sendRequest({case:"leave",value:new R_({reason:Io.CLIENT_INITIATED,action:op.DISCONNECT})})}sendRequest(t){return W(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function*(){if(!i&&!u$e(n)&&r.state===Cn.RECONNECTING){r.queuedRequests.push(()=>W(r,void 0,void 0,function*(){yield this.sendRequest(n,!0)}));return}if(i||(yield r.requestQueue.flush()),r.signalLatency&&(yield Ss(r.signalLatency)),r.isDisconnected){r.log.debug("skipping signal request (type: ".concat(n.case,") - SignalClient disconnected"));return}if(!r.streamWriter){r.log.error("cannot send signal request before connected, type: ".concat(n==null?void 0:n.case),r.logContext);return}const o=new SDe({message:n});try{r.useJSON?yield r.streamWriter.write(o.toJsonString()):yield r.streamWriter.write(o.toBinary())}catch(l){r.log.error("error sending signal message",Object.assign(Object.assign({},r.logContext),{error:l}))}}()})}handleSignalResponse(t){var n,r;const i=t.message;if(i==null){this.log.debug("received unsupported message",this.logContext);return}let a=!1;if(i.case==="answer"){const o=BU(i.value);this.onAnswer&&this.onAnswer(o,i.value.id,i.value.midToTrackId)}else if(i.case==="offer"){const o=BU(i.value);this.onOffer&&this.onOffer(o,i.value.id,i.value.midToTrackId)}else if(i.case==="trickle"){const o=JSON.parse(i.value.candidateInit);this.onTrickle&&this.onTrickle(o,i.value.target)}else i.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=i.value.participants)!==null&&n!==void 0?n:[]):i.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.value):i.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((r=i.value.speakers)!==null&&r!==void 0?r:[]):i.case==="leave"?this.onLeave&&this.onLeave(i.value):i.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.value.sid,i.value.muted):i.case==="roomUpdate"?this.onRoomUpdate&&i.value.room&&this.onRoomUpdate(i.value.room):i.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(i.value):i.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.value):i.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.value):i.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.value):i.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(i.value):i.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.value):i.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(i.value):i.case==="pong"||(i.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(i.value.lastPingTimestamp.toString()),this.resetPingTimeout(),a=!0):i.case==="requestResponse"?this.onRequestResponse&&this.onRequestResponse(i.value):i.case==="trackSubscribed"?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(i.value.trackSid):i.case==="roomMoved"?(this.onTokenRefresh&&this.onTokenRefresh(i.value.token),this.onRoomMoved&&this.onRoomMoved(i.value)):i.case==="mediaSectionsRequirement"?this.onMediaSectionsRequirement&&this.onMediaSectionsRequirement(i.value):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:i.case})));a||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const t=this.queuedRequests.shift();t&&this.requestQueue.run(t)}}handleOnClose(t){return W(this,void 0,void 0,function*(){if(this.state===Cn.DISCONNECTED)return;const n=this.onClose;yield this.close(void 0,t),this.log.debug("websocket connection closed: ".concat(t),Object.assign(Object.assign({},this.logContext),{reason:t})),n&&n(t)})}handleWSError(t){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:t}))}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){this.log.warn("ping timeout duration not set",this.logContext);return}this.pingTimeout=js.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-this.pingTimeoutDuration*1e3).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},this.pingTimeoutDuration*1e3)}clearPingTimeout(){this.pingTimeout&&js.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){this.log.warn("ping interval duration not set",this.logContext);return}this.log.debug("start ping interval",this.logContext),this.pingInterval=js.setInterval(()=>{this.sendPing()},this.pingIntervalDuration*1e3)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&js.clearInterval(this.pingInterval)}handleSignalConnected(t,n,r){this.state=Cn.CONNECTED,clearTimeout(n),this.startPingInterval(),this.startReadingLoop(t.readable.getReader(),r)}validateFirstMessage(t,n){var r,i,a,o,l;return((r=t.message)===null||r===void 0?void 0:r.case)==="join"?{isValid:!0,response:t.message.value}:this.state===Cn.RECONNECTING&&((i=t.message)===null||i===void 0?void 0:i.case)!=="leave"?((a=t.message)===null||a===void 0?void 0:a.case)==="reconnect"?{isValid:!0,response:t.message.value}:(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),{isValid:!0,response:void 0,shouldProcessFirstMessage:!0}):this.isEstablishingConnection&&((o=t.message)===null||o===void 0?void 0:o.case)==="leave"?{isValid:!1,error:it.leaveRequest("Received leave request while trying to (re)connect",t.message.value.reason)}:n?{isValid:!1,error:it.internal("Unexpected first message")}:{isValid:!1,error:it.internal("did not receive join response, got ".concat((l=t.message)===null||l===void 0?void 0:l.case," instead"))}}handleConnectionError(t,n){return W(this,void 0,void 0,function*(){try{const r=yield fetch(n);switch(r.status){case 404:return it.serviceNotFound("v1 RTC path not found. Consider upgrading your LiveKit server version","v0-rtc");case 401:case 403:const i=yield r.text();return it.notAllowed(i,r.status);default:break}return t instanceof it?t:it.internal("Encountered unknown websocket error during connection: ".concat(t),{status:r.status,statusText:r.statusText})}catch(r){return r instanceof it?r:it.serverUnreachable(r instanceof Error?r.message:"server was not reachable")}})}}function BU(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type;break}return t}function zf(e,t){return new Nu({sdp:e.sdp,type:e.type,id:t})}function m$e(e,t,n){var r;const i=new URLSearchParams;return i.set("access_token",e),n.reconnect&&(i.set("reconnect","1"),n.sid&&i.set("sid",n.sid)),i.set("auto_subscribe",n.autoSubscribe?"1":"0"),i.set("sdk",_l()?"reactnative":"js"),i.set("version",t.version),i.set("protocol",t.protocol.toString()),t.deviceModel&&i.set("device_model",t.deviceModel),t.os&&i.set("os",t.os),t.osVersion&&i.set("os_version",t.osVersion),t.browser&&i.set("browser",t.browser),t.browserVersion&&i.set("browser_version",t.browserVersion),n.adaptiveStream&&i.set("adaptive_stream","1"),n.reconnectReason&&i.set("reconnect_reason",n.reconnectReason.toString()),!((r=navigator.connection)===null||r===void 0)&&r.type&&i.set("network",navigator.connection.type),i}function f$e(e,t,n){const r=new URLSearchParams;r.set("access_token",e);const i=new WDe({clientInfo:t,connectionSettings:new hre({autoSubscribe:!!n.autoSubscribe,adaptiveStream:!!n.adaptiveStream}),reconnect:!!n.reconnect,participantSid:n.sid?n.sid:void 0});n.reconnectReason&&(i.reconnectReason=n.reconnectReason);const a=new HDe({joinRequest:i.toBinary()});return r.set("join_request",btoa(new TextDecoder("utf-8").decode(a.toBinary()))),r}class UU{constructor(){this.buffer=[],this._totalSize=0}push(t){this.buffer.push(t),this._totalSize+=t.data.byteLength}pop(){const t=this.buffer.shift();return t&&(this._totalSize-=t.data.byteLength),t}getAll(){return this.buffer.slice()}popToSequence(t){for(;this.buffer.length>0&&this.buffer[0].sequence<=t;)this.pop()}alignBufferedAmount(t){for(;this.buffer.length>0;){const n=this.buffer[0];if(this._totalSize-n.data.byteLength<=t)break;this.pop()}}get length(){return this.buffer.length}}class p$e{constructor(t){this._map=new Map,this._lastCleanup=0,this.ttl=t}set(t,n){const r=Date.now();r-this._lastCleanup>this.ttl/2&&this.cleanup();const i=r+this.ttl;return this._map.set(t,{value:n,expiresAt:i}),this}get(t){const n=this._map.get(t);if(n){if(n.expiresAt<Date.now()){this._map.delete(t);return}return n.value}}has(t){const n=this._map.get(t);return n?n.expiresAt<Date.now()?(this._map.delete(t),!1):!0:!1}delete(t){return this._map.delete(t)}clear(){this._map.clear()}cleanup(){const t=Date.now();for(const[n,r]of this._map.entries())r.expiresAt<t&&this._map.delete(n);this._lastCleanup=t}get size(){return this.cleanup(),this._map.size}forEach(t){this.cleanup();for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&t(r.value,n,this.asValueMap())}map(t){this.cleanup();const n=[],r=this.asValueMap();for(const[i,a]of r.entries())n.push(t(a,i,r));return n}asValueMap(){const t=new Map;for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&t.set(n,r.value);return t}}var lo={},YT={},XT={exports:{}},zU;function Q3(){if(zU)return XT.exports;zU=1;var e=XT.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=t.raddr!=null?" raddr %s rport %d":"%v%v",n+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(n+=" generation %d"),n+=t["network-id"]!=null?" network-id %d":"%v",n+=t["network-cost"]!=null?" network-cost %d":"%v",n}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return t.attribute!=null&&(n+=" %s",t.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=t.id!=null?"id=%s %s":"%v%s",n+=t.mediaClockValue!=null?"=%s":"",n+=t.rateNumerator!=null?" rate=%s":"",n+=t.rateDenominator!=null?"/%s":"",n}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(e).forEach(function(t){var n=e[t];n.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})}),XT.exports}var VU;function g$e(){return VU||(VU=1,function(e){var t=function(l){return String(Number(l))===l?Number(l):l},n=function(l,c,d,u){if(u&&!d)c[u]=t(l[1]);else for(var h=0;h<d.length;h+=1)l[h+1]!=null&&(c[d[h]]=t(l[h+1]))},r=function(l,c,d){var u=l.name&&l.names;l.push&&!c[l.push]?c[l.push]=[]:u&&!c[l.name]&&(c[l.name]={});var h=l.push?{}:u?c[l.name]:c;n(d.match(l.reg),h,l.names,l.name),l.push&&c[l.push].push(h)},i=Q3(),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(l){var c={},d=[],u=c;return l.split(/(\r\n|\r|\n)/).filter(a).forEach(function(h){var m=h[0],f=h.slice(2);m==="m"&&(d.push({rtp:[],fmtp:[]}),u=d[d.length-1]);for(var p=0;p<(i[m]||[]).length;p+=1){var g=i[m][p];if(g.reg.test(f))return r(g,u,f)}}),c.media=d,c};var o=function(l,c){var d=c.split(/=(.+)/,2);return d.length===2?l[d[0]]=t(d[1]):d.length===1&&c.length>1&&(l[d[0]]=void 0),l};e.parseParams=function(l){return l.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(l){return l.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(l){for(var c=[],d=l.split(" ").map(t),u=0;u<d.length;u+=3)c.push({component:d[u],ip:d[u+1],port:d[u+2]});return c},e.parseImageAttributes=function(l){return l.split(" ").map(function(c){return c.substring(1,c.length-1).split(",").reduce(o,{})})},e.parseSimulcastStreamList=function(l){return l.split(";").map(function(c){return c.split(",").map(function(d){var u,h=!1;return d[0]!=="~"?u=t(d):(u=t(d.substring(1,d.length)),h=!0),{scid:u,paused:h}})})}}(YT)),YT}var JT,qU;function x$e(){if(qU)return JT;qU=1;var e=Q3(),t=/%[sdv%]/g,n=function(o){var l=1,c=arguments,d=c.length;return o.replace(t,function(u){if(l>=d)return u;var h=c[l];switch(l+=1,u){case"%%":return"%";case"%s":return String(h);case"%d":return Number(h);case"%v":return""}})},r=function(o,l,c){var d=l.format instanceof Function?l.format(l.push?c:c[l.name]):l.format,u=[o+"="+d];if(l.names)for(var h=0;h<l.names.length;h+=1){var m=l.names[h];l.name?u.push(c[l.name][m]):u.push(c[l.names[h]])}else u.push(c[l.name]);return n.apply(null,u)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];return JT=function(o,l){l=l||{},o.version==null&&(o.version=0),o.name==null&&(o.name=" "),o.media.forEach(function(h){h.payloads==null&&(h.payloads="")});var c=l.outerOrder||i,d=l.innerOrder||a,u=[];return c.forEach(function(h){e[h].forEach(function(m){m.name in o&&o[m.name]!=null?u.push(r(h,m,o)):m.push in o&&o[m.push]!=null&&o[m.push].forEach(function(f){u.push(r(h,m,f))})})}),o.media.forEach(function(h){u.push(r("m",e.m[0],h)),d.forEach(function(m){e[m].forEach(function(f){f.name in h&&h[f.name]!=null?u.push(r(m,f,h)):f.push in h&&h[f.push]!=null&&h[f.push].forEach(function(p){u.push(r(m,f,p))})})})}),u.join(`\r
`)+`\r
`},JT}var WU;function y$e(){if(WU)return lo;WU=1;var e=g$e(),t=x$e(),n=Q3();return lo.grammar=n,lo.write=t,lo.parse=e.parse,lo.parseParams=e.parseParams,lo.parseFmtpConfig=e.parseFmtpConfig,lo.parsePayloads=e.parsePayloads,lo.parseRemoteCandidates=e.parseRemoteCandidates,lo.parseImageAttributes=e.parseImageAttributes,lo.parseSimulcastStreamList=e.parseSimulcastStreamList,lo}var ld=y$e();function Z3(e,t,n){var r,i,a;t===void 0&&(t=50),n===void 0&&(n={});var o=(r=n.isImmediate)!=null&&r,l=(i=n.callback)!=null&&i,c=n.maxWait,d=Date.now(),u=[];function h(){if(c!==void 0){var f=Date.now()-d;if(f+t>=c)return c-f}return t}var m=function(){var f=[].slice.call(arguments),p=this;return new Promise(function(g,y){var v=o&&a===void 0;if(a!==void 0&&clearTimeout(a),a=setTimeout(function(){if(a=void 0,d=Date.now(),!o){var w=e.apply(p,f);l&&l(w),u.forEach(function(S){return(0,S.resolve)(w)}),u=[]}},h()),v){var b=e.apply(p,f);return l&&l(b),g(b)}u.push({resolve:g,reject:y})})};return m.cancel=function(f){a!==void 0&&clearTimeout(a),u.forEach(function(p){return(0,p.reject)(f)}),u=[]},m}const v$e=.7,b$e=20,mp={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"};class HU extends $l.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;super(),this.log=It,this.ddExtID=0,this.latestOfferId=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=Z3(i=>W(this,void 0,void 0,function*(){this.emit(mp.NegotiationStarted);try{yield this.createAndSendOffer()}catch(a){if(i)i(a);else throw a}}),b$e),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=Rc((r=n.loggerName)!==null&&r!==void 0?r:zo.PCTransport),this.loggerOptions=n,this.config=t,this._pc=this.createPC(),this.offerLock=new si}createPC(){const t=new RTCPeerConnection(this.config);return t.onicecandidate=n=>{var r;n.candidate&&((r=this.onIceCandidate)===null||r===void 0||r.call(this,n.candidate))},t.onicecandidateerror=n=>{var r;(r=this.onIceCandidateError)===null||r===void 0||r.call(this,n)},t.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,t.iceConnectionState)},t.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,t.signalingState)},t.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,t.connectionState)},t.ondatachannel=n=>{var r;(r=this.onDataChannel)===null||r===void 0||r.call(this,n)},t.ontrack=n=>{var r;(r=this.onTrack)===null||r===void 0||r.call(this,n)},t}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(t){return W(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(t);this.pendingCandidates.push(t)})}setRemoteDescription(t,n){return W(this,void 0,void 0,function*(){var r;if(t.type==="answer"&&this.latestOfferId>0&&n>0&&n!==this.latestOfferId)return this.log.warn("ignoring answer for old offer",Object.assign(Object.assign({},this.logContext),{offerId:n,latestOfferId:this.latestOfferId})),!1;let i;if(t.type==="offer"){let{stereoMids:a,nackMids:o}=w$e(t);this.remoteStereoMids=a,this.remoteNackMids=o}else if(t.type==="answer"){const a=ld.parse((r=t.sdp)!==null&&r!==void 0?r:"");a.media.forEach(o=>{const l=eD(o.mid);o.type==="audio"&&this.trackBitrates.some(c=>{if(!c.transceiver||l!=c.transceiver.mid)return!1;let d=0;if(o.rtp.some(h=>h.codec.toUpperCase()===c.codec.toUpperCase()?(d=h.payload,!0):!1),d===0)return!0;let u=!1;for(const h of o.fmtp)if(h.payload===d){h.config=h.config.split(";").filter(m=>!m.includes("maxaveragebitrate")).join(";"),c.maxbr>0&&(h.config+=";maxaveragebitrate=".concat(c.maxbr*1e3)),u=!0;break}return u||c.maxbr>0&&o.fmtp.push({payload:d,config:"maxaveragebitrate=".concat(c.maxbr*1e3)}),!0})}),i=ld.write(a)}return yield this.setMungedSDP(t,i,!0),this.pendingCandidates.forEach(a=>{this.pc.addIceCandidate(a)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):t.type==="answer"&&(this.emit(mp.NegotiationComplete),t.sdp&&ld.parse(t.sdp).media.forEach(o=>{o.type==="video"&&this.emit(mp.RTPVideoPayloadTypes,o.rtp)})),!0})}createAndSendOffer(t){return W(this,void 0,void 0,function*(){var n;const r=yield this.offerLock.lock();try{if(this.onOffer===void 0)return;if(t!=null&&t.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const l=this._pc.remoteDescription;if(t!=null&&t.iceRestart&&l)yield this._pc.setRemoteDescription(l);else{this.renegotiate=!0;return}}else if(!this._pc||this._pc.signalingState==="closed"){this.log.warn("could not createOffer with closed peer connection",this.logContext);return}this.log.debug("starting to negotiate",this.logContext);const i=this.latestOfferId+1;this.latestOfferId=i;const a=yield this.pc.createOffer(t);this.log.debug("original offer",Object.assign({sdp:a.sdp},this.logContext));const o=ld.parse((n=a.sdp)!==null&&n!==void 0?n:"");if(o.media.forEach(l=>{GU(l),l.type==="audio"?KU(l,["all"],[]):l.type==="video"&&this.trackBitrates.some(c=>{if(!l.msid||!c.cid||!l.msid.includes(c.cid))return!1;let d=0;if(l.rtp.some(h=>h.codec.toUpperCase()===c.codec.toUpperCase()?(d=h.payload,!0):!1),d===0||(To(c.codec)&&!mm()&&this.ensureVideoDDExtensionForSVC(l,o),!To(c.codec)))return!0;const u=Math.round(c.maxbr*v$e);for(const h of l.fmtp)if(h.payload===d){h.config.includes("x-google-start-bitrate")||(h.config+=";x-google-start-bitrate=".concat(u));break}return!0})}),this.latestOfferId>i){this.log.warn("latestOfferId mismatch",Object.assign(Object.assign({},this.logContext),{latestOfferId:this.latestOfferId,offerId:i}));return}yield this.setMungedSDP(a,ld.write(o)),this.onOffer(a,this.latestOfferId)}finally{r()}})}createAndSetAnswer(){return W(this,void 0,void 0,function*(){var t;const n=yield this.pc.createAnswer(),r=ld.parse((t=n.sdp)!==null&&t!==void 0?t:"");return r.media.forEach(i=>{GU(i),i.type==="audio"&&KU(i,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,ld.write(r)),n})}createDataChannel(t,n){return this.pc.createDataChannel(t,n)}addTransceiver(t,n){return this.pc.addTransceiver(t,n)}addTransceiverOfKind(t,n){return this.pc.addTransceiver(t,n)}addTrack(t){if(!this._pc)throw new _r("PC closed, cannot add track");return this._pc.addTrack(t)}setTrackCodecBitrate(t){this.trackBitrates.push(t)}setConfiguration(t){var n;if(!this._pc)throw new _r("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(t)}canRemoveTrack(){var t;return!!(!((t=this._pc)===null||t===void 0)&&t.removeTrack)}removeTrack(t){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(t)}getConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var t,n;return(n=(t=this._pc)===null||t===void 0?void 0:t.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var t;return(t=this._pc)===null||t===void 0?void 0:t.localDescription}getRemoteDescription(){var t;return(t=this.pc)===null||t===void 0?void 0:t.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return W(this,void 0,void 0,function*(){var t;if(!this._pc)return;let n="";const r=new Map,i=new Map;if((yield this._pc.getStats()).forEach(l=>{switch(l.type){case"transport":n=l.selectedCandidatePairId;break;case"candidate-pair":n===""&&l.selected&&(n=l.id),r.set(l.id,l);break;case"remote-candidate":i.set(l.id,"".concat(l.address,":").concat(l.port));break}}),n==="")return;const o=(t=r.get(n))===null||t===void 0?void 0:t.remoteCandidateId;if(o!==void 0)return i.get(o)})}setMungedSDP(t,n,r){return W(this,void 0,void 0,function*(){if(n){const i=t.sdp;t.sdp=n;try{this.log.debug("setting munged ".concat(r?"remote":"local"," description"),this.logContext),r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t);return}catch(a){this.log.warn("not able to set ".concat(t.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:a,sdp:n})),t.sdp=i}}try{r?yield this.pc.setRemoteDescription(t):yield this.pc.setLocalDescription(t)}catch(i){let a="unknown error";i instanceof Error?a=i.message:typeof i=="string"&&(a=i);const o={error:a,sdp:t.sdp};throw!r&&this.pc.remoteDescription&&(o.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(t.type),Object.assign(Object.assign({},this.logContext),{fields:o})),new cp(a)}})}ensureVideoDDExtensionForSVC(t,n){var r,i;if(!((r=t.ext)===null||r===void 0?void 0:r.some(o=>o.uri===TU))){if(this.ddExtID===0){let o=0;n.media.forEach(l=>{var c;l.type==="video"&&((c=l.ext)===null||c===void 0||c.forEach(d=>{d.value>o&&(o=d.value)}))}),this.ddExtID=o+1}(i=t.ext)===null||i===void 0||i.push({value:this.ddExtID,uri:TU})}}}function KU(e,t,n){const r=eD(e.mid);let i=0;e.rtp.some(a=>a.codec==="opus"?(i=a.payload,!0):!1),i>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(r)&&!e.rtcpFb.some(a=>a.payload===i&&a.type==="nack")&&e.rtcpFb.push({payload:i,type:"nack"}),(t.includes(r)||t.length===1&&t[0]==="all")&&e.fmtp.some(a=>a.payload===i?(a.config.includes("stereo=1")||(a.config+=";stereo=1"),!0):!1))}function w$e(e){var t;const n=[],r=[],i=ld.parse((t=e.sdp)!==null&&t!==void 0?t:"");let a=0;return i.media.forEach(o=>{var l;const c=eD(o.mid);o.type==="audio"&&(o.rtp.some(d=>d.codec==="opus"?(a=d.payload,!0):!1),!((l=o.rtcpFb)===null||l===void 0)&&l.some(d=>d.payload===a&&d.type==="nack")&&r.push(c),o.fmtp.some(d=>d.payload===a?(d.config.includes("sprop-stereo=1")&&n.push(c),!0):!1))}),{stereoMids:n,nackMids:r}}function GU(e){if(e.connection){const t=e.connection.ip.indexOf(":")>=0;(e.connection.version===4&&t||e.connection.version===6&&!t)&&(e.connection.ip="0.0.0.0",e.connection.version=4)}}function eD(e){return typeof e=="number"?e.toFixed(0):e}const hO="vp8",j$e={audioPreset:rO.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:G3.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:hO,backupCodec:!0,preConnectBuffer:!1},Zre={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},ese={deviceId:{ideal:"default"},resolution:x0.h720.resolution},S$e={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new eLe,disconnectOnPageLeave:!0,webAudioMix:!1,singlePeerConnection:!0},tD={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var xr;(function(e){e[e.NEW=0]="NEW",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.FAILED=3]="FAILED",e[e.CLOSING=4]="CLOSING",e[e.CLOSED=5]="CLOSED"})(xr||(xr={}));class N$e{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}get mode(){return this._mode}constructor(t,n,r){var i;this.peerConnectionTimeout=tD.peerConnectionTimeout,this.log=It,this.updateState=()=>{var a,o;const l=this.state,c=this.requiredTransports.map(d=>d.getConnectionState());c.every(d=>d==="connected")?this.state=xr.CONNECTED:c.some(d=>d==="failed")?this.state=xr.FAILED:c.some(d=>d==="connecting")?this.state=xr.CONNECTING:c.every(d=>d==="closed")?this.state=xr.CLOSED:c.some(d=>d==="closed")?this.state=xr.CLOSING:c.every(d=>d==="new")&&(this.state=xr.NEW),l!==this.state&&(this.log.debug("pc state change: from ".concat(xr[l]," to ").concat(xr[this.state]),this.logContext),(a=this.onStateChange)===null||a===void 0||a.call(this,this.state,this.publisher.getConnectionState(),(o=this.subscriber)===null||o===void 0?void 0:o.getConnectionState()))},this.log=Rc((i=r.loggerName)!==null&&i!==void 0?i:zo.PCManager),this.loggerOptions=r,this.isPublisherConnectionRequired=n!=="subscriber-primary",this.isSubscriberConnectionRequired=n==="subscriber-primary",this.publisher=new HU(t,r),this._mode=n,n!=="publisher-only"&&(this.subscriber=new HU(t,r),this.subscriber.onConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.subscriber.onIceCandidate=a=>{var o;(o=this.onIceCandidate)===null||o===void 0||o.call(this,a,Eo.SUBSCRIBER)},this.subscriber.onDataChannel=a=>{var o;(o=this.onDataChannel)===null||o===void 0||o.call(this,a)},this.subscriber.onTrack=a=>{var o;(o=this.onTrack)===null||o===void 0||o.call(this,a)}),this.publisher.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=a=>{var o;(o=this.onIceCandidate)===null||o===void 0||o.call(this,a,Eo.PUBLISHER)},this.publisher.onTrack=a=>{var o;(o=this.onTrack)===null||o===void 0||o.call(this,a)},this.publisher.onOffer=(a,o)=>{var l;(l=this.onPublisherOffer)===null||l===void 0||l.call(this,a,o)},this.state=xr.NEW,this.connectionLock=new si,this.remoteOfferLock=new si}get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(t))}requirePublisher(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isPublisherConnectionRequired=t,this.updateState()}createAndSendPublisherOffer(t){return this.publisher.createAndSendOffer(t)}setPublisherAnswer(t,n){return this.publisher.setRemoteDescription(t,n)}removeTrack(t){return this.publisher.removeTrack(t)}close(){return W(this,void 0,void 0,function*(){var t;if(this.publisher&&this.publisher.getSignallingState()!=="closed"){const n=this.publisher;for(const r of n.getSenders())try{n.canRemoveTrack()&&n.removeTrack(r)}catch(i){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:i}))}}yield Promise.all([this.publisher.close(),(t=this.subscriber)===null||t===void 0?void 0:t.close()]),this.updateState()})}triggerIceRestart(){return W(this,void 0,void 0,function*(){this.subscriber&&(this.subscriber.restartingIce=!0),this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(t,n){return W(this,void 0,void 0,function*(){var r;n===Eo.PUBLISHER?yield this.publisher.addIceCandidate(t):yield(r=this.subscriber)===null||r===void 0?void 0:r.addIceCandidate(t)})}createSubscriberAnswerFromOffer(t,n){return W(this,void 0,void 0,function*(){var r,i,a;this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type,sdp:t.sdp,signalingState:(r=this.subscriber)===null||r===void 0?void 0:r.getSignallingState().toString()}));const o=yield this.remoteOfferLock.lock();try{return(yield(i=this.subscriber)===null||i===void 0?void 0:i.setRemoteDescription(t,n))?yield(a=this.subscriber)===null||a===void 0?void 0:a.createAndSetAnswer():void 0}finally{o()}})}updateConfiguration(t,n){var r;this.publisher.setConfiguration(t),(r=this.subscriber)===null||r===void 0||r.setConfiguration(t),n&&this.triggerIceRestart()}ensurePCTransportConnection(t,n){return W(this,void 0,void 0,function*(){var r;const i=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all((r=this.requiredTransports)===null||r===void 0?void 0:r.map(a=>this.ensureTransportConnected(a,t,n)))}finally{i()}})}negotiate(t){return W(this,void 0,void 0,function*(){return new ji((n,r)=>W(this,void 0,void 0,function*(){const i=setTimeout(()=>{r(new cp("negotiation timed out"))},this.peerConnectionTimeout),a=()=>{clearTimeout(i),r(new cp("negotiation aborted"))};t.signal.addEventListener("abort",a),this.publisher.once(mp.NegotiationStarted,()=>{t.signal.aborted||this.publisher.once(mp.NegotiationComplete,()=>{clearTimeout(i),n()})}),yield this.publisher.negotiate(o=>{clearTimeout(i),o instanceof Error?r(o):r(new Error(String(o)))})}))})}addPublisherTransceiver(t,n){return this.publisher.addTransceiver(t,n)}addPublisherTransceiverOfKind(t,n){return this.publisher.addTransceiverOfKind(t,n)}getMidForReceiver(t){const r=(this.subscriber?this.subscriber.getTransceivers():this.publisher.getTransceivers()).find(i=>i.receiver===t);return r==null?void 0:r.mid}addPublisherTrack(t){return this.publisher.addTrack(t)}createPublisherDataChannel(t,n){return this.publisher.createDataChannel(t,n)}getConnectedAddress(t){return t===Eo.PUBLISHER?this.publisher.getConnectedAddress():t===Eo.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const t=[];return this.isPublisherConnectionRequired&&t.push(this.publisher),this.isSubscriberConnectionRequired&&this.subscriber&&t.push(this.subscriber),t}ensureTransportConnected(t,n){return W(this,arguments,void 0,function(r,i){var a=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return function*(){if(r.getConnectionState()!=="connected")return new Promise((c,d)=>W(a,void 0,void 0,function*(){const u=()=>{this.log.warn("abort transport connection",this.logContext),js.clearTimeout(h),d(it.cancelled("room connection has been cancelled"))};i!=null&&i.signal.aborted&&u(),i==null||i.signal.addEventListener("abort",u);const h=js.setTimeout(()=>{i==null||i.signal.removeEventListener("abort",u),d(it.internal("could not establish pc connection"))},o);for(;this.state!==xr.CONNECTED;)if(yield Ss(50),i!=null&&i.signal.aborted){d(it.cancelled("room connection has been cancelled"));return}js.clearTimeout(h),i==null||i.signal.removeEventListener("abort",u),c()}))}()})}}const tse=5e3,k$e=3e4;class Zt{static fetchRegionSettings(t,n,r){return W(this,void 0,void 0,function*(){const i=yield Zt.fetchLock.lock();try{const a=yield fetch("".concat(_$e(t),"/regions"),{headers:{authorization:"Bearer ".concat(n)},signal:r});if(a.ok){const o=GLe(a.headers),l=o?o*1e3:tse;return{regionSettings:yield a.json(),updatedAtInMs:Date.now(),maxAgeInMs:l}}else throw a.status===401?it.notAllowed("Could not fetch region settings: ".concat(a.statusText),a.status):it.internal("Could not fetch region settings: ".concat(a.statusText))}catch(a){throw a instanceof it?a:r!=null&&r.aborted?it.cancelled("Region fetching was aborted"):it.serverUnreachable("Could not fetch region settings, ".concat(a instanceof Error?"".concat(a.name,": ").concat(a.message):a))}finally{i()}})}static scheduleRefetch(t,n,r){return W(this,void 0,void 0,function*(){const i=Zt.settingsTimeouts.get(t.hostname);clearTimeout(i),Zt.settingsTimeouts.set(t.hostname,setTimeout(()=>W(this,void 0,void 0,function*(){try{const a=yield Zt.fetchRegionSettings(t,n);Zt.updateCachedRegionSettings(t,n,a)}catch(a){if(a instanceof it&&a.reason===En.NotAllowed){It.debug("token is not valid, cancelling auto region refresh");return}It.debug("auto refetching of region settings failed",{error:a}),Zt.scheduleRefetch(t,n,r)}}),r))})}static updateCachedRegionSettings(t,n,r){Zt.cache.set(t.hostname,r),Zt.scheduleRefetch(t,n,r.maxAgeInMs)}static stopRefetch(t){const n=Zt.settingsTimeouts.get(t);n&&(clearTimeout(n),Zt.settingsTimeouts.delete(t))}static scheduleCleanup(t){let n=Zt.connectionTrackers.get(t);n&&(n.cleanupTimeout&&clearTimeout(n.cleanupTimeout),n.cleanupTimeout=setTimeout(()=>{const r=Zt.connectionTrackers.get(t);r&&r.connectionCount===0&&(It.debug("stopping region refetch after disconnect delay",{hostname:t}),Zt.stopRefetch(t)),r&&(r.cleanupTimeout=void 0)},k$e))}static cancelCleanup(t){const n=Zt.connectionTrackers.get(t);n!=null&&n.cleanupTimeout&&(clearTimeout(n.cleanupTimeout),n.cleanupTimeout=void 0)}notifyConnected(){const t=this.serverUrl.hostname;let n=Zt.connectionTrackers.get(t);n||(n={connectionCount:0},Zt.connectionTrackers.set(t,n)),n.connectionCount++,Zt.cancelCleanup(t)}notifyDisconnected(){const t=this.serverUrl.hostname,n=Zt.connectionTrackers.get(t);n&&(n.connectionCount=Math.max(0,n.connectionCount-1),n.connectionCount===0&&Zt.scheduleCleanup(t))}constructor(t,n){this.attemptedRegions=[],this.serverUrl=new URL(t),this.token=n}updateToken(t){this.token=t}isCloud(){return lg(this.serverUrl)}getServerUrl(){return this.serverUrl}fetchRegionSettings(t){return W(this,void 0,void 0,function*(){return Zt.fetchRegionSettings(this.serverUrl,this.token,t)})}getNextBestRegionUrl(t){return W(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");let n=Zt.cache.get(this.serverUrl.hostname);(!n||Date.now()-n.updatedAtInMs>n.maxAgeInMs)&&(n=yield this.fetchRegionSettings(t),Zt.updateCachedRegionSettings(this.serverUrl,this.token,n));const r=n.regionSettings.regions.filter(i=>!this.attemptedRegions.find(a=>a.url===i.url));if(r.length>0){const i=r[0];return this.attemptedRegions.push(i),It.debug("next region: ".concat(i.region)),i.url}else return null})}resetAttempts(){this.attemptedRegions=[]}setServerReportedRegions(t){Zt.updateCachedRegionSettings(this.serverUrl,this.token,t)}}Zt.cache=new Map;Zt.settingsTimeouts=new Map;Zt.connectionTrackers=new Map;Zt.fetchLock=new si;function _$e(e){return"".concat(e.protocol.replace("ws","http"),"//").concat(e.host,"/settings")}class jr extends Error{constructor(t,n,r){super(n),this.code=t,this.message=YU(n,jr.MAX_MESSAGE_BYTES),this.data=r?YU(r,jr.MAX_DATA_BYTES):void 0}static fromProto(t){return new jr(t.code,t.message,t.data)}toProto(){return new Kne({code:this.code,message:this.message,data:this.data})}static builtIn(t,n){return new jr(jr.ErrorCode[t],jr.ErrorMessage[t],n)}}jr.MAX_MESSAGE_BYTES=256;jr.MAX_DATA_BYTES=15360;jr.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404};jr.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"};const nse=15360;function nD(e){return new TextEncoder().encode(e).length}function YU(e,t){if(nD(e)<=t)return e;let n=0,r=e.length;const i=new TextEncoder;for(;n<r;){const a=Math.floor((n+r+1)/2);i.encode(e.slice(0,a)).length<=t?n=a:r=a-1}return e.slice(0,n)}const rD=2e3;function D_(e,t){if(!t)return 0;let n,r;return"bytesReceived"in e?(n=e.bytesReceived,r=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,r=t.bytesSent),n===void 0||r===void 0||e.timestamp===void 0||t.timestamp===void 0?0:(n-r)*8*1e3/(e.timestamp-t.timestamp)}const sD=typeof MediaRecorder<"u";class C$e{constructor(){throw new Error("MediaRecorder is not available in this environment")}}const E$e=sD?MediaRecorder:C$e;class T$e extends E$e{constructor(t,n){if(!sD)throw new Error("MediaRecorder is not available in this environment");super(new MediaStream([t.mediaStreamTrack]),n);let r,i;const a=()=>i===void 0,o=()=>{this.removeEventListener("dataavailable",r),this.removeEventListener("stop",o),this.removeEventListener("error",l),i==null||i.close(),i=void 0},l=c=>{i==null||i.error(c),this.removeEventListener("dataavailable",r),this.removeEventListener("stop",o),this.removeEventListener("error",l),i=void 0};this.byteStream=new ReadableStream({start:c=>{i=c,r=d=>W(this,void 0,void 0,function*(){let u;if(d.data.arrayBuffer){const h=yield d.data.arrayBuffer();u=new Uint8Array(h)}else if(d.data.byteArray)u=d.data.byteArray;else throw new Error("no data available!");a()||c.enqueue(u)}),this.addEventListener("dataavailable",r)},cancel:()=>{o()}}),this.addEventListener("stop",o),this.addEventListener("error",l)}}function A$e(){return sD}const P$e=1e3,I$e=1e4;class rse extends fe{get sender(){return this._sender}set sender(t){this._sender=t}get constraints(){return this._constraints}get hasPreConnectBuffer(){return!!this.localTrackRecorder}constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4?arguments[4]:void 0;super(t,n,a),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=Z3(()=>W(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>W(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(ke.Ended,this)},this.reacquireTrack=!1,this.providedByUser=i,this.muteLock=new si,this.pauseUpstreamLock=new si,this.trackChangeLock=new si,this.trackChangeLock.lock().then(o=>W(this,void 0,void 0,function*(){try{yield this.setMediaStreamTrack(t,!0)}finally{o()}})),this._constraints=t.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==fe.Kind.Video)return;const{width:t,height:n}=this._mediaStreamTrack.getSettings();if(t&&n)return{width:t,height:n}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var t,n;return(n=(t=this.processor)===null||t===void 0?void 0:t.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(t,n){return W(this,void 0,void 0,function*(){var r;if(t===this._mediaStreamTrack&&!n)return;this._mediaStreamTrack&&(this.attachedElements.forEach(a=>{dp(this._mediaStreamTrack,a)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([t]),t&&(t.addEventListener("ended",this.handleEnded),t.addEventListener("mute",this.handleTrackMuteEvent),t.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=t.getConstraints());let i;if(this.processor&&t){if(this.log.debug("restarting processor",this.logContext),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(Uf(t,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:t,kind:this.kind,element:this.processorElement}),i=this.processor.processedTrack}this.sender&&((r=this.sender.transport)===null||r===void 0?void 0:r.state)!=="closed"&&(yield this.sender.replaceTrack(i??t)),!this.providedByUser&&this._mediaStreamTrack!==t&&this._mediaStreamTrack.stop(),this._mediaStreamTrack=t,t&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(a=>{Uf(i??t,a)}))})}waitForDimensions(){return W(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P$e;return function*(){var r;if(t.kind===fe.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((r=Ei())===null||r===void 0?void 0:r.os)==="iOS"&&(yield Ss(10));const i=Date.now();for(;Date.now()-i<n;){const a=t.dimensions;if(a)return a;yield Ss(50)}throw new ac("unable to get track dimensions after timeout")}()})}setDeviceId(t){return W(this,void 0,void 0,function*(){return this._constraints.deviceId===t&&this._mediaStreamTrack.getSettings().deviceId===ru(t)||(this._constraints.deviceId=t,this.isMuted)?!0:(yield this.restartTrack(),ru(t)===this._mediaStreamTrack.getSettings().deviceId)})}getDeviceId(){return W(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){if(t.source===fe.Source.ScreenShare)return;const{deviceId:r,groupId:i}=t._mediaStreamTrack.getSettings(),a=t.kind===fe.Kind.Audio?"audioinput":"videoinput";return n?cs.getInstance().normalizeDeviceId(a,r,i):r}()})}mute(){return W(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return W(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(t,n){return W(this,void 0,void 0,function*(){const r=yield this.trackChangeLock.lock();try{if(!this.sender)throw new ac("unable to replace an unpublished track");let i,a;return typeof n=="boolean"?i=n:n!==void 0&&(i=n.userProvidedTrack,a=n.stopProcessor),this.providedByUser=i??!0,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(t),a&&this.processor&&(yield this.internalStopProcessor()),this}finally{r()}})}restart(t){return W(this,void 0,void 0,function*(){this.manuallyStopped=!1;const n=yield this.trackChangeLock.lock();try{t||(t=this._constraints);const{deviceId:r,facingMode:i}=t,a=tLe(t,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:t}));const o={audio:!1,video:!1};this.kind===fe.Kind.Video?o.video=r||i?{deviceId:r,facingMode:i}:!0:o.audio=r?Object.assign({deviceId:r},a):!0,this.attachedElements.forEach(d=>{dp(this.mediaStreamTrack,d)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const c=(yield navigator.mediaDevices.getUserMedia(o)).getTracks()[0];return this.kind===fe.Kind.Video&&(yield c.applyConstraints(a)),c.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(c),this._constraints=t,this.emit(ke.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{n()}})}setTrackMuted(t){this.log.debug("setting ".concat(this.kind," track ").concat(t?"muted":"unmuted"),this.logContext),!(this.isMuted===t&&this._mediaStreamTrack.enabled!==t)&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?ke.Muted:ke.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return W(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),Yre()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var t;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(t=this.processor)===null||t===void 0||t.destroy(),this.processor=void 0}pauseUpstream(){return W(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender){this.log.warn("unable to pause upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!0,this.emit(ke.UpstreamPaused,this);const r=Ei();if((r==null?void 0:r.name)==="Safari"&&Cl(r.version,"12.0")<0)throw new K3("pauseUpstream is not supported on Safari < 12.");((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(null))}finally{n()}})}resumeUpstream(){return W(this,void 0,void 0,function*(){var t;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender){this.log.warn("unable to resume upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!1,this.emit(ke.UpstreamResumed,this),((t=this.sender.transport)===null||t===void 0?void 0:t.state)!=="closed"&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{n()}})}getRTCStatsReport(){return W(this,void 0,void 0,function*(){var t;return!((t=this.sender)===null||t===void 0)&&t.getStats?yield this.sender.getStats():void 0})}setProcessor(t){return W(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var a;const o=yield r.trackChangeLock.lock();try{r.log.debug("setting up processor",r.logContext);const l=document.createElement(r.kind),c={kind:r.kind,track:r._mediaStreamTrack,element:l,audioContext:r.audioContext};if(yield n.init(c),r.log.debug("processor initialized",r.logContext),r.processor&&(yield r.internalStopProcessor()),r.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");if(Uf(r._mediaStreamTrack,l),l.muted=!0,l.play().catch(d=>{d instanceof DOMException&&d.name==="AbortError"?(r.log.warn("failed to play processor element, retrying",Object.assign(Object.assign({},r.logContext),{error:d})),setTimeout(()=>{l.play().catch(u=>{r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{err:u}))})},100)):r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{error:d}))}),r.processor=n,r.processorElement=l,r.processor.processedTrack){for(const d of r.attachedElements)d!==r.processorElement&&i&&(dp(r._mediaStreamTrack,d),Uf(r.processor.processedTrack,d));yield(a=r.sender)===null||a===void 0?void 0:a.replaceTrack(r.processor.processedTrack)}r.emit(ke.TrackProcessorUpdate,r.processor)}finally{o()}}()})}getProcessor(){return this.processor}stopProcessor(){return W(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){const r=yield t.trackChangeLock.lock();try{yield t.internalStopProcessor(n)}finally{r()}}()})}internalStopProcessor(){return W(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var r,i;t.processor&&(t.log.debug("stopping processor",t.logContext),(r=t.processor.processedTrack)===null||r===void 0||r.stop(),yield t.processor.destroy(),t.processor=void 0,n||((i=t.processorElement)===null||i===void 0||i.remove(),t.processorElement=void 0),yield t._mediaStreamTrack.applyConstraints(t._constraints),yield t.setMediaStreamTrack(t._mediaStreamTrack,!0),t.emit(ke.TrackProcessorUpdate))}()})}startPreConnectBuffer(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;if(!A$e()){this.log.warn("MediaRecorder is not available, cannot start preconnect buffer",this.logContext);return}if(this.localTrackRecorder){this.log.warn("preconnect buffer already started");return}else{let n="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(n)||(n="video/mp4"),this.localTrackRecorder=new T$e(this,{mimeType:n})}this.localTrackRecorder.start(t),this.autoStopPreConnectBuffer=setTimeout(()=>{this.log.warn("preconnect buffer timed out, stopping recording automatically",this.logContext),this.stopPreConnectBuffer()},I$e)}stopPreConnectBuffer(){clearTimeout(this.autoStopPreConnectBuffer),this.localTrackRecorder&&(this.localTrackRecorder.stop(),this.localTrackRecorder=void 0)}getPreConnectBuffer(){var t;return(t=this.localTrackRecorder)===null||t===void 0?void 0:t.byteStream}getPreConnectBufferMimeType(){var t;return(t=this.localTrackRecorder)===null||t===void 0?void 0:t.mimeType}}class XS extends rse{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;super(t,fe.Kind.Audio,n,r,a),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>W(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let o;try{o=yield this.getSenderStats()}catch(l){this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:l}));return}o&&this.prevStats&&(this._currentBitrate=D_(o,this.prevStats)),this.prevStats=o}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(ke.AudioTrackFeatureUpdate,this,ls.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(ke.AudioTrackFeatureUpdate,this,ls.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=i,this.checkForSilence()}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return W(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===fe.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return W(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;const r=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==ru(this._constraints.deviceId);return this.source===fe.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||r)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this}finally{n()}})}restartTrack(t){return W(this,void 0,void 0,function*(){let n;if(t){const r=Y3({audio:t});typeof r.audio!="boolean"&&(n=r.audio)}yield this.restart(n)})}restart(t){const n=Object.create(null,{restart:{get:()=>super.restart}});return W(this,void 0,void 0,function*(){const r=yield n.restart.call(this,t);return this.checkForSilence(),r})}startMonitor(){Si()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},rD)))}setProcessor(t){return W(this,void 0,void 0,function*(){var n;const r=yield this.trackChangeLock.lock();try{if(!_l()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.internalStopProcessor());const i={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(t.name),this.logContext),yield t.init(i),this.processor=t,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(ke.TrackProcessorUpdate,this.processor)}finally{r()}})}setAudioContext(t){this.audioContext=t}getSenderStats(){return W(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return;const n=yield this.sender.getStats();let r;return n.forEach(i=>{i.type==="outbound-rtp"&&(r={type:"audio",streamId:i.id,packetsSent:i.packetsSent,packetsLost:i.packetsLost,bytesSent:i.bytesSent,timestamp:i.timestamp,roundTripTime:i.roundTripTime,jitter:i.jitter})}),r})}checkForSilence(){return W(this,void 0,void 0,function*(){const t=yield Hre(this);return t&&(this.isMuted||this.log.debug("silence detected on local audio track",this.logContext),this.emit(ke.AudioSilenceDetected)),t})}}function O$e(e,t,n){switch(e.kind){case"audio":return new XS(e,t,!1,void 0,n);case"video":return new JS(e,t,!1,n);default:throw new ac("unsupported track type: ".concat(e.kind))}}const R$e=Object.values(x0),M$e=Object.values(sO),D$e=Object.values(G3),L$e=[x0.h180,x0.h360],$$e=[sO.h180,sO.h360],F$e=e=>[{scaleResolutionDownBy:2,fps:e.encoding.maxFramerate}].map(n=>{var r,i;return new _n(Math.floor(e.width/n.scaleResolutionDownBy),Math.floor(e.height/n.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(n.scaleResolutionDownBy,2)*(((r=e.encoding.maxFramerate)!==null&&r!==void 0?r:30)/((i=n.fps)!==null&&i!==void 0?i:30))))),n.fps,e.encoding.priority)}),mO=["q","h","f"];function fO(e,t,n,r){var i,a;let o=r==null?void 0:r.videoEncoding;e&&(o=r==null?void 0:r.screenShareEncoding);const l=r==null?void 0:r.simulcast,c=r==null?void 0:r.scalabilityMode,d=r==null?void 0:r.videoCodec;if(!o&&!l&&!c||!t||!n)return[{}];o||(o=U$e(e,t,n,d),It.debug("using video encoding",o));const u=o.maxFramerate,h=new _n(t,n,o.maxBitrate,o.maxFramerate,o.priority);if(c&&To(d)){const p=new sse(c),g=[];if(p.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(c));const y=Ei();if(y0()||_l()||(y==null?void 0:y.name)==="Chrome"&&Cl(y==null?void 0:y.version,"113")<0){const v=p.suffix=="h"?2:3,b=DLe(y);for(let w=0;w<p.spatial;w+=1)g.push({rid:mO[2-w],maxBitrate:o.maxBitrate/Math.pow(v,w),maxFramerate:h.encoding.maxFramerate,scaleResolutionDownBy:b?Math.pow(2,w):void 0});g[0].scalabilityMode=c}else g.push({maxBitrate:o.maxBitrate,maxFramerate:h.encoding.maxFramerate,scalabilityMode:c});return h.encoding.priority&&(g[0].priority=h.encoding.priority,g[0].networkPriority=h.encoding.priority),It.debug("using svc encoding",{encodings:g}),g}if(!l)return[o];let m=[];e?m=(i=JU(r==null?void 0:r.screenShareSimulcastLayers))!==null&&i!==void 0?i:XU(e,h):m=(a=JU(r==null?void 0:r.videoSimulcastLayers))!==null&&a!==void 0?a:XU(e,h);let f;if(m.length>0){const p=m[0];m.length>1&&([,f]=m);const g=Math.max(t,n);if(g>=960&&f)return QT(t,n,[p,f,h],u);if(g>=480)return QT(t,n,[p,h],u)}return QT(t,n,[h])}function B$e(e,t,n){var r,i,a,o;if(!n.backupCodec||n.backupCodec===!0||n.backupCodec.codec===n.videoCodec)return;t!==n.backupCodec.codec&&It.warn("requested a different codec than specified as backup",{serverRequested:t,backup:n.backupCodec.codec}),n.videoCodec=t,n.videoEncoding=n.backupCodec.encoding;const l=e.mediaStreamTrack.getSettings(),c=(r=l.width)!==null&&r!==void 0?r:(i=e.dimensions)===null||i===void 0?void 0:i.width,d=(a=l.height)!==null&&a!==void 0?a:(o=e.dimensions)===null||o===void 0?void 0:o.height;return e.source===fe.Source.ScreenShare&&n.simulcast&&(n.simulcast=!1),fO(e.source===fe.Source.ScreenShare,c,d,n)}function U$e(e,t,n,r){const i=z$e(e,t,n);let{encoding:a}=i[0];const o=Math.max(t,n);for(let l=0;l<i.length;l+=1){const c=i[l];if(a=c.encoding,c.width>=o)break}if(r)switch(r){case"av1":case"h265":a=Object.assign({},a),a.maxBitrate=a.maxBitrate*.7;break;case"vp9":a=Object.assign({},a),a.maxBitrate=a.maxBitrate*.85;break}return a}function z$e(e,t,n){if(e)return D$e;const r=t>n?t/n:n/t;return Math.abs(r-16/9)<Math.abs(r-4/3)?R$e:M$e}function XU(e,t){if(e)return F$e(t);const{width:n,height:r}=t,i=n>r?n/r:r/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?L$e:$$e}function QT(e,t,n,r){const i=[];if(n.forEach((a,o)=>{if(o>=mO.length)return;const l=Math.min(e,t),d={rid:mO[o],scaleResolutionDownBy:Math.max(1,l/Math.min(a.width,a.height)),maxBitrate:a.encoding.maxBitrate},u=r&&a.encoding.maxFramerate?Math.min(r,a.encoding.maxFramerate):a.encoding.maxFramerate;u&&(d.maxFramerate=u);const h=hm()||o===0;a.encoding.priority&&h&&(d.priority=a.encoding.priority,d.networkPriority=a.encoding.priority),i.push(d)}),_l()&&Jre()==="ios"){let a;i.forEach(l=>{a?l.maxFramerate&&l.maxFramerate>a&&(a=l.maxFramerate):a=l.maxFramerate});let o=!0;i.forEach(l=>{var c;l.maxFramerate!=a&&(o&&(o=!1,It.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),It.info('Setting framerate of encoding "'.concat((c=l.rid)!==null&&c!==void 0?c:"",'" to ').concat(a)),l.maxFramerate=a)})}return i}function JU(e){if(e)return e.sort((t,n)=>{const{encoding:r}=t,{encoding:i}=n;return r.maxBitrate>i.maxBitrate?1:r.maxBitrate<i.maxBitrate?-1:r.maxBitrate===i.maxBitrate&&r.maxFramerate&&i.maxFramerate?r.maxFramerate>i.maxFramerate?1:-1:0})}class sse{constructor(t){const n=t.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var t;return"L".concat(this.spatial,"T").concat(this.temporal).concat((t=this.suffix)!==null&&t!==void 0?t:"")}}function V$e(e){return e.source===fe.Source.ScreenShare||e.constraints.height&&ru(e.constraints.height)>=1080?"maintain-resolution":"balanced"}const q$e=5e3;class JS extends rse{get sender(){return this._sender}set sender(t){this._sender=t,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0;super(t,fe.Kind.Video,n,r,i),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.isCpuConstrained=!1,this.optimizeForPerformance=!1,this.monitorSender=()=>W(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let a;try{a=yield this.getSenderStats()}catch(c){this.log.error("could not get video sender stats",Object.assign(Object.assign({},this.logContext),{error:c}));return}const o=new Map(a.map(c=>[c.rid,c])),l=a.some(c=>c.qualityLimitationReason==="cpu");if(l!==this.isCpuConstrained&&(this.isCpuConstrained=l,this.isCpuConstrained&&this.emit(ke.CpuConstrained)),this.prevStats){let c=0;o.forEach((d,u)=>{var h;const m=(h=this.prevStats)===null||h===void 0?void 0:h.get(u);c+=D_(d,m)}),this._currentBitrate=c}this.prevStats=o}),this.senderLock=new si}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(t){var n;if(this.signalClient=t,!Si())return;const r=(n=this.sender)===null||n===void 0?void 0:n.getParameters();r&&(this.encodings=r.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},rD))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(t=>{t.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const t=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return W(this,void 0,void 0,function*(){var n,r,i,a,o;yield t.pauseUpstream.call(this);try{for(var l=!0,c=ic(this.simulcastCodecs.values()),d;d=yield c.next(),n=d.done,!n;l=!0)a=d.value,l=!1,yield(o=a.sender)===null||o===void 0?void 0:o.replaceTrack(null)}catch(u){r={error:u}}finally{try{!l&&!n&&(i=c.return)&&(yield i.call(c))}finally{if(r)throw r.error}}})}resumeUpstream(){const t=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return W(this,void 0,void 0,function*(){var n,r,i,a,o;yield t.resumeUpstream.call(this);try{for(var l=!0,c=ic(this.simulcastCodecs.values()),d;d=yield c.next(),n=d.done,!n;l=!0){a=d.value,l=!1;const u=a;yield(o=u.sender)===null||o===void 0?void 0:o.replaceTrack(u.mediaStreamTrack)}}catch(u){r={error:u}}finally{try{!l&&!n&&(i=c.return)&&(yield i.call(c))}finally{if(r)throw r.error}}})}mute(){const t=Object.create(null,{mute:{get:()=>super.mute}});return W(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===fe.Source.Camera&&!this.isUserProvided&&(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield t.mute.call(this),this)}finally{n()}})}unmute(){const t=Object.create(null,{unmute:{get:()=>super.unmute}});return W(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.source===fe.Source.Camera&&!this.isUserProvided&&(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield t.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{n()}})}setTrackMuted(t){super.setTrackMuted(t);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!t}getSenderStats(){return W(this,void 0,void 0,function*(){var t;if(!(!((t=this.sender)===null||t===void 0)&&t.getStats))return[];const n=[],r=yield this.sender.getStats();return r.forEach(i=>{var a;if(i.type==="outbound-rtp"){const o={type:"video",streamId:i.id,frameHeight:i.frameHeight,frameWidth:i.frameWidth,framesPerSecond:i.framesPerSecond,framesSent:i.framesSent,firCount:i.firCount,pliCount:i.pliCount,nackCount:i.nackCount,packetsSent:i.packetsSent,bytesSent:i.bytesSent,qualityLimitationReason:i.qualityLimitationReason,qualityLimitationDurations:i.qualityLimitationDurations,qualityLimitationResolutionChanges:i.qualityLimitationResolutionChanges,rid:(a=i.rid)!==null&&a!==void 0?a:i.id,retransmittedPacketsSent:i.retransmittedPacketsSent,targetBitrate:i.targetBitrate,timestamp:i.timestamp},l=r.get(i.remoteId);l&&(o.jitter=l.jitter,o.packetsLost=l.packetsLost,o.roundTripTime=l.roundTripTime),n.push(o)}}),n.sort((i,a)=>{var o,l;return((o=a.frameWidth)!==null&&o!==void 0?o:0)-((l=i.frameWidth)!==null&&l!==void 0?l:0)}),n})}setPublishingQuality(t){const n=[];for(let r=ra.LOW;r<=ra.HIGH;r+=1)n.push(new V3({quality:r,enabled:r<=t}));this.log.debug("setting publishing quality. max quality ".concat(t),this.logContext),this.setPublishingLayers(To(this.codec),n)}restartTrack(t){return W(this,void 0,void 0,function*(){var n,r,i,a,o;let l;if(t){const h=Y3({video:t});typeof h.video!="boolean"&&(l=h.video)}yield this.restart(l),this.isCpuConstrained=!1;try{for(var c=!0,d=ic(this.simulcastCodecs.values()),u;u=yield d.next(),n=u.done,!n;c=!0){a=u.value,c=!1;const h=a;h.sender&&((o=h.sender.transport)===null||o===void 0?void 0:o.state)!=="closed"&&(h.mediaStreamTrack=this.mediaStreamTrack.clone(),yield h.sender.replaceTrack(h.mediaStreamTrack))}}catch(h){r={error:h}}finally{try{!c&&!n&&(i=d.return)&&(yield i.call(d))}finally{if(r)throw r.error}}})}setProcessor(t){const n=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return W(this,arguments,void 0,function(r){var i=this;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var o,l,c,d,u,h;if(yield n.setProcessor.call(i,r,a),!((u=i.processor)===null||u===void 0)&&u.processedTrack)try{for(var m=!0,f=ic(i.simulcastCodecs.values()),p;p=yield f.next(),o=p.done,!o;m=!0)d=p.value,m=!1,yield(h=d.sender)===null||h===void 0?void 0:h.replaceTrack(i.processor.processedTrack)}catch(g){l={error:g}}finally{try{!m&&!o&&(c=f.return)&&(yield c.call(f))}finally{if(l)throw l.error}}}()})}setDegradationPreference(t){return W(this,void 0,void 0,function*(){if(this.degradationPreference=t,this.sender)try{this.log.debug("setting degradationPreference to ".concat(t),this.logContext);const n=this.sender.getParameters();n.degradationPreference=t,this.sender.setParameters(n)}catch(n){this.log.warn("failed to set degradationPreference",Object.assign({error:n},this.logContext))}})}addSimulcastTrack(t,n){if(this.simulcastCodecs.has(t)){this.log.error("".concat(t," already added, skipping adding simulcast codec"),this.logContext);return}const r={codec:t,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(t,r),r}setSimulcastTrackSender(t,n){const r=this.simulcastCodecs.get(t);r&&(r.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},q$e))}setPublishingCodecs(t){return W(this,void 0,void 0,function*(){var n,r,i,a,o,l,c;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:t,currentCodec:this.codec})),!this.codec&&t.length>0)return yield this.setPublishingLayers(To(t[0].codec),t[0].qualities),[];this.subscribedCodecs=t;const d=[];try{for(n=!0,r=ic(t);i=yield r.next(),a=i.done,!a;n=!0){c=i.value,n=!1;const u=c;if(!this.codec||this.codec===u.codec)yield this.setPublishingLayers(To(u.codec),u.qualities);else{const h=this.simulcastCodecs.get(u.codec);if(this.log.debug("try setPublishingCodec for ".concat(u.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:h})),!h||!h.sender){for(const m of u.qualities)if(m.enabled){d.push(u.codec);break}}else h.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(u.codec),this.logContext),yield QU(h.sender,h.encodings,u.qualities,this.senderLock,To(u.codec),this.log,this.logContext))}}}catch(u){o={error:u}}finally{try{!n&&!a&&(l=r.return)&&(yield l.call(r))}finally{if(o)throw o.error}}return d})}setPublishingLayers(t,n){return W(this,void 0,void 0,function*(){if(this.optimizeForPerformance){this.log.info("skipping setPublishingLayers due to optimized publishing performance",Object.assign(Object.assign({},this.logContext),{qualities:n}));return}this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:n})),!(!this.sender||!this.encodings)&&(yield QU(this.sender,this.encodings,n,this.senderLock,t,this.log,this.logContext))})}prioritizePerformance(){return W(this,void 0,void 0,function*(){if(!this.sender)throw new Error("sender not found");const t=yield this.senderLock.lock();try{this.optimizeForPerformance=!0;const n=this.sender.getParameters();n.encodings=n.encodings.map((r,i)=>{var a;return Object.assign(Object.assign({},r),{active:i===0,scaleResolutionDownBy:Math.max(1,Math.ceil(((a=this.mediaStreamTrack.getSettings().height)!==null&&a!==void 0?a:360)/360)),scalabilityMode:i===0&&To(this.codec)?"L1T3":void 0,maxFramerate:i===0?15:0,maxBitrate:i===0?r.maxBitrate:0})}),this.log.debug("setting performance optimised encodings",Object.assign(Object.assign({},this.logContext),{encodings:n.encodings})),this.encodings=n.encodings,yield this.sender.setParameters(n)}catch(n){this.log.error("failed to set performance optimised encodings",Object.assign(Object.assign({},this.logContext),{error:n})),this.optimizeForPerformance=!1}finally{t()}})}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return W(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),Yre()&&this.isInBackground&&this.source===fe.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function QU(e,t,n,r,i,a,o){return W(this,void 0,void 0,function*(){const l=yield r.lock();a.debug("setPublishingLayersForSender",Object.assign(Object.assign({},o),{sender:e,qualities:n,senderEncodings:t}));try{const c=e.getParameters(),{encodings:d}=c;if(!d)return;if(d.length!==t.length){a.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},o),{encodings:d,senderEncodings:t}));return}let u=!1;!1&&d[0].scalabilityMode||(i&&n.some(f=>f.enabled)&&n.forEach(f=>f.enabled=!0),d.forEach((m,f)=>{var p;let g=(p=m.rid)!==null&&p!==void 0?p:"";g===""&&(g="q");const y=ise(g),v=n.find(b=>b.quality===y);v&&m.active!==v.enabled&&(u=!0,m.active=v.enabled,a.debug("setting layer ".concat(v.quality," to ").concat(m.active?"enabled":"disabled"),o),hm()&&(v.enabled?(m.scaleResolutionDownBy=t[f].scaleResolutionDownBy,m.maxBitrate=t[f].maxBitrate,m.maxFrameRate=t[f].maxFrameRate):(m.scaleResolutionDownBy=4,m.maxBitrate=10,m.maxFrameRate=2)))})),u&&(c.encodings=d,a.debug("setting encodings",Object.assign(Object.assign({},o),{encodings:c.encodings})),yield e.setParameters(c))}finally{l()}})}function ise(e){switch(e){case"f":return ra.HIGH;case"h":return ra.MEDIUM;case"q":return ra.LOW;default:return ra.HIGH}}function ZU(e,t,n,r){if(!n)return[new nu({quality:ra.HIGH,width:e,height:t,bitrate:0,ssrc:0})];if(r){const i=n[0].scalabilityMode,a=new sse(i),o=[],l=a.suffix=="h"?1.5:2,c=a.suffix=="h"?2:3;for(let d=0;d<a.spatial;d+=1)o.push(new nu({quality:Math.min(ra.HIGH,a.spatial-1)-d,width:Math.ceil(e/Math.pow(l,d)),height:Math.ceil(t/Math.pow(l,d)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(c,d)):0,ssrc:0}));return o}return n.map(i=>{var a,o,l;const c=(a=i.scaleResolutionDownBy)!==null&&a!==void 0?a:1;let d=ise((o=i.rid)!==null&&o!==void 0?o:"");return new nu({quality:d,width:Math.ceil(e/c),height:Math.ceil(t/c),bitrate:(l=i.maxBitrate)!==null&&l!==void 0?l:0,ssrc:0})})}const ez="_lossy",tz="_reliable",W$e=2*1e3,ZT="leave-reconnect",H$e=3e4,K$e=8*1024,G$e=256*1024;var _a;(function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"})(_a||(_a={}));class Y$e extends $l.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(t){var n;super(),this.options=t,this.rtcConfig={},this.peerConnectionTimeout=tD.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.latestRemoteOfferId=0,this.subscriberPrimary=!1,this.pcState=_a.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=It,this.reliableDataSequence=1,this.reliableMessageBuffer=new UU,this.reliableReceivedState=new p$e(H$e),this.lossyDataStatCurrentBytes=0,this.lossyDataStatByterate=0,this.lossyDataDropCount=0,this.midToTrackId={},this.isWaitingForNetworkReconnect=!1,this.handleDataChannel=r=>W(this,[r],void 0,function(i){var a=this;let{channel:o}=i;return function*(){if(o){if(o.label===tz)a.reliableDCSub=o;else if(o.label===ez)a.lossyDCSub=o;else return;a.log.debug("on data channel ".concat(o.id,", ").concat(o.label),a.logContext),o.onmessage=a.handleDataMessage}}()}),this.handleDataMessage=r=>W(this,void 0,void 0,function*(){var i,a,o,l,c;const d=yield this.dataProcessLock.lock();try{let u;if(r.data instanceof ArrayBuffer)u=r.data;else if(r.data instanceof Blob)u=yield r.data.arrayBuffer();else{this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:r.data}));return}const h=Ys.fromBinary(new Uint8Array(u));if(h.sequence>0&&h.participantSid!==""){const m=this.reliableReceivedState.get(h.participantSid);if(m&&h.sequence<=m)return;this.reliableReceivedState.set(h.participantSid,h.sequence)}if(((i=h.value)===null||i===void 0?void 0:i.case)==="speaker")this.emit(Pe.ActiveSpeakersUpdate,h.value.value.speakers);else if(((a=h.value)===null||a===void 0?void 0:a.case)==="encryptedPacket"){if(!this.e2eeManager){this.log.error("Received encrypted packet but E2EE not set up",this.logContext);return}const m=yield(o=this.e2eeManager)===null||o===void 0?void 0:o.handleEncryptedData(h.value.value.encryptedValue,h.value.value.iv,h.participantIdentity,h.value.value.keyIndex),f=qne.fromBinary(m.payload),p=new Ys({value:f.value,participantIdentity:h.participantIdentity,participantSid:h.participantSid});((l=p.value)===null||l===void 0?void 0:l.case)==="user"&&nz(p,p.value.value),this.emit(Pe.DataPacketReceived,p,h.value.value.encryptionType)}else((c=h.value)===null||c===void 0?void 0:c.case)==="user"&&nz(h,h.value.value),this.emit(Pe.DataPacketReceived,h,Qr.NONE)}finally{d()}}),this.handleDataError=r=>{const a=r.currentTarget.maxRetransmits===0?"lossy":"reliable";if(r instanceof ErrorEvent&&r.error){const{error:o}=r.error;this.log.error("DataChannel error on ".concat(a,": ").concat(r.message),Object.assign(Object.assign({},this.logContext),{error:o}))}else this.log.error("Unknown DataChannel error on ".concat(a),Object.assign(Object.assign({},this.logContext),{event:r}))},this.handleBufferedAmountLow=r=>{const a=r.currentTarget.maxRetransmits===0?$t.LOSSY:$t.RELIABLE;this.updateAndEmitDCBufferStatus(a)},this.handleDisconnect=(r,i)=>{if(this._isClosed)return;this.log.warn("".concat(r," disconnected"),this.logContext),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const a=c=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(c,"ms. giving up"),this.logContext),this.emit(Pe.Disconnected),this.close()},o=Date.now()-this.reconnectStart;let l=this.getNextRetryDelay({elapsedMs:o,retryCount:this.reconnectAttempts});if(l===null){a(o);return}r===ZT&&(l=0),this.log.debug("reconnecting in ".concat(l,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=js.setTimeout(()=>this.attemptReconnect(i).finally(()=>this.reconnectTimeout=void 0),l)},this.waitForRestarted=()=>new Promise((r,i)=>{this.pcState===_a.Connected&&r();const a=()=>{this.off(Pe.Disconnected,o),r()},o=()=>{this.off(Pe.Restarted,a),i()};this.once(Pe.Restarted,a),this.once(Pe.Disconnected,o)}),this.updateAndEmitDCBufferStatus=r=>{if(r===$t.RELIABLE){const a=this.dataChannelForKind(r);a&&this.reliableMessageBuffer.alignBufferedAmount(a.bufferedAmount)}const i=this.isBufferStatusLow(r);typeof i<"u"&&i!==this.dcBufferStatus.get(r)&&(this.dcBufferStatus.set(r,i),this.emit(Pe.DCBufferStatusChanged,i,r))},this.isBufferStatusLow=r=>{const i=this.dataChannelForKind(r);if(i)return i.bufferedAmount<=i.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>W(this,void 0,void 0,function*(){!this.url||!(yield fetch(v0(this.url),{method:"HEAD"}).then(i=>i.ok).catch(()=>!1))||(this.log.info("detected network reconnected"),(this.client.currentState===Cn.RECONNECTING||this.isWaitingForNetworkReconnect&&this.client.currentState===Cn.CONNECTED)&&(this.clearReconnectTimeout(),this.attemptReconnect(oh.RR_SIGNAL_DISCONNECTED),this.isWaitingForNetworkReconnect=!1))}),this.handleBrowserOffline=()=>W(this,void 0,void 0,function*(){if(this.url)try{yield Promise.race([fetch(v0(this.url),{method:"HEAD"}),Ss(4e3).then(()=>Promise.reject())])}catch{window.navigator.onLine===!1&&(this.log.info("detected network interruption"),this.isWaitingForNetworkReconnect=!0)}}),this.log=Rc((n=t.loggerName)!==null&&n!==void 0?n:zo.Engine),this.loggerOptions={loggerName:t.loggerName,loggerContextCb:()=>this.logContext},this.client=new J3(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.closingLock=new si,this.dataProcessLock=new si,this.dcBufferStatus=new Map([[$t.LOSSY,!0],[$t.RELIABLE,!0]]),this.client.onParticipantUpdate=r=>this.emit(Pe.ParticipantUpdate,r),this.client.onConnectionQuality=r=>this.emit(Pe.ConnectionQualityUpdate,r),this.client.onRoomUpdate=r=>this.emit(Pe.RoomUpdate,r),this.client.onSubscriptionError=r=>this.emit(Pe.SubscriptionError,r),this.client.onSubscriptionPermissionUpdate=r=>this.emit(Pe.SubscriptionPermissionUpdate,r),this.client.onSpeakersChanged=r=>this.emit(Pe.SpeakersChanged,r),this.client.onStreamStateUpdate=r=>this.emit(Pe.StreamStateChanged,r),this.client.onRequestResponse=r=>this.emit(Pe.SignalRequestResponse,r)}get logContext(){var t,n,r,i,a,o;return{room:(n=(t=this.latestJoinResponse)===null||t===void 0?void 0:t.room)===null||n===void 0?void 0:n.name,roomID:(i=(r=this.latestJoinResponse)===null||r===void 0?void 0:r.room)===null||i===void 0?void 0:i.sid,participant:(o=(a=this.latestJoinResponse)===null||a===void 0?void 0:a.participant)===null||o===void 0?void 0:o.identity,pID:this.participantSid}}join(t,n,r,i){return W(this,arguments,void 0,function(a,o,l,c){var d=this;let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return function*(){d.url=a,d.token=o,d.signalOpts=l,d.maxJoinAttempts=l.maxRetries;try{d.joinAttempts+=1,d.setupSignalClientCallbacks();const h=yield d.client.join(a,o,l,c,u);return d._isClosed=!1,d.latestJoinResponse=h,d.subscriberPrimary=h.subscriberPrimary,d.pcManager||(yield d.configure(h,!u)),(!d.subscriberPrimary||h.fastPublish)&&d.negotiate().catch(m=>{It.error(m,d.logContext)}),d.registerOnLineListener(),d.clientConfiguration=h.clientConfiguration,d.emit(Pe.SignalConnected,h),h}catch(h){if(h instanceof it){if(h.reason===En.ServerUnreachable){if(d.log.warn("Couldn't connect to server, attempt ".concat(d.joinAttempts," of ").concat(d.maxJoinAttempts),d.logContext),d.joinAttempts<d.maxJoinAttempts)return d.join(a,o,l,c,u)}else if(h.reason===En.ServiceNotFound)return d.log.warn("Initial connection failed: ".concat(h.message,"  Retrying")),d.join(a,o,l,c,!0)}throw h}}()})}close(){return W(this,void 0,void 0,function*(){const t=yield this.closingLock.lock();if(this.isClosed){t();return}try{this._isClosed=!0,this.joinAttempts=0,this.emit(Pe.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),this.cleanupLossyDataStats(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{t()}})}cleanupPeerConnections(){return W(this,void 0,void 0,function*(){var t;yield(t=this.pcManager)===null||t===void 0?void 0:t.close(),this.pcManager=void 0;const n=r=>{r&&(r.close(),r.onbufferedamountlow=null,r.onclose=null,r.onclosing=null,r.onerror=null,r.onmessage=null,r.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0,this.reliableMessageBuffer=new UU,this.reliableDataSequence=1,this.reliableReceivedState.clear()})}cleanupLossyDataStats(){this.lossyDataStatByterate=0,this.lossyDataStatCurrentBytes=0,this.lossyDataStatInterval&&(clearInterval(this.lossyDataStatInterval),this.lossyDataStatInterval=void 0),this.lossyDataDropCount=0}cleanupClient(){return W(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(t){if(this.pendingTrackResolvers[t.cid])throw new ac("a track with the same ID has already been published");return new Promise((n,r)=>{const i=setTimeout(()=>{delete this.pendingTrackResolvers[t.cid],r(it.timeout("publication of local track timed out, no response from server"))},1e4);this.pendingTrackResolvers[t.cid]={resolve:a=>{clearTimeout(i),n(a)},reject:()=>{clearTimeout(i),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(t)})}removeTrack(t){if(t.track&&this.pendingTrackResolvers[t.track.id]){const{reject:n}=this.pendingTrackResolvers[t.track.id];n&&n(),delete this.pendingTrackResolvers[t.track.id]}try{return this.pcManager.removeTrack(t),!0}catch(n){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:n}))}return!1}updateMuteStatus(t,n){this.client.sendMuteTrack(t,n)}get dataSubscriberReadyState(){var t;return(t=this.reliableDCSub)===null||t===void 0?void 0:t.readyState}getConnectedServerAddress(){return W(this,void 0,void 0,function*(){var t;return(t=this.pcManager)===null||t===void 0?void 0:t.getConnectedAddress()})}setRegionUrlProvider(t){this.regionUrlProvider=t}configure(t,n){return W(this,void 0,void 0,function*(){var r,i;if(this.pcManager&&this.pcManager.currentState!==xr.NEW)return;this.participantSid=(r=t.participant)===null||r===void 0?void 0:r.sid;const a=this.makeRTCConfiguration(t);this.pcManager=new N$e(a,n?"publisher-only":t.subscriberPrimary?"subscriber-primary":"publisher-primary",this.loggerOptions),this.emit(Pe.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(o,l)=>{this.client.sendIceCandidate(o,l)},this.pcManager.onPublisherOffer=(o,l)=>{this.client.sendOffer(o,l)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(o,l,c)=>W(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(o),this.logContext),["closed","disconnected","failed"].includes(l)&&(this.publisherConnectionPromise=void 0),o===xr.CONNECTED){const h=this.pcState===_a.New;this.pcState=_a.Connected,h&&this.emit(Pe.Connected,t)}else o===xr.FAILED&&(this.pcState===_a.Connected||this.pcState===_a.Reconnecting)&&(this.pcState=_a.Disconnected,this.handleDisconnect("peerconnection failed",c==="failed"?oh.RR_SUBSCRIBER_FAILED:oh.RR_PUBLISHER_FAILED));const d=this.client.isDisconnected||this.client.currentState===Cn.RECONNECTING,u=[xr.FAILED,xr.CLOSING,xr.CLOSED].includes(o);d&&u&&!this._isClosed&&this.emit(Pe.Offline)}),this.pcManager.onTrack=o=>{o.streams.length!==0&&this.emit(Pe.MediaTrackAdded,o.track,o.streams[0],o.receiver)},X$e((i=t.serverInfo)===null||i===void 0?void 0:i.protocol)||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=(t,n,r)=>W(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:t.type,sdp:t.sdp,midToTrackId:r})),this.midToTrackId=r,yield this.pcManager.setPublisherAnswer(t,n))}),this.client.onTrickle=(t,n)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:t,target:n})),this.pcManager.addIceCandidate(t,n))},this.client.onOffer=(t,n,r)=>W(this,void 0,void 0,function*(){if(this.latestRemoteOfferId=n,!this.pcManager)return;this.midToTrackId=r;const i=yield this.pcManager.createSubscriberAnswerFromOffer(t,n);i&&this.client.sendAnswer(i,n)}),this.client.onLocalTrackPublished=t=>{var n;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:t.cid,track:(n=t.track)===null||n===void 0?void 0:n.sid})),!this.pendingTrackResolvers[t.cid]){this.log.error("missing track resolver for ".concat(t.cid),Object.assign(Object.assign({},this.logContext),{cid:t.cid}));return}const{resolve:r}=this.pendingTrackResolvers[t.cid];delete this.pendingTrackResolvers[t.cid],r(t.track)},this.client.onLocalTrackUnpublished=t=>{this.emit(Pe.LocalTrackUnpublished,t)},this.client.onLocalTrackSubscribed=t=>{this.emit(Pe.LocalTrackSubscribed,t)},this.client.onTokenRefresh=t=>{var n;this.token=t,(n=this.regionUrlProvider)===null||n===void 0||n.updateToken(t)},this.client.onRemoteMuteChanged=(t,n)=>{this.emit(Pe.RemoteMute,t,n)},this.client.onSubscribedQualityUpdate=t=>{this.emit(Pe.SubscribedQualityUpdate,t)},this.client.onRoomMoved=t=>{var n;this.participantSid=(n=t.participant)===null||n===void 0?void 0:n.sid,this.latestJoinResponse&&(this.latestJoinResponse.room=t.room),this.emit(Pe.RoomMoved,t)},this.client.onMediaSectionsRequirement=t=>{var n,r;const i={direction:"recvonly"};for(let a=0;a<t.numAudios;a++)(n=this.pcManager)===null||n===void 0||n.addPublisherTransceiverOfKind("audio",i);for(let a=0;a<t.numVideos;a++)(r=this.pcManager)===null||r===void 0||r.addPublisherTransceiverOfKind("video",i);this.negotiate()},this.client.onClose=()=>{this.handleDisconnect("signal",oh.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=t=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:t==null?void 0:t.reason})),t.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions({updatedAtInMs:Date.now(),maxAgeInMs:tse,regionSettings:t.regions})),t.action){case op.DISCONNECT:this.emit(Pe.Disconnected,t==null?void 0:t.reason),this.close();break;case op.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(ZT);break;case op.RESUME:this.handleDisconnect(ZT)}}}makeRTCConfiguration(t){var n;const r=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),r.encodedInsertableStreams=!0),t.iceServers&&!r.iceServers){const i=[];t.iceServers.forEach(a=>{const o={urls:a.urls};a.username&&(o.username=a.username),a.credential&&(o.credential=a.credential),i.push(o)}),r.iceServers=i}return t.clientConfiguration&&t.clientConfiguration.forceRelay===f0.ENABLED&&(r.iceTransportPolicy="relay"),r.sdpSemantics="unified-plan",r.continualGatheringPolicy="gather_continually",r}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(ez,{ordered:!1,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(tz,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow,this.cleanupLossyDataStats(),this.lossyDataStatInterval=setInterval(()=>{this.lossyDataStatByterate=this.lossyDataStatCurrentBytes,this.lossyDataStatCurrentBytes=0;const t=this.dataChannelForKind($t.LOSSY);if(t){const n=this.lossyDataStatByterate/10;t.bufferedAmountLowThreshold=Math.min(Math.max(n,K$e),G$e)}},1e3))}createSender(t,n,r){return W(this,void 0,void 0,function*(){if(oO())return yield this.createTransceiverRTCRtpSender(t,n,r);if(lO())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(t.mediaStreamTrack);throw new _r("Required webRTC APIs not supported on this device")})}createSimulcastSender(t,n,r,i){return W(this,void 0,void 0,function*(){if(oO())return this.createSimulcastTransceiverSender(t,n,r,i);if(lO())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(t.mediaStreamTrack);throw new _r("Cannot stream on this device")})}createTransceiverRTCRtpSender(t,n,r){return W(this,void 0,void 0,function*(){if(!this.pcManager)throw new _r("publisher is closed");const i=[];t.mediaStream&&i.push(t.mediaStream),$u(t)&&(t.codec=n.videoCodec);const a={direction:"sendonly",streams:i};return r&&(a.sendEncodings=r),(yield this.pcManager.addPublisherTransceiver(t.mediaStreamTrack,a)).sender})}createSimulcastTransceiverSender(t,n,r,i){return W(this,void 0,void 0,function*(){if(!this.pcManager)throw new _r("publisher is closed");const a={direction:"sendonly"};i&&(a.sendEncodings=i);const o=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,a);if(r.videoCodec)return t.setSimulcastTrackSender(r.videoCodec,o.sender),o.sender})}createRTCRtpSender(t){return W(this,void 0,void 0,function*(){if(!this.pcManager)throw new _r("publisher is closed");return this.pcManager.addPublisherTrack(t)})}attemptReconnect(t){return W(this,void 0,void 0,function*(){var n,r,i;if(!this._isClosed){if(this.attemptingReconnect){It.warn("already attempting reconnect, returning early",this.logContext);return}(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===f0.DISABLED||((i=(r=this.pcManager)===null||r===void 0?void 0:r.currentState)!==null&&i!==void 0?i:xr.NEW)===xr.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(t),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(a){this.reconnectAttempts+=1;let o=!0;a instanceof _r?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:a})),o=!1):a instanceof Zm||(this.fullReconnectOnNext=!0),o?this.handleDisconnect("reconnect",oh.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(Pe.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(t){try{return this.reconnectPolicy.nextRetryDelayInMs(t)}catch(n){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:n}))}return null}restartConnection(t){return W(this,void 0,void 0,function*(){var n,r,i;try{if(!this.url||!this.token)throw new _r("could not reconnect, url or token not saved");this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(Pe.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();let a;try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new Zm;a=yield this.join(t??this.url,this.token,this.signalOpts,void 0,!this.options.singlePeerConnection)}catch(o){throw o instanceof it&&o.reason===En.NotAllowed?new _r("could not reconnect, token might be expired"):new Zm}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(Pe.SignalRestarted,a),yield this.waitForPCReconnected(),this.client.currentState!==Cn.CONNECTED)throw new Zm("Signal connection got severed during reconnect");(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(Pe.Restarted)}catch(a){const o=yield(r=this.regionUrlProvider)===null||r===void 0?void 0:r.getNextBestRegionUrl();if(o){yield this.restartConnection(o);return}else throw(i=this.regionUrlProvider)===null||i===void 0||i.resetAttempts(),a}})}resumeConnection(t){return W(this,void 0,void 0,function*(){var n;if(!this.url||!this.token)throw new _r("could not reconnect, url or token not saved");if(!this.pcManager)throw new _r("publisher and subscriber connections unset");this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(Pe.Resuming);let r;try{this.setupSignalClientCallbacks(),r=yield this.client.reconnect(this.url,this.token,this.participantSid,t)}catch(i){let a="";throw i instanceof Error&&(a=i.message,this.log.error(i.message,Object.assign(Object.assign({},this.logContext),{error:i}))),i instanceof it&&i.reason===En.NotAllowed?new _r("could not reconnect, token might be expired"):i instanceof it&&i.reason===En.LeaveRequest?i:new Zm(a)}if(this.emit(Pe.SignalResumed),r){const i=this.makeRTCConfiguration(r);this.pcManager.updateConfiguration(i),this.latestJoinResponse&&(this.latestJoinResponse.serverInfo=r.serverInfo)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==Cn.CONNECTED)throw new Zm("Signal connection got severed during reconnect");this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),r!=null&&r.lastMessageSeq&&this.resendReliableMessagesForResume(r.lastMessageSeq),this.emit(Pe.Resumed)})}waitForPCInitialConnection(t,n){return W(this,void 0,void 0,function*(){if(!this.pcManager)throw new _r("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,t)})}waitForPCReconnected(){return W(this,void 0,void 0,function*(){this.pcState=_a.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield Ss(W$e),!this.pcManager)throw new _r("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=_a.Connected}catch(t){throw this.pcState=_a.Disconnected,it.internal("could not establish PC connection, ".concat(t.message))}})}publishRpcResponse(t,n,r,i){return W(this,void 0,void 0,function*(){const a=new Ys({destinationIdentities:[t],kind:$t.RELIABLE,value:{case:"rpcResponse",value:new F3({requestId:n,value:i?{case:"error",value:i.toProto()}:{case:"payload",value:r??""}})}});yield this.sendDataPacket(a,$t.RELIABLE)})}publishRpcAck(t,n){return W(this,void 0,void 0,function*(){const r=new Ys({destinationIdentities:[t],kind:$t.RELIABLE,value:{case:"rpcAck",value:new $3({requestId:n})}});yield this.sendDataPacket(r,$t.RELIABLE)})}sendDataPacket(t,n){return W(this,void 0,void 0,function*(){if(yield this.ensurePublisherConnected(n),this.e2eeManager&&this.e2eeManager.isDataChannelEncryptionEnabled){const a=s$e(t);if(a){const o=yield this.e2eeManager.encryptData(a.toBinary());t.value={case:"encryptedPacket",value:new Vne({encryptedValue:o.payload,iv:o.iv,keyIndex:o.keyIndex})}}}n===$t.RELIABLE&&(t.sequence=this.reliableDataSequence,this.reliableDataSequence+=1);const r=t.toBinary(),i=this.dataChannelForKind(n);if(i){if(n===$t.RELIABLE)yield this.waitForBufferStatusLow(n),this.reliableMessageBuffer.push({data:r,sequence:t.sequence});else{if(!this.isBufferStatusLow(n)){this.lossyDataDropCount+=1,this.lossyDataDropCount%100===0&&this.log.warn("dropping lossy data channel messages, total dropped: ".concat(this.lossyDataDropCount),this.logContext);return}this.lossyDataStatCurrentBytes+=r.byteLength}if(this.attemptingReconnect)return;i.send(r)}this.updateAndEmitDCBufferStatus(n)})}resendReliableMessagesForResume(t){return W(this,void 0,void 0,function*(){yield this.ensurePublisherConnected($t.RELIABLE);const n=this.dataChannelForKind($t.RELIABLE);n&&(this.reliableMessageBuffer.popToSequence(t),this.reliableMessageBuffer.getAll().forEach(r=>{n.send(r.data)})),this.updateAndEmitDCBufferStatus($t.RELIABLE)})}waitForBufferStatusLow(t){return new ji((n,r)=>W(this,void 0,void 0,function*(){if(this.isBufferStatusLow(t))n();else{const i=()=>r(new _r("engine closed"));for(this.once(Pe.Closing,i);!this.dcBufferStatus.get(t);)yield Ss(10);this.off(Pe.Closing,i),n()}}))}ensureDataTransportConnected(t){return W(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;return function*(){var a;if(!r.pcManager)throw new _r("PC manager is closed");const o=i?r.pcManager.subscriber:r.pcManager.publisher,l=i?"Subscriber":"Publisher";if(!o)throw it.internal("".concat(l," connection not set"));let c=!1;!i&&!r.dataChannelForKind(n,i)&&(r.createDataChannels(),c=!0),!c&&!i&&!r.pcManager.publisher.isICEConnected&&r.pcManager.publisher.getICEConnectionState()!=="checking"&&(c=!0),c&&r.negotiate().catch(h=>{It.error(h,r.logContext)});const d=r.dataChannelForKind(n,i);if((d==null?void 0:d.readyState)==="open")return;const u=new Date().getTime()+r.peerConnectionTimeout;for(;new Date().getTime()<u;){if(o.isICEConnected&&((a=r.dataChannelForKind(n,i))===null||a===void 0?void 0:a.readyState)==="open")return;yield Ss(50)}throw it.internal("could not establish ".concat(l," connection, state: ").concat(o.getICEConnectionState()))}()})}ensurePublisherConnected(t){return W(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(t,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==xr.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return W(this,void 0,void 0,function*(){return new ji((t,n)=>W(this,void 0,void 0,function*(){if(!this.pcManager){n(new cp("PC manager is closed"));return}this.pcManager.requirePublisher(),this.pcManager.publisher.getTransceivers().length==0&&!this.lossyDC&&!this.reliableDC&&this.createDataChannels();const r=new AbortController,i=()=>{r.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),t()};this.isClosed&&n(new cp("cannot negotiate on closed engine")),this.on(Pe.Closing,i),this.pcManager.publisher.once(mp.RTPVideoPayloadTypes,a=>{const o=new Map;a.forEach(l=>{const c=l.codec.toLowerCase();ULe(c)&&o.set(l.payload,c)}),this.emit(Pe.RTPVideoMapUpdate,o)});try{yield this.pcManager.negotiate(r),t()}catch(a){a instanceof cp&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",oh.RR_UNKNOWN),a instanceof Error?n(a):n(new Error(String(a)))}finally{this.off(Pe.Closing,i)}}))})}dataChannelForKind(t,n){if(n){if(t===$t.LOSSY)return this.lossyDCSub;if(t===$t.RELIABLE)return this.reliableDCSub}else{if(t===$t.LOSSY)return this.lossyDC;if(t===$t.RELIABLE)return this.reliableDC}}sendSyncState(t,n){var r,i,a,o;if(!this.pcManager){this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);return}const l=this.pcManager.publisher.getLocalDescription(),c=this.pcManager.publisher.getRemoteDescription(),d=(r=this.pcManager.subscriber)===null||r===void 0?void 0:r.getRemoteDescription(),u=(i=this.pcManager.subscriber)===null||i===void 0?void 0:i.getLocalDescription(),h=(o=(a=this.signalOpts)===null||a===void 0?void 0:a.autoSubscribe)!==null&&o!==void 0?o:!0,m=new Array,f=new Array;t.forEach(p=>{p.isDesired!==h&&m.push(p.trackSid),p.isEnabled||f.push(p.trackSid)}),this.client.sendSyncState(new q3({answer:this.pcManager.mode==="publisher-only"?c?zf({sdp:c.sdp,type:c.type}):void 0:u?zf({sdp:u.sdp,type:u.type}):void 0,offer:this.pcManager.mode==="publisher-only"?l?zf({sdp:l.sdp,type:l.type}):void 0:d?zf({sdp:d.sdp,type:d.type}):void 0,subscription:new O_({trackSids:m,subscribe:!h,participantTracks:[]}),publishTracks:NLe(n),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:f,datachannelReceiveStates:this.reliableReceivedState.map((p,g)=>new cre({publisherSid:g,lastSeq:p}))}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const t=[],n=(r,i)=>{(r==null?void 0:r.id)!==void 0&&r.id!==null&&t.push(new dre({label:r.label,id:r.id,target:i}))};return n(this.dataChannelForKind($t.LOSSY),Eo.PUBLISHER),n(this.dataChannelForKind($t.RELIABLE),Eo.PUBLISHER),n(this.dataChannelForKind($t.LOSSY,!0),Eo.SUBSCRIBER),n(this.dataChannelForKind($t.RELIABLE,!0),Eo.SUBSCRIBER),t}clearReconnectTimeout(){this.reconnectTimeout&&js.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){Si()&&(window.addEventListener("online",this.handleBrowserOnLine),window.addEventListener("offline",this.handleBrowserOffline))}deregisterOnLineListener(){Si()&&(window.removeEventListener("online",this.handleBrowserOnLine),window.removeEventListener("offline",this.handleBrowserOffline))}getTrackIdForReceiver(t){var n;const r=(n=this.pcManager)===null||n===void 0?void 0:n.getMidForReceiver(t);if(r){const i=Object.entries(this.midToTrackId).find(a=>{let[o]=a;return o===r});if(i)return i[1]}}}function X$e(e){return e!==void 0&&e>13}function nz(e,t){const n=e.participantIdentity?e.participantIdentity:t.participantIdentity;e.participantIdentity=n,t.participantIdentity=n;const r=e.destinationIdentities.length!==0?e.destinationIdentities:t.destinationIdentities;e.destinationIdentities=r,t.destinationIdentities=r}class ase{get info(){return this._info}validateBytesReceived(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(typeof this.totalByteSize!="number"||this.totalByteSize===0)){if(t&&this.bytesReceived<this.totalByteSize)throw new Ca("Not enough chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, only received ").concat(this.bytesReceived," bytes"),Ks.Incomplete);if(this.bytesReceived>this.totalByteSize)throw new Ca("Extra chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, received ").concat(this.bytesReceived," bytes"),Ks.LengthExceeded)}}constructor(t,n,r,i){this.reader=n,this.totalByteSize=r,this._info=t,this.bytesReceived=0,this.outOfBandFailureRejectingFuture=i}}class J$e extends ase{handleChunkReceived(t){var n;this.bytesReceived+=t.content.byteLength,this.validateBytesReceived();const r=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,r)}[Symbol.asyncIterator](){const t=this.reader.getReader();let n=new $a,r=null,i=null;if(this.signal){const o=this.signal;i=()=>{var l;(l=n.reject)===null||l===void 0||l.call(n,o.reason)},o.addEventListener("abort",i),r=o}const a=()=>{t.releaseLock(),r&&i&&r.removeEventListener("abort",i),this.signal=void 0};return{next:()=>W(this,void 0,void 0,function*(){var o,l;try{const{done:c,value:d}=yield Promise.race([t.read(),n.promise,(l=(o=this.outOfBandFailureRejectingFuture)===null||o===void 0?void 0:o.promise)!==null&&l!==void 0?l:new Promise(()=>{})]);return c?(this.validateBytesReceived(!0),{done:!0,value:void 0}):(this.handleChunkReceived(d),{done:!1,value:d.content})}catch(c){throw a(),c}}),return(){return W(this,void 0,void 0,function*(){return a(),{done:!0,value:void 0}})}}}withAbortSignal(t){return this.signal=t,this}readAll(){return W(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){var r,i,a,o;let l=new Set;const c=n.signal?t.withAbortSignal(n.signal):t;try{for(var d=!0,u=ic(c),h;h=yield u.next(),r=h.done,!r;d=!0){o=h.value,d=!1;const m=o;l.add(m)}}catch(m){i={error:m}}finally{try{!d&&!r&&(a=u.return)&&(yield a.call(u))}finally{if(i)throw i.error}}return Array.from(l)}()})}}class Q$e extends ase{constructor(t,n,r,i){super(t,n,r,i),this.receivedChunks=new Map}handleChunkReceived(t){var n;const r=Tj(t.chunkIndex),i=this.receivedChunks.get(r);if(i&&i.version>t.version)return;this.receivedChunks.set(r,t),this.bytesReceived+=t.content.byteLength,this.validateBytesReceived();const a=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,a)}[Symbol.asyncIterator](){const t=this.reader.getReader(),n=new TextDecoder("utf-8",{fatal:!0});let r=new $a,i=null,a=null;if(this.signal){const l=this.signal;a=()=>{var c;(c=r.reject)===null||c===void 0||c.call(r,l.reason)},l.addEventListener("abort",a),i=l}const o=()=>{t.releaseLock(),i&&a&&i.removeEventListener("abort",a),this.signal=void 0};return{next:()=>W(this,void 0,void 0,function*(){var l,c;try{const{done:d,value:u}=yield Promise.race([t.read(),r.promise,(c=(l=this.outOfBandFailureRejectingFuture)===null||l===void 0?void 0:l.promise)!==null&&c!==void 0?c:new Promise(()=>{})]);if(d)return this.validateBytesReceived(!0),{done:!0,value:void 0};{this.handleChunkReceived(u);let h;try{h=n.decode(u.content)}catch(m){throw new Ca("Cannot decode datastream chunk ".concat(u.chunkIndex," as text: ").concat(m),Ks.DecodeFailed)}return{done:!1,value:h}}}catch(d){throw o(),d}}),return(){return W(this,void 0,void 0,function*(){return o(),{done:!0,value:void 0}})}}}withAbortSignal(t){return this.signal=t,this}readAll(){return W(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){var r,i,a,o;let l="";const c=n.signal?t.withAbortSignal(n.signal):t;try{for(var d=!0,u=ic(c),h;h=yield u.next(),r=h.done,!r;d=!0)o=h.value,d=!1,l+=o}catch(m){i={error:m}}finally{try{!d&&!r&&(a=u.return)&&(yield a.call(u))}finally{if(i)throw i.error}}return l}()})}}class Z$e{constructor(){this.log=It,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map}registerTextStreamHandler(t,n){if(this.textStreamHandlers.has(t))throw new Ca('A text stream handler for topic "'.concat(t,'" has already been set.'),Ks.HandlerAlreadyRegistered);this.textStreamHandlers.set(t,n)}unregisterTextStreamHandler(t){this.textStreamHandlers.delete(t)}registerByteStreamHandler(t,n){if(this.byteStreamHandlers.has(t))throw new Ca('A byte stream handler for topic "'.concat(t,'" has already been set.'),Ks.HandlerAlreadyRegistered);this.byteStreamHandlers.set(t,n)}unregisterByteStreamHandler(t){this.byteStreamHandlers.delete(t)}clearControllers(){this.byteStreamControllers.clear(),this.textStreamControllers.clear()}validateParticipantHasNoActiveDataStreams(t){var n,r,i,a;const o=Array.from(this.textStreamControllers.entries()).filter(c=>c[1].sendingParticipantIdentity===t),l=Array.from(this.byteStreamControllers.entries()).filter(c=>c[1].sendingParticipantIdentity===t);if(o.length>0||l.length>0){const c=new Ca("Participant ".concat(t," unexpectedly disconnected in the middle of sending data"),Ks.AbnormalEnd);for(const[d,u]of l)(r=(n=u.outOfBandFailureRejectingFuture).reject)===null||r===void 0||r.call(n,c),this.byteStreamControllers.delete(d);for(const[d,u]of o)(a=(i=u.outOfBandFailureRejectingFuture).reject)===null||a===void 0||a.call(i,c),this.textStreamControllers.delete(d)}}handleDataStreamPacket(t,n){return W(this,void 0,void 0,function*(){switch(t.value.case){case"streamHeader":return this.handleStreamHeader(t.value.value,t.participantIdentity,n);case"streamChunk":return this.handleStreamChunk(t.value.value,n);case"streamTrailer":return this.handleStreamTrailer(t.value.value,n);default:throw new Error('DataPacket of value "'.concat(t.value.case,'" is not data stream related!'))}})}handleStreamHeader(t,n,r){return W(this,void 0,void 0,function*(){var i;if(t.contentHeader.case==="byteHeader"){const a=this.byteStreamHandlers.get(t.topic);if(!a){this.log.debug("ignoring incoming byte stream due to no handler for topic",t.topic);return}let o;const l=new $a;l.promise.catch(u=>{this.log.error(u)});const c={id:t.streamId,name:(i=t.contentHeader.value.name)!==null&&i!==void 0?i:"unknown",mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:Tj(t.timestamp),attributes:t.attributes,encryptionType:r},d=new ReadableStream({start:u=>{if(o=u,this.textStreamControllers.has(t.streamId))throw new Ca("A data stream read is already in progress for a stream with id ".concat(t.streamId,"."),Ks.AlreadyOpened);this.byteStreamControllers.set(t.streamId,{info:c,controller:o,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:l})}});a(new J$e(c,d,Tj(t.totalLength),l),{identity:n})}else if(t.contentHeader.case==="textHeader"){const a=this.textStreamHandlers.get(t.topic);if(!a){this.log.debug("ignoring incoming text stream due to no handler for topic",t.topic);return}let o;const l=new $a;l.promise.catch(u=>{this.log.error(u)});const c={id:t.streamId,mimeType:t.mimeType,size:t.totalLength?Number(t.totalLength):void 0,topic:t.topic,timestamp:Number(t.timestamp),attributes:t.attributes,encryptionType:r},d=new ReadableStream({start:u=>{if(o=u,this.textStreamControllers.has(t.streamId))throw new Ca("A data stream read is already in progress for a stream with id ".concat(t.streamId,"."),Ks.AlreadyOpened);this.textStreamControllers.set(t.streamId,{info:c,controller:o,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:l})}});a(new Q$e(c,d,Tj(t.totalLength),l),{identity:n})}})}handleStreamChunk(t,n){const r=this.byteStreamControllers.get(t.streamId);r&&(r.info.encryptionType!==n?(r.controller.error(new Ca("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(r.info.encryptionType),Ks.EncryptionTypeMismatch)),this.byteStreamControllers.delete(t.streamId)):t.content.length>0&&r.controller.enqueue(t));const i=this.textStreamControllers.get(t.streamId);i&&(i.info.encryptionType!==n?(i.controller.error(new Ca("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(i.info.encryptionType),Ks.EncryptionTypeMismatch)),this.textStreamControllers.delete(t.streamId)):t.content.length>0&&i.controller.enqueue(t))}handleStreamTrailer(t,n){const r=this.textStreamControllers.get(t.streamId);r&&(r.info.encryptionType!==n?r.controller.error(new Ca("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(r.info.encryptionType),Ks.EncryptionTypeMismatch)):(r.info.attributes=Object.assign(Object.assign({},r.info.attributes),t.attributes),r.controller.close(),this.textStreamControllers.delete(t.streamId)));const i=this.byteStreamControllers.get(t.streamId);i&&(i.info.encryptionType!==n?i.controller.error(new Ca("Encryption type mismatch for stream ".concat(t.streamId,". Expected ").concat(n,", got ").concat(i.info.encryptionType),Ks.EncryptionTypeMismatch)):(i.info.attributes=Object.assign(Object.assign({},i.info.attributes),t.attributes),i.controller.close()),this.byteStreamControllers.delete(t.streamId))}}class ose{constructor(t,n,r){this.writableStream=t,this.defaultWriter=t.getWriter(),this.onClose=r,this.info=n}write(t){return this.defaultWriter.write(t)}close(){return W(this,void 0,void 0,function*(){var t;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),(t=this.onClose)===null||t===void 0||t.call(this)})}}class e6e extends ose{}class t6e extends ose{}const rz=15e3;class n6e{constructor(t,n){this.engine=t,this.log=n}setupEngine(t){this.engine=t}sendText(t,n){return W(this,void 0,void 0,function*(){var r;const i=crypto.randomUUID(),o=new TextEncoder().encode(t).byteLength,l=(r=n==null?void 0:n.attachments)===null||r===void 0?void 0:r.map(()=>crypto.randomUUID()),c=new Array(l?l.length+1:1).fill(0),d=(h,m)=>{var f;c[m]=h;const p=c.reduce((g,y)=>g+y,0);(f=n==null?void 0:n.onProgress)===null||f===void 0||f.call(n,p)},u=yield this.streamText({streamId:i,totalSize:o,destinationIdentities:n==null?void 0:n.destinationIdentities,topic:n==null?void 0:n.topic,attachedStreamIds:l,attributes:n==null?void 0:n.attributes});return yield u.write(t),d(1,0),yield u.close(),n!=null&&n.attachments&&l&&(yield Promise.all(n.attachments.map((h,m)=>W(this,void 0,void 0,function*(){return this._sendFile(l[m],h,{topic:n.topic,mimeType:h.type,onProgress:f=>{d(f,m+1)}})})))),u.info})}streamText(t){return W(this,void 0,void 0,function*(){var n,r,i;const a=(n=t==null?void 0:t.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),o={id:a,mimeType:"text/plain",timestamp:Date.now(),topic:(r=t==null?void 0:t.topic)!==null&&r!==void 0?r:"",size:t==null?void 0:t.totalSize,attributes:t==null?void 0:t.attributes,encryptionType:!((i=this.engine.e2eeManager)===null||i===void 0)&&i.isDataChannelEncryptionEnabled?Qr.GCM:Qr.NONE},l=new HS({streamId:a,mimeType:o.mimeType,topic:o.topic,timestamp:lh(o.timestamp),totalLength:lh(t==null?void 0:t.totalSize),attributes:o.attributes,contentHeader:{case:"textHeader",value:new tre({version:t==null?void 0:t.version,attachedStreamIds:t==null?void 0:t.attachedStreamIds,replyToStreamId:t==null?void 0:t.replyToStreamId,operationType:(t==null?void 0:t.type)==="update"?KI.UPDATE:KI.CREATE})}}),c=t==null?void 0:t.destinationIdentities,d=new Ys({destinationIdentities:c,value:{case:"streamHeader",value:l}});yield this.engine.sendDataPacket(d,$t.RELIABLE);let u=0;const h=this.engine,m=new WritableStream({write(g){return W(this,void 0,void 0,function*(){for(const y of KLe(g,rz)){const v=new KS({content:y,streamId:a,chunkIndex:lh(u)}),b=new Ys({destinationIdentities:c,value:{case:"streamChunk",value:v}});yield h.sendDataPacket(b,$t.RELIABLE),u+=1}})},close(){return W(this,void 0,void 0,function*(){const g=new GS({streamId:a}),y=new Ys({destinationIdentities:c,value:{case:"streamTrailer",value:g}});yield h.sendDataPacket(y,$t.RELIABLE)})},abort(g){console.log("Sink error:",g)}});let f=()=>W(this,void 0,void 0,function*(){yield p.close()});h.once(Pe.Closing,f);const p=new e6e(m,o,()=>this.engine.off(Pe.Closing,f));return p})}sendFile(t,n){return W(this,void 0,void 0,function*(){const r=crypto.randomUUID();return yield this._sendFile(r,t,n),{id:r}})}_sendFile(t,n,r){return W(this,void 0,void 0,function*(){var i;const a=yield this.streamBytes({streamId:t,totalSize:n.size,name:n.name,mimeType:(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:n.type,topic:r==null?void 0:r.topic,destinationIdentities:r==null?void 0:r.destinationIdentities}),o=n.stream().getReader();for(;;){const{done:l,value:c}=yield o.read();if(l)break;yield a.write(c)}return yield a.close(),a.info})}streamBytes(t){return W(this,void 0,void 0,function*(){var n,r,i,a,o,l;const c=(n=t==null?void 0:t.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),d=t==null?void 0:t.destinationIdentities,u={id:c,mimeType:(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:"application/octet-stream",topic:(i=t==null?void 0:t.topic)!==null&&i!==void 0?i:"",timestamp:Date.now(),attributes:t==null?void 0:t.attributes,size:t==null?void 0:t.totalSize,name:(a=t==null?void 0:t.name)!==null&&a!==void 0?a:"unknown",encryptionType:!((o=this.engine.e2eeManager)===null||o===void 0)&&o.isDataChannelEncryptionEnabled?Qr.GCM:Qr.NONE},h=new HS({totalLength:lh((l=u.size)!==null&&l!==void 0?l:0),mimeType:u.mimeType,streamId:c,topic:u.topic,timestamp:lh(Date.now()),attributes:u.attributes,contentHeader:{case:"byteHeader",value:new nre({name:u.name})}}),m=new Ys({destinationIdentities:d,value:{case:"streamHeader",value:h}});yield this.engine.sendDataPacket(m,$t.RELIABLE);let f=0;const p=new si,g=this.engine,y=this.log,v=new WritableStream({write(w){return W(this,void 0,void 0,function*(){const S=yield p.lock();let j=0;try{for(;j<w.byteLength;){const N=w.slice(j,j+rz),k=new Ys({destinationIdentities:d,value:{case:"streamChunk",value:new KS({content:N,streamId:c,chunkIndex:lh(f)})}});yield g.sendDataPacket(k,$t.RELIABLE),f+=1,j+=N.byteLength}}finally{S()}})},close(){return W(this,void 0,void 0,function*(){const w=new GS({streamId:c}),S=new Ys({destinationIdentities:d,value:{case:"streamTrailer",value:w}});yield g.sendDataPacket(S,$t.RELIABLE)})},abort(w){y.error("Sink error:",w)}});return new t6e(v,u)})}}class lse extends fe{constructor(t,n,r,i,a){super(t,r,a),this.sid=n,this.receiver=i}get isLocal(){return!1}setMuted(t){this.isMuted!==t&&(this.isMuted=t,this._mediaStreamTrack.enabled=!t,this.emit(t?ke.Muted:ke.Unmuted,this))}setMediaStream(t){this.mediaStream=t;const n=r=>{r.track===this._mediaStreamTrack&&(t.removeEventListener("removetrack",n),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(ke.Ended,this))};t.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return W(this,void 0,void 0,function*(){var t;return!((t=this.receiver)===null||t===void 0)&&t.getStats?yield this.receiver.getStats():void 0})}setPlayoutDelay(t){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=t:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),rD)),kLe()&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const t=()=>{var n;this.timeSyncHandle=requestAnimationFrame(()=>t());const r=(n=this.receiver)===null||n===void 0?void 0:n.getSynchronizationSources()[0];if(r){const{timestamp:i,rtpTimestamp:a}=r;a&&this.rtpTimestamp!==a&&(this.emit(ke.TimeSyncUpdate,{timestamp:i,rtpTimestamp:a}),this.rtpTimestamp=a)}};t()}}class r6e extends lse{constructor(t,n,r,i,a,o){super(t,n,fe.Kind.Audio,r,o),this.monitorReceiver=()=>W(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const l=yield this.getReceiverStats();l&&this.prevStats&&this.receiver&&(this._currentBitrate=D_(l,this.prevStats)),this.prevStats=l}),this.audioContext=i,this.webAudioPluginNodes=[],a&&(this.sinkId=a.deviceId)}setVolume(t){var n;for(const r of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(t,0,.1):r.volume=t;_l()&&this._mediaStreamTrack._setVolume(t),this.elementVolume=t}getVolume(){if(this.elementVolume)return this.elementVolume;if(_l())return 1;let t=0;return this.attachedElements.forEach(n=>{n.volume>t&&(t=n.volume)}),t}setSinkId(t){return W(this,void 0,void 0,function*(){this.sinkId=t,yield Promise.all(this.attachedElements.map(n=>{if(cO(n))return n.setSinkId(t)}))})}attach(t){const n=this.attachedElements.length===0;return t?super.attach(t):t=super.attach(),this.sinkId&&cO(t)&&t.setSinkId(this.sinkId).catch(r=>{this.log.error("Failed to set sink id on remote audio track",r,this.logContext)}),this.audioContext&&n&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,t),t.volume=0,t.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),t}detach(t){let n;return t?(n=super.detach(t),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(t){this.audioContext=t,t&&this.attachedElements.length>0?this.connectWebAudio(t,this.attachedElements[0]):t||this.disconnectWebAudio()}setWebAudioPlugins(t){this.webAudioPluginNodes=t,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(t,n){this.disconnectWebAudio(),this.sourceNode=t.createMediaStreamSource(n.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach(i=>{r.connect(i),r=i}),this.gainNode=t.createGain(),r.connect(this.gainNode),this.gainNode.connect(t.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),t.state!=="running"&&t.resume().then(()=>{t.state!=="running"&&this.emit(ke.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(i=>{this.emit(ke.AudioPlaybackFailed,i)})}disconnectWebAudio(){var t,n;(t=this.gainNode)===null||t===void 0||t.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return W(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n;return t.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"audio",streamId:r.id,timestamp:r.timestamp,jitter:r.jitter,bytesReceived:r.bytesReceived,concealedSamples:r.concealedSamples,concealmentEvents:r.concealmentEvents,silentConcealedSamples:r.silentConcealedSamples,silentConcealmentEvents:r.silentConcealmentEvents,totalAudioEnergy:r.totalAudioEnergy,totalSamplesDuration:r.totalSamplesDuration})}),n})}}const e2=100;class s6e extends lse{constructor(t,n,r,i,a){super(t,n,fe.Kind.Video,r,a),this.elementInfos=[],this.monitorReceiver=()=>W(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const o=yield this.getReceiverStats();o&&this.prevStats&&this.receiver&&(this._currentBitrate=D_(o,this.prevStats)),this.prevStats=o}),this.debouncedHandleResize=Z3(()=>{this.updateDimensions()},e2),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}setStreamState(t){super.setStreamState(t),this.log.debug("setStreamState",t),this.isAdaptiveStream&&t===fe.StreamState.Active&&this.updateVisibility()}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(t){super.setMuted(t),this.attachedElements.forEach(n=>{t?dp(this._mediaStreamTrack,n):Uf(this._mediaStreamTrack,n)})}attach(t){if(t?super.attach(t):t=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===t)===void 0){const n=new i6e(t);this.observeElementInfo(n)}return t}observeElementInfo(t){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===t)===void 0?(t.handleResize=()=>{this.debouncedHandleResize()},t.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(t),t.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(t){if(!this.isAdaptiveStream){this.log.warn("stopObservingElementInfo ignored",this.logContext);return}const n=this.elementInfos.filter(r=>r===t);for(const r of n)r.stopObserving();this.elementInfos=this.elementInfos.filter(r=>r!==t),this.updateVisibility(),this.debouncedHandleResize()}detach(t){let n=[];if(t)return this.stopObservingElement(t),super.detach(t);n=super.detach();for(const r of n)this.stopObservingElement(r);return n}getDecoderImplementation(){var t;return(t=this.prevStats)===null||t===void 0?void 0:t.decoderImplementation}getReceiverStats(){return W(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const t=yield this.receiver.getStats();let n,r="",i=new Map;return t.forEach(a=>{a.type==="inbound-rtp"?(r=a.codecId,n={type:"video",streamId:a.id,framesDecoded:a.framesDecoded,framesDropped:a.framesDropped,framesReceived:a.framesReceived,packetsReceived:a.packetsReceived,packetsLost:a.packetsLost,frameWidth:a.frameWidth,frameHeight:a.frameHeight,pliCount:a.pliCount,firCount:a.firCount,nackCount:a.nackCount,jitter:a.jitter,timestamp:a.timestamp,bytesReceived:a.bytesReceived,decoderImplementation:a.decoderImplementation}):a.type==="codec"&&i.set(a.id,a)}),n&&r!==""&&i.get(r)&&(n.mimeType=i.get(r).mimeType),n})}stopObservingElement(t){const n=this.elementInfos.filter(r=>r.element===t);for(const r of n)this.stopObservingElementInfo(r)}handleAppVisibilityChanged(){const t=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return W(this,void 0,void 0,function*(){yield t.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(t){var n,r;const i=this.elementInfos.reduce((c,d)=>Math.max(c,d.visibilityChangedAt||0),0),a=!((r=(n=this.adaptiveStreamSettings)===null||n===void 0?void 0:n.pauseVideoInBackground)!==null&&r!==void 0)||r?this.isInBackground:!1,o=this.elementInfos.some(c=>c.pictureInPicture),l=this.elementInfos.some(c=>c.visible)&&!a||o;if(!(this.lastVisible===l&&!t)){if(!l&&Date.now()-i<e2){js.setTimeout(()=>{this.updateVisibility()},e2);return}this.lastVisible=l,this.emit(ke.VisibilityChanged,l,this)}}updateDimensions(){var t,n;let r=0,i=0;const a=this.getPixelDensity();for(const o of this.elementInfos){const l=o.width()*a,c=o.height()*a;l+c>r+i&&(r=l,i=c)}((t=this.lastDimensions)===null||t===void 0?void 0:t.width)===r&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===i||(this.lastDimensions={width:r,height:i},this.emit(ke.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var t;const n=(t=this.adaptiveStreamSettings)===null||t===void 0?void 0:t.pixelDensity;return n==="screen"?PU():n||(PU()>2?2:1)}}class i6e{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(t,n){this.onVisibilityChanged=r=>{var i;const{target:a,isIntersecting:o}=r;a===this.element&&(this.isIntersecting=o,this.isPiP=Jx(this.element),this.visibilityChangedAt=Date.now(),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this))},this.onEnterPiP=()=>{var r,i,a;(i=(r=window.documentPictureInPicture)===null||r===void 0?void 0:r.window)===null||i===void 0||i.addEventListener("pagehide",this.onLeavePiP),this.isPiP=Jx(this.element),(a=this.handleVisibilityChanged)===null||a===void 0||a.call(this)},this.onLeavePiP=()=>{var r;this.isPiP=Jx(this.element),(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.element=t,this.isIntersecting=n??pO(t),this.isPiP=Si()&&Jx(t),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var t,n,r;this.isIntersecting=pO(this.element),this.isPiP=Jx(this.element),this.element.handleResize=()=>{var i;(i=this.handleResize)===null||i===void 0||i.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,OU().observe(this.element),IU().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),(t=window.documentPictureInPicture)===null||t===void 0||t.addEventListener("enter",this.onEnterPiP),(r=(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window)===null||r===void 0||r.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var t,n,r,i,a;(t=OU())===null||t===void 0||t.unobserve(this.element),(n=IU())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),(r=window.documentPictureInPicture)===null||r===void 0||r.removeEventListener("enter",this.onEnterPiP),(a=(i=window.documentPictureInPicture)===null||i===void 0?void 0:i.window)===null||a===void 0||a.removeEventListener("pagehide",this.onLeavePiP)}}function Jx(e){var t,n;return document.pictureInPictureElement===e?!0:!((t=window.documentPictureInPicture)===null||t===void 0)&&t.window?pO(e,(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window):!1}function pO(e,t){const n=t||window;let r=e.offsetTop,i=e.offsetLeft;const a=e.offsetWidth,o=e.offsetHeight,{hidden:l}=e,{display:c}=getComputedStyle(e);for(;e.offsetParent;)e=e.offsetParent,r+=e.offsetTop,i+=e.offsetLeft;return r<n.pageYOffset+n.innerHeight&&i<n.pageXOffset+n.innerWidth&&r+o>n.pageYOffset&&i+a>n.pageXOffset&&!l&&c!=="none"}class tc extends $l.EventEmitter{constructor(t,n,r,i){var a;super(),this.metadataMuted=!1,this.encryption=Qr.NONE,this.log=It,this.handleMuted=()=>{this.emit(ke.Muted)},this.handleUnmuted=()=>{this.emit(ke.Unmuted)},this.log=Rc((a=i==null?void 0:i.loggerName)!==null&&a!==void 0?a:zo.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=t,this.trackSid=n,this.trackName=r,this.source=fe.Source.Unknown}setTrack(t){this.track&&(this.track.off(ke.Muted,this.handleMuted),this.track.off(ke.Unmuted,this.handleUnmuted)),this.track=t,t&&(t.on(ke.Muted,this.handleMuted),t.on(ke.Unmuted,this.handleUnmuted))}get logContext(){var t;return Object.assign(Object.assign({},(t=this.loggerContextCb)===null||t===void 0?void 0:t.call(this)),Bt(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==Qr.NONE}get audioTrack(){if(gl(this.track))return this.track}get videoTrack(){if($u(this.track))return this.track}updateInfo(t){this.trackSid=t.sid,this.trackName=t.name,this.source=fe.sourceFromProto(t.source),this.mimeType=t.mimeType,this.kind===fe.Kind.Video&&t.width>0&&(this.dimensions={width:t.width,height:t.height},this.simulcasted=t.simulcast),this.encryption=t.encryption,this.trackInfo=t,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:t}))}}(function(e){(function(t){t.Desired="desired",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed"})(e.SubscriptionStatus||(e.SubscriptionStatus={})),function(t){t.Allowed="allowed",t.NotAllowed="not_allowed"}(e.PermissionStatus||(e.PermissionStatus={}))})(tc||(tc={}));class gO extends tc{get isUpstreamPaused(){var t;return(t=this.track)===null||t===void 0?void 0:t.isUpstreamPaused}constructor(t,n,r,i){super(t,n.sid,n.name,i),this.track=void 0,this.handleTrackEnded=()=>{this.emit(ke.Ended)},this.handleCpuConstrained=()=>{this.track&&$u(this.track)&&this.emit(ke.CpuConstrained,this.track)},this.updateInfo(n),this.setTrack(r)}setTrack(t){this.track&&(this.track.off(ke.Ended,this.handleTrackEnded),this.track.off(ke.CpuConstrained,this.handleCpuConstrained)),super.setTrack(t),t&&(t.on(ke.Ended,this.handleTrackEnded),t.on(ke.CpuConstrained,this.handleCpuConstrained))}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return W(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.mute()})}unmute(){return W(this,void 0,void 0,function*(){var t;return(t=this.track)===null||t===void 0?void 0:t.unmute()})}pauseUpstream(){return W(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.pauseUpstream()})}resumeUpstream(){return W(this,void 0,void 0,function*(){var t;yield(t=this.track)===null||t===void 0?void 0:t.resumeUpstream()})}getTrackFeatures(){var t;if(gl(this.track)){const n=this.track.getSourceTrackSettings(),r=new Set;return n.autoGainControl&&r.add(ls.TF_AUTO_GAIN_CONTROL),n.echoCancellation&&r.add(ls.TF_ECHO_CANCELLATION),n.noiseSuppression&&r.add(ls.TF_NOISE_SUPPRESSION),n.channelCount&&n.channelCount>1&&r.add(ls.TF_STEREO),!((t=this.options)===null||t===void 0)&&t.dtx||r.add(ls.TF_NO_DTX),this.track.enhancedNoiseCancellation&&r.add(ls.TF_ENHANCED_NOISE_CANCELLATION),Array.from(r.values())}else return[]}}function L_(e,t){return W(this,void 0,void 0,function*(){e??(e={});let n=!1;const{audioProcessor:r,videoProcessor:i,optionsWithoutProcessor:a}=Gre(e);let o=a.audio,l=a.video;if(r&&typeof a.audio=="object"&&(a.audio.processor=r),i&&typeof a.video=="object"&&(a.video.processor=i),e.audio&&typeof a.audio=="object"&&typeof a.audio.deviceId=="string"){const h=a.audio.deviceId;a.audio.deviceId={exact:h},n=!0,o=Object.assign(Object.assign({},a.audio),{deviceId:{ideal:h}})}if(a.video&&typeof a.video=="object"&&typeof a.video.deviceId=="string"){const h=a.video.deviceId;a.video.deviceId={exact:h},n=!0,l=Object.assign(Object.assign({},a.video),{deviceId:{ideal:h}})}a.audio===!0?a.audio={deviceId:"default"}:typeof a.audio=="object"&&a.audio!==null&&(a.audio=Object.assign(Object.assign({},a.audio),{deviceId:a.audio.deviceId||"default"})),a.video===!0?a.video={deviceId:"default"}:typeof a.video=="object"&&!a.video.deviceId&&(a.video.deviceId="default");const c=Wre(a,Zre,ese),d=Y3(c),u=navigator.mediaDevices.getUserMedia(d);a.audio&&(cs.userMediaPromiseMap.set("audioinput",u),u.catch(()=>cs.userMediaPromiseMap.delete("audioinput"))),a.video&&(cs.userMediaPromiseMap.set("videoinput",u),u.catch(()=>cs.userMediaPromiseMap.delete("videoinput")));try{const h=yield u;return yield Promise.all(h.getTracks().map(m=>W(this,void 0,void 0,function*(){const f=m.kind==="audio";let p=f?c.audio:c.video;(typeof p=="boolean"||!p)&&(p={});let g;const y=f?d.audio:d.video;typeof y!="boolean"&&(g=y);const v=m.getSettings().deviceId;g!=null&&g.deviceId&&ru(g.deviceId)!==v?g.deviceId=v:g||(g={deviceId:v});const b=O$e(m,g,t);return b.kind===fe.Kind.Video?b.source=fe.Source.Camera:b.kind===fe.Kind.Audio&&(b.source=fe.Source.Microphone),b.mediaStream=h,gl(b)&&r?yield b.setProcessor(r):$u(b)&&i&&(yield b.setProcessor(i)),b})))}catch(h){if(!n)throw h;return L_(Object.assign(Object.assign({},e),{audio:o,video:l}),t)}})}function a6e(e){return W(this,void 0,void 0,function*(){return(yield L_({audio:!1,video:!0}))[0]})}function o6e(e){return W(this,void 0,void 0,function*(){return(yield L_({audio:!0,video:!1}))[0]})}var bd;(function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Lost="lost",e.Unknown="unknown"})(bd||(bd={}));function l6e(e){switch(e){case Ay.EXCELLENT:return bd.Excellent;case Ay.GOOD:return bd.Good;case Ay.POOR:return bd.Poor;case Ay.LOST:return bd.Lost;default:return bd.Unknown}}class cse extends $l.EventEmitter{get logContext(){var t,n;return Object.assign({},(n=(t=this.loggerOptions)===null||t===void 0?void 0:t.loggerContextCb)===null||n===void 0?void 0:n.call(t))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(t=>t.isEncrypted)}get isAgent(){var t;return((t=this.permissions)===null||t===void 0?void 0:t.agent)||this.kind===p0.AGENT}get isActive(){var t;return((t=this.participantInfo)===null||t===void 0?void 0:t.state)===ap.ACTIVE}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(t,n,r,i,a,o){let l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:p0.STANDARD;var c;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=bd.Unknown,this.log=It,this.log=Rc((c=o==null?void 0:o.loggerName)!==null&&c!==void 0?c:zo.Participant),this.loggerOptions=o,this.setMaxListeners(100),this.sid=t,this.identity=n,this.name=r,this.metadata=i,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=l,this._attributes=a??{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(t){for(const[,n]of this.trackPublications)if(n.source===t)return n}getTrackPublicationByName(t){for(const[,n]of this.trackPublications)if(n.trackName===t)return n}waitUntilActive(){return this.isActive?Promise.resolve():this.activeFuture?this.activeFuture.promise:(this.activeFuture=new $a,this.once(Ie.Active,()=>{var t,n;(n=(t=this.activeFuture)===null||t===void 0?void 0:t.resolve)===null||n===void 0||n.call(t),this.activeFuture=void 0}),this.activeFuture.promise)}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var t;const n=this.getTrackPublication(fe.Source.Camera);return!(!((t=n==null?void 0:n.isMuted)!==null&&t!==void 0)||t)}get isMicrophoneEnabled(){var t;const n=this.getTrackPublication(fe.Source.Microphone);return!(!((t=n==null?void 0:n.isMuted)!==null&&t!==void 0)||t)}get isScreenShareEnabled(){return!!this.getTrackPublication(fe.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(Number.parseInt(this.participantInfo.joinedAt.toString())*1e3):new Date}updateInfo(t){var n;return this.participantInfo&&this.participantInfo.sid===t.sid&&this.participantInfo.version>t.version?!1:(this.identity=t.identity,this.sid=t.sid,this._setName(t.name),this._setMetadata(t.metadata),this._setAttributes(t.attributes),t.state===ap.ACTIVE&&((n=this.participantInfo)===null||n===void 0?void 0:n.state)!==ap.ACTIVE&&this.emit(Ie.Active),t.permission&&this.setPermissions(t.permission),this.participantInfo=t,!0)}_setMetadata(t){const n=this.metadata!==t,r=this.metadata;this.metadata=t,n&&this.emit(Ie.ParticipantMetadataChanged,r)}_setName(t){const n=this.name!==t;this.name=t,n&&this.emit(Ie.ParticipantNameChanged,t)}_setAttributes(t){const n=_Le(this.attributes,t);this._attributes=t,Object.keys(n).length>0&&this.emit(Ie.AttributesChanged,n)}setPermissions(t){var n,r,i,a,o,l;const c=this.permissions,d=t.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||t.canSubscribe!==((r=this.permissions)===null||r===void 0?void 0:r.canSubscribe)||t.canPublishData!==((i=this.permissions)===null||i===void 0?void 0:i.canPublishData)||t.hidden!==((a=this.permissions)===null||a===void 0?void 0:a.hidden)||t.recorder!==((o=this.permissions)===null||o===void 0?void 0:o.recorder)||t.canPublishSources.length!==this.permissions.canPublishSources.length||t.canPublishSources.some((u,h)=>{var m;return u!==((m=this.permissions)===null||m===void 0?void 0:m.canPublishSources[h])})||t.canSubscribeMetrics!==((l=this.permissions)===null||l===void 0?void 0:l.canSubscribeMetrics);return this.permissions=t,d&&this.emit(Ie.ParticipantPermissionsChanged,c),d}setIsSpeaking(t){t!==this.isSpeaking&&(this.isSpeaking=t,t&&(this.lastSpokeAt=new Date),this.emit(Ie.IsSpeakingChanged,t))}setConnectionQuality(t){const n=this._connectionQuality;this._connectionQuality=l6e(t),n!==this._connectionQuality&&this.emit(Ie.ConnectionQualityChanged,this._connectionQuality)}setDisconnected(){var t,n;this.activeFuture&&((n=(t=this.activeFuture).reject)===null||n===void 0||n.call(t,new Error("Participant disconnected")),this.activeFuture=void 0)}setAudioContext(t){this.audioContext=t,this.audioTrackPublications.forEach(n=>gl(n.track)&&n.track.setAudioContext(t))}addTrackPublication(t){t.on(ke.Muted,()=>{this.emit(Ie.TrackMuted,t)}),t.on(ke.Unmuted,()=>{this.emit(Ie.TrackUnmuted,t)});const n=t;switch(n.track&&(n.track.sid=t.trackSid),this.trackPublications.set(t.trackSid,t),t.kind){case fe.Kind.Audio:this.audioTrackPublications.set(t.trackSid,t);break;case fe.Kind.Video:this.videoTrackPublications.set(t.trackSid,t);break}}}function c6e(e){var t,n,r;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new ore({participantIdentity:(t=e.participantIdentity)!==null&&t!==void 0?t:"",participantSid:(n=e.participantSid)!==null&&n!==void 0?n:"",allTracks:(r=e.allowAll)!==null&&r!==void 0?r:!1,trackSids:e.allowedTrackSids||[]})}class d6e extends cse{constructor(t,n,r,i,a,o){super(t,n,void 0,void 0,void 0,{loggerName:i.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=Qr.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new $a)},this.handleReconnected=()=>{var l,c;(c=(l=this.reconnectFuture)===null||l===void 0?void 0:l.resolve)===null||c===void 0||c.call(l),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleClosing=()=>{var l,c,d,u,h,m;this.reconnectFuture&&(this.reconnectFuture.promise.catch(f=>this.log.warn(f.message,this.logContext)),(c=(l=this.reconnectFuture)===null||l===void 0?void 0:l.reject)===null||c===void 0||c.call(l,new Error("Got disconnected during reconnection attempt")),this.reconnectFuture=void 0),this.signalConnectedFuture&&((u=(d=this.signalConnectedFuture).reject)===null||u===void 0||u.call(d,new Error("Got disconnected without signal connected")),this.signalConnectedFuture=void 0),(m=(h=this.activeAgentFuture)===null||h===void 0?void 0:h.reject)===null||m===void 0||m.call(h,new Error("Got disconnected without active agent present")),this.activeAgentFuture=void 0,this.firstActiveAgent=void 0},this.handleSignalConnected=l=>{var c,d;l.participant&&this.updateInfo(l.participant),this.signalConnectedFuture||(this.signalConnectedFuture=new $a),(d=(c=this.signalConnectedFuture).resolve)===null||d===void 0||d.call(c)},this.handleSignalRequestResponse=l=>{const{requestId:c,reason:d,message:u}=l,h=this.pendingSignalRequests.get(c);h&&(d!==W3.OK&&h.reject(new _U(u,d)),this.pendingSignalRequests.delete(c))},this.handleDataPacket=l=>{switch(l.value.case){case"rpcResponse":let c=l.value.value,d=null,u=null;c.value.case==="payload"?d=c.value.value:c.value.case==="error"&&(u=jr.fromProto(c.value.value)),this.handleIncomingRpcResponse(c.requestId,d,u);break;case"rpcAck":let h=l.value.value;this.handleIncomingRpcAck(h.requestId);break}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(l=>c6e(l)))},this.onTrackUnmuted=l=>{this.onTrackMuted(l,l.isUpstreamPaused)},this.onTrackMuted=(l,c)=>{if(c===void 0&&(c=!0),!l.sid){this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),Bt(l)));return}this.engine.updateMuteStatus(l.sid,c)},this.onTrackUpstreamPaused=l=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),Bt(l))),this.onTrackMuted(l,!0)},this.onTrackUpstreamResumed=l=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),Bt(l))),this.onTrackMuted(l,l.isMuted)},this.onTrackFeatureUpdate=l=>{const c=this.audioTrackPublications.get(l.sid);if(!c){this.log.warn("Could not update local audio track settings, missing publication for track ".concat(l.sid),this.logContext);return}this.engine.client.sendUpdateLocalAudioTrack(c.trackSid,c.getTrackFeatures())},this.onTrackCpuConstrained=(l,c)=>{this.log.debug("track cpu constrained",Object.assign(Object.assign({},this.logContext),Bt(c))),this.emit(Ie.LocalTrackCpuConstrained,l,c)},this.handleSubscribedQualityUpdate=l=>W(this,void 0,void 0,function*(){var c,d,u,h,m;if(!(!((m=this.roomOptions)===null||m===void 0)&&m.dynacast))return;const f=this.videoTrackPublications.get(l.trackSid);if(!f){this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:l.trackSid}));return}if(!f.videoTrack)return;const p=yield f.videoTrack.setPublishingCodecs(l.subscribedCodecs);try{for(var g=!0,y=ic(p),v;v=yield y.next(),c=v.done,!c;g=!0){h=v.value,g=!1;const b=h;wLe(b)&&(this.log.debug("publish ".concat(b," for ").concat(f.videoTrack.sid),Object.assign(Object.assign({},this.logContext),Bt(f))),yield this.publishAdditionalCodecForTrack(f.videoTrack,b,f.options))}}catch(b){d={error:b}}finally{try{!g&&!c&&(u=y.return)&&(yield u.call(y))}finally{if(d)throw d.error}}}),this.handleLocalTrackUnpublished=l=>{const c=this.trackPublications.get(l.trackSid);if(!c){this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:l.trackSid}));return}this.unpublishTrack(c.track)},this.handleTrackEnded=l=>W(this,void 0,void 0,function*(){if(l.source===fe.Source.ScreenShare||l.source===fe.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),Bt(l))),this.unpublishTrack(l);else if(l.isUserProvided)yield l.mute();else if(Xl(l)||td(l))try{if(Si())try{const c=yield navigator==null?void 0:navigator.permissions.query({name:l.source===fe.Source.Camera?"camera":"microphone"});if(c&&c.state==="denied")throw this.log.warn("user has revoked access to ".concat(l.source),Object.assign(Object.assign({},this.logContext),Bt(l))),c.onchange=()=>{c.state!=="denied"&&(l.isMuted||l.restartTrack(),c.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}l.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),Bt(l))),Xl(l)?yield l.restartTrack({deviceId:"default"}):yield l.restartTrack())}catch{this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),Bt(l))),yield l.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=r,this.roomOptions=i,this.setupEngine(r),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=a,this.roomOutgoingDataStreamManager=o}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==Qr.NONE}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setupEngine(t){var n;this.engine=t,this.engine.on(Pe.RemoteMute,(r,i)=>{const a=this.trackPublications.get(r);!a||!a.track||(i?a.mute():a.unmute())}),!((n=this.signalConnectedFuture)===null||n===void 0)&&n.isResolved&&(this.signalConnectedFuture=void 0),this.engine.on(Pe.Connected,this.handleReconnected).on(Pe.SignalConnected,this.handleSignalConnected).on(Pe.SignalRestarted,this.handleReconnected).on(Pe.SignalResumed,this.handleReconnected).on(Pe.Restarting,this.handleReconnecting).on(Pe.Resuming,this.handleReconnecting).on(Pe.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(Pe.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(Pe.Closing,this.handleClosing).on(Pe.SignalRequestResponse,this.handleSignalRequestResponse).on(Pe.DataPacketReceived,this.handleDataPacket)}setMetadata(t){return W(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:t})})}setName(t){return W(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:t})})}setAttributes(t){return W(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:t})})}requestMetadataUpdate(t){return W(this,arguments,void 0,function(n){var r=this;let{metadata:i,name:a,attributes:o}=n;return function*(){return new ji((l,c)=>W(r,void 0,void 0,function*(){var d,u;try{let h=!1;const m=yield this.engine.client.sendUpdateLocalMetadata((d=i??this.metadata)!==null&&d!==void 0?d:"",(u=a??this.name)!==null&&u!==void 0?u:"",o),f=performance.now();for(this.pendingSignalRequests.set(m,{resolve:l,reject:p=>{c(p),h=!0},values:{name:a,metadata:i,attributes:o}});performance.now()-f<5e3&&!h;){if((!a||this.name===a)&&(!i||this.metadata===i)&&(!o||Object.entries(o).every(p=>{let[g,y]=p;return this.attributes[g]===y||y===""&&!this.attributes[g]}))){this.pendingSignalRequests.delete(m),l();return}yield Ss(50)}c(new _U("Request to update local metadata timed out","TimeoutError"))}catch(h){h instanceof Error?c(h):c(new Error(String(h)))}}))}()})}setCameraEnabled(t,n,r){return this.setTrackEnabled(fe.Source.Camera,t,n,r)}setMicrophoneEnabled(t,n,r){return this.setTrackEnabled(fe.Source.Microphone,t,n,r)}setScreenShareEnabled(t,n,r){return this.setTrackEnabled(fe.Source.ScreenShare,t,n,r)}setE2EEEnabled(t){return W(this,void 0,void 0,function*(){this.encryptionType=t?Qr.GCM:Qr.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(t,n,r,i){return W(this,void 0,void 0,function*(){var a,o;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:t,enabled:n})),this.republishPromise&&(yield this.republishPromise);let l=this.getTrackPublication(t);if(n)if(l)yield l.unmute();else{let c;if(this.pendingPublishing.has(t)){const d=yield this.waitForPendingPublicationOfSource(t);return d||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t})),yield d==null?void 0:d.unmute(),d}this.pendingPublishing.add(t);try{switch(t){case fe.Source.Camera:c=yield this.createTracks({video:(a=r)!==null&&a!==void 0?a:!0});break;case fe.Source.Microphone:c=yield this.createTracks({audio:(o=r)!==null&&o!==void 0?o:!0});break;case fe.Source.ScreenShare:c=yield this.createScreenTracks(Object.assign({},r));break;default:throw new ac(t)}}catch(d){throw c==null||c.forEach(u=>{u.stop()}),d instanceof Error&&this.emit(Ie.MediaDevicesError,d,aO(t)),this.pendingPublishing.delete(t),d}for(const d of c){const u=Object.assign(Object.assign({},this.roomOptions.publishDefaults),r);t===fe.Source.Microphone&&gl(d)&&u.preConnectBuffer&&(this.log.info("starting preconnect buffer for microphone",Object.assign({},this.logContext)),d.startPreConnectBuffer())}try{const d=[];for(const h of c)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),Bt(h))),d.push(this.publishTrack(h,i));[l]=yield Promise.all(d)}catch(d){throw c==null||c.forEach(u=>{u.stop()}),d}finally{this.pendingPublishing.delete(t)}}else if(!(l!=null&&l.track)&&this.pendingPublishing.has(t)&&(l=yield this.waitForPendingPublicationOfSource(t),l||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:t}))),l&&l.track)if(t===fe.Source.ScreenShare){l=yield this.unpublishTrack(l.track);const c=this.getTrackPublication(fe.Source.ScreenShareAudio);c&&c.track&&this.unpublishTrack(c.track)}else yield l.mute();return l})}enableCameraAndMicrophone(){return W(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(fe.Source.Camera)||this.pendingPublishing.has(fe.Source.Microphone))){this.pendingPublishing.add(fe.Source.Camera),this.pendingPublishing.add(fe.Source.Microphone);try{const t=yield this.createTracks({audio:!0,video:!0});yield Promise.all(t.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(fe.Source.Camera),this.pendingPublishing.delete(fe.Source.Microphone)}}})}createTracks(t){return W(this,void 0,void 0,function*(){var n,r;t??(t={});const i=Wre(t,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(r=this.roomOptions)===null||r===void 0?void 0:r.videoCaptureDefaults);try{return(yield L_(i,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext})).map(l=>(gl(l)&&(this.microphoneError=void 0,l.setAudioContext(this.audioContext),l.source=fe.Source.Microphone,this.emit(Ie.AudioStreamAcquired)),$u(l)&&(this.cameraError=void 0,l.source=fe.Source.Camera),l))}catch(a){throw a instanceof Error&&(t.audio&&(this.microphoneError=a),t.video&&(this.cameraError=a)),a}})}createScreenTracks(t){return W(this,void 0,void 0,function*(){if(t===void 0&&(t={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new K3("getDisplayMedia not supported");t.resolution===void 0&&!MLe()&&(t.resolution=G3.h1080fps30.resolution);const n=SLe(t),r=yield navigator.mediaDevices.getDisplayMedia(n),i=r.getVideoTracks();if(i.length===0)throw new ac("no video track found");const a=new JS(i[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});a.source=fe.Source.ScreenShare,t.contentHint&&(a.mediaStreamTrack.contentHint=t.contentHint);const o=[a];if(r.getAudioTracks().length>0){this.emit(Ie.AudioStreamAcquired);const l=new XS(r.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});l.source=fe.Source.ScreenShareAudio,o.push(l)}return o})}publishTrack(t,n){return W(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(t,n)})}publishOrRepublishTrack(t,n){return W(this,arguments,void 0,function(r,i){var a=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function*(){var l,c,d,u;Xl(r)&&r.setAudioContext(a.audioContext),yield(l=a.reconnectFuture)===null||l===void 0?void 0:l.promise,a.republishPromise&&!o&&(yield a.republishPromise),up(r)&&a.pendingPublishPromises.has(r)&&(yield a.pendingPublishPromises.get(r));let h;if(r instanceof MediaStreamTrack)h=r.getConstraints();else{h=r.constraints;let v;switch(r.source){case fe.Source.Microphone:v="audioinput";break;case fe.Source.Camera:v="videoinput"}v&&a.activeDeviceMap.has(v)&&(h=Object.assign(Object.assign({},h),{deviceId:a.activeDeviceMap.get(v)}))}if(r instanceof MediaStreamTrack)switch(r.kind){case"audio":r=new XS(r,h,!0,a.audioContext,{loggerName:a.roomOptions.loggerName,loggerContextCb:()=>a.logContext});break;case"video":r=new JS(r,h,!0,{loggerName:a.roomOptions.loggerName,loggerContextCb:()=>a.logContext});break;default:throw new ac("unsupported MediaStreamTrack kind ".concat(r.kind))}else r.updateLoggerOptions({loggerName:a.roomOptions.loggerName,loggerContextCb:()=>a.logContext});let m;if(a.trackPublications.forEach(v=>{v.track&&v.track===r&&(m=v)}),m)return a.log.warn("track has already been published, skipping",Object.assign(Object.assign({},a.logContext),Bt(m))),m;const f=Object.assign(Object.assign({},a.roomOptions.publishDefaults),i),p="channelCount"in r.mediaStreamTrack.getSettings()&&r.mediaStreamTrack.getSettings().channelCount===2||r.mediaStreamTrack.getConstraints().channelCount===2,g=(c=f.forceStereo)!==null&&c!==void 0?c:p;g&&(f.dtx===void 0&&a.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},a.logContext),Bt(r))),f.red===void 0&&a.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(d=f.dtx)!==null&&d!==void 0||(f.dtx=!1),(u=f.red)!==null&&u!==void 0||(f.red=!1)),!LLe()&&a.roomOptions.e2ee&&(a.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},a.logContext)),f.simulcast=!1),f.source&&(r.source=f.source);const y=new Promise((v,b)=>W(a,void 0,void 0,function*(){try{if(this.engine.client.currentState!==Cn.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:Bt(r)}));let w=!1;const S=setTimeout(()=>{w=!0,r.stop(),b(new kU("publishing rejected as engine not connected within timeout",408))},15e3);if(yield this.waitUntilEngineConnected(),clearTimeout(S),w)return;const j=yield this.publish(r,f,g);v(j)}else try{const w=yield this.publish(r,f,g);v(w)}catch(w){b(w)}}catch(w){b(w)}}));a.pendingPublishPromises.set(r,y);try{return yield y}catch(v){throw v}finally{a.pendingPublishPromises.delete(r)}}()})}waitUntilEngineConnected(){return this.signalConnectedFuture||(this.signalConnectedFuture=new $a),this.signalConnectedFuture.promise}hasPermissionsToPublish(t){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),Bt(t))),!1;const{canPublish:n,canPublishSources:r}=this.permissions;return n&&(r.length===0||r.map(i=>CLe(i)).includes(t.source))?!0:(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),Bt(t))),!1)}publish(t,n,r){return W(this,void 0,void 0,function*(){var i,a,o,l,c,d,u,h,m,f;if(!this.hasPermissionsToPublish(t))throw new kU("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find(C=>up(t)&&C.source===t.source)&&t.source!==fe.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(t.source),Object.assign(Object.assign({},this.logContext),Bt(t))),n.stopMicTrackOnMute&&gl(t)&&(t.stopOnMute=!0),t.source===fe.Source.ScreenShare&&hm()&&(n.simulcast=!1),n.videoCodec==="av1"&&!ILe()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!OLe()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=hO),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(C=>n.videoCodec===lv(C.mime))||(n.videoCodec=lv(this.enabledPublishVideoCodecs[0].mime)));const g=n.videoCodec;t.on(ke.Muted,this.onTrackMuted),t.on(ke.Unmuted,this.onTrackUnmuted),t.on(ke.Ended,this.handleTrackEnded),t.on(ke.UpstreamPaused,this.onTrackUpstreamPaused),t.on(ke.UpstreamResumed,this.onTrackUpstreamResumed),t.on(ke.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const y=[],v=!(!((i=n.dtx)!==null&&i!==void 0)||i),b=t.getSourceTrackSettings();b.autoGainControl&&y.push(ls.TF_AUTO_GAIN_CONTROL),b.echoCancellation&&y.push(ls.TF_ECHO_CANCELLATION),b.noiseSuppression&&y.push(ls.TF_NOISE_SUPPRESSION),b.channelCount&&b.channelCount>1&&y.push(ls.TF_STEREO),v&&y.push(ls.TF_NO_DTX),Xl(t)&&t.hasPreConnectBuffer&&y.push(ls.TF_PRECONNECT_BUFFER);const w=new g0({cid:t.mediaStreamTrack.id,name:n.name,type:fe.kindToProto(t.kind),muted:t.isMuted,source:fe.sourceToProto(t.source),disableDtx:v,encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!(!((a=n.red)!==null&&a!==void 0)||a),stream:n==null?void 0:n.stream,backupCodecPolicy:n==null?void 0:n.backupCodecPolicy,audioFeatures:y});let S;if(t.kind===fe.Kind.Video){let C={width:0,height:0};try{C=yield t.waitForDimensions()}catch{const A=(l=(o=this.roomOptions.videoCaptureDefaults)===null||o===void 0?void 0:o.resolution)!==null&&l!==void 0?l:x0.h720.resolution;C={width:A.width,height:A.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),Bt(t)),{dims:C}))}w.width=C.width,w.height=C.height,td(t)&&(To(g)&&(t.source===fe.Source.ScreenShare&&(n.scalabilityMode="L1T3","contentHint"in t.mediaStreamTrack&&(t.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),Bt(t))))),n.scalabilityMode=(c=n.scalabilityMode)!==null&&c!==void 0?c:"L3T3_KEY"),w.simulcastCodecs=[new YI({codec:g,cid:t.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:hO}),n.backupCodec&&g!==n.backupCodec.codec&&w.encryption===Qr.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),w.simulcastCodecs.push(new YI({codec:n.backupCodec.codec,cid:""})))),S=fO(t.source===fe.Source.ScreenShare,w.width,w.height,n),w.layers=ZU(w.width,w.height,S,To(n.videoCodec))}else t.kind===fe.Kind.Audio&&(S=[{maxBitrate:(d=n.audioPreset)===null||d===void 0?void 0:d.maxBitrate,priority:(h=(u=n.audioPreset)===null||u===void 0?void 0:u.priority)!==null&&h!==void 0?h:"high",networkPriority:(f=(m=n.audioPreset)===null||m===void 0?void 0:m.priority)!==null&&f!==void 0?f:"high"}]);if(!this.engine||this.engine.isClosed)throw new _r("cannot publish track when not connected");const j=()=>W(this,void 0,void 0,function*(){var C,T,A;if(!this.engine.pcManager)throw new _r("pcManager is not ready");if(t.sender=yield this.engine.createSender(t,n,S),this.emit(Ie.LocalSenderCreated,t.sender,t),td(t)&&((C=n.degradationPreference)!==null&&C!==void 0||(n.degradationPreference=V$e(t)),t.setDegradationPreference(n.degradationPreference)),S)if(hm()&&t.kind===fe.Kind.Audio){let P;for(const R of this.engine.pcManager.publisher.getTransceivers())if(R.sender===t.sender){P=R;break}P&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:P,codec:"opus",maxbr:!((T=S[0])===null||T===void 0)&&T.maxBitrate?S[0].maxBitrate/1e3:0})}else t.codec&&To(t.codec)&&(!((A=S[0])===null||A===void 0)&&A.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:w.cid,codec:t.codec,maxbr:S[0].maxBitrate/1e3});yield this.engine.negotiate()});let N;const k=new Promise((C,T)=>W(this,void 0,void 0,function*(){var A;try{N=yield this.engine.addTrack(w),C(N)}catch(P){t.sender&&(!((A=this.engine.pcManager)===null||A===void 0)&&A.publisher)&&(this.engine.pcManager.publisher.removeTrack(t.sender),yield this.engine.negotiate().catch(R=>{this.log.error("failed to negotiate after removing track due to failed add track request",Object.assign(Object.assign(Object.assign({},this.logContext),Bt(t)),{error:R}))})),T(P)}}));if(this.enabledPublishVideoCodecs.length>0)N=(yield Promise.all([k,j()]))[0];else{N=yield k;let C;if(N.codecs.forEach(T=>{C===void 0&&(C=T.mimeType)}),C&&t.kind===fe.Kind.Video){const T=lv(C);T!==g&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),Bt(t)),{codec:T})),n.videoCodec=T,S=fO(t.source===fe.Source.ScreenShare,w.width,w.height,n))}yield j()}const _=new gO(t.kind,N,t,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(_.on(ke.CpuConstrained,C=>this.onTrackCpuConstrained(C,_)),_.options=n,t.sid=N.sid,this.log.debug("publishing ".concat(t.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:S,trackInfo:N})),td(t)?t.startMonitor(this.engine.client):Xl(t)&&t.startMonitor(),this.addTrackPublication(_),this.emit(Ie.LocalTrackPublished,_),Xl(t)&&N.audioFeatures.includes(ls.TF_PRECONNECT_BUFFER)){const C=t.getPreConnectBuffer(),T=t.getPreConnectBufferMimeType();this.on(Ie.LocalTrackSubscribed,A=>{if(A.trackSid===N.sid){if(!t.hasPreConnectBuffer){this.log.warn("subscribe event came to late, buffer already closed",this.logContext);return}this.log.debug("finished recording preconnect buffer",Object.assign(Object.assign({},this.logContext),Bt(t))),t.stopPreConnectBuffer()}}),C&&new Promise((P,R)=>W(this,void 0,void 0,function*(){var D,$,M,F,O,L;try{this.log.debug("waiting for agent",Object.assign(Object.assign({},this.logContext),Bt(t)));const U=setTimeout(()=>{R(new Error("agent not active within 10 seconds"))},1e4),X=yield this.waitUntilActiveAgentPresent();clearTimeout(U),this.log.debug("sending preconnect buffer",Object.assign(Object.assign({},this.logContext),Bt(t)));const le=yield this.streamBytes({name:"preconnect-buffer",mimeType:T,topic:"lk.agent.pre-connect-audio-buffer",destinationIdentities:[X.identity],attributes:{trackId:_.trackSid,sampleRate:String((O=b.sampleRate)!==null&&O!==void 0?O:"48000"),channels:String((L=b.channelCount)!==null&&L!==void 0?L:"1")}});try{for(var I=!0,z=ic(C),H;H=yield z.next(),D=H.done,!D;I=!0){F=H.value,I=!1;const de=F;yield le.write(de)}}catch(de){$={error:de}}finally{try{!I&&!D&&(M=z.return)&&(yield M.call(z))}finally{if($)throw $.error}}yield le.close(),P()}catch(U){R(U)}})).then(()=>{this.log.debug("preconnect buffer sent successfully",Object.assign(Object.assign({},this.logContext),Bt(t)))}).catch(P=>{this.log.error("error sending preconnect buffer",Object.assign(Object.assign(Object.assign({},this.logContext),Bt(t)),{error:P}))})}return _})}get isLocal(){return!0}publishAdditionalCodecForTrack(t,n,r){return W(this,void 0,void 0,function*(){var i;if(this.encryptionType!==Qr.NONE)return;let a;if(this.trackPublications.forEach(f=>{f.track&&f.track===t&&(a=f)}),!a)throw new ac("track is not published");if(!td(t))throw new ac("track is not a video track");const o=Object.assign(Object.assign({},(i=this.roomOptions)===null||i===void 0?void 0:i.publishDefaults),r),l=B$e(t,n,o);if(!l){this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),Bt(t)));return}const c=t.addSimulcastTrack(n,l);if(!c)return;const d=new g0({cid:c.mediaStreamTrack.id,type:fe.kindToProto(t.kind),muted:t.isMuted,source:fe.sourceToProto(t.source),sid:t.sid,simulcastCodecs:[{codec:o.videoCodec,cid:c.mediaStreamTrack.id}]});if(d.layers=ZU(d.width,d.height,l),!this.engine||this.engine.isClosed)throw new _r("cannot publish track when not connected");const u=()=>W(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(t,c,o,l),yield this.engine.negotiate()}),m=(yield Promise.all([this.engine.addTrack(d),u()]))[0];this.log.debug("published ".concat(n," for track ").concat(t.sid),Object.assign(Object.assign({},this.logContext),{encodings:l,trackInfo:m}))})}unpublishTrack(t,n){return W(this,void 0,void 0,function*(){var r,i;if(up(t)){const d=this.pendingPublishPromises.get(t);d&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),Bt(t))),yield d)}const a=this.getPublicationForTrack(t),o=a?Bt(a):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),o)),!a||!a.track){this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),o));return}t=a.track,t.off(ke.Muted,this.onTrackMuted),t.off(ke.Unmuted,this.onTrackUnmuted),t.off(ke.Ended,this.handleTrackEnded),t.off(ke.UpstreamPaused,this.onTrackUpstreamPaused),t.off(ke.UpstreamResumed,this.onTrackUpstreamResumed),t.off(ke.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),n===void 0&&(n=(i=(r=this.roomOptions)===null||r===void 0?void 0:r.stopLocalTrackOnUnpublish)!==null&&i!==void 0?i:!0),n?t.stop():t.stopMonitor();let l=!1;const c=t.sender;if(t.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<xr.FAILED&&c)try{for(const d of this.engine.pcManager.publisher.getTransceivers())d.sender===c&&(d.direction="inactive",l=!0);if(this.engine.removeTrack(c)&&(l=!0),td(t)){for(const[,d]of t.simulcastCodecs)d.sender&&(this.engine.removeTrack(d.sender)&&(l=!0),d.sender=void 0);t.simulcastCodecs.clear()}}catch(d){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),o),{error:d}))}switch(this.trackPublications.delete(a.trackSid),a.kind){case fe.Kind.Audio:this.audioTrackPublications.delete(a.trackSid);break;case fe.Kind.Video:this.videoTrackPublications.delete(a.trackSid);break}return this.emit(Ie.LocalTrackUnpublished,a),a.setTrack(void 0),l&&(yield this.engine.negotiate()),a})}unpublishTracks(t){return W(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>this.unpublishTrack(r)))).filter(r=>!!r)})}republishAllTracks(t){return W(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){r.republishPromise&&(yield r.republishPromise),r.republishPromise=new ji((a,o)=>W(r,void 0,void 0,function*(){try{const l=[];this.trackPublications.forEach(c=>{c.track&&(n&&(c.options=Object.assign(Object.assign({},c.options),n)),l.push(c))}),yield Promise.all(l.map(c=>W(this,void 0,void 0,function*(){const d=c.track;yield this.unpublishTrack(d,!1),i&&!d.isMuted&&d.source!==fe.Source.ScreenShare&&d.source!==fe.Source.ScreenShareAudio&&(Xl(d)||td(d))&&!d.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:c.trackSid})),yield d.restartTrack()),yield this.publishOrRepublishTrack(d,c.options,!0)}))),a()}catch(l){l instanceof Error?o(l):o(new Error(String(l)))}finally{this.republishPromise=void 0}})),yield r.republishPromise}()})}publishData(t){return W(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){const a=i.reliable?$t.RELIABLE:$t.LOSSY,o=i.destinationIdentities,l=i.topic;let c=new D3({participantIdentity:r.identity,payload:n,destinationIdentities:o,topic:l});const d=new Ys({kind:a,value:{case:"user",value:c}});yield r.engine.sendDataPacket(d,a)}()})}publishDtmf(t,n){return W(this,void 0,void 0,function*(){const r=new Ys({kind:$t.RELIABLE,value:{case:"sipDtmf",value:new Hne({code:t,digit:n})}});yield this.engine.sendDataPacket(r,$t.RELIABLE)})}sendChatMessage(t,n){return W(this,void 0,void 0,function*(){const r={id:crypto.randomUUID(),message:t,timestamp:Date.now(),attachedFiles:n==null?void 0:n.attachments},i=new Ys({value:{case:"chatMessage",value:new WS(Object.assign(Object.assign({},r),{timestamp:er.parse(r.timestamp)}))}});return yield this.engine.sendDataPacket(i,$t.RELIABLE),this.emit(Ie.ChatMessage,r),r})}editChatMessage(t,n){return W(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},n),{message:t,editTimestamp:Date.now()}),i=new Ys({value:{case:"chatMessage",value:new WS(Object.assign(Object.assign({},r),{timestamp:er.parse(r.timestamp),editTimestamp:er.parse(r.editTimestamp)}))}});return yield this.engine.sendDataPacket(i,$t.RELIABLE),this.emit(Ie.ChatMessage,r),r})}sendText(t,n){return W(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendText(t,n)})}streamText(t){return W(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamText(t)})}sendFile(t,n){return W(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendFile(t,n)})}streamBytes(t){return W(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamBytes(t)})}performRpc(t){let{destinationIdentity:n,method:r,payload:i,responseTimeout:a=15e3}=t;const o=7e3,l=o+1e3;return new ji((c,d)=>W(this,void 0,void 0,function*(){var u,h,m,f;if(nD(i)>nse){d(jr.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));return}if(!((h=(u=this.engine.latestJoinResponse)===null||u===void 0?void 0:u.serverInfo)===null||h===void 0)&&h.version&&Cl((f=(m=this.engine.latestJoinResponse)===null||m===void 0?void 0:m.serverInfo)===null||f===void 0?void 0:f.version,"1.8.0")<0){d(jr.builtIn("UNSUPPORTED_SERVER"));return}const p=Math.max(a,l),g=crypto.randomUUID();yield this.publishRpcRequest(n,g,r,i,p);const y=setTimeout(()=>{this.pendingAcks.delete(g),d(jr.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(g),clearTimeout(v)},o);this.pendingAcks.set(g,{resolve:()=>{clearTimeout(y)},participantIdentity:n});const v=setTimeout(()=>{this.pendingResponses.delete(g),d(jr.builtIn("RESPONSE_TIMEOUT"))},a);this.pendingResponses.set(g,{resolve:(b,w)=>{clearTimeout(v),this.pendingAcks.has(g)&&(this.log.warn("RPC response received before ack",g),this.pendingAcks.delete(g),clearTimeout(y)),w?d(w):c(b??"")},participantIdentity:n})}))}registerRpcMethod(t,n){this.rpcHandlers.has(t)&&this.log.warn("you're overriding the RPC handler for method ".concat(t,", in the future this will throw an error")),this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}setTrackSubscriptionPermissions(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=t,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(t){const n=this.pendingAcks.get(t);n?(n.resolve(),this.pendingAcks.delete(t)):console.error("Ack received for unexpected RPC request",t)}handleIncomingRpcResponse(t,n,r){const i=this.pendingResponses.get(t);i?(i.resolve(n,r),this.pendingResponses.delete(t)):console.error("Response received for unexpected RPC request",t)}publishRpcRequest(t,n,r,i,a){return W(this,void 0,void 0,function*(){const o=new Ys({destinationIdentities:[t],kind:$t.RELIABLE,value:{case:"rpcRequest",value:new L3({id:n,method:r,payload:i,responseTimeoutMs:a,version:1})}});yield this.engine.sendDataPacket(o,$t.RELIABLE)})}handleParticipantDisconnected(t){for(const[n,{participantIdentity:r}]of this.pendingAcks)r===t&&this.pendingAcks.delete(n);for(const[n,{participantIdentity:r,resolve:i}]of this.pendingResponses)r===t&&(i(null,jr.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(n))}setEnabledPublishCodecs(t){this.enabledPublishVideoCodecs=t.filter(n=>n.mime.split("/")[0].toLowerCase()==="video")}updateInfo(t){return super.updateInfo(t)?(t.tracks.forEach(n=>{var r,i;const a=this.trackPublications.get(n.sid);if(a){const o=a.isMuted||((i=(r=a.track)===null||r===void 0?void 0:r.isUpstreamPaused)!==null&&i!==void 0?i:!1);o!==n.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),Bt(a)),{mutedOnServer:o})),this.engine.client.sendMuteTrack(n.sid,o))}}),!0):!1}setActiveAgent(t){var n,r,i,a;this.firstActiveAgent=t,t&&!this.firstActiveAgent&&(this.firstActiveAgent=t),t?(r=(n=this.activeAgentFuture)===null||n===void 0?void 0:n.resolve)===null||r===void 0||r.call(n,t):(a=(i=this.activeAgentFuture)===null||i===void 0?void 0:i.reject)===null||a===void 0||a.call(i,new Error("Agent disconnected")),this.activeAgentFuture=void 0}waitUntilActiveAgentPresent(){return this.firstActiveAgent?Promise.resolve(this.firstActiveAgent):(this.activeAgentFuture||(this.activeAgentFuture=new $a),this.activeAgentFuture.promise)}getPublicationForTrack(t){let n;return this.trackPublications.forEach(r=>{const i=r.track;i&&(t instanceof MediaStreamTrack?(Xl(i)||td(i))&&i.mediaStreamTrack===t&&(n=r):t===i&&(n=r))}),n}waitForPendingPublicationOfSource(t){return W(this,void 0,void 0,function*(){const r=Date.now();for(;Date.now()<r+1e4;){const i=Array.from(this.pendingPublishPromises.entries()).find(a=>{let[o]=a;return o.source===t});if(i)return i[1];yield Ss(20)}})}}class u6e extends tc{constructor(t,n,r,i){super(t,n.sid,n.name,i),this.track=void 0,this.allowed=!0,this.requestedDisabled=void 0,this.visible=!0,this.handleEnded=a=>{this.setTrack(void 0),this.emit(ke.Ended,a)},this.handleVisibilityChange=a=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(a),this.logContext),this.visible=a,this.emitTrackUpdate()},this.handleVideoDimensionsChange=a=>{this.log.debug("adaptivestream video dimensions ".concat(a.width,"x").concat(a.height),this.logContext),this.videoDimensionsAdaptiveStream=a,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(n)}setSubscribed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=t,t&&(this.allowed=!0);const i=new O_({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new Gne({participantSid:"",trackSids:[this.trackSid]})]});this.emit(ke.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return this.subscribed===!1?tc.SubscriptionStatus.Unsubscribed:super.isSubscribed?tc.SubscriptionStatus.Subscribed:tc.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?tc.PermissionStatus.Allowed:tc.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1?!1:super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return this.requestedDisabled!==void 0?!this.requestedDisabled:this.isAdaptiveStream?this.visible:!0}get isLocal(){return!1}setEnabled(t){!this.isManualOperationAllowed()||this.requestedDisabled===!t||(this.requestedDisabled=!t,this.emitTrackUpdate())}setVideoQuality(t){!this.isManualOperationAllowed()||this.requestedMaxQuality===t||(this.requestedMaxQuality=t,this.requestedVideoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(t){var n,r;this.isManualOperationAllowed()&&(((n=this.requestedVideoDimensions)===null||n===void 0?void 0:n.width)===t.width&&((r=this.requestedVideoDimensions)===null||r===void 0?void 0:r.height)===t.height||(KT(this.track)&&(this.requestedVideoDimensions=t),this.requestedMaxQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(t){this.isManualOperationAllowed()&&KT(this.track)&&this.fps!==t&&(this.fps=t,this.emitTrackUpdate())}get videoQuality(){var t;return(t=this.requestedMaxQuality)!==null&&t!==void 0?t:ra.HIGH}setTrack(t){const n=this.subscriptionStatus,r=this.permissionStatus,i=this.track;i!==t&&(i&&(i.off(ke.VideoDimensionsChanged,this.handleVideoDimensionsChange),i.off(ke.VisibilityChanged,this.handleVisibilityChange),i.off(ke.Ended,this.handleEnded),i.detach(),i.stopMonitor(),this.emit(ke.Unsubscribed,i)),super.setTrack(t),t&&(t.sid=this.trackSid,t.on(ke.VideoDimensionsChanged,this.handleVideoDimensionsChange),t.on(ke.VisibilityChanged,this.handleVisibilityChange),t.on(ke.Ended,this.handleEnded),this.emit(ke.Subscribed,t)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(t){const n=this.subscriptionStatus,r=this.permissionStatus;this.allowed=t,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(t){this.emit(ke.SubscriptionFailed,t)}updateInfo(t){super.updateInfo(t);const n=this.metadataMuted;this.metadataMuted=t.muted,this.track?this.track.setMuted(t.muted):n!==t.muted&&this.emit(t.muted?ke.Muted:ke.Unmuted)}emitSubscriptionUpdateIfChanged(t){const n=this.subscriptionStatus;t!==n&&this.emit(ke.SubscriptionStatusChanged,n,t)}emitPermissionUpdateIfChanged(t){this.permissionStatus!==t&&this.emit(ke.SubscriptionPermissionChanged,this.permissionStatus,t)}isManualOperationAllowed(){return this.isDesired?!0:(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return KT(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){const t=new rre({trackSids:[this.trackSid],disabled:!this.isEnabled,fps:this.fps});if(this.kind===fe.Kind.Video){let n=this.requestedVideoDimensions;if(this.videoDimensionsAdaptiveStream!==void 0)if(n)EU(this.videoDimensionsAdaptiveStream,n)&&(this.log.debug("using adaptive stream dimensions instead of requested",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream);else if(this.requestedMaxQuality!==void 0&&this.trackInfo){const r=ELe(this.trackInfo,this.requestedMaxQuality);r&&EU(this.videoDimensionsAdaptiveStream,r)&&(this.log.debug("using adaptive stream dimensions instead of max quality layer",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream)}else this.log.debug("using adaptive stream dimensions",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream;n?(t.width=Math.ceil(n.width),t.height=Math.ceil(n.height)):this.requestedMaxQuality!==void 0?(this.log.debug("using requested max quality",Object.assign(Object.assign({},this.logContext),{quality:this.requestedMaxQuality})),t.quality=this.requestedMaxQuality):(this.log.debug("using default quality",Object.assign(Object.assign({},this.logContext),{quality:ra.HIGH})),t.quality=ra.HIGH)}this.emit(ke.UpdateSettings,t)}}class QS extends cse{static fromParticipantInfo(t,n,r){return new QS(t,n.sid,n.identity,n.name,n.metadata,n.attributes,r,n.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(t,n,r,i,a,o,l){let c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:p0.STANDARD;super(n,r||"",i,a,o,l,c),this.signalClient=t,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(t){super.addTrackPublication(t),t.on(ke.UpdateSettings,n=>{this.log.debug("send update settings",Object.assign(Object.assign(Object.assign({},this.logContext),Bt(t)),{settings:n})),this.signalClient.sendUpdateTrackSettings(n)}),t.on(ke.UpdateSubscription,n=>{n.participantTracks.forEach(r=>{r.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),t.on(ke.SubscriptionPermissionChanged,n=>{this.emit(Ie.TrackSubscriptionPermissionChanged,t,n)}),t.on(ke.SubscriptionStatusChanged,n=>{this.emit(Ie.TrackSubscriptionStatusChanged,t,n)}),t.on(ke.Subscribed,n=>{this.emit(Ie.TrackSubscribed,n,t)}),t.on(ke.Unsubscribed,n=>{this.emit(Ie.TrackUnsubscribed,n,t)}),t.on(ke.SubscriptionFailed,n=>{this.emit(Ie.TrackSubscriptionFailed,t.trackSid,n)})}getTrackPublication(t){const n=super.getTrackPublication(t);if(n)return n}getTrackPublicationByName(t){const n=super.getTrackPublicationByName(t);if(n)return n}setVolume(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fe.Source.Microphone;this.volumeMap.set(n,t);const r=this.getTrackPublication(n);r&&r.track&&r.track.setVolume(t)}getVolume(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fe.Source.Microphone;const n=this.getTrackPublication(t);return n&&n.track?n.track.getVolume():this.volumeMap.get(t)}addSubscribedMediaTrack(t,n,r,i,a,o){let l=this.getTrackPublicationBySid(n);if(l||n.startsWith("TR")||this.trackPublications.forEach(u=>{!l&&t.kind===u.kind.toString()&&(l=u)}),!l){if(o===0){this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:n})),this.emit(Ie.TrackSubscriptionFailed,n);return}o===void 0&&(o=20),setTimeout(()=>{this.addSubscribedMediaTrack(t,n,r,i,a,o-1)},150);return}if(t.readyState==="ended"){this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),Bt(l))),this.emit(Ie.TrackSubscriptionFailed,n);return}const c=t.kind==="video";let d;return c?d=new s6e(t,n,i,a):d=new r6e(t,n,i,this.audioContext,this.audioOutput),d.source=l.source,d.isMuted=l.isMuted,d.setMediaStream(r),d.start(),l.setTrack(d),this.volumeMap.has(l.source)&&dO(d)&&gl(d)&&d.setVolume(this.volumeMap.get(l.source)),l}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(t){return this.trackPublications.get(t)}updateInfo(t){if(!super.updateInfo(t))return!1;const n=new Map,r=new Map;return t.tracks.forEach(i=>{var a,o;let l=this.getTrackPublicationBySid(i.sid);if(l)l.updateInfo(i);else{const c=fe.kindFromProto(i.type);if(!c)return;l=new u6e(c,i,(a=this.signalClient.connectOptions)===null||a===void 0?void 0:a.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:(o=this.loggerOptions)===null||o===void 0?void 0:o.loggerName}),l.updateInfo(i),r.set(i.sid,l);const d=Array.from(this.trackPublications.values()).find(u=>u.source===(l==null?void 0:l.source));d&&l.source!==fe.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(l.source),Object.assign(Object.assign({},this.logContext),{oldTrack:Bt(d),newTrack:Bt(l)})),this.addTrackPublication(l)}n.set(i.sid,l)}),this.trackPublications.forEach(i=>{n.has(i.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),Bt(i))),this.unpublishTrack(i.trackSid,!0))}),r.forEach(i=>{this.emit(Ie.TrackPublished,i)}),!0}unpublishTrack(t,n){const r=this.trackPublications.get(t);if(!r)return;const{track:i}=r;switch(i&&(i.stop(),r.setTrack(void 0)),this.trackPublications.delete(t),r.kind){case fe.Kind.Audio:this.audioTrackPublications.delete(t);break;case fe.Kind.Video:this.videoTrackPublications.delete(t);break}n&&this.emit(Ie.TrackUnpublished,r)}setAudioOutput(t){return W(this,void 0,void 0,function*(){this.audioOutput=t;const n=[];this.audioTrackPublications.forEach(r=>{var i;gl(r.track)&&dO(r.track)&&n.push(r.track.setSinkId((i=t.deviceId)!==null&&i!==void 0?i:"default"))}),yield Promise.all(n)})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:t,args:r})),super.emit(t,...r)}}var hn;(function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.SignalReconnecting="signalReconnecting"})(hn||(hn={}));const h6e=4*1e3;class b0 extends $l.EventEmitter{get hasE2EESetup(){return this.e2eeManager!==void 0}constructor(t){var n,r,i,a,o;if(super(),n=this,this.state=hn.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=It,this.bufferedEvents=[],this.isResuming=!1,this.rpcHandlers=new Map,this.connect=(l,c,d)=>W(this,void 0,void 0,function*(){var u;if(!RLe())throw _l()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const h=yield this.disconnectLock.lock();if(this.state===hn.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),h(),Promise.resolve();if(this.connectFuture)return h(),this.connectFuture.promise;this.setAndEmitConnectionState(hn.Connecting),((u=this.regionUrlProvider)===null||u===void 0?void 0:u.getServerUrl().toString())!==Qre(l)&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),lg(new URL(l))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new Zt(l,c):this.regionUrlProvider.updateToken(c),this.regionUrlProvider.fetchRegionSettings().then(p=>{var g;(g=this.regionUrlProvider)===null||g===void 0||g.setServerReportedRegions(p)}).catch(p=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:p}))}));const m=(p,g,y)=>W(this,void 0,void 0,function*(){var v,b;this.abortController&&this.abortController.abort();const w=new AbortController;this.abortController=w,h==null||h();try{if(yield hp.getInstance().getBackOffPromise(l),w.signal.aborted)throw it.cancelled("Connection attempt aborted");yield this.attemptConnection(y??l,c,d,w),this.abortController=void 0,p()}catch(S){if(this.regionUrlProvider&&S instanceof it&&S.reason!==En.Cancelled&&S.reason!==En.NotAllowed){let j=null;try{this.log.debug("Fetching next region"),j=yield this.regionUrlProvider.getNextBestRegionUrl((v=this.abortController)===null||v===void 0?void 0:v.signal)}catch(N){if(N instanceof it&&(N.status===401||N.reason===En.Cancelled)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),g(N);return}}[En.InternalError,En.ServerUnreachable,En.Timeout].includes(S.reason)&&(this.log.debug("Adding failed connection attempt to back off"),hp.getInstance().addFailedConnectionAttempt(l)),j&&!(!((b=this.abortController)===null||b===void 0)&&b.signal.aborted)?(this.log.info("Initial connection failed with ConnectionError: ".concat(S.message,". Retrying with another region: ").concat(j),this.logContext),this.recreateEngine(),yield m(p,g,j)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,MU(S)),g(S))}else{let j=Io.UNKNOWN_REASON;S instanceof it&&(j=MU(S)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,j),g(S)}}}),f=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new $a((p,g)=>{m(p,g,f)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(l,c,d,u,h,m)=>W(this,void 0,void 0,function*(){var f,p,g;const y=yield d.join(l,c,{autoSubscribe:u.autoSubscribe,adaptiveStream:typeof h.adaptiveStream=="object"?!0:h.adaptiveStream,maxRetries:u.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:u.websocketTimeout},m.signal,!h.singlePeerConnection);let v=y.serverInfo;if(v||(v={version:y.serverVersion,region:y.serverRegion}),this.serverInfo=v,this.log.debug("connected to Livekit Server ".concat(Object.entries(v).map(b=>{let[w,S]=b;return"".concat(w,": ").concat(S)}).join(", ")),{room:(f=y.room)===null||f===void 0?void 0:f.name,roomSid:(p=y.room)===null||p===void 0?void 0:p.sid,identity:(g=y.participant)===null||g===void 0?void 0:g.identity}),!v.version)throw new gLe("unknown server version");return v.version==="0.15.1"&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),h.dynacast=!1),y}),this.applyJoinResponse=l=>{const c=l.participant;if(this.localParticipant.sid=c.sid,this.localParticipant.identity=c.identity,this.localParticipant.setEnabledPublishCodecs(l.enabledPublishCodecs),this.e2eeManager)try{this.e2eeManager.setSifTrailer(l.sifTrailer)}catch(d){this.log.error(d instanceof Error?d.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:d}))}this.handleParticipantUpdates([c,...l.otherParticipants]),l.room&&this.handleRoomUpdate(l.room)},this.attemptConnection=(l,c,d,u)=>W(this,void 0,void 0,function*(){var h,m;this.state===hn.Reconnecting||this.isResuming||!((h=this.engine)===null||h===void 0)&&h.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!((m=this.regionUrlProvider)===null||m===void 0)&&m.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},tD),d),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const f=yield this.connectSignal(l,c,this.engine,this.connOptions,this.options,u);this.applyJoinResponse(f),this.setupLocalParticipantEvents(),this.emit(je.SignalConnected)}catch(f){yield this.engine.close(),this.recreateEngine();const p=u.signal.aborted?it.cancelled("Signal connection aborted"):it.serverUnreachable("could not establish signal connection");throw f instanceof Error&&(p.message="".concat(p.message,": ").concat(f.message)),f instanceof it&&(p.reason=f.reason,p.status=f.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:f})),p}if(u.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),it.cancelled("Connection attempt aborted");try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,u)}catch(f){throw yield this.engine.close(),this.recreateEngine(),f}Si()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),Si()&&window.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState(hn.Connected),this.emit(je.Connected),hp.getInstance().resetFailedConnectionAttempts(l),this.registerConnectionReconcile(),this.regionUrlProvider&&this.regionUrlProvider.notifyConnected()}),this.disconnect=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return W(n,[...c],void 0,function(){var u=this;let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var m,f,p;const g=yield u.disconnectLock.lock();try{if(u.state===hn.Disconnected){u.log.debug("already disconnected",u.logContext);return}if(u.log.info("disconnect from room",Object.assign({},u.logContext)),u.state===hn.Connecting||u.state===hn.Reconnecting||u.isResuming){const y="Abort connection attempt due to user initiated disconnect";u.log.warn(y,u.logContext),(m=u.abortController)===null||m===void 0||m.abort(y),(p=(f=u.connectFuture)===null||f===void 0?void 0:f.reject)===null||p===void 0||p.call(f,it.cancelled("Client initiated disconnect")),u.connectFuture=void 0}u.engine&&(u.engine.client.isDisconnected||(yield u.engine.client.sendLeave()),yield u.engine.close()),u.handleDisconnect(h,Io.CLIENT_INITIATED),u.engine=void 0}finally{g()}}()})},this.onPageLeave=()=>W(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>W(this,void 0,void 0,function*(){const l=[],c=Ei();if(c&&c.os==="iOS"){const d="livekit-dummy-audio-el";let u=document.getElementById(d);if(!u){u=document.createElement("audio"),u.id=d,u.autoplay=!0,u.hidden=!0;const h=HT();h.enabled=!0;const m=new MediaStream([h]);u.srcObject=m,document.addEventListener("visibilitychange",()=>{u&&(u.srcObject=document.hidden?null:m,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(u),this.once(je.Disconnected,()=>{u==null||u.remove(),u=null})}l.push(u)}this.remoteParticipants.forEach(d=>{d.audioTrackPublications.forEach(u=>{u.track&&u.track.attachedElements.forEach(h=>{l.push(h)})})});try{yield Promise.all([this.acquireAudioContext(),...l.map(d=>(d.muted=!1,d.play()))]),this.handleAudioPlaybackStarted()}catch(d){throw this.handleAudioPlaybackFailed(d),d}}),this.startVideo=()=>W(this,void 0,void 0,function*(){const l=[];for(const c of this.remoteParticipants.values())c.videoTrackPublications.forEach(d=>{var u;(u=d.track)===null||u===void 0||u.attachedElements.forEach(h=>{l.includes(h)||l.push(h)})});yield Promise.all(l.map(c=>c.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(c=>{c.name==="NotAllowedError"?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const l of this.remoteParticipants.values())this.handleParticipantDisconnected(l.identity,l);this.setAndEmitConnectionState(hn.Reconnecting)&&this.emit(je.Reconnecting)},this.handleSignalRestarted=l=>W(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(l.serverRegion),Object.assign(Object.assign({},this.logContext),{region:l.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(l);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(c){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:c}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:l.serverRegion}))}catch{return}this.setAndEmitConnectionState(hn.Connected),this.emit(je.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=l=>{l.forEach(c=>{var d;if(c.identity===this.localParticipant.identity){this.localParticipant.updateInfo(c);return}c.identity===""&&(c.identity=(d=this.sidToIdentity.get(c.sid))!==null&&d!==void 0?d:"");let u=this.remoteParticipants.get(c.identity);c.state===ap.DISCONNECTED?this.handleParticipantDisconnected(c.identity,u):u=this.getOrCreateParticipant(c.identity,c)})},this.handleActiveSpeakersUpdate=l=>{const c=[],d={};l.forEach(u=>{if(d[u.sid]=!0,u.sid===this.localParticipant.sid)this.localParticipant.audioLevel=u.level,this.localParticipant.setIsSpeaking(!0),c.push(this.localParticipant);else{const h=this.getRemoteParticipantBySid(u.sid);h&&(h.audioLevel=u.level,h.setIsSpeaking(!0),c.push(h))}}),d[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(u=>{d[u.sid]||(u.audioLevel=0,u.setIsSpeaking(!1))}),this.activeSpeakers=c,this.emitWhenConnected(je.ActiveSpeakersChanged,c)},this.handleSpeakersChanged=l=>{const c=new Map;this.activeSpeakers.forEach(u=>{const h=this.remoteParticipants.get(u.identity);h&&h.sid!==u.sid||c.set(u.sid,u)}),l.forEach(u=>{let h=this.getRemoteParticipantBySid(u.sid);u.sid===this.localParticipant.sid&&(h=this.localParticipant),h&&(h.audioLevel=u.level,h.setIsSpeaking(u.active),u.active?c.set(u.sid,h):c.delete(u.sid))});const d=Array.from(c.values());d.sort((u,h)=>h.audioLevel-u.audioLevel),this.activeSpeakers=d,this.emitWhenConnected(je.ActiveSpeakersChanged,d)},this.handleStreamStateUpdate=l=>{l.streamStates.forEach(c=>{const d=this.getRemoteParticipantBySid(c.participantSid);if(!d)return;const u=d.getTrackPublicationBySid(c.trackSid);if(!u||!u.track)return;const h=fe.streamStateFromProto(c.state);u.track.setStreamState(h),h!==u.track.streamState&&(d.emit(Ie.TrackStreamStateChanged,u,u.track.streamState),this.emitWhenConnected(je.TrackStreamStateChanged,u,u.track.streamState,d))})},this.handleSubscriptionPermissionUpdate=l=>{const c=this.getRemoteParticipantBySid(l.participantSid);if(!c)return;const d=c.getTrackPublicationBySid(l.trackSid);d&&d.setAllowed(l.allowed)},this.handleSubscriptionError=l=>{const c=Array.from(this.remoteParticipants.values()).find(u=>u.trackPublications.has(l.trackSid));if(!c)return;const d=c.getTrackPublicationBySid(l.trackSid);d&&d.setSubscriptionError(l.err)},this.handleDataPacket=(l,c)=>{const d=this.remoteParticipants.get(l.participantIdentity);if(l.value.case==="user")this.handleUserPacket(d,l.value.value,l.kind,c);else if(l.value.case==="transcription")this.handleTranscription(d,l.value.value);else if(l.value.case==="sipDtmf")this.handleSipDtmf(d,l.value.value);else if(l.value.case==="chatMessage")this.handleChatMessage(d,l.value.value);else if(l.value.case==="metrics")this.handleMetrics(l.value.value,d);else if(l.value.case==="streamHeader"||l.value.case==="streamChunk"||l.value.case==="streamTrailer")this.handleDataStream(l,c);else if(l.value.case==="rpcRequest"){const u=l.value.value;this.handleIncomingRpcRequest(l.participantIdentity,u.id,u.method,u.payload,u.responseTimeoutMs,u.version)}},this.handleUserPacket=(l,c,d,u)=>{this.emit(je.DataReceived,c.payload,l,d,c.topic,u),l==null||l.emit(Ie.DataReceived,c.payload,d,u)},this.handleSipDtmf=(l,c)=>{this.emit(je.SipDTMFReceived,c,l),l==null||l.emit(Ie.SipDTMFReceived,c)},this.handleTranscription=(l,c)=>{const d=c.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(c.transcribedParticipantIdentity),u=d==null?void 0:d.trackPublications.get(c.trackId),h=VLe(c,this.transcriptionReceivedTimes);u==null||u.emit(ke.TranscriptionReceived,h),d==null||d.emit(Ie.TranscriptionReceived,h,u),this.emit(je.TranscriptionReceived,h,d,u)},this.handleChatMessage=(l,c)=>{const d=qLe(c);this.emit(je.ChatMessage,d,l)},this.handleMetrics=(l,c)=>{this.emit(je.MetricsReceived,l,c)},this.handleDataStream=(l,c)=>{this.incomingDataStreamManager.handleDataStreamPacket(l,c)},this.bufferedSegments=new Map,this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(je.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=l=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:l})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(je.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(je.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(je.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>W(this,void 0,void 0,function*(){var l;((l=Ei())===null||l===void 0?void 0:l.os)!=="iOS"&&(yield this.selectDefaultDevices()),this.emit(je.MediaDevicesChanged)}),this.handleRoomUpdate=l=>{const c=this.roomInfo;this.roomInfo=l,c&&c.metadata!==l.metadata&&this.emitWhenConnected(je.RoomMetadataChanged,l.metadata),(c==null?void 0:c.activeRecording)!==l.activeRecording&&this.emitWhenConnected(je.RecordingStatusChanged,l.activeRecording)},this.handleConnectionQualityUpdate=l=>{l.updates.forEach(c=>{if(c.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(c.quality);return}const d=this.getRemoteParticipantBySid(c.participantSid);d&&d.setConnectionQuality(c.quality)})},this.onLocalParticipantMetadataChanged=l=>{this.emit(je.ParticipantMetadataChanged,l,this.localParticipant)},this.onLocalParticipantNameChanged=l=>{this.emit(je.ParticipantNameChanged,l,this.localParticipant)},this.onLocalAttributesChanged=l=>{this.emit(je.ParticipantAttributesChanged,l,this.localParticipant)},this.onLocalTrackMuted=l=>{this.emit(je.TrackMuted,l,this.localParticipant)},this.onLocalTrackUnmuted=l=>{this.emit(je.TrackUnmuted,l,this.localParticipant)},this.onTrackProcessorUpdate=l=>{var c;(c=l==null?void 0:l.onPublish)===null||c===void 0||c.call(l,this)},this.onLocalTrackPublished=l=>W(this,void 0,void 0,function*(){var c,d,u,h,m,f;(c=l.track)===null||c===void 0||c.on(ke.TrackProcessorUpdate,this.onTrackProcessorUpdate),(d=l.track)===null||d===void 0||d.on(ke.Restarted,this.onLocalTrackRestarted),(m=(h=(u=l.track)===null||u===void 0?void 0:u.getProcessor())===null||h===void 0?void 0:h.onPublish)===null||m===void 0||m.call(h,this),this.emit(je.LocalTrackPublished,l,this.localParticipant),Xl(l.track)&&(yield l.track.checkForSilence())&&this.emit(je.LocalAudioSilenceDetected,l);const p=yield(f=l.track)===null||f===void 0?void 0:f.getDeviceId(!1),g=aO(l.source);g&&p&&p!==this.localParticipant.activeDeviceMap.get(g)&&(this.localParticipant.activeDeviceMap.set(g,p),this.emit(je.ActiveDeviceChanged,g,p))}),this.onLocalTrackUnpublished=l=>{var c,d;(c=l.track)===null||c===void 0||c.off(ke.TrackProcessorUpdate,this.onTrackProcessorUpdate),(d=l.track)===null||d===void 0||d.off(ke.Restarted,this.onLocalTrackRestarted),this.emit(je.LocalTrackUnpublished,l,this.localParticipant)},this.onLocalTrackRestarted=l=>W(this,void 0,void 0,function*(){const c=yield l.getDeviceId(!1),d=aO(l.source);d&&c&&c!==this.localParticipant.activeDeviceMap.get(d)&&(this.log.debug("local track restarted, setting ".concat(d," ").concat(c," active"),this.logContext),this.localParticipant.activeDeviceMap.set(d,c),this.emit(je.ActiveDeviceChanged,d,c))}),this.onLocalConnectionQualityChanged=l=>{this.emit(je.ConnectionQualityChanged,l,this.localParticipant)},this.onMediaDevicesError=(l,c)=>{this.emit(je.MediaDevicesError,l,c)},this.onLocalParticipantPermissionsChanged=l=>{this.emit(je.ParticipantPermissionsChanged,l,this.localParticipant)},this.onLocalChatMessageSent=l=>{this.emit(je.ChatMessage,l,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},S$e),t),this.log=Rc((r=this.options.loggerName)!==null&&r!==void 0?r:zo.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},Zre),t==null?void 0:t.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},ese),t==null?void 0:t.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},j$e),t==null?void 0:t.publishDefaults),this.maybeCreateEngine(),this.incomingDataStreamManager=new Z$e,this.outgoingDataStreamManager=new n6e(this.engine,this.log),this.disconnectLock=new si,this.localParticipant=new d6e("","",this.engine,this.options,this.rpcHandlers,this.outgoingDataStreamManager),(this.options.e2ee||this.options.encryption)&&this.setupE2EE(),this.engine.e2eeManager=this.e2eeManager,this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",ru(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",ru(this.options.audioCaptureDefaults.deviceId)),!((i=this.options.audioOutput)===null||i===void 0)&&i.deviceId&&this.switchActiveDevice("audiooutput",ru(this.options.audioOutput.deviceId)).catch(l=>this.log.warn("Could not set audio output: ".concat(l.message),this.logContext)),Si()){const l=new AbortController;(o=(a=navigator.mediaDevices)===null||a===void 0?void 0:a.addEventListener)===null||o===void 0||o.call(a,"devicechange",this.handleDeviceChange,{signal:l.signal}),b0.cleanupRegistry&&b0.cleanupRegistry.register(this,()=>{l.abort()})}}registerTextStreamHandler(t,n){return this.incomingDataStreamManager.registerTextStreamHandler(t,n)}unregisterTextStreamHandler(t){return this.incomingDataStreamManager.unregisterTextStreamHandler(t)}registerByteStreamHandler(t,n){return this.incomingDataStreamManager.registerByteStreamHandler(t,n)}unregisterByteStreamHandler(t){return this.incomingDataStreamManager.unregisterByteStreamHandler(t)}registerRpcMethod(t,n){if(this.rpcHandlers.has(t))throw Error("RPC handler already registered for method ".concat(t,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(t,n)}unregisterRpcMethod(t){this.rpcHandlers.delete(t)}setE2EEEnabled(t){return W(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(t)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(t,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var t;const n=!!this.options.encryption,r=this.options.encryption||this.options.e2ee;r&&("e2eeManager"in r?(this.e2eeManager=r.e2eeManager,this.e2eeManager.isDataChannelEncryptionEnabled=n):this.e2eeManager=new i$e(r,n),this.e2eeManager.on(Md.ParticipantEncryptionStatusChanged,(i,a)=>{HLe(a)&&(this.isE2EEEnabled=i),this.emit(je.ParticipantEncryptionStatusChanged,i,a)}),this.e2eeManager.on(Md.EncryptionError,(i,a)=>{const o=a?this.getParticipantByIdentity(a):void 0;this.emit(je.EncryptionError,i,o)}),(t=this.e2eeManager)===null||t===void 0||t.setup(this))}get logContext(){var t;return{room:this.name,roomID:(t=this.roomInfo)===null||t===void 0?void 0:t.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.activeRecording)!==null&&n!==void 0?n:!1}getSid(){return this.state===hn.Disconnected?ji.resolve(""):this.roomInfo&&this.roomInfo.sid!==""?ji.resolve(this.roomInfo.sid):new ji((t,n)=>{const r=i=>{i.sid!==""&&(this.engine.off(Pe.RoomUpdate,r),t(i.sid))};this.engine.on(Pe.RoomUpdate,r),this.once(je.Disconnected,()=>{this.engine.off(Pe.RoomUpdate,r),n(new _r("Room disconnected before room server id was available"))})})}get name(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:""}get metadata(){var t;return(t=this.roomInfo)===null||t===void 0?void 0:t.metadata}get numParticipants(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var t,n;return(n=(t=this.roomInfo)===null||t===void 0?void 0:t.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new Y$e(this.options),this.engine.e2eeManager=this.e2eeManager,this.engine.on(Pe.ParticipantUpdate,this.handleParticipantUpdates).on(Pe.RoomUpdate,this.handleRoomUpdate).on(Pe.SpeakersChanged,this.handleSpeakersChanged).on(Pe.StreamStateChanged,this.handleStreamStateUpdate).on(Pe.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(Pe.SubscriptionError,this.handleSubscriptionError).on(Pe.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(Pe.MediaTrackAdded,(t,n,r)=>{this.onTrackAdded(t,n,r)}).on(Pe.Disconnected,t=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,t)}).on(Pe.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(Pe.DataPacketReceived,this.handleDataPacket).on(Pe.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(hn.SignalReconnecting)&&this.emit(je.SignalReconnecting)}).on(Pe.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(hn.Connected)&&this.emit(je.Reconnected)}).on(Pe.SignalResumed,()=>{this.bufferedEvents=[],(this.state===hn.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(Pe.Restarting,this.handleRestarting).on(Pe.SignalRestarted,this.handleSignalRestarted).on(Pe.Offline,()=>{this.setAndEmitConnectionState(hn.Reconnecting)&&this.emit(je.Reconnecting)}).on(Pe.DCBufferStatusChanged,(t,n)=>{this.emit(je.DCBufferStatusChanged,t,n)}).on(Pe.LocalTrackSubscribed,t=>{const n=this.localParticipant.getTrackPublications().find(r=>{let{trackSid:i}=r;return i===t});if(!n){this.log.warn("could not find local track subscription for subscribed event",this.logContext);return}this.localParticipant.emit(Ie.LocalTrackSubscribed,n),this.emitWhenConnected(je.LocalTrackSubscribed,n,this.localParticipant)}).on(Pe.RoomMoved,t=>{this.log.debug("room moved",t),t.room&&this.handleRoomUpdate(t.room),this.remoteParticipants.forEach((n,r)=>{this.handleParticipantDisconnected(r,n)}),this.emit(je.Moved,t.room.name),t.participant?this.handleParticipantUpdates([t.participant,...t.otherParticipants]):this.handleParticipantUpdates(t.otherParticipants)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine),this.outgoingDataStreamManager&&this.outgoingDataStreamManager.setupEngine(this.engine))}static getLocalDevices(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return cs.getInstance().getDevices(t,n)}prepareConnection(t,n){return W(this,void 0,void 0,function*(){if(this.state===hn.Disconnected){this.log.debug("prepareConnection to ".concat(t),this.logContext);try{if(lg(new URL(t))&&n){this.regionUrlProvider=new Zt(t,n);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===hn.Disconnected&&(this.regionUrl=r,yield fetch(v0(r),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(r),this.logContext))}else yield fetch(v0(t),{method:"HEAD"})}catch(r){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:r}))}}})}getParticipantByIdentity(t){return this.localParticipant.identity===t?this.localParticipant:this.remoteParticipants.get(t)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(t,n){return W(this,void 0,void 0,function*(){let r=()=>W(this,void 0,void 0,function*(){}),i;switch(t){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":i=new Xo({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":i=new Xo({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":i=new Xo({scenario:{case:"serverLeave",value:!0}});break;case"migration":i=new Xo({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":r=()=>W(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new Xo({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":r=()=>W(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new Xo({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":i=new Xo({scenario:{case:"switchCandidateProtocol",value:t==="force-tls"?2:1}}),r=()=>W(this,void 0,void 0,function*(){const a=this.engine.client.onLeave;a&&a(new R_({reason:Io.CLIENT_INITIATED,action:op.RECONNECT}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");i=new Xo({scenario:{case:"subscriberBandwidth",value:lh(n)}});break;case"leave-full-reconnect":i=new Xo({scenario:{case:"leaveRequestFullReconnect",value:!0}})}i&&(yield this.engine.client.sendSimulateScenario(i),yield r())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(t){return this.localParticipant.activeDeviceMap.get(t)}switchActiveDevice(t,n){return W(this,arguments,void 0,function(r,i){var a=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return function*(){var l,c,d,u,h,m,f;let p=!0,g=!1;const y=o?{exact:i}:i;if(r==="audioinput"){g=a.localParticipant.audioTrackPublications.size===0;const v=(l=a.getActiveDevice(r))!==null&&l!==void 0?l:a.options.audioCaptureDefaults.deviceId;a.options.audioCaptureDefaults.deviceId=y;const b=Array.from(a.localParticipant.audioTrackPublications.values()).filter(S=>S.source===fe.Source.Microphone);try{p=(yield Promise.all(b.map(S=>{var j;return(j=S.audioTrack)===null||j===void 0?void 0:j.setDeviceId(y)}))).every(S=>S===!0)}catch(S){throw a.options.audioCaptureDefaults.deviceId=v,S}const w=b.some(S=>{var j,N;return(N=(j=S.track)===null||j===void 0?void 0:j.isMuted)!==null&&N!==void 0?N:!1});p&&w&&(g=!0)}else if(r==="videoinput"){g=a.localParticipant.videoTrackPublications.size===0;const v=(c=a.getActiveDevice(r))!==null&&c!==void 0?c:a.options.videoCaptureDefaults.deviceId;a.options.videoCaptureDefaults.deviceId=y;const b=Array.from(a.localParticipant.videoTrackPublications.values()).filter(S=>S.source===fe.Source.Camera);try{p=(yield Promise.all(b.map(S=>{var j;return(j=S.videoTrack)===null||j===void 0?void 0:j.setDeviceId(y)}))).every(S=>S===!0)}catch(S){throw a.options.videoCaptureDefaults.deviceId=v,S}const w=b.some(S=>{var j,N;return(N=(j=S.track)===null||j===void 0?void 0:j.isMuted)!==null&&N!==void 0?N:!1});p&&w&&(g=!0)}else if(r==="audiooutput"){if(g=!0,!cO()&&!a.options.webAudioMix||a.options.webAudioMix&&a.audioContext&&!("setSinkId"in a.audioContext))throw new Error("cannot switch audio output, the current browser does not support it");a.options.webAudioMix&&(i=(d=yield cs.getInstance().normalizeDeviceId("audiooutput",i))!==null&&d!==void 0?d:""),(u=(f=a.options).audioOutput)!==null&&u!==void 0||(f.audioOutput={});const v=(h=a.getActiveDevice(r))!==null&&h!==void 0?h:a.options.audioOutput.deviceId;a.options.audioOutput.deviceId=i;try{a.options.webAudioMix&&((m=a.audioContext)===null||m===void 0||m.setSinkId(i)),yield Promise.all(Array.from(a.remoteParticipants.values()).map(b=>b.setAudioOutput({deviceId:i})))}catch(b){throw a.options.audioOutput.deviceId=v,b}}return g&&(a.localParticipant.activeDeviceMap.set(r,i),a.emit(je.ActiveDeviceChanged,r,i)),p}()})}setupLocalParticipantEvents(){this.localParticipant.on(Ie.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(Ie.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(Ie.AttributesChanged,this.onLocalAttributesChanged).on(Ie.TrackMuted,this.onLocalTrackMuted).on(Ie.TrackUnmuted,this.onLocalTrackUnmuted).on(Ie.LocalTrackPublished,this.onLocalTrackPublished).on(Ie.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(Ie.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(Ie.MediaDevicesError,this.onMediaDevicesError).on(Ie.AudioStreamAcquired,this.startAudio).on(Ie.ChatMessage,this.onLocalChatMessageSent).on(Ie.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var t;(t=this.engine)===null||t===void 0||t.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(t,n,r){if(this.state===hn.Connecting||this.state===hn.Reconnecting){const h=()=>{this.log.debug("deferring on track for later",{mediaTrackId:t.id,mediaStreamId:n.id,tracksInStream:n.getTracks().map(f=>f.id)}),this.onTrackAdded(t,n,r),m()},m=()=>{this.off(je.Reconnected,h),this.off(je.Connected,h),this.off(je.Disconnected,m)};this.once(je.Reconnected,h),this.once(je.Connected,h),this.once(je.Disconnected,m);return}if(this.state===hn.Disconnected){this.log.warn("skipping incoming track after Room disconnected",this.logContext);return}if(t.readyState==="ended"){this.log.info("skipping incoming track as it already ended",this.logContext);return}const i=PLe(n.id),a=i[0];let o=i[1],l=t.id;if(o&&o.startsWith("TR")&&(l=o),a===this.localParticipant.sid){this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);return}const c=Array.from(this.remoteParticipants.values()).find(h=>h.sid===a);if(!c){this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(a),this.logContext);return}if(!l.startsWith("TR")){const h=this.engine.getTrackIdForReceiver(r);if(!h){this.log.error("Tried to add a track whose 'sid' could not be found for a participant, that's not present. Sid: ".concat(a),this.logContext);return}l=h}l.startsWith("TR")||this.log.warn("Tried to add a track whose 'sid' could not be determined for a participant, that's not present. Sid: ".concat(a,", streamId: ").concat(o,", trackId: ").concat(l),Object.assign(Object.assign({},this.logContext),{rpID:a,streamId:o,trackId:l}));let d;this.options.adaptiveStream&&(typeof this.options.adaptiveStream=="object"?d=this.options.adaptiveStream:d={});const u=c.addSubscribedMediaTrack(t,l,n,r,d);u!=null&&u.isEncrypted&&!this.e2eeManager&&this.emit(je.EncryptionError,new Error("Encrypted ".concat(u.source," track received from participant ").concat(c.sid,", but room does not have encryption enabled!")))}handleDisconnect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1?arguments[1]:void 0;var r,i;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.incomingDataStreamManager.clearControllers(),this.state!==hn.Disconnected){this.regionUrl=void 0,this.regionUrlProvider&&this.regionUrlProvider.notifyDisconnected();try{this.remoteParticipants.forEach(a=>{a.trackPublications.forEach(o=>{a.unpublishTrack(o.trackSid)})}),this.localParticipant.trackPublications.forEach(a=>{var o,l,c;a.track&&this.localParticipant.unpublishTrack(a.track,t),t?((o=a.track)===null||o===void 0||o.detach(),(l=a.track)===null||l===void 0||l.stop()):(c=a.track)===null||c===void 0||c.stopMonitor()}),this.localParticipant.off(Ie.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(Ie.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(Ie.AttributesChanged,this.onLocalAttributesChanged).off(Ie.TrackMuted,this.onLocalTrackMuted).off(Ie.TrackUnmuted,this.onLocalTrackUnmuted).off(Ie.LocalTrackPublished,this.onLocalTrackPublished).off(Ie.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(Ie.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(Ie.MediaDevicesError,this.onMediaDevicesError).off(Ie.AudioStreamAcquired,this.startAudio).off(Ie.ChatMessage,this.onLocalChatMessageSent).off(Ie.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.webAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),Si()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(i=(r=navigator.mediaDevices)===null||r===void 0?void 0:r.removeEventListener)===null||i===void 0||i.call(r,"devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(hn.Disconnected),this.emit(je.Disconnected,n)}}}handleParticipantDisconnected(t,n){var r;this.remoteParticipants.delete(t),n&&(this.incomingDataStreamManager.validateParticipantHasNoActiveDataStreams(t),n.trackPublications.forEach(i=>{n.unpublishTrack(i.trackSid,!0)}),this.emit(je.ParticipantDisconnected,n),n.setDisconnected(),(r=this.localParticipant)===null||r===void 0||r.handleParticipantDisconnected(n.identity))}handleIncomingRpcRequest(t,n,r,i,a,o){return W(this,void 0,void 0,function*(){if(yield this.engine.publishRpcAck(t,n),o!==1){yield this.engine.publishRpcResponse(t,n,null,jr.builtIn("UNSUPPORTED_VERSION"));return}const l=this.rpcHandlers.get(r);if(!l){yield this.engine.publishRpcResponse(t,n,null,jr.builtIn("UNSUPPORTED_METHOD"));return}let c=null,d=null;try{const u=yield l({requestId:n,callerIdentity:t,payload:i,responseTimeout:a});nD(u)>nse?(c=jr.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"),this.log.warn("RPC Response payload too large for ".concat(r))):d=u}catch(u){u instanceof jr?c=u:(this.log.warn("Uncaught error returned by RPC handler for ".concat(r,". Returning APPLICATION_ERROR instead."),u),c=jr.builtIn("APPLICATION_ERROR"))}yield this.engine.publishRpcResponse(t,n,d,c)})}selectDefaultDevices(){return W(this,void 0,void 0,function*(){var t,n,r;const i=cs.getInstance().previousDevices,a=yield cs.getInstance().getDevices(void 0,!1),o=Ei();if((o==null?void 0:o.name)==="Chrome"&&o.os!=="iOS")for(let c of a){const d=i.find(u=>u.deviceId===c.deviceId);d&&d.label!==""&&d.kind===c.kind&&d.label!==c.label&&this.getActiveDevice(c.kind)==="default"&&this.emit(je.ActiveDeviceChanged,c.kind,c.deviceId)}const l=["audiooutput","audioinput","videoinput"];for(let c of l){const d=jLe(c),u=this.localParticipant.getTrackPublication(d);if(u&&(!((t=u.track)===null||t===void 0)&&t.isUserProvided))continue;const h=a.filter(f=>f.kind===c),m=this.getActiveDevice(c);if(m===((n=i.filter(f=>f.kind===c)[0])===null||n===void 0?void 0:n.deviceId)&&h.length>0&&((r=h[0])===null||r===void 0?void 0:r.deviceId)!==m){yield this.switchActiveDevice(c,h[0].deviceId);continue}c==="audioinput"&&!y0()||c==="videoinput"||h.length>0&&!h.find(f=>f.deviceId===this.getActiveDevice(c))&&(c!=="audiooutput"||!y0())&&(yield this.switchActiveDevice(c,h[0].deviceId))}})}acquireAudioContext(){return W(this,void 0,void 0,function*(){var t,n;if(typeof this.options.webAudioMix!="boolean"&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(t=Kre())!==null&&t!==void 0?t:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach(i=>i.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&this.audioContext.state==="suspended")try{yield Promise.race([this.audioContext.resume(),Ss(200)])}catch(i){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:i}))}const r=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(je.AudioPlaybackStatusChanged,r))})}createParticipant(t,n){var r;let i;return n?i=QS.fromParticipantInfo(this.engine.client,n,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):i=new QS(this.engine.client,"",t,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&i.setAudioContext(this.audioContext),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&i.setAudioOutput(this.options.audioOutput).catch(a=>this.log.warn("Could not set audio output: ".concat(a.message),this.logContext)),i}getOrCreateParticipant(t,n){if(this.remoteParticipants.has(t)){const i=this.remoteParticipants.get(t);return n&&i.updateInfo(n)&&this.sidToIdentity.set(n.sid,n.identity),i}const r=this.createParticipant(t,n);return this.remoteParticipants.set(t,r),this.sidToIdentity.set(n.sid,n.identity),this.emitWhenConnected(je.ParticipantConnected,r),r.on(Ie.TrackPublished,i=>{this.emitWhenConnected(je.TrackPublished,i,r)}).on(Ie.TrackSubscribed,(i,a)=>{i.kind===fe.Kind.Audio?(i.on(ke.AudioPlaybackStarted,this.handleAudioPlaybackStarted),i.on(ke.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):i.kind===fe.Kind.Video&&(i.on(ke.VideoPlaybackFailed,this.handleVideoPlaybackFailed),i.on(ke.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(je.TrackSubscribed,i,a,r)}).on(Ie.TrackUnpublished,i=>{this.emit(je.TrackUnpublished,i,r)}).on(Ie.TrackUnsubscribed,(i,a)=>{this.emit(je.TrackUnsubscribed,i,a,r)}).on(Ie.TrackMuted,i=>{this.emitWhenConnected(je.TrackMuted,i,r)}).on(Ie.TrackUnmuted,i=>{this.emitWhenConnected(je.TrackUnmuted,i,r)}).on(Ie.ParticipantMetadataChanged,i=>{this.emitWhenConnected(je.ParticipantMetadataChanged,i,r)}).on(Ie.ParticipantNameChanged,i=>{this.emitWhenConnected(je.ParticipantNameChanged,i,r)}).on(Ie.AttributesChanged,i=>{this.emitWhenConnected(je.ParticipantAttributesChanged,i,r)}).on(Ie.ConnectionQualityChanged,i=>{this.emitWhenConnected(je.ConnectionQualityChanged,i,r)}).on(Ie.ParticipantPermissionsChanged,i=>{this.emitWhenConnected(je.ParticipantPermissionsChanged,i,r)}).on(Ie.TrackSubscriptionStatusChanged,(i,a)=>{this.emitWhenConnected(je.TrackSubscriptionStatusChanged,i,a,r)}).on(Ie.TrackSubscriptionFailed,(i,a)=>{this.emit(je.TrackSubscriptionFailed,i,r,a)}).on(Ie.TrackSubscriptionPermissionChanged,(i,a)=>{this.emitWhenConnected(je.TrackSubscriptionPermissionChanged,i,a,r)}).on(Ie.Active,()=>{this.emitWhenConnected(je.ParticipantActive,r),r.kind===p0.AGENT&&this.localParticipant.setActiveAgent(r)}),n&&r.updateInfo(n),r}sendSyncState(){const t=Array.from(this.remoteParticipants.values()).reduce((r,i)=>(r.push(...i.getTrackPublications()),r),[]),n=this.localParticipant.getTrackPublications();this.engine.sendSyncState(t,n)}updateSubscriptions(){for(const t of this.remoteParticipants.values())for(const n of t.videoTrackPublications.values())n.isSubscribed&&WLe(n)&&n.emitTrackUpdate()}getRemoteParticipantBySid(t){const n=this.sidToIdentity.get(t);if(n)return this.remoteParticipants.get(n)}registerConnectionReconcile(){this.clearConnectionReconcile();let t=0;this.connectionReconcileInterval=js.setInterval(()=>{!this.engine||this.engine.isClosed||!this.engine.verifyTransport()?(t++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:t,engine:this.engine?{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}:void 0})),t>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Io.STATE_MISMATCH))):t=0},h6e)}clearConnectionReconcile(){this.connectionReconcileInterval&&js.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(t){return t===this.state?!1:(this.state=t,this.emit(je.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(t=>{let[n,r]=t;this.emit(n,...r)}),this.bufferedEvents=[]}emitWhenConnected(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this.state===hn.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([t,r]);else if(this.state===hn.Connected)return this.emit(t,...r);return!1}simulateParticipants(t){return W(this,void 0,void 0,function*(){var n,r,i,a;const o=Object.assign({audio:!0,video:!0,useRealTracks:!1},t.publish),l=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},t.participants);if(this.handleDisconnect(),this.roomInfo=new A_({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:er.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new um({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(je.SignalConnected),this.emit(je.Connected),this.setAndEmitConnectionState(hn.Connected),o.video){const c=new gO(fe.Kind.Video,new Bf({source:$r.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Co.AUDIO,name:"video-dummy"}),new JS(o.useRealTracks&&(!((n=window.navigator.mediaDevices)===null||n===void 0)&&n.getUserMedia)?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:RU(160*((r=l.aspectRatios[0])!==null&&r!==void 0?r:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(c),this.localParticipant.emit(Ie.LocalTrackPublished,c)}if(o.audio){const c=new gO(fe.Kind.Audio,new Bf({source:$r.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Co.AUDIO}),new XS(o.useRealTracks&&(!((i=navigator.mediaDevices)===null||i===void 0)&&i.getUserMedia)?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:HT(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(c),this.localParticipant.emit(Ie.LocalTrackPublished,c)}for(let c=0;c<l.count-1;c+=1){let d=new um({sid:Math.floor(Math.random()*1e4).toString(),identity:"simulated-".concat(c),state:ap.ACTIVE,tracks:[],joinedAt:er.parse(Date.now())});const u=this.getOrCreateParticipant(d.identity,d);if(l.video){const h=RU(160*((a=l.aspectRatios[c%l.aspectRatios.length])!==null&&a!==void 0?a:1),160,!1,!0),m=new Bf({source:$r.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Co.AUDIO});u.addSubscribedMediaTrack(h,m.sid,new MediaStream([h]),new RTCRtpReceiver),d.tracks=[...d.tracks,m]}if(l.audio){const h=HT(),m=new Bf({source:$r.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Co.AUDIO});u.addSubscribedMediaTrack(h,m.sid,new MediaStream([h]),new RTCRtpReceiver),d.tracks=[...d.tracks,m]}u.updateInfo(d)}})}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t!==je.ActiveSpeakersChanged&&t!==je.TranscriptionReceived){const a=dse(r).filter(o=>o!==void 0);(t===je.TrackSubscribed||t===je.TrackUnsubscribed)&&this.log.trace("subscribe trace: ".concat(t),Object.assign(Object.assign({},this.logContext),{event:t,args:a})),this.log.debug("room event ".concat(t),Object.assign(Object.assign({},this.logContext),{event:t,args:a}))}return super.emit(t,...r)}}b0.cleanupRegistry=typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{e()});function dse(e){return e.map(t=>{if(t)return Array.isArray(t)?dse(t):typeof t=="object"?"logContext"in t?t.logContext:void 0:t})}var So;(function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.SKIPPED=2]="SKIPPED",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED"})(So||(So={}));class Fu extends $l.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.status=So.IDLE,this.logs=[],this.options={},this.url=t,this.token=n,this.name=this.constructor.name,this.room=new b0(r.roomOptions),this.connectOptions=r.connectOptions,this.options=r}run(t){return W(this,void 0,void 0,function*(){if(this.status!==So.IDLE)throw Error("check is running already");this.setStatus(So.RUNNING);try{yield this.perform()}catch(n){n instanceof Error&&(this.options.errorsAsWarnings?this.appendWarning(n.message):this.appendError(n.message))}return yield this.disconnect(),yield new Promise(n=>setTimeout(n,500)),this.status!==So.SKIPPED&&this.setStatus(this.isSuccess()?So.SUCCESS:So.FAILED),t&&t(),this.getInfo()})}isSuccess(){return!this.logs.some(t=>t.level==="error")}connect(t){return W(this,void 0,void 0,function*(){return this.room.state===hn.Connected?this.room:(t||(t=this.url),yield this.room.connect(t,this.token,this.connectOptions),this.room)})}disconnect(){return W(this,void 0,void 0,function*(){this.room&&this.room.state!==hn.Disconnected&&(yield this.room.disconnect(),yield new Promise(t=>setTimeout(t,500)))})}skip(){this.setStatus(So.SKIPPED)}switchProtocol(t){return W(this,void 0,void 0,function*(){let n=!1,r=!1;if(this.room.on(je.Reconnecting,()=>{n=!0}),this.room.once(je.Reconnected,()=>{r=!0}),this.room.simulateScenario("force-".concat(t)),yield new Promise(a=>setTimeout(a,1e3)),!n)return;const i=Date.now()+1e4;for(;Date.now()<i;){if(r)return;yield Ss(100)}throw new Error("Could not reconnect using ".concat(t," protocol after 10 seconds"))})}appendMessage(t){this.logs.push({level:"info",message:t}),this.emit("update",this.getInfo())}appendWarning(t){this.logs.push({level:"warning",message:t}),this.emit("update",this.getInfo())}appendError(t){this.logs.push({level:"error",message:t}),this.emit("update",this.getInfo())}setStatus(t){this.status=t,this.emit("update",this.getInfo())}get engine(){var t;return(t=this.room)===null||t===void 0?void 0:t.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}class m6e extends Fu{get description(){return"Cloud regions"}perform(){return W(this,void 0,void 0,function*(){const t=new Zt(this.url,this.token);if(!t.isCloud()){this.skip();return}const n=[],r=new Set;for(let a=0;a<3;a++){const o=yield t.getNextBestRegionUrl();if(!o)break;if(r.has(o))continue;r.add(o);const l=yield this.checkCloudRegion(o);this.appendMessage("".concat(l.region," RTT: ").concat(l.rtt,"ms, duration: ").concat(l.duration,"ms")),n.push(l)}n.sort((a,o)=>(a.duration-o.duration)*.5+(a.rtt-o.rtt)*.5);const i=n[0];this.bestStats=i,this.appendMessage("best Cloud region: ".concat(i.region))})}getInfo(){const t=super.getInfo();return t.data=this.bestStats,t}checkCloudRegion(t){return W(this,void 0,void 0,function*(){var n,r;yield this.connect(t),this.options.protocol==="tcp"&&(yield this.switchProtocol("tcp"));const i=(n=this.room.serverInfo)===null||n===void 0?void 0:n.region;if(!i)throw new Error("Region not found");const a=yield this.room.localParticipant.streamText({topic:"test"}),o=1e3,c=1e6/o,d="A".repeat(o),u=Date.now();for(let p=0;p<c;p++)yield a.write(d);yield a.close();const h=Date.now(),m=yield(r=this.room.engine.pcManager)===null||r===void 0?void 0:r.publisher.getStats(),f={region:i,rtt:1e4,duration:h-u};return m==null||m.forEach(p=>{p.type==="candidate-pair"&&p.nominated&&(f.rtt=p.currentRoundTripTime*1e3)}),yield this.disconnect(),f})}}const t2=1e4;class f6e extends Fu{get description(){return"Connection via UDP vs TCP"}perform(){return W(this,void 0,void 0,function*(){const t=yield this.checkConnectionProtocol("udp"),n=yield this.checkConnectionProtocol("tcp");this.bestStats=t,t.qualityLimitationDurations.bandwidth-n.qualityLimitationDurations.bandwidth>.5||(t.packetsLost-n.packetsLost)/t.packetsSent>.01?(this.appendMessage("best connection quality via tcp"),this.bestStats=n):this.appendMessage("best connection quality via udp");const r=this.bestStats;this.appendMessage("upstream bitrate: ".concat((r.bitrateTotal/r.count/1e3/1e3).toFixed(2)," mbps")),this.appendMessage("RTT: ".concat((r.rttTotal/r.count*1e3).toFixed(2)," ms")),this.appendMessage("jitter: ".concat((r.jitterTotal/r.count*1e3).toFixed(2)," ms")),r.packetsLost>0&&this.appendWarning("packets lost: ".concat((r.packetsLost/r.packetsSent*100).toFixed(2),"%")),r.qualityLimitationDurations.bandwidth>1&&this.appendWarning("bandwidth limited ".concat((r.qualityLimitationDurations.bandwidth/(t2/1e3)*100).toFixed(2),"%")),r.qualityLimitationDurations.cpu>0&&this.appendWarning("cpu limited ".concat((r.qualityLimitationDurations.cpu/(t2/1e3)*100).toFixed(2),"%"))})}getInfo(){const t=super.getInfo();return t.data=this.bestStats,t}checkConnectionProtocol(t){return W(this,void 0,void 0,function*(){yield this.connect(),t==="tcp"?yield this.switchProtocol("tcp"):yield this.switchProtocol("udp");const n=document.createElement("canvas");n.width=1280,n.height=720;const r=n.getContext("2d");if(!r)throw new Error("Could not get canvas context");let i=0;const a=()=>{i=(i+1)%360,r.fillStyle="hsl(".concat(i,", 100%, 50%)"),r.fillRect(0,0,n.width,n.height),requestAnimationFrame(a)};a();const l=n.captureStream(30).getVideoTracks()[0],d=(yield this.room.localParticipant.publishTrack(l,{simulcast:!1,degradationPreference:"maintain-resolution",videoEncoding:{maxBitrate:2e6}})).track,u={protocol:t,packetsLost:0,packetsSent:0,qualityLimitationDurations:{},rttTotal:0,jitterTotal:0,bitrateTotal:0,count:0},h=setInterval(()=>W(this,void 0,void 0,function*(){const m=yield d.getRTCStatsReport();m==null||m.forEach(f=>{f.type==="outbound-rtp"?(u.packetsSent=f.packetsSent,u.qualityLimitationDurations=f.qualityLimitationDurations,u.bitrateTotal+=f.targetBitrate,u.count++):f.type==="remote-inbound-rtp"&&(u.packetsLost=f.packetsLost,u.rttTotal+=f.roundTripTime,u.jitterTotal+=f.jitter)})}),1e3);return yield new Promise(m=>setTimeout(m,t2)),clearInterval(h),l.stop(),n.remove(),yield this.disconnect(),u})}}class p6e extends Fu{get description(){return"Can publish audio"}perform(){return W(this,void 0,void 0,function*(){var t;const n=yield this.connect(),r=yield o6e();if(yield Hre(r,1e3))throw new Error("unable to detect audio from microphone");this.appendMessage("detected audio from microphone"),n.localParticipant.publishTrack(r),yield new Promise(l=>setTimeout(l,3e3));const a=yield(t=r.sender)===null||t===void 0?void 0:t.getStats();if(!a)throw new Error("Could not get RTCStats");let o=0;if(a.forEach(l=>{l.type==="outbound-rtp"&&(l.kind==="audio"||!l.kind&&l.mediaType==="audio")&&(o=l.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," audio packets"))})}}class g6e extends Fu{get description(){return"Can publish video"}perform(){return W(this,void 0,void 0,function*(){var t;const n=yield this.connect(),r=yield a6e();yield this.checkForVideo(r.mediaStreamTrack),n.localParticipant.publishTrack(r),yield new Promise(o=>setTimeout(o,5e3));const i=yield(t=r.sender)===null||t===void 0?void 0:t.getStats();if(!i)throw new Error("Could not get RTCStats");let a=0;if(i.forEach(o=>{o.type==="outbound-rtp"&&(o.kind==="video"||!o.kind&&o.mediaType==="video")&&(a+=o.packetsSent)}),a===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(a," video packets"))})}checkForVideo(t){return W(this,void 0,void 0,function*(){const n=new MediaStream;n.addTrack(t.clone());const r=document.createElement("video");r.srcObject=n,r.muted=!0,r.autoplay=!0,r.playsInline=!0,r.setAttribute("playsinline","true"),document.body.appendChild(r),yield new Promise(i=>{r.onplay=()=>{setTimeout(()=>{var a,o,l,c;const d=document.createElement("canvas"),u=t.getSettings(),h=(o=(a=u.width)!==null&&a!==void 0?a:r.videoWidth)!==null&&o!==void 0?o:1280,m=(c=(l=u.height)!==null&&l!==void 0?l:r.videoHeight)!==null&&c!==void 0?c:720;d.width=h,d.height=m;const f=d.getContext("2d");f.drawImage(r,0,0);const g=f.getImageData(0,0,d.width,d.height).data;let y=!0;for(let v=0;v<g.length;v+=4)if(g[v]!==0||g[v+1]!==0||g[v+2]!==0){y=!1;break}y?this.appendError("camera appears to be producing only black frames"):this.appendMessage("received video frames"),i()},1e3)},r.play()}),n.getTracks().forEach(i=>i.stop()),r.remove()})}}class x6e extends Fu{get description(){return"Resuming connection after interruption"}perform(){return W(this,void 0,void 0,function*(){var t;const n=yield this.connect();let r=!1,i=!1,a;const o=new Promise(d=>{setTimeout(d,5e3),a=d}),l=()=>{r=!0};n.on(je.SignalReconnecting,l).on(je.Reconnecting,l).on(je.Reconnected,()=>{i=!0,a(!0)}),(t=n.engine.client.ws)===null||t===void 0||t.close();const c=n.engine.client.onClose;if(c&&c(""),yield o,r){if(!i||n.state!==hn.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}else throw new Error("Did not attempt to reconnect")})}}class y6e extends Fu{get description(){return"Can connect via TURN"}perform(){return W(this,void 0,void 0,function*(){var t,n,r;lg(new URL(this.url))&&(this.appendMessage("Using region specific url"),this.url=(t=yield new Zt(this.url,this.token).getNextBestRegionUrl())!==null&&t!==void 0?t:this.url);const i=new J3,a=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3},void 0,!0);let o=!1,l=!1,c=!1;for(let d of a.iceServers)for(let u of d.urls)u.startsWith("turn:")?(l=!0,c=!0):u.startsWith("turns:")&&(l=!0,c=!0,o=!0),u.startsWith("stun:")&&(c=!0);c?l&&!o&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield i.close(),!((r=(n=this.connectOptions)===null||n===void 0?void 0:n.rtcConfig)===null||r===void 0)&&r.iceServers||l?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise(d=>setTimeout(d,0)))})}}class v6e extends Fu{get description(){return"Establishing WebRTC connection"}perform(){return W(this,void 0,void 0,function*(){let t=!1,n=!1;this.room.on(je.SignalConnected,()=>{var r;const i=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(a,o)=>{if(a.candidate){const l=new RTCIceCandidate(a);let c="".concat(l.protocol," ").concat(l.address,":").concat(l.port," ").concat(l.type);l.address&&(b6e(l.address)?c+=" (private)":l.protocol==="tcp"&&l.tcpType==="passive"?(t=!0,c+=" (passive)"):l.protocol==="udp"&&(n=!0)),this.appendMessage(c)}i&&i(a,o)},!((r=this.room.engine.pcManager)===null||r===void 0)&&r.subscriber&&(this.room.engine.pcManager.subscriber.onIceCandidateError=a=>{a instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(a.errorCode," ").concat(a.errorText," ").concat(a.url))})});try{yield this.connect(),It.info("now the room is connected")}catch(r){throw this.appendWarning("ports need to be open on firewall in order to connect."),r}t||this.appendWarning("Server is not configured for ICE/TCP"),n||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")})}}function b6e(e){const t=e.split(".");if(t.length===4){if(t[0]==="10")return!0;if(t[0]==="192"&&t[1]==="168")return!0;if(t[0]==="172"){const n=parseInt(t[1],10);if(n>=16&&n<=31)return!0}}return!1}class w6e extends Fu{get description(){return"Connecting to signal connection via WebSocket"}perform(){return W(this,void 0,void 0,function*(){var t,n,r;(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let i=new J3,a;try{a=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3},void 0,!0)}catch(o){if(lg(new URL(this.url))){this.appendMessage("Initial connection failed with error ".concat(o.message,". Retrying with region fallback"));const c=yield new Zt(this.url,this.token).getNextBestRegionUrl();c&&(a=yield i.join(c,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3},void 0,!0),this.appendMessage("Fallback to region worked. To avoid initial connections failing, ensure you're calling room.prepareConnection() ahead of time"))}}a?(this.appendMessage("Connected to server, version ".concat(a.serverVersion,".")),((t=a.serverInfo)===null||t===void 0?void 0:t.edition)===Xne.Cloud&&(!((n=a.serverInfo)===null||n===void 0)&&n.region)&&this.appendMessage("LiveKit Cloud: ".concat((r=a.serverInfo)===null||r===void 0?void 0:r.region))):this.appendError("Websocket connection could not be established"),yield i.close()})}}class Xkt extends $l.EventEmitter{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.options={},this.checkResults=new Map,this.url=t,this.token=n,this.options=r}getNextCheckId(){const t=this.checkResults.size;return this.checkResults.set(t,{logs:[],status:So.IDLE,name:"",description:""}),t}updateCheck(t,n){this.checkResults.set(t,n),this.emit("checkUpdate",t,n)}isSuccess(){return Array.from(this.checkResults.values()).every(t=>t.status!==So.FAILED)}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(t){return W(this,void 0,void 0,function*(){const n=this.getNextCheckId(),r=new t(this.url,this.token,this.options),i=o=>{this.updateCheck(n,o)};r.on("update",i);const a=yield r.run();return r.off("update",i),a})}checkWebsocket(){return W(this,void 0,void 0,function*(){return this.createAndRunCheck(w6e)})}checkWebRTC(){return W(this,void 0,void 0,function*(){return this.createAndRunCheck(v6e)})}checkTURN(){return W(this,void 0,void 0,function*(){return this.createAndRunCheck(y6e)})}checkReconnect(){return W(this,void 0,void 0,function*(){return this.createAndRunCheck(x6e)})}checkPublishAudio(){return W(this,void 0,void 0,function*(){return this.createAndRunCheck(p6e)})}checkPublishVideo(){return W(this,void 0,void 0,function*(){return this.createAndRunCheck(g6e)})}checkConnectionProtocol(){return W(this,void 0,void 0,function*(){const t=yield this.createAndRunCheck(f6e);if(t.data&&"protocol"in t.data){const n=t.data;this.options.protocol=n.protocol}return t})}checkCloudRegion(){return W(this,void 0,void 0,function*(){return this.createAndRunCheck(m6e)})}}function zt(e,t,n){return(t=S6e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j6e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S6e(e){var t=j6e(e,"string");return typeof t=="symbol"?t:t+""}new TextEncoder;new TextDecoder;class di extends Error{constructor(t,n){var r;super(t,n),zt(this,"code","ERR_JOSE_GENERIC"),this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}zt(di,"code","ERR_JOSE_GENERIC");class N6e extends di{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unspecified",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unspecified";super(t,{cause:{claim:r,reason:i,payload:n}}),zt(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),zt(this,"claim",void 0),zt(this,"reason",void 0),zt(this,"payload",void 0),this.claim=r,this.reason=i,this.payload=n}}zt(N6e,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");class k6e extends di{constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unspecified",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unspecified";super(t,{cause:{claim:r,reason:i,payload:n}}),zt(this,"code","ERR_JWT_EXPIRED"),zt(this,"claim",void 0),zt(this,"reason",void 0),zt(this,"payload",void 0),this.claim=r,this.reason=i,this.payload=n}}zt(k6e,"code","ERR_JWT_EXPIRED");class _6e extends di{constructor(){super(...arguments),zt(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}}zt(_6e,"code","ERR_JOSE_ALG_NOT_ALLOWED");class C6e extends di{constructor(){super(...arguments),zt(this,"code","ERR_JOSE_NOT_SUPPORTED")}}zt(C6e,"code","ERR_JOSE_NOT_SUPPORTED");class E6e extends di{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"decryption operation failed",n=arguments.length>1?arguments[1]:void 0;super(t,n),zt(this,"code","ERR_JWE_DECRYPTION_FAILED")}}zt(E6e,"code","ERR_JWE_DECRYPTION_FAILED");class T6e extends di{constructor(){super(...arguments),zt(this,"code","ERR_JWE_INVALID")}}zt(T6e,"code","ERR_JWE_INVALID");class A6e extends di{constructor(){super(...arguments),zt(this,"code","ERR_JWS_INVALID")}}zt(A6e,"code","ERR_JWS_INVALID");class P6e extends di{constructor(){super(...arguments),zt(this,"code","ERR_JWT_INVALID")}}zt(P6e,"code","ERR_JWT_INVALID");class I6e extends di{constructor(){super(...arguments),zt(this,"code","ERR_JWK_INVALID")}}zt(I6e,"code","ERR_JWK_INVALID");class O6e extends di{constructor(){super(...arguments),zt(this,"code","ERR_JWKS_INVALID")}}zt(O6e,"code","ERR_JWKS_INVALID");class R6e extends di{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"no applicable key found in the JSON Web Key Set",n=arguments.length>1?arguments[1]:void 0;super(t,n),zt(this,"code","ERR_JWKS_NO_MATCHING_KEY")}}zt(R6e,"code","ERR_JWKS_NO_MATCHING_KEY");class M6e extends di{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"multiple matching keys found in the JSON Web Key Set",n=arguments.length>1?arguments[1]:void 0;super(t,n),zt(this,Symbol.asyncIterator,void 0),zt(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}}zt(M6e,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS");class D6e extends di{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"request timed out",n=arguments.length>1?arguments[1]:void 0;super(t,n),zt(this,"code","ERR_JWKS_TIMEOUT")}}zt(D6e,"code","ERR_JWKS_TIMEOUT");class L6e extends di{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"signature verification failed",n=arguments.length>1?arguments[1]:void 0;super(t,n),zt(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}}zt(L6e,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");const o1=new Map;function $6e(e,t){return async(n,r)=>{const i=o1.get(e);if(i)return n.addModule(i);if(r)try{return await n.addModule(r),void o1.set(e,r)}catch(l){throw new Error(`Failed to load the ${e} worklet module from path: ${r}. Error: ${l}`)}const a=new Blob([t],{type:"application/javascript"}),o=URL.createObjectURL(a);try{return await n.addModule(o),void o1.set(e,o)}catch{URL.revokeObjectURL(o)}try{const l=`data:application/javascript;base64,${btoa(t)}`;await n.addModule(l),o1.set(e,l)}catch{throw new Error(`Failed to load the ${e} worklet module. Make sure the browser supports AudioWorklets. If you are using a strict CSP, you may need to self-host the worklet files.`)}}}class F6e{constructor(){this.listeners=new Map}on(t,n){this.listeners.has(t)||this.listeners.set(t,new Set);const r=this.listeners.get(t);r&&r.add(n)}off(t,n){const r=this.listeners.get(t);r&&r.delete(n)}emit(t,...n){const r=this.listeners.get(t);r&&r.forEach(i=>{i(...n)})}}var tt;(function(e){e.SESSION_STARTED="session_started",e.PARTIAL_TRANSCRIPT="partial_transcript",e.COMMITTED_TRANSCRIPT="committed_transcript",e.COMMITTED_TRANSCRIPT_WITH_TIMESTAMPS="committed_transcript_with_timestamps",e.AUTH_ERROR="auth_error",e.ERROR="error",e.OPEN="open",e.CLOSE="close",e.QUOTA_EXCEEDED="quota_exceeded",e.COMMIT_THROTTLED="commit_throttled",e.TRANSCRIBER_ERROR="transcriber_error",e.UNACCEPTED_TERMS="unaccepted_terms",e.RATE_LIMITED="rate_limited",e.INPUT_ERROR="input_error",e.QUEUE_OVERFLOW="queue_overflow",e.RESOURCE_EXHAUSTED="resource_exhausted",e.SESSION_TIME_LIMIT_EXCEEDED="session_time_limit_exceeded",e.CHUNK_SIZE_EXCEEDED="chunk_size_exceeded",e.INSUFFICIENT_AUDIO_ACTIVITY="insufficient_audio_activity"})(tt||(tt={}));let B6e=class{constructor(t){this.websocket=null,this.eventEmitter=new F6e,this.currentSampleRate=16e3,this._audioCleanup=void 0,this.currentSampleRate=t}setWebSocket(t){this.websocket=t,this.websocket.readyState===WebSocket.OPEN?this.eventEmitter.emit(tt.OPEN):this.websocket.addEventListener("open",()=>{this.eventEmitter.emit(tt.OPEN)}),this.websocket.addEventListener("message",n=>{try{const r=JSON.parse(n.data);switch(r.message_type){case"session_started":this.eventEmitter.emit(tt.SESSION_STARTED,r);break;case"partial_transcript":this.eventEmitter.emit(tt.PARTIAL_TRANSCRIPT,r);break;case"committed_transcript":this.eventEmitter.emit(tt.COMMITTED_TRANSCRIPT,r);break;case"committed_transcript_with_timestamps":this.eventEmitter.emit(tt.COMMITTED_TRANSCRIPT_WITH_TIMESTAMPS,r);break;case"auth_error":this.eventEmitter.emit(tt.AUTH_ERROR,r),this.eventEmitter.emit(tt.ERROR,r);break;case"quota_exceeded":this.eventEmitter.emit(tt.QUOTA_EXCEEDED,r),this.eventEmitter.emit(tt.ERROR,r);break;case"commit_throttled":this.eventEmitter.emit(tt.COMMIT_THROTTLED,r),this.eventEmitter.emit(tt.ERROR,r);break;case"transcriber_error":this.eventEmitter.emit(tt.TRANSCRIBER_ERROR,r),this.eventEmitter.emit(tt.ERROR,r);break;case"unaccepted_terms":this.eventEmitter.emit(tt.UNACCEPTED_TERMS,r),this.eventEmitter.emit(tt.ERROR,r);break;case"rate_limited":this.eventEmitter.emit(tt.RATE_LIMITED,r),this.eventEmitter.emit(tt.ERROR,r);break;case"input_error":this.eventEmitter.emit(tt.INPUT_ERROR,r),this.eventEmitter.emit(tt.ERROR,r);break;case"queue_overflow":this.eventEmitter.emit(tt.QUEUE_OVERFLOW,r),this.eventEmitter.emit(tt.ERROR,r);break;case"resource_exhausted":this.eventEmitter.emit(tt.RESOURCE_EXHAUSTED,r),this.eventEmitter.emit(tt.ERROR,r);break;case"session_time_limit_exceeded":this.eventEmitter.emit(tt.SESSION_TIME_LIMIT_EXCEEDED,r),this.eventEmitter.emit(tt.ERROR,r);break;case"chunk_size_exceeded":this.eventEmitter.emit(tt.CHUNK_SIZE_EXCEEDED,r),this.eventEmitter.emit(tt.ERROR,r);break;case"insufficient_audio_activity":this.eventEmitter.emit(tt.INSUFFICIENT_AUDIO_ACTIVITY,r),this.eventEmitter.emit(tt.ERROR,r);break;case"error":this.eventEmitter.emit(tt.ERROR,r);break;default:console.warn("Unknown message type:",r)}}catch(r){console.error("Failed to parse WebSocket message:",r,n.data),this.eventEmitter.emit(tt.ERROR,new Error(`Failed to parse message: ${r}`))}}),this.websocket.addEventListener("error",n=>{console.error("WebSocket error:",n),this.eventEmitter.emit(tt.ERROR,n)}),this.websocket.addEventListener("close",n=>{if(console.log(`WebSocket closed: code=${n.code}, reason="${n.reason}", wasClean=${n.wasClean}`),!n.wasClean||n.code!==1e3&&n.code!==1005){const r=`WebSocket closed unexpectedly: ${n.code} - ${n.reason||"No reason provided"}`;console.error(r),this.eventEmitter.emit(tt.ERROR,new Error(r))}this.eventEmitter.emit(tt.CLOSE,n)})}on(t,n){this.eventEmitter.on(t,n)}off(t,n){this.eventEmitter.off(t,n)}send(t){var n,r;if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new Error("WebSocket is not connected");const i={message_type:"input_audio_chunk",audio_base_64:t.audioBase64,commit:(n=t.commit)!=null&&n,sample_rate:(r=t.sampleRate)!=null?r:this.currentSampleRate,previous_text:t.previousText};this.websocket.send(JSON.stringify(i))}commit(){if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new Error("WebSocket is not connected");this.websocket.send(JSON.stringify({message_type:"input_audio_chunk",audio_base_64:"",commit:!0,sample_rate:this.currentSampleRate}))}close(){this._audioCleanup&&this._audioCleanup(),this.websocket&&this.websocket.close(1e3,"User ended session")}};const U6e=$6e("scribeAudioProcessor",`/*
 * Scribe Audio Processor for converting microphone audio to PCM16 format
 * Supports resampling for browsers like Firefox that don't support
 * AudioContext sample rate constraints.
 * USED BY @elevenlabs/client
 */

class ScribeAudioProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.buffer = [];
    this.bufferSize = 4096; // Buffer size for optimal chunk transmission

    // Resampling state
    this.inputSampleRate = null;
    this.outputSampleRate = null;
    this.resampleRatio = 1;
    this.lastSample = 0;
    this.resampleAccumulator = 0;

    this.port.onmessage = ({ data }) => {
      if (data.type === "configure") {
        this.inputSampleRate = data.inputSampleRate;
        this.outputSampleRate = data.outputSampleRate;
        if (this.inputSampleRate && this.outputSampleRate) {
          this.resampleRatio = this.inputSampleRate / this.outputSampleRate;
        }
      }
    };
  }

  // Linear interpolation resampling
  resample(inputData) {
    if (this.resampleRatio === 1 || !this.inputSampleRate) {
      return inputData;
    }

    const outputSamples = [];

    for (let i = 0; i < inputData.length; i++) {
      const currentSample = inputData[i];

      // Generate output samples using linear interpolation
      while (this.resampleAccumulator < 1) {
        const interpolated =
          this.lastSample +
          (currentSample - this.lastSample) * this.resampleAccumulator;
        outputSamples.push(interpolated);
        this.resampleAccumulator += this.resampleRatio;
      }

      this.resampleAccumulator -= 1;
      this.lastSample = currentSample;
    }

    return new Float32Array(outputSamples);
  }

  process(inputs) {
    const input = inputs[0];
    if (input.length > 0) {
      let channelData = input[0]; // Get first channel (mono)

      // Resample if needed (for Firefox and other browsers that don't
      // support AudioContext sample rate constraints)
      if (this.resampleRatio !== 1) {
        channelData = this.resample(channelData);
      }

      // Add incoming audio to buffer
      for (let i = 0; i < channelData.length; i++) {
        this.buffer.push(channelData[i]);
      }

      // When buffer reaches threshold, convert and send
      if (this.buffer.length >= this.bufferSize) {
        const float32Array = new Float32Array(this.buffer);
        const int16Array = new Int16Array(float32Array.length);

        // Convert Float32 [-1, 1] to Int16 [-32768, 32767]
        for (let i = 0; i < float32Array.length; i++) {
          // Clamp the value to prevent overflow
          const sample = Math.max(-1, Math.min(1, float32Array[i]));
          // Scale to PCM16 range
          int16Array[i] = sample < 0 ? sample * 32768 : sample * 32767;
        }

        // Send to main thread as transferable ArrayBuffer
        this.port.postMessage(
          {
            audioData: int16Array.buffer
          },
          [int16Array.buffer]
        );

        // Clear buffer
        this.buffer = [];
      }
    }

    return true; // Continue processing
  }
}

registerProcessor("scribeAudioProcessor", ScribeAudioProcessor);

`);var sz,xO;(function(e){e.PCM_8000="pcm_8000",e.PCM_16000="pcm_16000",e.PCM_22050="pcm_22050",e.PCM_24000="pcm_24000",e.PCM_44100="pcm_44100",e.PCM_48000="pcm_48000",e.ULAW_8000="ulaw_8000"})(sz||(sz={})),function(e){e.MANUAL="manual",e.VAD="vad"}(xO||(xO={}));class Dd{static getWebSocketUri(t=Dd.DEFAULT_BASE_URI){return`${t}/v1/speech-to-text/realtime`}static buildWebSocketUri(t){const n=Dd.getWebSocketUri(t.baseUri),r=new URLSearchParams;if(r.append("model_id",t.modelId),r.append("token",t.token),t.commitStrategy!==void 0&&r.append("commit_strategy",t.commitStrategy),t.audioFormat!==void 0&&r.append("audio_format",t.audioFormat),t.vadSilenceThresholdSecs!==void 0){if(t.vadSilenceThresholdSecs<=.3||t.vadSilenceThresholdSecs>3)throw new Error("vadSilenceThresholdSecs must be between 0.3 and 3.0");r.append("vad_silence_threshold_secs",t.vadSilenceThresholdSecs.toString())}if(t.vadThreshold!==void 0){if(t.vadThreshold<.1||t.vadThreshold>.9)throw new Error("vadThreshold must be between 0.1 and 0.9");r.append("vad_threshold",t.vadThreshold.toString())}if(t.minSpeechDurationMs!==void 0){if(t.minSpeechDurationMs<=50||t.minSpeechDurationMs>2e3)throw new Error("minSpeechDurationMs must be between 50 and 2000");r.append("min_speech_duration_ms",t.minSpeechDurationMs.toString())}if(t.minSilenceDurationMs!==void 0){if(t.minSilenceDurationMs<=50||t.minSilenceDurationMs>2e3)throw new Error("minSilenceDurationMs must be between 50 and 2000");r.append("min_silence_duration_ms",t.minSilenceDurationMs.toString())}t.languageCode!==void 0&&r.append("language_code",t.languageCode),t.includeTimestamps!==void 0&&r.append("include_timestamps",t.includeTimestamps?"true":"false");const i=r.toString();return i?`${n}?${i}`:n}static connect(t){if(!t.modelId)throw new Error("modelId is required");const n=new B6e("microphone"in t&&t.microphone?16e3:t.sampleRate),r=Dd.buildWebSocketUri(t),i=new WebSocket(r);return"microphone"in t&&t.microphone&&i.addEventListener("open",()=>{Dd.streamFromMicrophone(t,n)}),n.setWebSocket(i),n}static async streamFromMicrophone(t,n){try{var i,a,o,l,c,d,u,h,m,f;const p=await navigator.mediaDevices.getUserMedia({audio:{deviceId:(i=t.microphone)==null?void 0:i.deviceId,echoCancellation:(a=(o=t.microphone)==null?void 0:o.echoCancellation)==null||a,noiseSuppression:(l=(c=t.microphone)==null?void 0:c.noiseSuppression)==null||l,autoGainControl:(d=(u=t.microphone)==null?void 0:u.autoGainControl)==null||d,channelCount:(h=(m=t.microphone)==null?void 0:m.channelCount)!=null?h:1,sampleRate:{ideal:16e3}}}),g=(f=p.getAudioTracks()[0])==null?void 0:f.getSettings(),y=g==null?void 0:g.sampleRate,v=new AudioContext(y?{sampleRate:y}:{});await U6e(v.audioWorklet);const b=v.createMediaStreamSource(p),w=new AudioWorkletNode(v,"scribeAudioProcessor");v.sampleRate!==16e3&&w.port.postMessage({type:"configure",inputSampleRate:v.sampleRate,outputSampleRate:16e3}),w.port.onmessage=S=>{const{audioData:j}=S.data,N=new Uint8Array(j);let k="";for(let C=0;C<N.length;C++)k+=String.fromCharCode(N[C]);const _=btoa(k);n.send({audioBase64:_})},b.connect(w),v.state==="suspended"&&await v.resume(),n._audioCleanup=()=>{p.getTracks().forEach(S=>{S.stop()}),b.disconnect(),w.disconnect(),v.close()}}catch(p){throw console.error("Failed to start microphone streaming:",p),p}}}Dd.DEFAULT_BASE_URI="wss://api.elevenlabs.io";function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yO.apply(null,arguments)}function z6e(e={}){const{onSessionStarted:t,onPartialTranscript:n,onCommittedTranscript:r,onCommittedTranscriptWithTimestamps:i,onError:a,onAuthError:o,onQuotaExceededError:l,onCommitThrottledError:c,onTranscriberError:d,onUnacceptedTermsError:u,onRateLimitedError:h,onInputError:m,onQueueOverflowError:f,onResourceExhaustedError:p,onSessionTimeLimitExceededError:g,onChunkSizeExceededError:y,onInsufficientAudioActivityError:v,onConnect:b,onDisconnect:w,token:S,modelId:j,baseUri:N,commitStrategy:k,vadSilenceThresholdSecs:_,vadThreshold:C,minSpeechDurationMs:T,minSilenceDurationMs:A,languageCode:P,microphone:R,audioFormat:D,sampleRate:$,autoConnect:M=!1,includeTimestamps:F}=e,O=x.useRef(null),[L,I]=x.useState("disconnected"),[z,H]=x.useState(""),[U,X]=x.useState([]),[le,de]=x.useState(null);x.useEffect(()=>()=>{var ge;(ge=O.current)==null||ge.close()},[]);const oe=x.useCallback(async(ge={})=>{if(O.current)console.warn("Already connected");else try{var Oe,ut;I("connecting"),de(null);const nt=ge.token||S,ne=ge.modelId||j;if(!nt)throw new Error("Token is required");if(!ne)throw new Error("Model ID is required");const Xe=ge.microphone||R,wt=ge.audioFormat||D,Ve=ge.sampleRate||$;let Re;const Le=(Oe=(ut=ge.includeTimestamps)!=null?ut:F)!=null?Oe:!(!ge.onCommittedTranscriptWithTimestamps&&!i);if(Xe)Re=Dd.connect({token:nt,modelId:ne,baseUri:ge.baseUri||N,commitStrategy:ge.commitStrategy||k,vadSilenceThresholdSecs:ge.vadSilenceThresholdSecs||_,vadThreshold:ge.vadThreshold||C,minSpeechDurationMs:ge.minSpeechDurationMs||T,minSilenceDurationMs:ge.minSilenceDurationMs||A,languageCode:ge.languageCode||P,microphone:Xe,includeTimestamps:Le});else{if(!wt||!Ve)throw new Error("Either microphone options or (audioFormat + sampleRate) must be provided");Re=Dd.connect({token:nt,modelId:ne,baseUri:ge.baseUri||N,commitStrategy:ge.commitStrategy||k,vadSilenceThresholdSecs:ge.vadSilenceThresholdSecs||_,vadThreshold:ge.vadThreshold||C,minSpeechDurationMs:ge.minSpeechDurationMs||T,minSilenceDurationMs:ge.minSilenceDurationMs||A,languageCode:ge.languageCode||P,includeTimestamps:Le,audioFormat:wt,sampleRate:Ve})}O.current=Re,Re.on(tt.SESSION_STARTED,()=>{I("connected"),t==null||t()}),Re.on(tt.PARTIAL_TRANSCRIPT,Me=>{const Ae=Me;H(Ae.text),I("transcribing"),n==null||n(Ae)}),Re.on(tt.COMMITTED_TRANSCRIPT,Me=>{const Ae=Me,rt={id:`${Date.now()}-${Math.random()}`,text:Ae.text,timestamp:Date.now(),isFinal:!0};X(ie=>[...ie,rt]),H(""),r==null||r(Ae)}),Re.on(tt.COMMITTED_TRANSCRIPT_WITH_TIMESTAMPS,Me=>{const Ae=Me,rt={id:`${Date.now()}-${Math.random()}`,text:Ae.text,timestamp:Date.now(),isFinal:!0,words:Ae.words};X(ie=>[...ie,rt]),H(""),i==null||i(Ae)}),Re.on(tt.ERROR,Me=>{const Ae=Me;de(Ae.error),I("error"),a==null||a(new Error(Ae.error))}),Re.on(tt.AUTH_ERROR,Me=>{const Ae=Me;de(Ae.error),I("error"),o==null||o(Ae)}),Re.on(tt.QUOTA_EXCEEDED,Me=>{const Ae=Me;de(Ae.error),I("error"),l==null||l(Ae)}),Re.on(tt.COMMIT_THROTTLED,Me=>{const Ae=Me;de(Ae.error),I("error"),c==null||c(Ae)}),Re.on(tt.TRANSCRIBER_ERROR,Me=>{const Ae=Me;de(Ae.error),I("error"),d==null||d(Ae)}),Re.on(tt.UNACCEPTED_TERMS,Me=>{const Ae=Me;de(Ae.error),I("error"),u==null||u(Ae)}),Re.on(tt.RATE_LIMITED,Me=>{const Ae=Me;de(Ae.error),I("error"),h==null||h(Ae)}),Re.on(tt.INPUT_ERROR,Me=>{const Ae=Me;de(Ae.error),I("error"),m==null||m(Ae)}),Re.on(tt.QUEUE_OVERFLOW,Me=>{const Ae=Me;de(Ae.error),I("error"),f==null||f(Ae)}),Re.on(tt.RESOURCE_EXHAUSTED,Me=>{const Ae=Me;de(Ae.error),I("error"),p==null||p(Ae)}),Re.on(tt.SESSION_TIME_LIMIT_EXCEEDED,Me=>{const Ae=Me;de(Ae.error),I("error"),g==null||g(Ae)}),Re.on(tt.CHUNK_SIZE_EXCEEDED,Me=>{const Ae=Me;de(Ae.error),I("error"),y==null||y(Ae)}),Re.on(tt.INSUFFICIENT_AUDIO_ACTIVITY,Me=>{const Ae=Me;de(Ae.error),I("error"),v==null||v(Ae)}),Re.on(tt.OPEN,()=>{b==null||b()}),Re.on(tt.CLOSE,()=>{I("disconnected"),O.current=null,w==null||w()})}catch(nt){const ne=nt instanceof Error?nt.message:"Failed to connect";throw de(ne),I("error"),nt}},[S,j,N,k,_,C,T,A,P,R,D,$,F,t,n,r,i,a,o,l,c,d,u,h,m,f,p,g,y,v,b,w]),Ne=x.useCallback(()=>{var ge;(ge=O.current)==null||ge.close(),O.current=null,I("disconnected")},[]),K=x.useCallback((ge,Oe)=>{if(!O.current)throw new Error("Not connected to Scribe");O.current.send(yO({audioBase64:ge},Oe))},[]),he=x.useCallback(()=>{if(!O.current)throw new Error("Not connected to Scribe");O.current.commit()},[]),re=x.useCallback(()=>{X([]),H("")},[]),Q=x.useCallback(()=>O.current,[]);return x.useEffect(()=>{M&&oe()},[M,oe]),{status:L,isConnected:L==="connected"||L==="transcribing",isTranscribing:L==="transcribing",partialTranscript:z,committedTranscripts:U,error:le,connect:oe,disconnect:Ne,sendAudio:K,commit:he,clearTranscripts:re,getConnection:Q}}function $_(e={}){const{onTranscript:t,onPartialTranscript:n}=e,[r,i]=x.useState(!1),[a,o]=x.useState(!1),[l,c]=x.useState(null),[d,u]=x.useState(""),[h,m]=x.useState(""),f=z6e({modelId:"scribe_v2_realtime",commitStrategy:xO.VAD,onPartialTranscript:b=>{console.log("[Voice] Partial:",b.text),u(b.text),n==null||n(b.text)},onCommittedTranscript:b=>{console.log("[Voice] Committed:",b.text),m(w=>{const S=w?`${w} ${b.text}`:b.text;return t==null||t(b.text),S}),u("")}}),p=x.useCallback(async()=>{c(null),o(!0);try{console.log("[Voice] Requesting token...");const{data:b,error:w}=await ee.functions.invoke("elevenlabs-scribe-token");if(w||!(b!=null&&b.token))throw new Error((w==null?void 0:w.message)||"Failed to get voice token");console.log("[Voice] Token received, connecting..."),await f.connect({token:b.token,microphone:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),i(!0),console.log("[Voice] Connected and listening"),q.success("...")}catch(b){console.error("[Voice] Error:",b);const w=b instanceof Error?b.message:"Failed to start voice input";c(w),q.error(`: ${w}`)}finally{o(!1)}},[f]),g=x.useCallback(()=>{console.log("[Voice] Stopping..."),f.disconnect(),i(!1),u(""),q.info("")},[f]),y=x.useCallback(()=>{r?g():p()},[r,p,g]),v=x.useCallback(()=>{m(""),u("")},[]);return x.useEffect(()=>()=>{f.isConnected&&f.disconnect()},[f]),{isListening:r,isConnecting:a,isConnected:f.isConnected,error:l,partialText:d,fullTranscript:h,currentText:d||h,committedTranscripts:f.committedTranscripts,startListening:p,stopListening:g,toggleListening:y,clearTranscript:v}}function V6e({onTranscript:e,disabled:t}){const{isListening:n,isConnecting:r,partialText:i,toggleListening:a}=$_({onTranscript:o=>{o.trim()&&e(o.trim())}});return s.jsxs("div",{className:"relative",children:[s.jsx(E.button,{type:"button",onClick:a,disabled:t||r,className:`w-12 h-12 rounded-full flex items-center justify-center transition-all flex-shrink-0 shadow-lg ${n?"bg-destructive hover:bg-destructive/90 text-destructive-foreground shadow-destructive/25":"bg-muted hover:bg-muted/80 text-muted-foreground"} disabled:opacity-50`,whileTap:{scale:.95},title:n?"":"",children:r?s.jsx(Ge,{className:"w-5 h-5 animate-spin"}):n?s.jsx(Ub,{className:"w-5 h-5"}):s.jsx(ma,{className:"w-5 h-5"})}),s.jsx(He,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(E.div,{className:"absolute inset-0 rounded-full bg-destructive",initial:{scale:1,opacity:.5},animate:{scale:1.5,opacity:0},transition:{duration:1,repeat:1/0}}),s.jsx(E.div,{className:"absolute inset-0 rounded-full bg-destructive",initial:{scale:1,opacity:.3},animate:{scale:2,opacity:0},transition:{duration:1.5,repeat:1/0,delay:.2}})]})}),s.jsx(He,{children:n&&i&&s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 whitespace-nowrap bg-popover text-popover-foreground text-sm px-3 py-1.5 rounded-lg max-w-[200px] truncate border",children:i})})]})}function iD(e={}){const{voiceId:t="EXAVITQu4vr4xnSDxMaL",autoPlay:n=!0}=e,[r,i]=x.useState(!1),[a,o]=x.useState(!1),[l,c]=x.useState(null),d=x.useRef(null),u=x.useRef(null),h=x.useCallback(()=>{d.current&&(d.current.pause(),d.current=null),u.current&&(URL.revokeObjectURL(u.current),u.current=null),o(!1)},[]),m=x.useCallback(()=>{h()},[h]);return{speak:x.useCallback(async p=>{if(!(!p||p.trim().length===0)){h(),i(!0),c(null);try{console.log("[TTS] Requesting speech for:",p.substring(0,50)+"...");const g=await fetch("https://anuslwdkfstrfffsrgvk.supabase.co/functions/v1/elevenlabs-tts",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFudXNsd2RrZnN0cmZmZnNyZ3ZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxODcwNzksImV4cCI6MjA4NDc2MzA3OX0.oubQLUS0ZLRpqzRHcKLmDgb8kSaXKY0ObZKDOdP7W7I",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFudXNsd2RrZnN0cmZmZnNyZ3ZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxODcwNzksImV4cCI6MjA4NDc2MzA3OX0.oubQLUS0ZLRpqzRHcKLmDgb8kSaXKY0ObZKDOdP7W7I"},body:JSON.stringify({text:p,voiceId:t})});if(!g.ok){const w=await g.json().catch(()=>({}));throw new Error(w.error||`TTS failed: ${g.status}`)}const y=await g.blob(),v=URL.createObjectURL(y);u.current=v;const b=new Audio(v);d.current=b,b.onplay=()=>o(!0),b.onended=()=>{o(!1),h()},b.onerror=()=>{c("Audio playback failed"),o(!1),h()},n&&(await b.play(),console.log("[TTS] Playing audio"))}catch(g){console.error("[TTS] Error:",g);const y=g instanceof Error?g.message:"TTS failed";c(y),q.error(`: ${y}`)}finally{i(!1)}}},[t,n,h]),stop:m,isLoading:r,isPlaying:a,error:l}}function iz({text:e,disabled:t}){const{speak:n,stop:r,isLoading:i,isPlaying:a}=iD(),o=()=>{a?r():n(e)};return s.jsx(E.button,{type:"button",onClick:o,disabled:t||i||!e,className:`w-7 h-7 rounded-full flex items-center justify-center transition-all ${a?"bg-primary text-white shadow-md shadow-primary/25":"bg-gray-200 hover:bg-gray-300 text-gray-600"} disabled:opacity-50`,whileTap:{scale:.9},title:a?"":"",children:i?s.jsx(Ge,{className:"w-3.5 h-3.5 animate-spin"}):a?s.jsx(CM,{className:"w-3.5 h-3.5"}):s.jsx(Hh,{className:"w-3.5 h-3.5"})})}function q6e(){const e=navigator.userAgent;return e.includes("Chrome")&&!e.includes("Edg")?"Chrome":e.includes("Firefox")?"Firefox":e.includes("Safari")&&!e.includes("Chrome")?"Safari":e.includes("Edg")?"Edge":e.includes("Opera")||e.includes("OPR")?"Opera":"Unknown"}function W6e(e){const[t,n]=x.useState({isFixing:!1,currentAttempt:0,maxAttempts:3,currentStrategy:null,errorReport:null,fixSuccess:!1,maxAttemptsReached:!1}),r=x.useCallback(async(a,o,l)=>{n(m=>({...m,isFixing:!0,currentAttempt:1,fixSuccess:!1,maxAttemptsReached:!1,errorReport:null}));let c,d=[],u=1,h=null;for(;u<=3;){n(m=>({...m,currentAttempt:u}));try{const{data:m,error:f}=await ee.functions.invoke("auto-fix-error",{body:{sessionId:e,errorType:a,errorMessage:o,pageUrl:l||window.location.href,browser:q6e(),userAgent:navigator.userAgent,attemptNumber:u,previousAttempts:d,errorId:c}});if(f){console.error("Auto-fix API error:",f);break}if(m.errorReport&&(c=m.errorReport.errorId,d=m.errorReport.attempts,h=m.errorReport),n(p=>({...p,currentStrategy:m.strategy,errorReport:m.errorReport})),m.success)return n(p=>({...p,isFixing:!1,fixSuccess:!0,errorReport:m.errorReport})),m.errorReport;if(m.maxAttemptsReached)return n(p=>({...p,isFixing:!1,maxAttemptsReached:!0,errorReport:m.errorReport})),m.errorReport;u=m.nextAttemptNumber}catch(m){console.error("Auto-fix error:",m);break}}return t.fixSuccess||n(m=>({...m,isFixing:!1,maxAttemptsReached:!0,errorReport:h})),h},[e]),i=x.useCallback(()=>{n({isFixing:!1,currentAttempt:0,maxAttempts:3,currentStrategy:null,errorReport:null,fixSuccess:!1,maxAttemptsReached:!1})},[]);return{...t,startAutoFix:r,reset:i}}const H6e=({errorReport:e,onClose:t})=>{const[n,r]=x.useState(!1),[i,a]=x.useState(!1),o=h=>new Date(h).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),l=()=>{const h=e.attempts.map(m=>`${m.attemptNumber}. ${m.strategy} - ${m.success?"":""}${m.errorDetails?` (${m.errorDetails})`:""}`).join(`
`);return`
=== SEOBAIKE  ===

 ${e.errorId}
 ${o(e.timestamp)}
 ${e.errorType}
 ${e.errorMessage}
 ${e.pageUrl}
 ${e.browser}
 Session${e.sessionId}


${h||""}


 ${e.attempts.length} 
 24 

===  ===
    `.trim()},c=async()=>{try{await navigator.clipboard.writeText(l()),a(!0),q.success("",{description:" Email  LINE ",duration:4e3}),setTimeout(()=>a(!1),3e3)}catch{q.error("")}},d=()=>{const h=encodeURIComponent(` []  ${e.errorId}`),m=encodeURIComponent(l());window.location.href=`mailto:seobaike@aiforseo.vip?subject=${h}&body=${m}`},u={edge_function_failure:"Edge Function ",database_error:"",authentication_error:"",network_error:"",ui_render_error:"UI ",payment_error:"",default:""};return s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-card border-2 border-destructive/50 rounded-xl overflow-hidden shadow-lg",children:[s.jsx("div",{className:"bg-destructive/10 px-4 py-3 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"w-5 h-5 text-destructive"}),s.jsx("span",{className:"font-semibold text-destructive",children:""}),s.jsx("code",{className:"text-xs bg-destructive/20 px-2 py-0.5 rounded font-mono",children:e.errorId})]})}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"font-medium",children:u[e.errorType]||e.errorType})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"font-medium text-destructive-foreground bg-destructive/20 px-1.5 py-0.5 rounded",children:[e.attempts.length," "]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(We,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"font-medium text-primary",children:""})]})]}),s.jsx("div",{className:"border-t border-border"}),s.jsxs("button",{onClick:()=>r(!n),className:"w-full flex items-center justify-between text-sm text-muted-foreground hover:text-foreground transition-colors",children:[s.jsx("span",{className:"flex items-center gap-2",children:" "}),s.jsx(qr,{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`})]}),s.jsx(He,{children:n&&s.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 space-y-2 text-xs font-mono",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:e.errorId})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:o(e.timestamp)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:e.errorType})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("p",{className:"mt-1 break-all",children:e.errorMessage})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"truncate max-w-[200px]",children:e.pageUrl})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:e.browser})]}),e.attempts.length>0&&s.jsxs("div",{className:"pt-2 border-t border-border",children:[s.jsx("span",{className:"text-muted-foreground font-semibold",children:""}),s.jsx("div",{className:"mt-2 space-y-1",children:e.attempts.map((h,m)=>s.jsxs("div",{className:"flex items-start gap-2 text-destructive",children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"text-foreground",children:[h.attemptNumber,". ",h.strategy," - "]})]},m))})]})]})})}),s.jsx("div",{className:"border-t border-border"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:c,className:"w-full justify-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(We,{className:"w-4 h-4 text-green-500"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(An,{className:"w-4 h-4"}),""]})}),s.jsxs(B,{variant:"default",size:"sm",onClick:d,className:"w-full justify-center gap-2",children:[s.jsx(Ri,{className:"w-4 h-4"})," Email"]})]})]})]})},K6e=({isOpen:e,onClose:t})=>{const[n,r]=x.useState(!1),i=a=>{navigator.clipboard.writeText(a),r(!0),setTimeout(()=>r(!1),2e3)};return s.jsx(He,{children:e&&s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center p-4",onClick:t,children:s.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",onClick:a=>a.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-bold text-lg",children:""})]}),s.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-lg",children:s.jsx(nr,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:""}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Dl,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium",children:" (Windows/Mac)"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg px-3 py-2",children:[s.jsx("span",{children:""}),s.jsx("button",{onClick:()=>i("Ctrl + Shift + R"),className:"font-mono bg-gray-100 px-2 py-1 rounded text-xs hover:bg-primary hover:text-white transition-colors",children:"Ctrl + Shift + R"})]}),s.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg px-3 py-2",children:[s.jsx("span",{children:"Mac "}),s.jsx("button",{onClick:()=>i("Cmd + Shift + R"),className:"font-mono bg-gray-100 px-2 py-1 rounded text-xs hover:bg-primary hover:text-white transition-colors",children:" + Shift + R"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ii,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium",children:" (iOS/Android)"})]}),s.jsxs("ol",{className:"text-sm space-y-1.5 text-gray-700 list-decimal list-inside",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"    "}),s.jsx("li",{children:""})]})]}),s.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full bg-gradient-to-r from-primary to-secondary text-white py-3 rounded-xl font-medium flex items-center justify-center gap-2 hover:opacity-90 transition-opacity",children:[s.jsx(rn,{className:"w-4 h-4"}),""]}),n&&s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-center gap-1 text-green-600 text-sm mt-2",children:[s.jsx(Ct,{className:"w-4 h-4"}),""]})]})})})},az=[{id:"getting-started",label:"",icon:"",questions:[{q:"SEOBAIKE ",a:"SEOBAIKE  AI-SEO    30 AI  Google "},{q:"",a:"   AI    30 "},{q:"",a:"   AI "},{q:"",a:" 50   "},{q:"",a:" "},{q:"",a:"  "}]},{id:"account",label:"",icon:"",questions:[{q:"",a:"   Email  "},{q:"",a:" Email "},{q:"",a:""},{q:" Email",a:" "},{q:"",a:" "},{q:" Google ",a:" Email  "}]},{id:"points",label:"",icon:"",questions:[{q:"",a:"1  = NT$1 "},{q:"",a:"ATM  "},{q:"",a:" 1  "},{q:"",a:" "},{q:"",a:"...   SEOBAIKE   1.    2.    3.    "},{q:"",a:" "},{q:"",a:"  "}]},{id:"website",label:"",icon:"",questions:[{q:"",a:"30   AI "},{q:"",a:"AI  "},{q:"",a:" "},{q:"",a:" "},{q:"",a:" "},{q:"",a:" "},{q:"",a:" Google AnalyticsFB Pixel  "}]},{id:"seo",label:"SEO ",icon:"",questions:[{q:" SEO",a:"SEO  Google   "},{q:"SEOBAIKE  SEO ",a:" AI-SEO 115100981AI  SEO  "},{q:" Google ",a:" 1-2  Sitemap  Google "},{q:"SEO ",a:"AI  SEO  alt 10  "},{q:" SEO ",a:"SEO  100  "},{q:"",a:" "}]},{id:"ai-tools",label:"AI ",icon:"",questions:[{q:"AI ",a:"AI AI AI  SEO  30  "},{q:"AI ",a:"AI  50  "},{q:"AI ",a:"AI  100  5  "},{q:"AI ",a:"AI  "},{q:"",a:" "},{q:"AI ",a:" AI  "}]},{id:"payment",label:"",icon:"",questions:[{q:"",a:"ATM  "},{q:"",a:" Email "},{q:"",a:" "},{q:"",a:" "},{q:"",a:" "},{q:"",a:" "}]},{id:"troubleshoot",label:"",icon:"",questions:[{q:"",a:"1.  2.  3. "},{q:"",a:" "},{q:"",a:" 5MB  JPGPNGGIF "},{q:"",a:" "},{q:"",a:" "},{q:"",a:" Chrome  "}]},{id:"domain",label:"",icon:"",questions:[{q:"",a:" "},{q:"",a:" DNS  "},{q:"",a:" CDN  "},{q:"SSL ",a:" SSL  https "},{q:"",a:" Email  "},{q:"",a:" "}]},{id:"policy",label:"",icon:"",questions:[{q:"",a:"  "},{q:"",a:" "},{q:"",a:"...     "},{q:"",a:" 60475510 "},{q:"",a:" "},{q:"",a:" "}]}],oz=({content:e})=>{const t=/(https?:\/\/[^\s<]+|mailto:[^\s<]+)/g,n=e.split(t),r=e.match(t)||[],i=[];let a=0;return n.forEach((o,l)=>{if(o&&i.push(s.jsx("span",{children:o},`text-${l}`)),a<r.length&&l<n.length-1){const c=r[a];i.push(s.jsx("a",{href:c,target:c.startsWith("mailto:")?void 0:"_blank",rel:c.startsWith("mailto:")?void 0:"noopener noreferrer",className:"text-primary underline hover:text-primary/80 break-all",children:c},`link-${a}`)),a++}}),s.jsx(s.Fragment,{children:i})},use=({forceOpen:e=!1,onClose:t,initialMessage:n,errorContext:r,forceUseClaude:i=!1})=>{var nt;xn();const{user:a}=Jt(),[o,l]=x.useState(e),[c,d]=x.useState(!1),[u,h]=x.useState([{role:"assistant",content:" SEOBAIKE ",timestamp:new Date}]),[m,f]=x.useState(""),[p,g]=x.useState(!1),[y]=x.useState(()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),[v,b]=x.useState(null),[w,S]=x.useState(!0),[j,N]=x.useState(null),[k,_]=x.useState(null),[C,T]=x.useState(!1),[A,P]=x.useState(null),[R,D]=x.useState(i),[$,M]=x.useState(!1),F=x.useRef(null),O=["","","","","","","","","",""],L=W6e(y);x.useEffect(()=>{var ne;(ne=F.current)==null||ne.scrollIntoView({behavior:"smooth"})},[u]),x.useEffect(()=>{e&&(l(!0),d(!1),S(!1),r?(D(!0),h(ne=>{const Xe=ne[ne.length-1];return Xe!=null&&Xe.content.includes(" AI ")?ne:[...ne,{role:"assistant",content:` **AI **



****
\`\`\`
${r}
\`\`\`

... 

`,timestamp:new Date}]}),setTimeout(()=>{z(`

${r}

 Lovable `)},1e3)):h(ne=>{const Xe=ne[ne.length-1];return Xe!=null&&Xe.content.includes("")?ne:[...ne,{role:"assistant",content:`  

 `,timestamp:new Date}]}))},[e,r]);const I=()=>{l(!1),D(!1),t==null||t()},z=async ne=>{var Xe;if(!(!ne.trim()||p)){g(!0),h(wt=>[...wt,{role:"assistant",content:"",timestamp:new Date,isStreaming:!0}]);try{const wt="https://anuslwdkfstrfffsrgvk.supabase.co",Ve="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFudXNsd2RrZnN0cmZmZnNyZ3ZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxODcwNzksImV4cCI6MjA4NDc2MzA3OX0.oubQLUS0ZLRpqzRHcKLmDgb8kSaXKY0ObZKDOdP7W7I",Re=`${wt}/functions/v1/customer-support-stream`;console.log("[SEOBAIKE-AI] ");const Le=await fetch(Re,{method:"POST",headers:{"Content-Type":"application/json",apikey:Ve,Authorization:`Bearer ${Ve}`},body:JSON.stringify({message:ne,sessionId:y,userId:a==null?void 0:a.id,history:u.slice(-10).map(Ae=>({role:Ae.role,content:Ae.content})),isRepairMode:!0})});if(!Le.ok)throw new Error("AI ");const Me=(Xe=Le.body)==null?void 0:Xe.getReader();if(Me){const Ae=new TextDecoder;let rt="",ie="";for(;;){const{done:be,value:Qe}=await Me.read();if(be)break;rt+=Ae.decode(Qe,{stream:!0});const at=rt.split(`
`);rt=at.pop()||"";for(const Ot of at)if(Ot.startsWith("data: ")){const Pr=Ot.slice(6).trim();if(!Pr)continue;try{const Qt=JSON.parse(Pr);Qt.text&&(ie+=Qt.text,h(Lt=>{const Rt=[...Lt],mr=Rt.length-1;return mr>=0&&Rt[mr].role==="assistant"&&(Rt[mr]={...Rt[mr],content:ie}),Rt})),Qt.done&&h(Lt=>{const Rt=[...Lt],mr=Rt.length-1;return mr>=0&&Rt[mr].role==="assistant"&&(Rt[mr]={...Rt[mr],content:ie+`

---
 ****  Lovable `,isStreaming:!1,showFeedback:!0}),Rt})}catch{}}}}}catch(wt){console.error("Claude :",wt),h(Ve=>{const Re=[...Ve],Le=Re.length-1;return Le>=0&&Re[Le].role==="assistant"&&(Re[Le]={...Re[Le],content:"AI   ",isStreaming:!1}),Re})}finally{g(!1)}}},H=["","code","css","javascript","js","html","api","debug","","error","bug","","","function","script","style","class","selector","console","log","undefined","null","exception","","variable","","","method","array","object","json","fetch","request","response","dom","element","node","component","react","vue","database","sql","query","schema","table"],U=ne=>{const Xe=ne.toLowerCase();return H.some(wt=>Xe.includes(wt.toLowerCase()))},X=ne=>O.some(Xe=>ne.includes(Xe)),le=async ne=>{var wt;if(!ne.trim()||p)return;X(ne)&&M(!0),h(Ve=>[...Ve,{role:"user",content:ne,timestamp:new Date}]),f(""),g(!0),S(!1),N(null),_(null),T(!1),P(null);const Xe=u.length+1;h(Ve=>[...Ve,{role:"assistant",content:"",timestamp:new Date,isStreaming:!0}]);try{const Ve="https://anuslwdkfstrfffsrgvk.supabase.co",Re="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFudXNsd2RrZnN0cmZmZnNyZ3ZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxODcwNzksImV4cCI6MjA4NDc2MzA3OX0.oubQLUS0ZLRpqzRHcKLmDgb8kSaXKY0ObZKDOdP7W7I",Me=R||U(ne)?`${Ve}/functions/v1/customer-support-stream`:`${Ve}/functions/v1/customer-support-deepseek`;console.log(`[SEOBAIKE-AI] : "${ne.slice(0,50)}..."${R?" ()":""}`);const Ae=await fetch(Me,{method:"POST",headers:{"Content-Type":"application/json",apikey:Re,Authorization:`Bearer ${Re}`},body:JSON.stringify({message:ne,sessionId:y,userId:a==null?void 0:a.id,history:u.slice(-10).map(ie=>({role:ie.role,content:ie.content}))})});if(!Ae.ok)throw new Error(`HTTP error! status: ${Ae.status}`);const rt=Ae.headers.get("content-type");if(rt!=null&&rt.includes("text/event-stream")){const ie=(wt=Ae.body)==null?void 0:wt.getReader();if(!ie)throw new Error("No reader available");const be=new TextDecoder;let Qe="",at="";for(;;){const{done:Ot,value:Pr}=await ie.read();if(Ot)break;Qe+=be.decode(Pr,{stream:!0});const Qt=Qe.split(`
`);Qe=Qt.pop()||"";for(const Lt of Qt)if(Lt.startsWith("data: ")){const Rt=Lt.slice(6).trim();if(!Rt)continue;try{const mr=JSON.parse(Rt);mr.text&&(at+=mr.text,h(Jn=>{const Ir=[...Jn],kr=Ir.length-1;return kr>=0&&Ir[kr].role==="assistant"&&(Ir[kr]={...Ir[kr],content:at}),Ir})),mr.done&&(h(Jn=>{const Ir=[...Jn],kr=Ir.length-1;return kr>=0&&Ir[kr].role==="assistant"&&(Ir[kr]={...Ir[kr],isStreaming:!1,showFeedback:!0}),Ir}),_(Xe))}catch{}}}}else{const ie=await Ae.json();if(ie.error==="blocked"||ie.response)h(be=>{const Qe=[...be],at=Qe.length-1;return at>=0&&Qe[at].role==="assistant"&&(Qe[at]={...Qe[at],content:ie.response||ie.message||"",isStreaming:!1,showFeedback:!0}),Qe}),_(Xe);else throw new Error(ie.message||"")}}catch(Ve){console.error("Chat error:",Ve),q.error(""),h(Re=>{const Le=[...Re],Me=Le.length-1;return Me>=0&&Le[Me].role==="assistant"&&(Le[Me]={...Le[Me],content:"seobaike@aiforseo.vip",isStreaming:!1}),Le})}finally{g(!1)}},de=async ne=>{T(!1),ne?(h(Xe=>[...Xe,{role:"user",content:"",timestamp:new Date}]),await le("")):(h(Xe=>[...Xe,{role:"user",content:"",timestamp:new Date}]),await le(""))},oe=async()=>{A&&(P(null),h(ne=>[...ne,{role:"user",content:"",timestamp:new Date}]),h(ne=>[...ne,{role:"assistant",content:`  ${A.points} 

 24 

`,timestamp:new Date,showFeedback:!0}]),_(u.length+2),q.success(` ${A.points} `))},Ne=()=>{P(null),h(ne=>[...ne,{role:"assistant",content:"",timestamp:new Date}]),S(!0)},K=()=>{_(null),h(ne=>[...ne,{role:"assistant",content:" ",timestamp:new Date}]),S(!0)},he=async()=>{_(null);const ne=u.filter(wt=>wt.role==="user").pop();if(ne&&(ne.content.includes("")||ne.content.includes("")||ne.content.includes("")||ne.content.includes("")||ne.content.includes("")||ne.content.includes("")||ne.content.includes(""))){h(Re=>[...Re,{role:"assistant",content:" ...",timestamp:new Date,isAutoFixing:!0}]);const wt=re(ne.content),Ve=await L.startAutoFix(wt,ne.content,window.location.href);h(Re=>Re.filter(Le=>!Le.isAutoFixing)),L.fixSuccess?(h(Re=>[...Re,{role:"assistant",content:" ",timestamp:new Date,showFeedback:!0}]),_(u.length)):Ve&&h(Re=>[...Re,{role:"assistant",content:` 

 3 


`,timestamp:new Date,errorReport:Ve}])}else h(wt=>[...wt,{role:"assistant",content:"",timestamp:new Date}]),S(!0)},re=ne=>ne.includes("")||ne.includes("deploy")?"edge_function_failure":ne.includes("")||ne.includes("database")?"database_error":ne.includes("")||ne.includes("")?"authentication_error":ne.includes("")||ne.includes("")?"network_error":ne.includes("")||ne.includes("")?"payment_error":ne.includes("")||ne.includes("")||ne.includes("")?"ui_render_error":"default",Q=async()=>{!m.trim()||p||await le(m.trim())},ge=ne=>{ne.key==="Enter"&&!ne.shiftKey&&(ne.preventDefault(),Q())},Oe=ne=>ne.toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"}),ut=ne=>{N(Xe=>Xe===ne?null:ne)};return s.jsxs(s.Fragment,{children:[s.jsx(He,{children:!o&&s.jsxs(E.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},onClick:()=>l(!0),className:"relative w-14 h-14 sm:w-16 sm:h-16 flex items-center justify-center group touch-manipulation",whileHover:{scale:1.05},whileTap:{scale:.9},"aria-label":" AI ",children:[s.jsx(E.div,{className:"absolute inset-0 rounded-full",style:{background:"conic-gradient(from 0deg, #667eea, #764ba2, #f093fb, #667eea)",filter:"blur(8px)",opacity:.6},animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"}}),s.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-primary/40",animate:{scale:[1,1.4,1.4],opacity:[.6,0,0]},transition:{duration:2,repeat:1/0,ease:"easeOut"}}),s.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-secondary/40",animate:{scale:[1,1.6,1.6],opacity:[.4,0,0]},transition:{duration:2,repeat:1/0,ease:"easeOut",delay:.5}}),[0,1,2,3].map(ne=>s.jsx(E.div,{className:"absolute w-2 h-2 rounded-full bg-white/80",style:{boxShadow:"0 0 8px 2px rgba(102, 126, 234, 0.8)"},animate:{rotate:360,scale:[.5,1,.5]},transition:{rotate:{duration:3,repeat:1/0,ease:"linear",delay:ne*.75},scale:{duration:1.5,repeat:1/0,ease:"easeInOut",delay:ne*.4}},initial:{x:Math.cos(ne*Math.PI/2)*28,y:Math.sin(ne*Math.PI/2)*28}},ne)),s.jsxs("div",{className:"relative w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-gradient-to-br from-primary via-purple-600 to-secondary shadow-lg shadow-primary/40 flex items-center justify-center overflow-hidden z-10",children:[s.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/20 to-white/0",animate:{rotate:[0,360],opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0,ease:"linear"}}),s.jsx(E.div,{animate:{y:[0,-2,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:s.jsx(Do,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white relative z-10"})}),s.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white/20 to-transparent hidden sm:block",animate:{y:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear",repeatDelay:1}})]}),s.jsx(E.div,{className:"absolute -top-0.5 -right-0.5 z-20",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-green-400 rounded-full border-2 border-white shadow-lg",children:s.jsx(E.div,{className:"absolute inset-0 rounded-full bg-green-400",animate:{opacity:[1,.4,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})})}),s.jsxs(E.div,{className:"absolute right-full mr-3 whitespace-nowrap bg-foreground/90 text-background text-sm px-3 py-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none hidden sm:block",initial:{x:10,opacity:0},children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Ye,{className:"w-3.5 h-3.5 text-yellow-400"}),"AI "]}),s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-full",children:s.jsx("div",{className:"border-8 border-transparent border-l-foreground/90"})})]})]})}),s.jsx(He,{children:o&&s.jsxs(E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1,height:c?"auto":void 0},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:`fixed z-[9999] bg-white shadow-[0_8px_40px_rgba(0,0,0,0.12)] overflow-hidden flex flex-col
              sm:bottom-6 sm:right-6 sm:w-[400px] sm:max-w-[calc(100vw-48px)] sm:rounded-2xl sm:max-h-[calc(100vh-100px)] sm:h-[550px]
              inset-0 sm:inset-auto w-full h-full sm:h-auto`,style:{...typeof window<"u"&&window.innerWidth<=640?{top:0,left:0,right:0,bottom:0,borderRadius:0,maxHeight:"100dvh",height:"100dvh"}:{}},children:[s.jsx("div",{className:"sm:hidden w-full bg-gradient-to-r from-primary to-secondary",style:{paddingTop:"env(safe-area-inset-top, 0px)"}}),s.jsxs("div",{className:"h-14 sm:h-14 bg-gradient-to-r from-primary to-secondary text-primary-foreground px-4 flex items-center justify-between flex-shrink-0 select-none",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{className:"font-semibold text-base",children:"AI "}),v!==null&&s.jsxs("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-full hidden sm:inline",children:[" ",v," "]})]}),s.jsx("button",{onClick:I,className:"p-3 hover:bg-white/20 rounded-lg transition-colors active:bg-white/30 touch-manipulation -mr-1","aria-label":"",children:s.jsx(nr,{className:"w-6 h-6"})})]}),!c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-white overscroll-contain",style:{WebkitOverflowScrolling:"touch",touchAction:"pan-y"},children:[u.map((ne,Xe)=>s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-2.5 ${ne.role==="user"?"flex-row-reverse":"flex-row"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${ne.role==="user"?"bg-gradient-to-br from-primary to-secondary text-white":"bg-gray-100 text-gray-600"}`,children:ne.role==="user"?s.jsx(Mu,{className:"w-4 h-4"}):ne.isAutoFixing?s.jsx(Sl,{className:"w-4 h-4 animate-pulse"}):s.jsx(Do,{className:"w-4 h-4"})}),s.jsxs("div",{className:`max-w-[80%] ${ne.role==="user"?"text-right":"text-left"}`,children:[ne.isAutoFixing&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 min-w-[250px]",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-2",children:[s.jsx(Sl,{className:"w-4 h-4 text-primary animate-pulse"}),s.jsx("span",{className:"text-gray-700",children:"..."})]}),s.jsx("div",{className:"relative w-full h-2 bg-gray-200 rounded-full overflow-hidden mb-2",children:s.jsx(E.div,{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-primary to-secondary rounded-full",initial:{width:"0%"},animate:{width:`${L.currentAttempt/3*100}%`},transition:{duration:.5}})}),s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsxs("span",{className:"text-gray-500",children:[" ",L.currentAttempt,"/3"]}),L.currentStrategy&&s.jsx("span",{className:"text-primary font-medium",children:L.currentStrategy})]})]}),ne.errorReport&&s.jsx("div",{className:"mt-2",children:s.jsx(H6e,{errorReport:ne.errorReport})}),!ne.isAutoFixing&&!ne.errorReport&&s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("div",{className:`inline-block px-4 py-2.5 text-base leading-relaxed ${ne.role==="user"?"bg-gradient-to-br from-primary to-secondary text-white rounded-[12px] rounded-tr-[4px]":"bg-gray-100 text-gray-800 rounded-[12px] rounded-tl-[4px]"}`,style:{lineHeight:"1.6"},children:s.jsx(oz,{content:ne.content})}),ne.role==="assistant"&&ne.content&&!ne.isStreaming&&s.jsx(iz,{text:ne.content})]}),ne.errorReport&&s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("div",{className:"inline-block px-4 py-2.5 text-base bg-gray-100 text-gray-800 rounded-[12px] rounded-tl-[4px] mb-2",style:{lineHeight:"1.6"},children:s.jsx(oz,{content:ne.content})}),s.jsx(iz,{text:ne.content})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1.5 px-1",children:Oe(ne.timestamp)})]})]},Xe)),C&&!p&&s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col gap-3 py-2",children:[s.jsx("p",{className:"text-xs text-gray-500 text-center",children:""}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>de(!0),className:"gap-2 text-sm border-primary text-primary hover:bg-primary/10 justify-start rounded-xl",children:[s.jsx(Ct,{className:"w-4 h-4"}),s.jsxs("span",{className:"flex-1 text-left",children:[s.jsx("span",{className:"font-medium",children:"1 "}),s.jsx("span",{className:"text-gray-500 ml-1",children:" "})]})]}),s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>de(!1),className:"gap-2 text-sm border-gray-300 text-gray-700 hover:bg-gray-50 justify-start rounded-xl",children:[s.jsx(cr,{className:"w-4 h-4"}),s.jsxs("span",{className:"flex-1 text-left",children:[s.jsx("span",{className:"font-medium",children:"2 "}),s.jsx("span",{className:"text-gray-500 ml-1",children:" "})]})]})]})]}),A&&!p&&s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col gap-3 py-2",children:[s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-800",children:[s.jsx(cr,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium",children:""})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[" ",s.jsx("span",{className:"text-primary font-bold",children:A.points})," "]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",onClick:oe,className:"gap-1.5 text-sm flex-1 rounded-xl bg-gradient-to-r from-primary to-secondary hover:opacity-90",children:[s.jsx(Ct,{className:"w-4 h-4"})," ",A.points," "]}),s.jsxs(B,{variant:"outline",size:"sm",onClick:Ne,className:"gap-1.5 text-sm rounded-xl",children:[s.jsx(Oi,{className:"w-4 h-4"}),""]})]})]}),k!==null&&!p&&!C&&!A&&s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col items-center gap-2 py-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:K,className:"gap-1.5 text-sm border-primary text-primary hover:bg-primary/10 rounded-xl",children:[s.jsx(dZ,{className:"w-4 h-4"}),""]}),s.jsx(B,{variant:"outline",size:"sm",onClick:he,className:"gap-1.5 text-sm rounded-xl",children:""})]})]}),w&&!p&&s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[s.jsx("p",{className:"text-xs text-gray-500 text-center",children:""}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:az.map(ne=>s.jsxs("button",{onClick:()=>ut(ne.id),className:`flex-shrink-0 px-3 py-2 rounded-full text-sm font-medium transition-all duration-200 ${j===ne.id?"bg-gradient-to-r from-primary to-secondary text-white":"bg-white border border-gray-300 text-gray-700 hover:border-primary hover:text-primary"}`,children:[s.jsx("span",{className:"mr-1.5",children:ne.icon}),ne.label]},ne.id))}),s.jsx(He,{mode:"wait",children:j&&s.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-xl",children:(nt=az.find(ne=>ne.id===j))==null?void 0:nt.questions.map((ne,Xe)=>s.jsx(E.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:Xe*.05},onClick:()=>{h(wt=>[...wt,{role:"user",content:ne.q,timestamp:new Date},{role:"assistant",content:ne.a,timestamp:new Date,showFeedback:!0}]),S(!1),N(null)},disabled:p,className:"px-3 py-1.5 text-sm bg-white border border-gray-200 text-gray-700 hover:border-primary hover:text-primary rounded-lg transition-all duration-200 disabled:opacity-50",children:ne.q},Xe))})},j)})]}),p&&s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-2.5",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:s.jsx(Do,{className:"w-4 h-4 text-gray-600"})}),s.jsx("div",{className:"bg-gray-100 rounded-[12px] rounded-tl-[4px] px-4 py-3",children:s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),s.jsx("div",{ref:F})]}),s.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white flex-shrink-0",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom, 1rem))"},onPointerDown:ne=>ne.stopPropagation(),onTouchStart:ne=>ne.stopPropagation(),onMouseDown:ne=>ne.stopPropagation(),children:[s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsx(V6e,{onTranscript:ne=>{f(Xe=>Xe?`${Xe} ${ne}`:ne)},disabled:p}),s.jsx("input",{type:"text",inputMode:"text",enterKeyHint:"send",autoComplete:"off",autoCorrect:"off",value:m,onChange:ne=>f(ne.target.value),onKeyPress:ge,placeholder:"",disabled:p,className:"flex-1 min-w-0 px-4 py-3.5 text-base bg-gray-50 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary disabled:opacity-50 transition-all touch-auto",style:{fontSize:"16px"}}),s.jsx("button",{onClick:Q,disabled:!m.trim()||p,className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-secondary text-white flex items-center justify-center hover:opacity-90 active:scale-95 disabled:opacity-50 transition-all flex-shrink-0 shadow-lg shadow-primary/25 touch-manipulation","aria-label":"",children:p?s.jsx(Ge,{className:"w-5 h-5 animate-spin"}):s.jsx(Bs,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center hidden sm:block",children:"      Enter "})]})]})]})}),s.jsx(K6e,{isOpen:$,onClose:()=>M(!1)})]})},G6e=()=>s.jsx("div",{className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-50 safe-area-bottom",children:s.jsx(use,{})}),xe=x.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:G("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));xe.displayName="Input";const Y6e=Fb("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ae({className:e,variant:t,...n}){return s.jsx("div",{className:G(Y6e({variant:t}),e),...n})}var X6e=x.createContext(void 0);function Rm(e){const t=x.useContext(X6e);return e||t||"ltr"}var n2="rovingFocusGroup.onEntryFocus",J6e={bubbles:!1,cancelable:!0},Jb="RovingFocusGroup",[vO,hse,Q6e]=Db(Jb),[Z6e,mx]=Ar(Jb,[Q6e]),[eFe,tFe]=Z6e(Jb),mse=x.forwardRef((e,t)=>s.jsx(vO.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(vO.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(nFe,{...e,ref:t})})}));mse.displayName=Jb;var nFe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=x.useRef(null),f=ft(t,m),p=Rm(a),[g,y]=ua({prop:o,defaultProp:l??null,onChange:c,caller:Jb}),[v,b]=x.useState(!1),w=ar(d),S=hse(n),j=x.useRef(!1),[N,k]=x.useState(0);return x.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(n2,w),()=>_.removeEventListener(n2,w)},[w]),s.jsx(eFe,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:g,onItemFocus:x.useCallback(_=>y(_),[y]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(_=>_+1),[]),onFocusableItemRemove:x.useCallback(()=>k(_=>_-1),[]),children:s.jsx(De.div,{tabIndex:v||N===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:ve(e.onMouseDown,()=>{j.current=!0}),onFocus:ve(e.onFocus,_=>{const C=!j.current;if(_.target===_.currentTarget&&C&&!v){const T=new CustomEvent(n2,J6e);if(_.currentTarget.dispatchEvent(T),!T.defaultPrevented){const A=S().filter(M=>M.focusable),P=A.find(M=>M.active),R=A.find(M=>M.id===g),$=[P,R,...A].filter(Boolean).map(M=>M.ref.current);gse($,u)}}j.current=!1}),onBlur:ve(e.onBlur,()=>b(!1))})})}),fse="RovingFocusGroupItem",pse=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=za(),d=a||c,u=tFe(fse,n),h=u.currentTabStopId===d,m=hse(n),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:g}=u;return x.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),s.jsx(vO.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:s.jsx(De.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ve(e.onMouseDown,y=>{r?u.onItemFocus(d):y.preventDefault()}),onFocus:ve(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ve(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=iFe(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=m().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const S=w.indexOf(y.currentTarget);w=u.loop?aFe(w,S+1):w.slice(S+1)}setTimeout(()=>gse(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});pse.displayName=fse;var rFe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sFe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function iFe(e,t,n){const r=sFe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rFe[r]}function gse(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function aFe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var aD=mse,oD=pse,F_="Tabs",[oFe,Qkt]=Ar(F_,[mx]),xse=mx(),[lFe,lD]=oFe(F_),yse=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Rm(l),[h,m]=ua({prop:r,onChange:i,defaultProp:a??"",caller:F_});return s.jsx(lFe,{scope:n,baseId:za(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(De.div,{dir:u,"data-orientation":o,...d,ref:t})})});yse.displayName=F_;var vse="TabsList",bse=x.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=lD(vse,n),o=xse(n);return s.jsx(aD,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(De.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});bse.displayName=vse;var wse="TabsTrigger",jse=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=lD(wse,n),l=xse(n),c=kse(o.baseId,r),d=_se(o.baseId,r),u=r===o.value;return s.jsx(oD,{asChild:!0,...l,focusable:!i,active:u,children:s.jsx(De.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:ve(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ve(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ve(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});jse.displayName=wse;var Sse="TabsContent",Nse=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,l=lD(Sse,n),c=kse(l.baseId,r),d=_se(l.baseId,r),u=r===l.value,h=x.useRef(u);return x.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(ms,{present:i||u,children:({present:m})=>s.jsx(De.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});Nse.displayName=Sse;function kse(e,t){return`${e}-trigger-${t}`}function _se(e,t){return`${e}-content-${t}`}var cFe=yse,Cse=bse,Ese=jse,Tse=Nse;const va=cFe,$i=x.forwardRef(({className:e,...t},n)=>s.jsx(Cse,{ref:n,className:G("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));$i.displayName=Cse.displayName;const Dt=x.forwardRef(({className:e,...t},n)=>s.jsx(Ese,{ref:n,className:G("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Dt.displayName=Ese.displayName;const Ut=x.forwardRef(({className:e,...t},n)=>s.jsx(Tse,{ref:n,className:G("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ut.displayName=Tse.displayName;function bO(e,[t,n]){return Math.min(n,Math.max(t,e))}function dFe(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var cD="ScrollArea",[Ase,Zkt]=Ar(cD),[uFe,Ja]=Ase(cD),Pse=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=x.useState(null),[d,u]=x.useState(null),[h,m]=x.useState(null),[f,p]=x.useState(null),[g,y]=x.useState(null),[v,b]=x.useState(0),[w,S]=x.useState(0),[j,N]=x.useState(!1),[k,_]=x.useState(!1),C=ft(t,A=>c(A)),T=Rm(i);return s.jsx(uFe,{scope:n,type:r,dir:T,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:j,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:_,onCornerWidthChange:b,onCornerHeightChange:S,children:s.jsx(De.div,{dir:T,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Pse.displayName=cD;var Ise="ScrollAreaViewport",Ose=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,o=Ja(Ise,n),l=x.useRef(null),c=ft(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(De.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Ose.displayName=Ise;var Bl="ScrollAreaScrollbar",dD=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ja(Bl,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return x.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(hFe,{...r,ref:t,forceMount:n}):i.type==="scroll"?s.jsx(mFe,{...r,ref:t,forceMount:n}):i.type==="auto"?s.jsx(Rse,{...r,ref:t,forceMount:n}):i.type==="always"?s.jsx(uD,{...r,ref:t}):null});dD.displayName=Bl;var hFe=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ja(Bl,e.__scopeScrollArea),[a,o]=x.useState(!1);return x.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(ms,{present:n||a,children:s.jsx(Rse,{"data-state":a?"visible":"hidden",...r,ref:t})})}),mFe=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ja(Bl,e.__scopeScrollArea),a=e.orientation==="horizontal",o=U_(()=>c("SCROLL_END"),100),[l,c]=dFe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),x.useEffect(()=>{const d=i.viewport,u=a?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const f=d[u];h!==f&&(c("SCROLL"),o()),h=f};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,a,c,o]),s.jsx(ms,{present:n||l!=="hidden",children:s.jsx(uD,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ve(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ve(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Rse=x.forwardRef((e,t)=>{const n=Ja(Bl,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=x.useState(!1),l=e.orientation==="horizontal",c=U_(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return cg(n.viewport,c),cg(n.content,c),s.jsx(ms,{present:r||a,children:s.jsx(uD,{"data-state":a?"visible":"hidden",...i,ref:t})})}),uD=x.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Ja(Bl,e.__scopeScrollArea),a=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Fse(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,f){return vFe(m,o.current,l,f)}return n==="horizontal"?s.jsx(fFe,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,f=lz(m,l,i.dir);a.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=h(m,i.dir))}}):n==="vertical"?s.jsx(pFe,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,f=lz(m,l);a.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=h(m))}}):null}),fFe=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Ja(Bl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=ft(t,c,a.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Dse,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":B_(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),Use(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:eN(o.paddingLeft),paddingEnd:eN(o.paddingRight)}})}})}),pFe=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Ja(Bl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=ft(t,c,a.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Dse,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":B_(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),Use(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:eN(o.paddingTop),paddingEnd:eN(o.paddingBottom)}})}})}),[gFe,Mse]=Ase(Bl),Dse=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,f=Ja(Bl,n),[p,g]=x.useState(null),y=ft(t,C=>g(C)),v=x.useRef(null),b=x.useRef(""),w=f.viewport,S=r.content-r.viewport,j=ar(u),N=ar(c),k=U_(h,10);function _(C){if(v.current){const T=C.clientX-v.current.left,A=C.clientY-v.current.top;d({x:T,y:A})}}return x.useEffect(()=>{const C=T=>{const A=T.target;(p==null?void 0:p.contains(A))&&j(T,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,p,S,j]),x.useEffect(N,[r,N]),cg(p,k),cg(f.content,k),s.jsx(gFe,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:ar(a),onThumbPointerUp:ar(o),onThumbPositionChange:N,onThumbPointerDown:ar(l),children:s.jsx(De.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:ve(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),v.current=p.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),_(C))}),onPointerMove:ve(e.onPointerMove,_),onPointerUp:ve(e.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),v.current=null})})})}),ZS="ScrollAreaThumb",Lse=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Mse(ZS,e.__scopeScrollArea);return s.jsx(ms,{present:n||i.hasThumb,children:s.jsx(xFe,{ref:t,...r})})}),xFe=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=Ja(ZS,n),o=Mse(ZS,n),{onThumbPositionChange:l}=o,c=ft(t,h=>o.onThumbChange(h)),d=x.useRef(void 0),u=U_(()=>{d.current&&(d.current(),d.current=void 0)},100);return x.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(u(),!d.current){const f=bFe(h,l);d.current=f,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,u,l]),s.jsx(De.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ve(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),p=h.clientX-f.left,g=h.clientY-f.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:ve(e.onPointerUp,o.onThumbPointerUp)})});Lse.displayName=ZS;var hD="ScrollAreaCorner",$se=x.forwardRef((e,t)=>{const n=Ja(hD,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(yFe,{...e,ref:t}):null});$se.displayName=hD;var yFe=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Ja(hD,n),[a,o]=x.useState(0),[l,c]=x.useState(0),d=!!(a&&l);return cg(i.scrollbarX,()=>{var h;const u=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(u),c(u)}),cg(i.scrollbarY,()=>{var h;const u=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),d?s.jsx(De.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function eN(e){return e?parseInt(e,10):0}function Fse(e,t){const n=e/t;return isNaN(n)?0:n}function B_(e){const t=Fse(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function vFe(e,t,n,r="ltr"){const i=B_(n),a=i/2,o=t||a,l=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return Bse([c,d],h)(e)}function lz(e,t,n="ltr"){const r=B_(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],d=bO(e,c);return Bse([0,o],[0,l])(d)}function Bse(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Use(e,t){return e>0&&e<t}var bFe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function U_(e,t){const n=ar(e),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function cg(e,t){const n=ar(t);Nr(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var zse=Pse,wFe=Ose,jFe=$se;const xl=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(zse,{ref:r,className:G("relative overflow-hidden",e),...n,children:[s.jsx(wFe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Vse,{}),s.jsx(jFe,{})]}));xl.displayName=zse.displayName;const Vse=x.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(dD,{ref:r,orientation:t,className:G("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(Lse,{className:"relative flex-1 rounded-full bg-border"})}));Vse.displayName=dD.displayName;function qse(){const{user:e}=Jt(),[t,n]=x.useState([]),[r,i]=x.useState(!1),[a,o]=x.useState([]),[l,c]=x.useState({}),d=x.useRef(null),u=x.useCallback(async y=>{if(!e)return q.error(""),null;if(!y.trim())return null;d.current&&d.current.abort(),d.current=new AbortController;const v={id:`user_${Date.now()}`,role:"user",content:y,timestamp:new Date};n(b=>[...b,v]),i(!0);try{const{data:b,error:w}=await ee.functions.invoke("ai-secretary",{body:{action:"chat",message:y,context:t.slice(-10).map(j=>({role:j.role,content:j.content}))}});if(w)throw w;const S={id:`assistant_${Date.now()}`,role:"assistant",content:b.response,timestamp:new Date};return n(j=>[...j,S]),b.response}catch(b){return b.name==="AbortError"||(console.error("[AI Secretary] Error:",b),q.error(b.message||"")),null}finally{i(!1)}},[e,t]),h={create:x.useCallback(async(y,v)=>{var b;if(!e)return null;try{const{data:w,error:S}=await ee.functions.invoke("ai-secretary",{body:{action:"task",taskData:{operation:"create",title:y,description:v==null?void 0:v.description,dueDate:(b=v==null?void 0:v.dueDate)==null?void 0:b.toISOString(),project:(v==null?void 0:v.project)||"general",isImportant:(v==null?void 0:v.isImportant)||!1}}});if(S)throw S;return o(j=>[w.task,...j]),q.success(""),w.task}catch(w){return q.error(w.message||""),null}},[e]),complete:x.useCallback(async y=>{if(!e)return!1;try{const{error:v}=await ee.functions.invoke("ai-secretary",{body:{action:"task",taskData:{operation:"complete",taskId:y}}});if(v)throw v;return o(b=>b.map(w=>w.id===y?{...w,status:"completed"}:w)),q.success(""),!0}catch(v){return q.error(v.message||""),!1}},[e]),delete:x.useCallback(async y=>{if(!e)return!1;try{const{error:v}=await ee.functions.invoke("ai-secretary",{body:{action:"task",taskData:{operation:"delete",taskId:y}}});if(v)throw v;return o(b=>b.filter(w=>w.id!==y)),q.success(""),!0}catch(v){return q.error(v.message||""),!1}},[e]),list:x.useCallback(async()=>{if(!e)return[];try{const{data:y,error:v}=await ee.functions.invoke("ai-secretary",{body:{action:"task",taskData:{operation:"list"}}});if(v)throw v;return o(y.tasks||[]),y.tasks}catch(y){return console.error("[AI Secretary] List tasks error:",y),[]}},[e])},m=x.useCallback(async(y,v)=>{if(!e)return q.error(""),null;i(!0);try{const{data:b,error:w}=await ee.functions.invoke("ai-secretary",{body:{action:"quick_command",command:y,message:v}});if(w)throw w;return y===""?o(b.tasks||[]):y===""&&c(b.projects||{}),b}catch(b){return q.error(b.message||""),null}finally{i(!1)}},[e]),f=x.useCallback(async y=>{if(!e)return q.error(""),null;try{const{data:v,error:b}=await ee.functions.invoke("ai-secretary",{body:{action:"voice_command",message:y}});if(b)throw b;return v.success?q.success(""):q.error(v.error||""),v}catch(v){return q.error(v.message||""),null}},[e]),p={save:x.useCallback(async(y,v,b)=>{if(!e)return!1;try{return await ee.functions.invoke("ai-secretary",{body:{action:"memory",memoryData:{operation:"save",category:y,key:v,value:b}}}),!0}catch(w){return console.error("[Memory] Save error:",w),!1}},[e]),retrieve:x.useCallback(async y=>{if(!e)return[];try{const{data:v}=await ee.functions.invoke("ai-secretary",{body:{action:"memory",memoryData:{operation:"retrieve",category:y}}});return(v==null?void 0:v.memories)||[]}catch(v){return console.error("[Memory] Retrieve error:",v),[]}},[e])},g=x.useCallback(()=>{n([])},[]);return x.useEffect(()=>{e&&h.list()},[e]),{messages:t,isLoading:r,sendMessage:u,clearMessages:g,tasks:a,taskOperations:h,projectProgress:l,executeQuickCommand:m,sendVoiceCommand:f,memoryOperations:p}}function z_(){const{user:e}=Jt(),[t,n]=x.useState(""),[r,i]=x.useState(!1),[a,o]=x.useState([]),[l,c]=x.useState(null),d=x.useCallback(()=>{const S=`rc-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`;return n(S),S},[]),u=x.useCallback(async(S,j,N=5)=>{if(!t)return q.error(""),null;try{const{data:k,error:_}=await ee.from("remote_commands").insert([{session_id:t,user_id:e==null?void 0:e.id,command_type:S,payload:j,priority:N,boss_isolation_id:(e==null?void 0:e.id)||"system"}]).select().single();if(_)throw _;const C=k;return c(C),C}catch(k){return console.error(":",k),q.error(""),null}},[t,e]),h=x.useCallback((S,j)=>u("mouse_move",{x:S,y:j}),[u]),m=x.useCallback(S=>u("mouse_click",S||{}),[u]),f=x.useCallback(S=>u("keyboard_type",{text:S}),[u]),p=x.useCallback(S=>u("keyboard_hotkey",{keys:S}),[u]),g=x.useCallback((S,j,N)=>u("voice_command",{transcript:S,intent:j,parameters:N}),[u]),y=x.useCallback((S,j,N)=>u("edit_element",{selector:S,action:j,value:N}),[u]),v=x.useCallback(S=>{if(!t)return null;const j=ee.channel(`remote_commands:${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"remote_commands",filter:`session_id=eq.${t}`},N=>{const k=N.new;S(k),o(_=>[..._,k])}).subscribe(N=>{i(N==="SUBSCRIBED")});return()=>{ee.removeChannel(j)}},[t]),b=x.useCallback(async(S,j,N,k)=>{try{const{error:_}=await ee.from("remote_commands").update({status:j,result:N,error_message:k,executed_at:new Date().toISOString()}).eq("id",S);if(_)throw _;return o(C=>C.filter(T=>T.id!==S)),!0}catch(_){return console.error(":",_),!1}},[]),w=x.useCallback(()=>t?{url:`${window.location.origin}/remote-control?session=${t}`,sessionId:t}:null,[t]);return x.useEffect(()=>{if(!t)return;const S=setInterval(()=>{o(j=>j.filter(N=>N.status==="pending"||N.status==="executing"))},6e4);return()=>clearInterval(S)},[t]),{sessionId:t,isConnected:r,pendingCommands:a,lastCommand:l,generateSessionId:d,getQRCodeData:w,subscribeToCommands:v,sendCommand:u,moveMouse:h,clickMouse:m,typeText:f,pressHotkey:p,sendVoiceCommand:g,editElement:y,updateCommandResult:b}}const SFe=async e=>{const{command_type:t,payload:n}=e;try{switch(t){case"open_tab":{const{url:r,background:i}=n;let a=r;if(!r.startsWith("http://")&&!r.startsWith("https://")&&(r.includes(".")&&!r.includes(" ")?a=`https://${r}`:a=`https://www.google.com/search?q=${encodeURIComponent(r)}`),i){if(!window.open(a,"_blank","noopener"))return{success:!1,error:""}}else window.open(a,"_blank");return{success:!0,result:{url:a,opened:!0}}}case"google_search":{const{query:r}=n,i=`https://www.google.com/search?q=${encodeURIComponent(r)}`;return window.open(i,"_blank"),{success:!0,result:{query:r,url:i}}}case"copy_text":{const{text:r}=n;return await navigator.clipboard.writeText(r),q.success(` : ${r.slice(0,50)}${r.length>50?"...":""}`),{success:!0,result:{copied:r.length,preview:r.slice(0,50)}}}case"notify":{const{title:r,body:i,icon:a}=n;return"Notification"in window?Notification.permission==="denied"?{success:!1,error:""}:Notification.permission!=="granted"&&await Notification.requestPermission()!=="granted"?{success:!1,error:""}:(new Notification(r,{body:i,icon:a||"/favicon.ico"}),{success:!0,result:{title:r,body:i}}):{success:!1,error:""}}case"speak":{const{text:r,lang:i="zh-TW",rate:a=1}=n;if(!("speechSynthesis"in window))return{success:!1,error:""};speechSynthesis.cancel();const o=new SpeechSynthesisUtterance(r);return o.lang=i,o.rate=a,new Promise(l=>{o.onend=()=>l({success:!0,result:{spoken:r.length}}),o.onerror=c=>l({success:!1,error:`: ${c.error}`}),speechSynthesis.speak(o)})}case"alert":{const{message:r,type:i="info"}=n;switch(i){case"success":q.success(r);break;case"warning":q.warning(r);break;case"error":q.error(r);break;default:q.info(r)}return{success:!0,result:{type:i,message:r}}}case"scroll_page":{const{direction:r,amount:i=500}=n;switch(r){case"up":window.scrollBy({top:-i,behavior:"smooth"});break;case"down":window.scrollBy({top:i,behavior:"smooth"});break;case"top":window.scrollTo({top:0,behavior:"smooth"});break;case"bottom":window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"});break}return{success:!0,result:{direction:r,scrolled:i}}}case"focus_tab":return window.focus(),{success:!0,result:{focused:!0}};case"screenshot":return q.info("  (Windows: Win+Shift+S, Mac: Cmd+Shift+4)"),{success:!0,result:{hint:"screenshot_hint_shown"}};case"refresh":return setTimeout(()=>window.location.reload(),500),{success:!0,result:{refreshing:!0}};case"go_back":return window.history.back(),{success:!0,result:{navigated:"back"}};case"go_forward":return window.history.forward(),{success:!0,result:{navigated:"forward"}};default:return{success:!1,error:`: ${t}`}}}catch(r){return console.error(":",r),{success:!1,error:String(r)}}},NFe=e=>{const t=e.toLowerCase().trim(),n=[/\s*(.+)/,/\s*(.+)/,/google\s*(.+)/i,/\s*(.+)/,/\s*(.+)/,/search\s+(.+)/i];for(const l of n){const c=t.match(l);if(c)return{type:"google_search",payload:{query:c[1].trim()}}}const r=[/\s*(.+)/,/\s*(.+)/,/\s*(.+)/,/\s*(.+)/,/open\s+(.+)/i,/go\s+to\s+(.+)/i];for(const l of r){const c=t.match(l);if(c){const d=c[1].trim();return{type:"open_tab",payload:{url:{google:"https://www.google.com",:"https://www.google.com",youtube:"https://www.youtube.com",facebook:"https://www.facebook.com",fb:"https://www.facebook.com",github:"https://github.com",lovable:"https://lovable.dev",chatgpt:"https://chat.openai.com",claude:"https://claude.ai",twitter:"https://twitter.com",x:"https://x.com",linkedin:"https://linkedin.com",:"https://www.baidu.com",gmail:"https://mail.google.com","google drive":"https://drive.google.com",notion:"https://notion.so",figma:"https://figma.com",instagram:"https://instagram.com",ig:"https://instagram.com",netflix:"https://netflix.com",spotify:"https://spotify.com",amazon:"https://amazon.com",reddit:"https://reddit.com",wikipedia:"https://wikipedia.org",:"https://zh.wikipedia.org",bilibili:"https://bilibili.com",b:"https://bilibili.com",seobaike:"https://aiforseo.vip"}[d]||(d.includes(".")?d:`https://www.google.com/search?q=${encodeURIComponent(d)}`)}}}}const i=[/[:]\s*(.+)/,/copy[:]\s*(.+)/i,/\s*(.+)/,/\s*"(.+)"/,/\s*'(.+)'/];for(const l of i){const c=t.match(l);if(c)return{type:"copy_text",payload:{text:c[1].trim()}}}const a=[/[:]\s*(.+)/,/[:]\s*(.+)/,/notify[:]\s*(.+)/i,/remind[:]\s*(.+)/i,/\s*(.+)/];for(const l of a){const c=t.match(l);if(c)return{type:"notify",payload:{title:" ",body:c[1].trim()}}}const o=[/[:]\s*(.+)/,/[:]\s*(.+)/,/[:]\s*(.+)/,/speak[:]\s*(.+)/i,/say[:]\s*(.+)/i,/\s*(.+)/];for(const l of o){const c=t.match(l);if(c)return{type:"speak",payload:{text:c[1].trim()}}}return/||scroll\s*up|/i.test(t)?{type:"scroll_page",payload:{direction:"up"}}:/||scroll\s*down|/i.test(t)?{type:"scroll_page",payload:{direction:"down"}}:/||scroll\s*top|/i.test(t)?{type:"scroll_page",payload:{direction:"top"}}:/||scroll\s*bottom|/i.test(t)?{type:"scroll_page",payload:{direction:"bottom"}}:/||refresh|reload/i.test(t)?{type:"refresh",payload:{}}:/||go\s*back|back/i.test(t)?{type:"go_back",payload:{}}:/||go\s*forward|forward/i.test(t)?{type:"go_forward",payload:{}}:/|screenshot/i.test(t)?{type:"screenshot",payload:{}}:null};function mD(){const{user:e}=Jt(),[t,n]=x.useState(""),[r,i]=x.useState(!1),[a,o]=x.useState(!1),[l,c]=x.useState([]),[d,u]=x.useState(null),[h,m]=x.useState({}),f=x.useRef(null),p=x.useCallback(()=>{const M=`web-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`;return n(M),M},[]),g=x.useCallback(M=>{n(M),o(!1),i(!0),q.success(" ")},[]),y=x.useCallback(M=>{const F=ee.channel(`web_results:${M}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"remote_commands",filter:`session_id=eq.${M}`},O=>{const L=O.new;(L.status==="completed"||L.status==="failed")&&(m(I=>({...I,[L.id]:{success:L.status==="completed",result:L.result,error:L.error_message,executedAt:L.executed_at||new Date().toISOString()}})),L.status==="completed"?q.success(` : ${L.command_type}`):q.error(` : ${L.error_message}`))}).subscribe();return()=>{ee.removeChannel(F)}},[]),v=x.useCallback(async(M,F)=>{if(!t)return q.error(""),null;try{const{data:O,error:L}=await ee.from("remote_commands").insert([{session_id:t,user_id:e==null?void 0:e.id,command_type:M,payload:F,status:"pending",priority:5,boss_isolation_id:(e==null?void 0:e.id)||"system"}]).select().single();if(L)throw L;const I=O;return c(z=>[...z.slice(-29),I]),I}catch(O){return console.error(":",O),q.error(""),null}},[t,e]),b=x.useCallback((M,F=!1)=>v("open_tab",{url:M,background:F}),[v]),w=x.useCallback(M=>v("google_search",{query:M}),[v]),S=x.useCallback(M=>v("copy_text",{text:M}),[v]),j=x.useCallback((M,F)=>v("notify",{title:M,body:F}),[v]),N=x.useCallback((M,F="zh-TW")=>v("speak",{text:M,lang:F}),[v]),k=x.useCallback((M,F="info")=>v("alert",{message:M,type:F}),[v]),_=x.useCallback((M,F)=>v("scroll_page",{direction:M,amount:F}),[v]),C=x.useCallback(()=>v("refresh",{}),[v]),T=x.useCallback(()=>v("go_back",{}),[v]),A=x.useCallback(()=>v("go_forward",{}),[v]),P=x.useCallback(async M=>{const F=NFe(M);return F?v(F.type,F.payload):(q.info(`: ${M}`),null)},[v]),R=x.useCallback(()=>{if(!t){q.error("");return}o(!0);const M=ee.channel(`web_remote:${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"remote_commands",filter:`session_id=eq.${t}`},async F=>{const O=F.new;if(!["open_tab","google_search","copy_text","notify","speak","alert","scroll_page","focus_tab","screenshot","refresh","go_back","go_forward"].includes(O.command_type))return;console.log(" :",O),q.info(` : ${O.command_type}`);const I=await SFe(O);await ee.from("remote_commands").update({status:I.success?"completed":"failed",result:I.result,error_message:I.error,executed_at:new Date().toISOString()}).eq("id",O.id),u({...O,status:I.success?"completed":"failed",result:I.result,error_message:I.error}),c(z=>[...z.slice(-29),O]),I.success?console.log(" :",O.command_type,I.result):console.error(" :",I.error)}).subscribe(F=>{console.log("Subscription status:",F),i(F==="SUBSCRIBED"),F==="SUBSCRIBED"&&q.success(" ")});f.current=()=>{ee.removeChannel(M)}},[t]),D=x.useCallback(()=>{f.current&&(f.current(),f.current=null),i(!1),o(!1),q.info("")},[]),$=x.useCallback(()=>t?{url:`${window.location.origin}/assistant?session=${t}`,sessionId:t}:null,[t]);return x.useEffect(()=>{const M=new URLSearchParams(window.location.search),F=M.get("session")||M.get("web");if(F&&!t)return g(F),y(F)},[g,t,y]),x.useEffect(()=>()=>{f.current&&f.current()},[]),{sessionId:t,isConnected:r,isDesktopMode:a,commandHistory:l,lastExecutedCommand:d,commandResults:h,generateSessionId:p,joinSession:g,startListening:R,stopListening:D,getQRCodeData:$,sendCommand:v,openTab:b,googleSearch:w,copyText:S,showNotify:j,speak:N,showAlert:k,scrollPage:_,refreshPage:C,goBack:T,goForward:A,sendVoiceCommand:P}}function nd({icon:e,label:t,onClick:n,disabled:r,variant:i="default"}){return s.jsxs(B,{variant:i==="secondary"?"secondary":"outline",size:"sm",className:G("flex-col h-auto py-3 px-2 gap-1.5 transition-all",!r&&"hover:scale-105 active:scale-95"),onClick:n,disabled:r,children:[e,s.jsx("span",{className:"text-xs font-medium",children:t})]})}function cz({command:e,result:t}){const[n,r]=x.useState(!1),i=t!=null&&t.success?s.jsx(St,{className:"w-4 h-4 text-primary"}):t!=null&&t.error?s.jsx(Oi,{className:"w-4 h-4 text-destructive"}):s.jsx(Ge,{className:"w-4 h-4 animate-spin text-muted-foreground"}),a={open_tab:"",google_search:"Google ",copy_text:"",notify:"",speak:"",scroll_page:"",refresh:"",go_back:"",go_forward:"",alert:"",execute_js:""};return s.jsxs(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-muted/30 rounded-lg p-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>r(!n),children:[i,s.jsx(ae,{variant:"outline",className:"h-5 text-xs",children:a[e.command_type]||e.command_type}),s.jsxs("span",{className:"text-muted-foreground text-xs truncate flex-1",children:[JSON.stringify(e.payload).slice(1,40),"..."]}),n?s.jsx(l_,{className:"w-4 h-4"}):s.jsx(qr,{className:"w-4 h-4"})]}),s.jsx(He,{children:n&&s.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsxs("div",{className:"mt-2 pt-2 border-t space-y-1 text-xs text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",JSON.stringify(e.payload)]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",t.success?" ":" "]}),t.result&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",JSON.stringify(t.result)]}),t.error&&s.jsxs("p",{className:"text-destructive",children:[s.jsx("strong",{children:":"})," ",t.error]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",new Date(t.executedAt).toLocaleTimeString()]})]})]})})})]})}function Wse(){var Ne;const{sessionId:e,isConnected:t,isDesktopMode:n,commandHistory:r,commandResults:i,generateSessionId:a,startListening:o,stopListening:l,getQRCodeData:c,openTab:d,googleSearch:u,copyText:h,showNotify:m,speak:f,scrollPage:p,refreshPage:g,goBack:y,goForward:v,sendVoiceCommand:b}=mD(),[w,S]=x.useState("desktop"),[j,N]=x.useState(""),[k,_]=x.useState(""),[C,T]=x.useState(""),[A,P]=x.useState(""),[R,D]=x.useState(""),{isListening:$,isConnecting:M,startListening:F,stopListening:O,partialText:L,clearTranscript:I}=$_({onTranscript:async K=>{await b(K),I()}});x.useEffect(()=>{const K=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);S(K?"mobile":"desktop")},[]),x.useEffect(()=>{e&&!n&&S("mobile")},[e,n]);const z=async()=>{j.trim()&&(await u(j),N(""))},H=async()=>{k.trim()&&(await d(k),_(""))},U=async()=>{C.trim()&&(await h(C),T(""))},X=async()=>{A.trim()&&(await m(" ",A),P(""))},le=async()=>{R.trim()&&(await f(R),D(""))},de=()=>{$?O():F()},oe=async()=>{"Notification"in window&&(await Notification.requestPermission()==="granted"?(q.success(" "),new Notification("",{body:""})):q.error(""))};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx(va,{value:w,onValueChange:K=>S(K),className:"mb-4",children:s.jsxs($i,{className:"grid w-full grid-cols-2",children:[s.jsxs(Dt,{value:"desktop",className:"gap-2 text-sm",children:[s.jsx(Dl,{className:"w-4 h-4"}),""]}),s.jsxs(Dt,{value:"mobile",className:"gap-2 text-sm",children:[s.jsx(ii,{className:"w-4 h-4"}),""]})]})}),s.jsx(E.div,{layout:!0,className:G("flex items-center justify-center gap-2 px-4 py-3 rounded-xl mb-4 transition-colors border",t?"bg-primary/10 text-primary border-primary/20":"bg-muted text-muted-foreground border-border"),children:t?s.jsxs(s.Fragment,{children:[s.jsx(nx,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:n?" ":" "})]}):s.jsxs(s.Fragment,{children:[s.jsx(f_,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:w==="desktop"?"...":"..."})]})}),w==="desktop"&&s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:e?s.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-lg mb-4 inline-block",children:s.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(((Ne=c())==null?void 0:Ne.url)||"")}`,alt:"QR Code",className:"w-44 h-44"})}),s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-2",children:" "}),s.jsx("p",{className:"text-xs font-mono text-muted-foreground/60 mb-4 px-3 py-1 bg-muted rounded-full",children:e}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[t?s.jsxs(B,{variant:"destructive",onClick:l,size:"lg",className:"gap-2 px-6",children:[s.jsx(iCe,{className:"w-5 h-5"}),""]}):s.jsxs(B,{onClick:o,size:"lg",className:"gap-2 px-6",children:[s.jsx(SM,{className:"w-5 h-5"}),""]}),s.jsx(B,{variant:"outline",size:"lg",onClick:a,children:s.jsx(rn,{className:"w-5 h-5"})})]})]}):s.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx(yu,{className:"w-20 h-20 mx-auto mb-6 text-muted-foreground/30"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:""}),s.jsxs(B,{onClick:a,size:"lg",className:"gap-2 px-8",children:[s.jsx(yu,{className:"w-5 h-5"}),""]})]})}),r.length>0&&s.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-xl border",children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Lo,{className:"w-4 h-4"}),""]}),s.jsx(xl,{className:"h-32",children:s.jsx("div",{className:"space-y-2",children:r.slice().reverse().map(K=>s.jsx(cz,{command:K,result:i[K.id]},K.id))})})]}),s.jsxs("div",{className:"mt-4 p-4 border rounded-xl bg-muted/20",children:[s.jsx("p",{className:"text-sm font-medium mb-3",children:" "}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:s.jsxs(B,{variant:"secondary",size:"sm",className:"h-8",onClick:oe,children:[s.jsx(Da,{className:"w-4 h-4 mr-1.5"}),""]})})]})]}),w==="mobile"&&s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx(He,{mode:"wait",children:s.jsx(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:s.jsx(B,{size:"lg",variant:$?"destructive":"default",className:G("w-20 h-20 rounded-full shadow-lg",$&&"animate-pulse ring-4 ring-destructive/30"),onClick:de,disabled:M||!e,children:$?s.jsx(Ub,{className:"w-8 h-8"}):s.jsx(ma,{className:"w-8 h-8"})})},$?"listening":"idle")}),L&&s.jsxs(E.p,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"mt-3 text-sm text-primary font-medium",children:[" ",L]}),s.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:e?$?"... (:  YouTube)":"":" QR Code"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[s.jsx(nd,{icon:s.jsx(fn,{className:"w-5 h-5"}),label:"",onClick:()=>u(""),disabled:!e}),s.jsx(nd,{icon:s.jsx(Br,{className:"w-5 h-5"}),label:"YouTube",onClick:()=>d("https://youtube.com"),disabled:!e}),s.jsx(nd,{icon:s.jsx(Da,{className:"w-5 h-5"}),label:"",onClick:()=>m(" ",""),disabled:!e}),s.jsx(nd,{icon:s.jsx(Hh,{className:"w-5 h-5"}),label:"",onClick:()=>f(""),disabled:!e})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[s.jsx(nd,{icon:s.jsx(__e,{className:"w-5 h-5"}),label:"",onClick:()=>p("up"),disabled:!e,variant:"secondary"}),s.jsx(nd,{icon:s.jsx(k_e,{className:"w-5 h-5"}),label:"",onClick:()=>p("down"),disabled:!e,variant:"secondary"}),s.jsx(nd,{icon:s.jsx(ks,{className:"w-5 h-5"}),label:"",onClick:()=>y(),disabled:!e,variant:"secondary"}),s.jsx(nd,{icon:s.jsx(rn,{className:"w-5 h-5"}),label:"",onClick:()=>g(),disabled:!e,variant:"secondary"})]}),s.jsx(xl,{className:"flex-1",children:s.jsxs("div",{className:"space-y-3 pr-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(xe,{value:j,onChange:K=>N(K.target.value),placeholder:"Google ...",className:"pl-9",onKeyDown:K=>K.key==="Enter"&&z()})]}),s.jsx(B,{onClick:z,disabled:!j.trim()||!e,children:s.jsx(fn,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(xe,{value:k,onChange:K=>_(K.target.value),placeholder:"...",className:"pl-9",onKeyDown:K=>K.key==="Enter"&&H()})]}),s.jsx(B,{onClick:H,disabled:!k.trim()||!e,children:s.jsx(Br,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(An,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(xe,{value:C,onChange:K=>T(K.target.value),placeholder:"...",className:"pl-9",onKeyDown:K=>K.key==="Enter"&&U()})]}),s.jsx(B,{onClick:U,disabled:!C.trim()||!e,children:s.jsx(An,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Da,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(xe,{value:A,onChange:K=>P(K.target.value),placeholder:"...",className:"pl-9",onKeyDown:K=>K.key==="Enter"&&X()})]}),s.jsx(B,{onClick:X,disabled:!A.trim()||!e,children:s.jsx(Da,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Hh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(xe,{value:R,onChange:K=>D(K.target.value),placeholder:"...",className:"pl-9",onKeyDown:K=>K.key==="Enter"&&le()})]}),s.jsx(B,{onClick:le,disabled:!R.trim()||!e,children:s.jsx(Hh,{className:"w-4 h-4"})})]})]})}),s.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-xl border",children:[s.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[s.jsx(ma,{className:"w-4 h-4"}),""]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-muted-foreground",children:[s.jsx("p",{children:"  YouTube"}),s.jsx("p",{children:"  "}),s.jsx("p",{children:" Hello"}),s.jsx("p",{children:" "}),s.jsx("p",{children:" "}),s.jsx("p",{children:" "}),s.jsx("p",{children:" "}),s.jsx("p",{children:" "})]})]}),r.length>0&&s.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-xl border",children:[s.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Pn,{className:"w-4 h-4"}),""]}),s.jsx(xl,{className:"h-24",children:s.jsx("div",{className:"space-y-2",children:r.slice().reverse().slice(0,5).map(K=>s.jsx(cz,{command:K,result:i[K.id]},K.id))})})]})]})]})}var r2=0;function fD(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dz()),document.body.insertAdjacentElement("beforeend",e[1]??dz()),r2++,()=>{r2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),r2--}},[])}function dz(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var s2="focusScope.autoFocusOnMount",i2="focusScope.autoFocusOnUnmount",uz={bubbles:!1,cancelable:!0},kFe="FocusScope",V_=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=x.useState(null),d=ar(i),u=ar(a),h=x.useRef(null),m=ft(t,g=>c(g)),f=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let g=function(w){if(f.paused||!l)return;const S=w.target;l.contains(S)?h.current=S:cd(h.current,{select:!0})},y=function(w){if(f.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||cd(h.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&cd(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[r,l,f.paused]),x.useEffect(()=>{if(l){mz.add(f);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(s2,uz);l.addEventListener(s2,d),l.dispatchEvent(v),v.defaultPrevented||(_Fe(PFe(Hse(l)),{select:!0}),document.activeElement===g&&cd(l))}return()=>{l.removeEventListener(s2,d),setTimeout(()=>{const v=new CustomEvent(i2,uz);l.addEventListener(i2,u),l.dispatchEvent(v),v.defaultPrevented||cd(g??document.body,{select:!0}),l.removeEventListener(i2,u),mz.remove(f)},0)}}},[l,d,u,f]);const p=x.useCallback(g=>{if(!n&&!r||f.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const b=g.currentTarget,[w,S]=CFe(b);w&&S?!g.shiftKey&&v===S?(g.preventDefault(),n&&cd(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),n&&cd(S,{select:!0})):v===b&&g.preventDefault()}},[n,r,f.paused]);return s.jsx(De.div,{tabIndex:-1,...o,ref:m,onKeyDown:p})});V_.displayName=kFe;function _Fe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(cd(r,{select:t}),document.activeElement!==n)return}function CFe(e){const t=Hse(e),n=hz(t,e),r=hz(t.reverse(),e);return[n,r]}function Hse(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hz(e,t){for(const n of e)if(!EFe(n,{upTo:t}))return n}function EFe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TFe(e){return e instanceof HTMLInputElement&&"select"in e}function cd(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&TFe(e)&&t&&e.select()}}var mz=AFe();function AFe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=fz(e,t),e.unshift(t)},remove(t){var n;e=fz(e,t),(n=e[0])==null||n.resume()}}}function fz(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function PFe(e){return e.filter(t=>t.tagName!=="A")}var IFe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ef=new WeakMap,l1=new WeakMap,c1={},a2=0,Kse=function(e){return e&&(e.host||Kse(e.parentNode))},OFe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Kse(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},RFe=function(e,t,n,r){var i=OFe(t,Array.isArray(e)?e:[e]);c1[n]||(c1[n]=new WeakMap);var a=c1[n],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var f=m.getAttribute(r),p=f!==null&&f!=="false",g=(ef.get(m)||0)+1,y=(a.get(m)||0)+1;ef.set(m,g),a.set(m,y),o.push(m),g===1&&p&&l1.set(m,!0),y===1&&m.setAttribute(n,"true"),p||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return u(t),l.clear(),a2++,function(){o.forEach(function(h){var m=ef.get(h)-1,f=a.get(h)-1;ef.set(h,m),a.set(h,f),m||(l1.has(h)||h.removeAttribute(r),l1.delete(h)),f||h.removeAttribute(n)}),a2--,a2||(ef=new WeakMap,ef=new WeakMap,l1=new WeakMap,c1={})}},pD=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=IFe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),RFe(r,i,n,"aria-hidden")):function(){return null}},Aj="right-scroll-bar-position",Pj="width-before-scroll-bar",MFe="with-scroll-bars-hidden",DFe="--removed-body-scroll-bar-size";function o2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function LFe(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var $Fe=typeof window<"u"?x.useLayoutEffect:x.useEffect,pz=new WeakMap;function FFe(e,t){var n=LFe(null,function(r){return e.forEach(function(i){return o2(i,r)})});return $Fe(function(){var r=pz.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||o2(l,null)}),a.forEach(function(l){i.has(l)||o2(l,o)})}pz.set(n,e)},[e]),n}function BFe(e){return e}function UFe(e,t){t===void 0&&(t=BFe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return i}function zFe(e){e===void 0&&(e={});var t=UFe(null);return t.options=sl({async:!0,ssr:!1},e),t}var Gse=function(e){var t=e.sideCar,n=cx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,sl({},n))};Gse.isSideCarExport=!0;function VFe(e,t){return e.useMedium(t),Gse}var Yse=zFe(),l2=function(){},q_=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:l2,onWheelCapture:l2,onTouchMoveCapture:l2}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,f=e.noRelative,p=e.noIsolation,g=e.inert,y=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,w=e.gapMode,S=cx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,N=FFe([n,t]),k=sl(sl({},S),i);return x.createElement(x.Fragment,null,u&&x.createElement(j,{sideCar:Yse,removeScrollBar:d,shards:h,noRelative:f,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?x.cloneElement(x.Children.only(l),sl(sl({},k),{ref:N})):x.createElement(b,sl({},k,{className:c,ref:N}),l))});q_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};q_.classNames={fullWidth:Pj,zeroRight:Aj};var qFe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WFe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qFe();return t&&e.setAttribute("nonce",t),e}function HFe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KFe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var GFe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=WFe())&&(HFe(t,n),KFe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},YFe=function(){var e=GFe();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Xse=function(){var e=YFe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},XFe={left:0,top:0,right:0,gap:0},c2=function(e){return parseInt(e||"",10)||0},JFe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[c2(n),c2(r),c2(i)]},QFe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XFe;var t=JFe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ZFe=Xse(),fp="data-scroll-locked",e8e=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(MFe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(fp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Aj,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Pj,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Aj," .").concat(Aj,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pj," .").concat(Pj,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fp,`] {
    `).concat(DFe,": ").concat(l,`px;
  }
`)},gz=function(){var e=parseInt(document.body.getAttribute(fp)||"0",10);return isFinite(e)?e:0},t8e=function(){x.useEffect(function(){return document.body.setAttribute(fp,(gz()+1).toString()),function(){var e=gz()-1;e<=0?document.body.removeAttribute(fp):document.body.setAttribute(fp,e.toString())}},[])},n8e=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;t8e();var a=x.useMemo(function(){return QFe(i)},[i]);return x.createElement(ZFe,{styles:e8e(a,!t,i,n?"":"!important")})},wO=!1;if(typeof window<"u")try{var d1=Object.defineProperty({},"passive",{get:function(){return wO=!0,!0}});window.addEventListener("test",d1,d1),window.removeEventListener("test",d1,d1)}catch{wO=!1}var tf=wO?{passive:!1}:!1,r8e=function(e){return e.tagName==="TEXTAREA"},Jse=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!r8e(e)&&n[t]==="visible")},s8e=function(e){return Jse(e,"overflowY")},i8e=function(e){return Jse(e,"overflowX")},xz=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Qse(e,r);if(i){var a=Zse(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},a8e=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},o8e=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Qse=function(e,t){return e==="v"?s8e(t):i8e(t)},Zse=function(e,t){return e==="v"?a8e(t):o8e(t)},l8e=function(e,t){return e==="h"&&t==="rtl"?-1:1},c8e=function(e,t,n,r,i){var a=l8e(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var f=Zse(e,l),p=f[0],g=f[1],y=f[2],v=g-y-a*p;(p||v)&&Qse(e,l)&&(h+=v,m+=p);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(m)<1||!i))&&(d=!0),d},u1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yz=function(e){return[e.deltaX,e.deltaY]},vz=function(e){return e&&"current"in e?e.current:e},d8e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},u8e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},h8e=0,nf=[];function m8e(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(h8e++)[0],a=x.useState(Xse)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=HAe([e.lockRef.current],(e.shards||[]).map(vz),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=u1(g),b=n.current,w="deltaX"in g?g.deltaX:b[0]-v[0],S="deltaY"in g?g.deltaY:b[1]-v[1],j,N=g.target,k=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&k==="h"&&N.type==="range")return!1;var _=xz(k,N);if(!_)return!0;if(_?j=k:(j=k==="v"?"h":"v",_=xz(k,N)),!_)return!1;if(!r.current&&"changedTouches"in g&&(w||S)&&(r.current=j),!j)return!0;var C=r.current||j;return c8e(C,y,g,C==="h"?w:S,!0)},[]),c=x.useCallback(function(g){var y=g;if(!(!nf.length||nf[nf.length-1]!==a)){var v="deltaY"in y?yz(y):u1(y),b=t.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&d8e(j.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(vz).filter(Boolean).filter(function(j){return j.contains(y.target)}),S=w.length>0?l(y,w[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),d=x.useCallback(function(g,y,v,b){var w={name:g,delta:y,target:v,should:b,shadowParent:f8e(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),u=x.useCallback(function(g){n.current=u1(g),r.current=void 0},[]),h=x.useCallback(function(g){d(g.type,yz(g),g.target,l(g,e.lockRef.current))},[]),m=x.useCallback(function(g){d(g.type,u1(g),g.target,l(g,e.lockRef.current))},[]);x.useEffect(function(){return nf.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,tf),document.addEventListener("touchmove",c,tf),document.addEventListener("touchstart",u,tf),function(){nf=nf.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,tf),document.removeEventListener("touchmove",c,tf),document.removeEventListener("touchstart",u,tf)}},[]);var f=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(a,{styles:u8e(i)}):null,f?x.createElement(n8e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function f8e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const p8e=VFe(Yse,m8e);var W_=x.forwardRef(function(e,t){return x.createElement(q_,sl({},e,{ref:t,sideCar:p8e}))});W_.classNames=q_.classNames;var jO=["Enter"," "],g8e=["ArrowDown","PageUp","Home"],eie=["ArrowUp","PageDown","End"],x8e=[...g8e,...eie],y8e={ltr:[...jO,"ArrowRight"],rtl:[...jO,"ArrowLeft"]},v8e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qb="Menu",[w0,b8e,w8e]=Db(Qb),[Mm,H_]=Ar(Qb,[w8e,ax,mx]),K_=ax(),tie=mx(),[j8e,Dm]=Mm(Qb),[S8e,Zb]=Mm(Qb),nie=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=e,l=K_(t),[c,d]=x.useState(null),u=x.useRef(!1),h=ar(a),m=Rm(i);return x.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),s.jsx(WZ,{...l,children:s.jsx(j8e,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(S8e,{scope:t,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:r})})})};nie.displayName=Qb;var N8e="MenuAnchor",gD=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=K_(n);return s.jsx($M,{...i,...r,ref:t})});gD.displayName=N8e;var xD="MenuPortal",[k8e,rie]=Mm(xD,{forceMount:void 0}),sie=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=Dm(xD,t);return s.jsx(k8e,{scope:t,forceMount:n,children:s.jsx(ms,{present:n||a.open,children:s.jsx(Lb,{asChild:!0,container:i,children:r})})})};sie.displayName=xD;var qa="MenuContent",[_8e,yD]=Mm(qa),iie=x.forwardRef((e,t)=>{const n=rie(qa,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Dm(qa,e.__scopeMenu),o=Zb(qa,e.__scopeMenu);return s.jsx(w0.Provider,{scope:e.__scopeMenu,children:s.jsx(ms,{present:r||a.open,children:s.jsx(w0.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(C8e,{...i,ref:t}):s.jsx(E8e,{...i,ref:t})})})})}),C8e=x.forwardRef((e,t)=>{const n=Dm(qa,e.__scopeMenu),r=x.useRef(null),i=ft(t,r);return x.useEffect(()=>{const a=r.current;if(a)return pD(a)},[]),s.jsx(vD,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ve(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),E8e=x.forwardRef((e,t)=>{const n=Dm(qa,e.__scopeMenu);return s.jsx(vD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),T8e=om("MenuContent.ScrollLock"),vD=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,disableOutsideScroll:p,...g}=e,y=Dm(qa,n),v=Zb(qa,n),b=K_(n),w=tie(n),S=b8e(n),[j,N]=x.useState(null),k=x.useRef(null),_=ft(t,k,y.onContentChange),C=x.useRef(0),T=x.useRef(""),A=x.useRef(0),P=x.useRef(null),R=x.useRef("right"),D=x.useRef(0),$=p?W_:x.Fragment,M=p?{as:T8e,allowPinchZoom:!0}:void 0,F=L=>{var oe,Ne;const I=T.current+L,z=S().filter(K=>!K.disabled),H=document.activeElement,U=(oe=z.find(K=>K.ref.current===H))==null?void 0:oe.textValue,X=z.map(K=>K.textValue),le=U8e(X,I,U),de=(Ne=z.find(K=>K.textValue===le))==null?void 0:Ne.ref.current;(function K(he){T.current=he,window.clearTimeout(C.current),he!==""&&(C.current=window.setTimeout(()=>K(""),1e3))})(I),de&&setTimeout(()=>de.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),fD();const O=x.useCallback(L=>{var z,H;return R.current===((z=P.current)==null?void 0:z.side)&&V8e(L,(H=P.current)==null?void 0:H.area)},[]);return s.jsx(_8e,{scope:n,searchRef:T,onItemEnter:x.useCallback(L=>{O(L)&&L.preventDefault()},[O]),onItemLeave:x.useCallback(L=>{var I;O(L)||((I=k.current)==null||I.focus(),N(null))},[O]),onTriggerLeave:x.useCallback(L=>{O(L)&&L.preventDefault()},[O]),pointerGraceTimerRef:A,onPointerGraceIntentChange:x.useCallback(L=>{P.current=L},[]),children:s.jsx($,{...M,children:s.jsx(V_,{asChild:!0,trapped:i,onMountAutoFocus:ve(a,L=>{var I;L.preventDefault(),(I=k.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(ex,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,children:s.jsx(aD,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:ve(c,L=>{v.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(FM,{role:"menu","aria-orientation":"vertical","data-state":wie(y.open),"data-radix-menu-content":"",dir:v.dir,...b,...g,ref:_,style:{outline:"none",...g.style},onKeyDown:ve(g.onKeyDown,L=>{const z=L.target.closest("[data-radix-menu-content]")===L.currentTarget,H=L.ctrlKey||L.altKey||L.metaKey,U=L.key.length===1;z&&(L.key==="Tab"&&L.preventDefault(),!H&&U&&F(L.key));const X=k.current;if(L.target!==X||!x8e.includes(L.key))return;L.preventDefault();const de=S().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);eie.includes(L.key)&&de.reverse(),F8e(de)}),onBlur:ve(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:ve(e.onPointerMove,j0(L=>{const I=L.target,z=D.current!==L.clientX;if(L.currentTarget.contains(I)&&z){const H=L.clientX>D.current?"right":"left";R.current=H,D.current=L.clientX}}))})})})})})})});iie.displayName=qa;var A8e="MenuGroup",bD=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(De.div,{role:"group",...r,ref:t})});bD.displayName=A8e;var P8e="MenuLabel",aie=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(De.div,{...r,ref:t})});aie.displayName=P8e;var tN="MenuItem",bz="menu.itemSelect",G_=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=x.useRef(null),o=Zb(tN,e.__scopeMenu),l=yD(tN,e.__scopeMenu),c=ft(t,a),d=x.useRef(!1),u=()=>{const h=a.current;if(!n&&h){const m=new CustomEvent(bz,{bubbles:!0,cancelable:!0});h.addEventListener(bz,f=>r==null?void 0:r(f),{once:!0}),uM(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(oie,{...i,ref:c,disabled:n,onClick:ve(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:ve(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:ve(e.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||jO.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});G_.displayName=tN;var oie=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,o=yD(tN,n),l=tie(n),c=x.useRef(null),d=ft(t,c),[u,h]=x.useState(!1),[m,f]=x.useState("");return x.useEffect(()=>{const p=c.current;p&&f((p.textContent??"").trim())},[a.children]),s.jsx(w0.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:s.jsx(oD,{asChild:!0,...l,focusable:!r,children:s.jsx(De.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:ve(e.onPointerMove,j0(p=>{r?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ve(e.onPointerLeave,j0(p=>o.onItemLeave(p))),onFocus:ve(e.onFocus,()=>h(!0)),onBlur:ve(e.onBlur,()=>h(!1))})})})}),I8e="MenuCheckboxItem",lie=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return s.jsx(mie,{scope:e.__scopeMenu,checked:n,children:s.jsx(G_,{role:"menuitemcheckbox","aria-checked":nN(n)?"mixed":n,...i,ref:t,"data-state":jD(n),onSelect:ve(i.onSelect,()=>r==null?void 0:r(nN(n)?!0:!n),{checkForDefaultPrevented:!1})})})});lie.displayName=I8e;var cie="MenuRadioGroup",[O8e,R8e]=Mm(cie,{value:void 0,onValueChange:()=>{}}),die=x.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=ar(r);return s.jsx(O8e,{scope:e.__scopeMenu,value:n,onValueChange:a,children:s.jsx(bD,{...i,ref:t})})});die.displayName=cie;var uie="MenuRadioItem",hie=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=R8e(uie,e.__scopeMenu),a=n===i.value;return s.jsx(mie,{scope:e.__scopeMenu,checked:a,children:s.jsx(G_,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":jD(a),onSelect:ve(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});hie.displayName=uie;var wD="MenuItemIndicator",[mie,M8e]=Mm(wD,{checked:!1}),fie=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=M8e(wD,n);return s.jsx(ms,{present:r||nN(a.checked)||a.checked===!0,children:s.jsx(De.span,{...i,ref:t,"data-state":jD(a.checked)})})});fie.displayName=wD;var D8e="MenuSeparator",pie=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(De.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});pie.displayName=D8e;var L8e="MenuArrow",gie=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=K_(n);return s.jsx(BM,{...i,...r,ref:t})});gie.displayName=L8e;var $8e="MenuSub",[e_t,xie]=Mm($8e),Iy="MenuSubTrigger",yie=x.forwardRef((e,t)=>{const n=Dm(Iy,e.__scopeMenu),r=Zb(Iy,e.__scopeMenu),i=xie(Iy,e.__scopeMenu),a=yD(Iy,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:e.__scopeMenu},u=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>u,[u]),x.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(gD,{asChild:!0,...d,children:s.jsx(oie,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":wie(n.open),...e,ref:i_(t,i.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ve(e.onPointerMove,j0(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ve(e.onPointerLeave,j0(h=>{var f,p;u();const m=(f=n.content)==null?void 0:f.getBoundingClientRect();if(m){const g=(p=n.content)==null?void 0:p.dataset.side,y=g==="right",v=y?-5:5,b=m[y?"left":"right"],w=m[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:b,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:b,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ve(e.onKeyDown,h=>{var f;const m=a.searchRef.current!=="";e.disabled||m&&h.key===" "||y8e[r.dir].includes(h.key)&&(n.onOpenChange(!0),(f=n.content)==null||f.focus(),h.preventDefault())})})})});yie.displayName=Iy;var vie="MenuSubContent",bie=x.forwardRef((e,t)=>{const n=rie(qa,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Dm(qa,e.__scopeMenu),o=Zb(qa,e.__scopeMenu),l=xie(vie,e.__scopeMenu),c=x.useRef(null),d=ft(t,c);return s.jsx(w0.Provider,{scope:e.__scopeMenu,children:s.jsx(ms,{present:r||a.open,children:s.jsx(w0.Slot,{scope:e.__scopeMenu,children:s.jsx(vD,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ve(e.onFocusOutside,u=>{u.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ve(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ve(e.onKeyDown,u=>{var f;const h=u.currentTarget.contains(u.target),m=v8e[o.dir].includes(u.key);h&&m&&(a.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});bie.displayName=vie;function wie(e){return e?"open":"closed"}function nN(e){return e==="indeterminate"}function jD(e){return nN(e)?"indeterminate":e?"checked":"unchecked"}function F8e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function B8e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function U8e(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=B8e(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function z8e(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>r!=m>r&&n<(h-d)*(r-u)/(m-u)+d&&(i=!i)}return i}function V8e(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return z8e(n,t)}function j0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var jie=nie,Sie=gD,Nie=sie,kie=iie,_ie=bD,Cie=aie,Eie=G_,Tie=lie,Aie=die,Pie=hie,Iie=fie,Oie=pie,Rie=gie,Mie=yie,Die=bie,Y_="DropdownMenu",[q8e,t_t]=Ar(Y_,[H_]),ui=H_(),[W8e,Lie]=q8e(Y_),$ie=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=ui(t),d=x.useRef(null),[u,h]=ua({prop:i,defaultProp:a??!1,onChange:o,caller:Y_});return s.jsx(W8e,{scope:t,triggerId:za(),triggerRef:d,contentId:za(),open:u,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(jie,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:n})})};$ie.displayName=Y_;var Fie="DropdownMenuTrigger",Bie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=Lie(Fie,n),o=ui(n);return s.jsx(Sie,{asChild:!0,...o,children:s.jsx(De.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:i_(t,a.triggerRef),onPointerDown:ve(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ve(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Bie.displayName=Fie;var H8e="DropdownMenuPortal",Uie=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ui(t);return s.jsx(Nie,{...r,...n})};Uie.displayName=H8e;var zie="DropdownMenuContent",Vie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Lie(zie,n),a=ui(n),o=x.useRef(!1);return s.jsx(kie,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:ve(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ve(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!i.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vie.displayName=zie;var K8e="DropdownMenuGroup",G8e=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ui(n);return s.jsx(_ie,{...i,...r,ref:t})});G8e.displayName=K8e;var Y8e="DropdownMenuLabel",qie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ui(n);return s.jsx(Cie,{...i,...r,ref:t})});qie.displayName=Y8e;var X8e="DropdownMenuItem",Wie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ui(n);return s.jsx(Eie,{...i,...r,ref:t})});Wie.displayName=X8e;var J8e="DropdownMenuCheckboxItem",Hie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ui(n);return s.jsx(Tie,{...i,...r,ref:t})});Hie.displayName=J8e;var Q8e="DropdownMenuRadioGroup",Z8e=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ui(n);return s.jsx(Aie,{...i,...r,ref:t})});Z8e.displayName=Q8e;var eBe="DropdownMenuRadioItem",Kie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ui(n);return s.jsx(Pie,{...i,...r,ref:t})});Kie.displayName=eBe;var tBe="DropdownMenuItemIndicator",Gie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ui(n);return s.jsx(Iie,{...i,...r,ref:t})});Gie.displayName=tBe;var nBe="DropdownMenuSeparator",Yie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ui(n);return s.jsx(Oie,{...i,...r,ref:t})});Yie.displayName=nBe;var rBe="DropdownMenuArrow",sBe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ui(n);return s.jsx(Rie,{...i,...r,ref:t})});sBe.displayName=rBe;var iBe="DropdownMenuSubTrigger",Xie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ui(n);return s.jsx(Mie,{...i,...r,ref:t})});Xie.displayName=iBe;var aBe="DropdownMenuSubContent",Jie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ui(n);return s.jsx(Die,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jie.displayName=aBe;var oBe=$ie,lBe=Bie,cBe=Uie,Qie=Vie,Zie=qie,eae=Wie,tae=Hie,nae=Kie,rae=Gie,sae=Yie,iae=Xie,aae=Jie;const X_=oBe,J_=lBe,dBe=x.forwardRef(({className:e,inset:t,children:n,...r},i)=>s.jsxs(iae,{ref:i,className:G("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(Ml,{className:"ml-auto h-4 w-4"})]}));dBe.displayName=iae.displayName;const uBe=x.forwardRef(({className:e,...t},n)=>s.jsx(aae,{ref:n,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));uBe.displayName=aae.displayName;const ew=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(cBe,{children:s.jsx(Qie,{ref:r,sideOffset:t,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ew.displayName=Qie.displayName;const pp=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(eae,{ref:r,className:G("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));pp.displayName=eae.displayName;const hBe=x.forwardRef(({className:e,children:t,checked:n,...r},i)=>s.jsxs(tae,{ref:i,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(rae,{children:s.jsx(We,{className:"h-4 w-4"})})}),t]}));hBe.displayName=tae.displayName;const mBe=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(nae,{ref:r,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(rae,{children:s.jsx(gM,{className:"h-2 w-2 fill-current"})})}),t]}));mBe.displayName=nae.displayName;const gh=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(Zie,{ref:r,className:G("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));gh.displayName=Zie.displayName;const Gh=x.forwardRef(({className:e,...t},n)=>s.jsx(sae,{ref:n,className:G("-mx-1 my-1 h-px bg-muted",e),...t}));Gh.displayName=sae.displayName;const oae=["icanforyouthebest@gmail.com"],lae=["yasih89@gmail.com"],fBe=["user2@seobaike.com","admin@seobaike.com","test@aiforseo.vip"],pBe=[...oae,...lae,...fBe],gBe=!1,cae=[{provider:"lovable",model:"google/gemini-3-flash-preview",displayName:"Gemini 3 Flash",description:"",costLevel:"low",bossOnly:!0},{provider:"lovable",model:"google/gemini-2.5-flash",displayName:"Gemini 2.5 Flash",description:"",costLevel:"medium",bossOnly:!0},{provider:"lovable",model:"google/gemini-2.5-pro",displayName:"Gemini 2.5 Pro",description:"",costLevel:"high",bossOnly:!0},{provider:"lovable",model:"openai/gpt-5-mini",displayName:"GPT-5 Mini",description:"",costLevel:"medium",bossOnly:!0},{provider:"lovable",model:"openai/gpt-5",displayName:"GPT-5",description:"",costLevel:"high",bossOnly:!0}],dae=[{provider:"claude",model:"claude-sonnet-4-20250514",displayName:"Claude Sonnet 4",description:"Anthropic ",costLevel:"high",bossOnly:!0}],uae=[{provider:"qwen",model:"qwen-plus",displayName:" Plus",description:"",costLevel:"low",bossOnly:!1},{provider:"qwen",model:"qwen-max",displayName:" Max",description:"",costLevel:"medium",bossOnly:!1},{provider:"qwen",model:"qwen-turbo",displayName:" Turbo",description:"",costLevel:"low",bossOnly:!1},{provider:"qwen",model:"qwen-long",displayName:" Long",description:"",costLevel:"medium",bossOnly:!1},{provider:"qwen",model:"qwen2.5-72b-instruct",displayName:"Qwen 2.5 72B",description:" 72B",costLevel:"medium",bossOnly:!0},{provider:"qwen",model:"qwen2.5-32b-instruct",displayName:"Qwen 2.5 32B",description:"",costLevel:"low",bossOnly:!1}],h1=[...cae,...dae,...uae],wz="ai_model_preference";function tw(){const{user:e}=Jt(),t=x.useMemo(()=>(e==null?void 0:e.email)&&oae.includes(e.email),[e==null?void 0:e.email]),n=x.useMemo(()=>(e==null?void 0:e.email)&&lae.includes(e.email),[e==null?void 0:e.email]),r=x.useMemo(()=>(e==null?void 0:e.email)&&pBe.includes(e.email),[e==null?void 0:e.email]),i=x.useMemo(()=>{const v=h1.filter(b=>b.provider!=="qwen");return t?v:v.filter(b=>!b.bossOnly)},[t]),a=()=>{try{const v=localStorage.getItem(wz);if(v){const b=JSON.parse(v);if(i.some(S=>S.model===b.model))return b}}catch{}return{provider:"lovable",model:"google/gemini-3-flash-preview"}},[o,l]=x.useState(a().provider),[c,d]=x.useState(a().model),[u,h]=x.useState(!1),m=x.useCallback((v,b)=>{const w=h1.find(S=>S.model===b);if(!w){q.error("");return}if(w.bossOnly&&!t){q.error("");return}l(v),d(b),localStorage.setItem(wz,JSON.stringify({provider:v,model:b})),q.success(` ${w.displayName}`)},[t]),f=x.useCallback(async(v,b)=>{var S,j,N,k;h(!0);const w=" AI ";try{if(o==="lovable"){const _=await fetch("https://ai.gateway.lovable.dev/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFudXNsd2RrZnN0cmZmZnNyZ3ZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxODcwNzksImV4cCI6MjA4NDc2MzA3OX0.oubQLUS0ZLRpqzRHcKLmDgb8kSaXKY0ObZKDOdP7W7I","Content-Type":"application/json"},body:JSON.stringify({model:c,messages:[{role:"system",content:w},...v],stream:!1})});if(!_.ok)throw _.status===429?new Error(""):_.status===402?new Error(""):new Error(`API : ${_.status}`);return((N=(j=(S=(await _.json()).choices)==null?void 0:S[0])==null?void 0:j.message)==null?void 0:N.content)||""}else if(o==="claude"){const{data:_,error:C}=await ee.functions.invoke("ai-secretary",{body:{action:"chat",message:((k=v[v.length-1])==null?void 0:k.content)||"",context:v.slice(0,-1).map(T=>({role:T.role,content:T.content}))}});if(C)throw C;return _.response||""}else{const{data:_,error:C}=await ee.functions.invoke("ai-qwen",{body:{messages:v,model:c,stream:!1}});if(C)throw C;if(_.error)throw new Error(_.error);return _.response||""}}catch(_){throw console.error("[AI Model Switch] Error:",_),_}finally{h(!1)}},[o,c]),p=x.useCallback(async(v,b,w)=>{var j,N,k;h(!0);const S=" AI ";try{let _;if(o==="lovable")_=await fetch("https://ai.gateway.lovable.dev/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFudXNsd2RrZnN0cmZmZnNyZ3ZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxODcwNzksImV4cCI6MjA4NDc2MzA3OX0.oubQLUS0ZLRpqzRHcKLmDgb8kSaXKY0ObZKDOdP7W7I","Content-Type":"application/json"},body:JSON.stringify({model:c,messages:[{role:"system",content:S},...v],stream:!0})});else if(o==="claude"){const P=await this.sendMessage(v);b(P),w();return}else _=await fetch("https://anuslwdkfstrfffsrgvk.supabase.co/functions/v1/ai-qwen",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFudXNsd2RrZnN0cmZmZnNyZ3ZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxODcwNzksImV4cCI6MjA4NDc2MzA3OX0.oubQLUS0ZLRpqzRHcKLmDgb8kSaXKY0ObZKDOdP7W7I","Content-Type":"application/json"},body:JSON.stringify({messages:v,model:c,stream:!0})});if(!_.ok||!_.body)throw new Error("");const C=_.body.getReader(),T=new TextDecoder;let A="";for(;;){const{done:P,value:R}=await C.read();if(P)break;A+=T.decode(R,{stream:!0});const D=A.split(`
`);A=D.pop()||"";for(const $ of D)if($.startsWith("data: ")){const M=$.slice(6).trim();if(M==="[DONE]")continue;try{const O=(k=(N=(j=JSON.parse(M).choices)==null?void 0:j[0])==null?void 0:N.delta)==null?void 0:k.content;O&&b(O)}catch{}}}w()}catch(_){throw console.error("[AI Stream] Error:",_),_}finally{h(!1)}},[o,c]),g=x.useCallback(()=>h1.find(v=>v.model===c),[c]),y=x.useMemo(()=>({lovable:i.filter(v=>v.provider==="lovable"),claude:i.filter(v=>v.provider==="claude"),qwen:i.filter(v=>v.provider==="qwen")}),[i]);return{currentProvider:o,currentModel:c,isLoading:u,isBossMode:t,isTesterMode:n,isWhitelisted:r,switchModel:m,sendMessage:f,streamMessage:p,getCurrentModelConfig:g,QWEN_ENABLED:gBe,availableModels:i,modelsByProvider:y,LOVABLE_MODELS:cae,CLAUDE_MODELS:dae,QWEN_MODELS:uae,ALL_MODELS:h1}}function SD({provider:e}){return e==="lovable"?s.jsx(Ye,{className:"w-4 h-4 text-primary"}):e==="claude"?s.jsx(Do,{className:"w-4 h-4 text-primary"}):s.jsx(Tt,{className:"w-4 h-4 text-primary/70"})}function xBe({level:e}){const t={low:"bg-green-500",medium:"bg-yellow-500",high:"bg-red-500"},n={low:"",medium:"",high:""};return s.jsx("span",{className:G("text-[9px] px-1.5 py-0.5 rounded-full text-white font-medium",t[e]),children:n[e]})}function Ij({config:e,isSelected:t,onClick:n}){return s.jsxs(pp,{onClick:n,className:G("flex items-center gap-3 py-2.5 cursor-pointer",t&&"bg-primary/10"),children:[s.jsx(SD,{provider:e.provider}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:e.displayName}),s.jsx(xBe,{level:e.costLevel}),t&&s.jsx(We,{className:"w-3 h-3 text-primary"})]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.description})]})]})}function jz(){const{currentProvider:e,currentModel:t,switchModel:n,getCurrentModelConfig:r,isBossMode:i,modelsByProvider:a,QWEN_ENABLED:o}=tw(),[l,c]=x.useState(!1),d=r(),u=h=>{n(h.provider,h.model),c(!1)};return s.jsxs(X_,{open:l,onOpenChange:c,children:[s.jsx(J_,{asChild:!0,children:s.jsxs(B,{variant:"outline",size:"sm",className:"h-8 gap-2 text-xs font-medium",children:[s.jsx(SD,{provider:e}),s.jsx("span",{className:"max-w-[100px] truncate",children:(d==null?void 0:d.displayName)||t}),s.jsx(qr,{className:G("w-3 h-3 transition-transform",l&&"rotate-180")})]})}),s.jsxs(ew,{align:"end",className:"w-72",children:[s.jsx(gh,{className:"flex items-center gap-2 text-xs",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Qp,{className:"w-3 h-3 text-yellow-500"}),s.jsx("span",{children:""}),s.jsx(ae,{variant:"secondary",className:"ml-auto h-4 text-[10px]",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(Mu,{className:"w-3 h-3 text-muted-foreground"}),s.jsx("span",{children:""}),s.jsx(ae,{variant:"outline",className:"ml-auto h-4 text-[10px]",children:""})]})}),s.jsx(Gh,{}),a.lovable.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(gh,{className:"flex items-center gap-2 text-xs",children:[s.jsx(Ye,{className:"w-3 h-3 text-primary"}),"Lovable AI",s.jsx(ae,{variant:"secondary",className:"ml-auto h-4 text-[10px]",children:""})]}),a.lovable.map(h=>s.jsx(Ij,{config:h,isSelected:t===h.model,onClick:()=>u(h)},h.model)),s.jsx(Gh,{})]}),a.claude.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(gh,{className:"flex items-center gap-2 text-xs",children:[s.jsx(Do,{className:"w-3 h-3 text-primary"}),"Claude (Anthropic)",s.jsx(ae,{variant:"outline",className:"ml-auto h-4 text-[10px]",children:" API"})]}),a.claude.map(h=>s.jsx(Ij,{config:h,isSelected:t===h.model,onClick:()=>u(h)},h.model)),s.jsx(Gh,{})]}),o&&a.qwen.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(gh,{className:"flex items-center gap-2 text-xs",children:[s.jsx(Tt,{className:"w-3 h-3 text-primary/70"}),"",s.jsx(ae,{className:"ml-auto h-4 text-[10px] bg-green-500",children:""})]}),a.qwen.map(h=>s.jsx(Ij,{config:h,isSelected:t===h.model,onClick:()=>u(h)},h.model))]}),!o&&s.jsxs(gh,{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Tt,{className:"w-3 h-3 opacity-50"}),"",s.jsx(ae,{variant:"outline",className:"ml-auto h-4 text-[10px]",children:""})]})]})]})}function yBe(){const{currentProvider:e,currentModel:t,switchModel:n,getCurrentModelConfig:r,isBossMode:i,availableModels:a}=tw(),[o,l]=x.useState(!1),c=r(),d=()=>{if(!i)return;const h=["lovable","claude","qwen"],m=h.indexOf(e),f=h[(m+1)%h.length];n(f,{lovable:"google/gemini-3-flash-preview",claude:"claude-sonnet-4-20250514",qwen:"qwen-plus"}[f])},u={lovable:"Lovable",claude:"Claude",qwen:"Qwen"};return s.jsxs("div",{className:"flex items-center gap-1",children:[i&&s.jsxs(B,{variant:"ghost",size:"sm",className:"h-7 px-2 gap-1.5",onClick:d,children:[s.jsx(SD,{provider:e}),s.jsx("span",{className:"text-xs font-medium",children:u[e]})]}),s.jsxs(X_,{open:o,onOpenChange:l,children:[s.jsx(J_,{asChild:!0,children:s.jsxs(B,{variant:"ghost",size:"sm",className:"h-7 px-2",children:[s.jsx(c_,{className:"w-3 h-3 mr-1"}),s.jsx("span",{className:"text-xs max-w-[80px] truncate",children:(c==null?void 0:c.displayName.split(" ").slice(-1)[0])||"Model"}),s.jsx(qr,{className:"w-3 h-3 ml-1"})]})}),s.jsxs(ew,{align:"end",className:"w-64",children:[s.jsx(gh,{className:"flex items-center gap-2 text-xs py-1",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Qp,{className:"w-3 h-3 text-yellow-500"}),s.jsx("span",{className:"text-yellow-600",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(Mu,{className:"w-3 h-3"}),s.jsx("span",{children:""})]})}),s.jsx(Gh,{}),a.map(h=>s.jsx(Ij,{config:h,isSelected:t===h.model,onClick:()=>{n(h.provider,h.model),l(!1)}},h.model))]})]})]})}function vBe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const bBe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wBe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jBe={};function Sz(e,t){return(jBe.jsx?wBe:bBe).test(e)}const SBe=/[ \t\n\f\r]/g;function NBe(e){return typeof e=="object"?e.type==="text"?Nz(e.value):!1:Nz(e)}function Nz(e){return e.replace(SBe,"")===""}class nw{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}nw.prototype.normal={};nw.prototype.property={};nw.prototype.space=void 0;function hae(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new nw(n,r,t)}function SO(e){return e.toLowerCase()}class Fi{constructor(t,n){this.attribute=n,this.property=t}}Fi.prototype.attribute="";Fi.prototype.booleanish=!1;Fi.prototype.boolean=!1;Fi.prototype.commaOrSpaceSeparated=!1;Fi.prototype.commaSeparated=!1;Fi.prototype.defined=!1;Fi.prototype.mustUseProperty=!1;Fi.prototype.number=!1;Fi.prototype.overloadedBoolean=!1;Fi.prototype.property="";Fi.prototype.spaceSeparated=!1;Fi.prototype.space=void 0;let kBe=0;const Pt=Lm(),Or=Lm(),NO=Lm(),Se=Lm(),Mn=Lm(),gp=Lm(),zi=Lm();function Lm(){return 2**++kBe}const kO=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pt,booleanish:Or,commaOrSpaceSeparated:zi,commaSeparated:gp,number:Se,overloadedBoolean:NO,spaceSeparated:Mn},Symbol.toStringTag,{value:"Module"})),d2=Object.keys(kO);class ND extends Fi{constructor(t,n,r,i){let a=-1;if(super(t,n),kz(this,"space",i),typeof r=="number")for(;++a<d2.length;){const o=d2[a];kz(this,d2[a],(r&kO[o])===kO[o])}}}ND.prototype.defined=!0;function kz(e,t,n){n&&(e[t]=n)}function fx(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new ND(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[SO(r)]=r,n[SO(a.attribute)]=r}return new nw(t,n,e.space)}const mae=fx({properties:{ariaActiveDescendant:null,ariaAtomic:Or,ariaAutoComplete:null,ariaBusy:Or,ariaChecked:Or,ariaColCount:Se,ariaColIndex:Se,ariaColSpan:Se,ariaControls:Mn,ariaCurrent:null,ariaDescribedBy:Mn,ariaDetails:null,ariaDisabled:Or,ariaDropEffect:Mn,ariaErrorMessage:null,ariaExpanded:Or,ariaFlowTo:Mn,ariaGrabbed:Or,ariaHasPopup:null,ariaHidden:Or,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Mn,ariaLevel:Se,ariaLive:null,ariaModal:Or,ariaMultiLine:Or,ariaMultiSelectable:Or,ariaOrientation:null,ariaOwns:Mn,ariaPlaceholder:null,ariaPosInSet:Se,ariaPressed:Or,ariaReadOnly:Or,ariaRelevant:null,ariaRequired:Or,ariaRoleDescription:Mn,ariaRowCount:Se,ariaRowIndex:Se,ariaRowSpan:Se,ariaSelected:Or,ariaSetSize:Se,ariaSort:null,ariaValueMax:Se,ariaValueMin:Se,ariaValueNow:Se,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function fae(e,t){return t in e?e[t]:t}function pae(e,t){return fae(e,t.toLowerCase())}const _Be=fx({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gp,acceptCharset:Mn,accessKey:Mn,action:null,allow:null,allowFullScreen:Pt,allowPaymentRequest:Pt,allowUserMedia:Pt,alt:null,as:null,async:Pt,autoCapitalize:null,autoComplete:Mn,autoFocus:Pt,autoPlay:Pt,blocking:Mn,capture:null,charSet:null,checked:Pt,cite:null,className:Mn,cols:Se,colSpan:null,content:null,contentEditable:Or,controls:Pt,controlsList:Mn,coords:Se|gp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pt,defer:Pt,dir:null,dirName:null,disabled:Pt,download:NO,draggable:Or,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pt,formTarget:null,headers:Mn,height:Se,hidden:NO,high:Se,href:null,hrefLang:null,htmlFor:Mn,httpEquiv:Mn,id:null,imageSizes:null,imageSrcSet:null,inert:Pt,inputMode:null,integrity:null,is:null,isMap:Pt,itemId:null,itemProp:Mn,itemRef:Mn,itemScope:Pt,itemType:Mn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pt,low:Se,manifest:null,max:null,maxLength:Se,media:null,method:null,min:null,minLength:Se,multiple:Pt,muted:Pt,name:null,nonce:null,noModule:Pt,noValidate:Pt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pt,optimum:Se,pattern:null,ping:Mn,placeholder:null,playsInline:Pt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pt,referrerPolicy:null,rel:Mn,required:Pt,reversed:Pt,rows:Se,rowSpan:Se,sandbox:Mn,scope:null,scoped:Pt,seamless:Pt,selected:Pt,shadowRootClonable:Pt,shadowRootDelegatesFocus:Pt,shadowRootMode:null,shape:null,size:Se,sizes:null,slot:null,span:Se,spellCheck:Or,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Se,step:null,style:null,tabIndex:Se,target:null,title:null,translate:null,type:null,typeMustMatch:Pt,useMap:null,value:Or,width:Se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Mn,axis:null,background:null,bgColor:null,border:Se,borderColor:null,bottomMargin:Se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pt,declare:Pt,event:null,face:null,frame:null,frameBorder:null,hSpace:Se,leftMargin:Se,link:null,longDesc:null,lowSrc:null,marginHeight:Se,marginWidth:Se,noResize:Pt,noHref:Pt,noShade:Pt,noWrap:Pt,object:null,profile:null,prompt:null,rev:null,rightMargin:Se,rules:null,scheme:null,scrolling:Or,standby:null,summary:null,text:null,topMargin:Se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pt,disableRemotePlayback:Pt,prefix:null,property:null,results:Se,security:null,unselectable:null},space:"html",transform:pae}),CBe=fx({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:zi,accentHeight:Se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Se,amplitude:Se,arabicForm:null,ascent:Se,attributeName:null,attributeType:null,azimuth:Se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Se,by:null,calcMode:null,capHeight:Se,className:Mn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Se,diffuseConstant:Se,direction:null,display:null,dur:null,divisor:Se,dominantBaseline:null,download:Pt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Se,enableBackground:null,end:null,event:null,exponent:Se,externalResourcesRequired:null,fill:null,fillOpacity:Se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gp,g2:gp,glyphName:gp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Se,horizOriginX:Se,horizOriginY:Se,id:null,ideographic:Se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Se,k:Se,k1:Se,k2:Se,k3:Se,k4:Se,kernelMatrix:zi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Se,overlineThickness:Se,paintOrder:null,panose1:null,path:null,pathLength:Se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Mn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Se,pointsAtY:Se,pointsAtZ:Se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:zi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:zi,rev:zi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:zi,requiredFeatures:zi,requiredFonts:zi,requiredFormats:zi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Se,specularExponent:Se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Se,strikethroughThickness:Se,string:null,stroke:null,strokeDashArray:zi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Se,strokeOpacity:Se,strokeWidth:null,style:null,surfaceScale:Se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:zi,tabIndex:Se,tableValues:null,target:null,targetX:Se,targetY:Se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:zi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Se,underlineThickness:Se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Se,values:null,vAlphabetic:Se,vMathematical:Se,vectorEffect:null,vHanging:Se,vIdeographic:Se,version:null,vertAdvY:Se,vertOriginX:Se,vertOriginY:Se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:fae}),gae=fx({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),xae=fx({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:pae}),yae=fx({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),EBe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},TBe=/[A-Z]/g,_z=/-[a-z]/g,ABe=/^data[-\w.:]+$/i;function PBe(e,t){const n=SO(t);let r=t,i=Fi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ABe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(_z,OBe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!_z.test(a)){let o=a.replace(TBe,IBe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=ND}return new i(r,t)}function IBe(e){return"-"+e.toLowerCase()}function OBe(e){return e.charAt(1).toUpperCase()}const RBe=hae([mae,_Be,gae,xae,yae],"html"),kD=hae([mae,CBe,gae,xae,yae],"svg");function MBe(e){return e.join(" ").trim()}var _D={},Cz=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,DBe=/\n/g,LBe=/^\s*/,$Be=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,FBe=/^:\s*/,BBe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,UBe=/^[;\s]*/,zBe=/^\s+|\s+$/g,VBe=`
`,Ez="/",Tz="*",xh="",qBe="comment",WBe="declaration";function HBe(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(DBe);g&&(n+=g.length);var y=p.lastIndexOf(VBe);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new o(p),d(),g}}function o(p){this.start=p,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function c(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function d(){c(LBe)}function u(p){var g;for(p=p||[];g=h();)g!==!1&&p.push(g);return p}function h(){var p=a();if(!(Ez!=e.charAt(0)||Tz!=e.charAt(1))){for(var g=2;xh!=e.charAt(g)&&(Tz!=e.charAt(g)||Ez!=e.charAt(g+1));)++g;if(g+=2,xh===e.charAt(g-1))return l("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:qBe,comment:y})}}function m(){var p=a(),g=c($Be);if(g){if(h(),!c(FBe))return l("property missing ':'");var y=c(BBe),v=p({type:WBe,property:Az(g[0].replace(Cz,xh)),value:y?Az(y[0].replace(Cz,xh)):xh});return c(UBe),v}}function f(){var p=[];u(p);for(var g;g=m();)g!==!1&&(p.push(g),u(p));return p}return d(),f()}function Az(e){return e?e.replace(zBe,xh):xh}var KBe=HBe,GBe=Ad&&Ad.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_D,"__esModule",{value:!0});_D.default=XBe;const YBe=GBe(KBe);function XBe(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,YBe.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:o,value:l}=a;i?t(o,l,a):l&&(n=n||{},n[o]=l)}),n}var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.camelCase=void 0;var JBe=/^--[a-zA-Z0-9_-]+$/,QBe=/-([a-z])/g,ZBe=/^[^-]+$/,e9e=/^-(webkit|moz|ms|o|khtml)-/,t9e=/^-(ms)-/,n9e=function(e){return!e||ZBe.test(e)||JBe.test(e)},r9e=function(e,t){return t.toUpperCase()},Pz=function(e,t){return"".concat(t,"-")},s9e=function(e,t){return t===void 0&&(t={}),n9e(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(t9e,Pz):e=e.replace(e9e,Pz),e.replace(QBe,r9e))};Q_.camelCase=s9e;var i9e=Ad&&Ad.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a9e=i9e(_D),o9e=Q_;function _O(e,t){var n={};return!e||typeof e!="string"||(0,a9e.default)(e,function(r,i){r&&i&&(n[(0,o9e.camelCase)(r,t)]=i)}),n}_O.default=_O;var l9e=_O;const c9e=un(l9e),vae=bae("end"),CD=bae("start");function bae(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function d9e(e){const t=CD(e),n=vae(e);if(t&&n)return{start:t,end:n}}function dv(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Iz(e.position):"start"in e||"end"in e?Iz(e):"line"in e||"column"in e?CO(e):""}function CO(e){return Oz(e&&e.line)+":"+Oz(e&&e.column)}function Iz(e){return CO(e&&e.start)+"-"+CO(e&&e.end)}function Oz(e){return e&&typeof e=="number"?e:1}class Us extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=dv(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Us.prototype.file="";Us.prototype.name="";Us.prototype.reason="";Us.prototype.message="";Us.prototype.stack="";Us.prototype.column=void 0;Us.prototype.line=void 0;Us.prototype.ancestors=void 0;Us.prototype.cause=void 0;Us.prototype.fatal=void 0;Us.prototype.place=void 0;Us.prototype.ruleId=void 0;Us.prototype.source=void 0;const ED={}.hasOwnProperty,u9e=new Map,h9e=/[A-Z]/g,m9e=new Set(["table","tbody","thead","tfoot","tr"]),f9e=new Set(["td","th"]),wae="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function p9e(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=S9e(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=j9e(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?kD:RBe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=jae(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function jae(e,t,n){if(t.type==="element")return g9e(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return x9e(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return v9e(e,t,n);if(t.type==="mdxjsEsm")return y9e(e,t);if(t.type==="root")return b9e(e,t,n);if(t.type==="text")return w9e(e,t)}function g9e(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=kD,e.schema=i),e.ancestors.push(t);const a=Nae(e,t.tagName,!1),o=N9e(e,t);let l=AD(e,t);return m9e.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!NBe(c):!0})),Sae(e,o,a,t),TD(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function x9e(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}S0(e,t.position)}function y9e(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);S0(e,t.position)}function v9e(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=kD,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:Nae(e,t.name,!0),o=k9e(e,t),l=AD(e,t);return Sae(e,o,a,t),TD(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function b9e(e,t,n){const r={};return TD(r,AD(e,t)),e.create(t,e.Fragment,r,n)}function w9e(e,t){return t.value}function Sae(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function TD(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function j9e(e,t,n){return r;function r(i,a,o,l){const d=Array.isArray(o.children)?n:t;return l?d(a,o,l):d(a,o)}}function S9e(e,t){return n;function n(r,i,a,o){const l=Array.isArray(a.children),c=CD(r);return t(i,a,o,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function N9e(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&ED.call(t.properties,i)){const a=_9e(e,i,t.properties[i]);if(a){const[o,l]=a;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&f9e.has(t.tagName)?r=l:n[o]=l}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function k9e(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else S0(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,a=e.evaluater.evaluateExpression(l.expression)}else S0(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function AD(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:u9e;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const d=i.get(c)||0;o=c+"-"+d,i.set(c,d+1)}}const l=jae(e,a,o);l!==void 0&&n.push(l)}return n}function _9e(e,t,n){const r=PBe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?vBe(n):MBe(n)),r.property==="style"){let i=typeof n=="object"?n:C9e(e,String(n));return e.stylePropertyNameCase==="css"&&(i=E9e(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?EBe[r.property]||r.property:r.attribute,n]}}function C9e(e,t){try{return c9e(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Us("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=wae+"#cannot-parse-style-attribute",i}}function Nae(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const l=Sz(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=o}else r=Sz(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return ED.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);S0(e)}function S0(e,t){const n=new Us("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=wae+"#cannot-handle-mdx-estrees-without-createevaluater",n}function E9e(e){const t={};let n;for(n in e)ED.call(e,n)&&(t[T9e(n)]=e[n]);return t}function T9e(e){let t=e.replace(h9e,A9e);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function A9e(e){return"-"+e.toLowerCase()}const u2={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},P9e={};function I9e(e,t){const n=P9e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return kae(e,r,i)}function kae(e,t,n){if(O9e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Rz(e.children,t,n)}return Array.isArray(e)?Rz(e,t,n):""}function Rz(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=kae(e[i],t,n);return r.join("")}function O9e(e){return!!(e&&typeof e=="object")}const Mz=document.createElement("i");function PD(e){const t="&"+e+";";Mz.innerHTML=t;const n=Mz.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function El(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Ia(e,t){return e.length>0?(El(e,e.length,0,t),e):t}const Dz={}.hasOwnProperty;function R9e(e){const t={};let n=-1;for(;++n<e.length;)M9e(t,e[n]);return t}function M9e(e,t){let n;for(n in t){const i=(Dz.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){Dz.call(i,o)||(i[o]=[]);const l=a[o];D9e(i[o],Array.isArray(l)?l:l?[l]:[])}}}function D9e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);El(e,0,0,r)}function _ae(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function xp(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const il=Bu(/[A-Za-z]/),sa=Bu(/[\dA-Za-z]/),L9e=Bu(/[#-'*+\--9=?A-Z^-~]/);function EO(e){return e!==null&&(e<32||e===127)}const TO=Bu(/\d/),$9e=Bu(/[\dA-Fa-f]/),F9e=Bu(/[!-/:-@[-`{-~]/);function yt(e){return e!==null&&e<-2}function Ti(e){return e!==null&&(e<0||e===32)}function mn(e){return e===-2||e===-1||e===32}const B9e=Bu(new RegExp("\\p{P}|\\p{S}","u")),U9e=Bu(/\s/);function Bu(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function px(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&sa(e.charCodeAt(n+1))&&sa(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(o=String.fromCharCode(a,l),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Bn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(c){return mn(c)?(e.enter(n),l(c)):t(c)}function l(c){return mn(c)&&a++<i?(e.consume(c),l):(e.exit(n),t(c))}}const z9e={tokenize:V9e};function V9e(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Bn(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return yt(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),o)}}const q9e={tokenize:W9e},Lz={tokenize:H9e};function W9e(e){const t=this,n=[];let r=0,i,a,o;return l;function l(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,c,d)(w)}return d(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let j=S,N;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){N=t.events[j][1].end;break}v(r);let k=S;for(;k<t.events.length;)t.events[k][1].end={...N},k++;return El(t.events,j+1,0,t.events.slice(S)),t.events.length=k,d(w)}return l(w)}function d(w){if(r===n.length){if(!i)return m(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Lz,u,h)(w)}function u(w){return i&&b(),v(r),m(w)}function h(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(w)}function m(w){return t.containerState={},e.attempt(Lz,f,p)(w)}function f(w){return r++,n.push([t.currentConstruct,t.containerState]),m(w)}function p(w){if(w===null){i&&b(),v(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return yt(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),g)}function y(w,S){const j=t.sliceStream(w);if(S&&j.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(j),t.parser.lazy[w.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<o&&(!i.events[N][1].end||i.events[N][1].end.offset>o))return;const k=t.events.length;let _=k,C,T;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){if(C){T=t.events[_][1].end;break}C=!0}for(v(r),N=k;N<t.events.length;)t.events[N][1].end={...T},N++;El(t.events,_+1,0,t.events.slice(k)),t.events.length=N}}function v(w){let S=n.length;for(;S-- >w;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function H9e(e,t,n){return Bn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function $z(e){if(e===null||Ti(e)||U9e(e))return 1;if(B9e(e))return 2}function ID(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const AO={name:"attention",resolveAll:K9e,tokenize:G9e};function K9e(e,t){let n=-1,r,i,a,o,l,c,d,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},m={...e[n][1].start};Fz(h,-c),Fz(m,c),o={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Ia(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Ia(d,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),d=Ia(d,ID(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Ia(d,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,d=Ia(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,El(e,r-1,n-r+3,d),n=r+d.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function G9e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=$z(r);let a;return o;function o(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const d=e.exit("attentionSequence"),u=$z(c),h=!u||u===2&&i||n.includes(c),m=!i||i===2&&u||n.includes(r);return d._open=!!(a===42?h:h&&(i||!m)),d._close=!!(a===42?m:m&&(u||!h)),t(c)}}function Fz(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Y9e={name:"autolink",tokenize:X9e};function X9e(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(f){return il(f)?(e.consume(f),o):f===64?n(f):d(f)}function o(f){return f===43||f===45||f===46||sa(f)?(r=1,l(f)):d(f)}function l(f){return f===58?(e.consume(f),r=0,c):(f===43||f===45||f===46||sa(f))&&r++<32?(e.consume(f),l):(r=0,d(f))}function c(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||EO(f)?n(f):(e.consume(f),c)}function d(f){return f===64?(e.consume(f),u):L9e(f)?(e.consume(f),d):n(f)}function u(f){return sa(f)?h(f):n(f)}function h(f){return f===46?(e.consume(f),r=0,u):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):m(f)}function m(f){if((f===45||sa(f))&&r++<63){const p=f===45?m:h;return e.consume(f),p}return n(f)}}const Z_={partial:!0,tokenize:J9e};function J9e(e,t,n){return r;function r(a){return mn(a)?Bn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||yt(a)?t(a):n(a)}}const Cae={continuation:{tokenize:Z9e},exit:eUe,name:"blockQuote",tokenize:Q9e};function Q9e(e,t,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return mn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Z9e(e,t,n){const r=this;return i;function i(o){return mn(o)?Bn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(Cae,t,n)(o)}}function eUe(e){e.exit("blockQuote")}const Eae={name:"characterEscape",tokenize:tUe};function tUe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return F9e(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const Tae={name:"characterReference",tokenize:nUe};function nUe(e,t,n){const r=this;let i=0,a,o;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),a=31,o=sa,u(h))}function d(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=$9e,u):(e.enter("characterReferenceValue"),a=7,o=TO,u(h))}function u(h){if(h===59&&i){const m=e.exit("characterReferenceValue");return o===sa&&!PD(r.sliceSerialize(m))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<a?(e.consume(h),u):n(h)}}const Bz={partial:!0,tokenize:sUe},Uz={concrete:!0,name:"codeFenced",tokenize:rUe};function rUe(e,t,n){const r=this,i={partial:!0,tokenize:j};let a=0,o=0,l;return c;function c(N){return d(N)}function d(N){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,l=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(N)}function u(N){return N===l?(o++,e.consume(N),u):o<3?n(N):(e.exit("codeFencedFenceSequence"),mn(N)?Bn(e,h,"whitespace")(N):h(N))}function h(N){return N===null||yt(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(Bz,g,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(N))}function m(N){return N===null||yt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(N)):mn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Bn(e,f,"whitespace")(N)):N===96&&N===l?n(N):(e.consume(N),m)}function f(N){return N===null||yt(N)?h(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||yt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(N)):N===96&&N===l?n(N):(e.consume(N),p)}function g(N){return e.attempt(i,S,y)(N)}function y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),v}function v(N){return a>0&&mn(N)?Bn(e,b,"linePrefix",a+1)(N):b(N)}function b(N){return N===null||yt(N)?e.check(Bz,g,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||yt(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function j(N,k,_){let C=0;return T;function T($){return N.enter("lineEnding"),N.consume($),N.exit("lineEnding"),A}function A($){return N.enter("codeFencedFence"),mn($)?Bn(N,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):P($)}function P($){return $===l?(N.enter("codeFencedFenceSequence"),R($)):_($)}function R($){return $===l?(C++,N.consume($),R):C>=o?(N.exit("codeFencedFenceSequence"),mn($)?Bn(N,D,"whitespace")($):D($)):_($)}function D($){return $===null||yt($)?(N.exit("codeFencedFence"),k($)):_($)}}}function sUe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const h2={name:"codeIndented",tokenize:aUe},iUe={partial:!0,tokenize:oUe};function aUe(e,t,n){const r=this;return i;function i(d){return e.enter("codeIndented"),Bn(e,a,"linePrefix",5)(d)}function a(d){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(d):n(d)}function o(d){return d===null?c(d):yt(d)?e.attempt(iUe,o,c)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||yt(d)?(e.exit("codeFlowValue"),o(d)):(e.consume(d),l)}function c(d){return e.exit("codeIndented"),t(d)}}function oUe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):yt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Bn(e,a,"linePrefix",5)(o)}function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):yt(o)?i(o):n(o)}}const lUe={name:"codeText",previous:dUe,resolve:cUe,tokenize:uUe};function cUe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function dUe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function uUe(e,t,n){let r=0,i,a;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(a=e.enter("codeTextSequence"),i=0,u(h)):yt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(h))}function d(h){return h===null||h===32||h===96||yt(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),d)}function u(h){return h===96?(e.consume(h),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",d(h))}}class hUe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Qx(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Qx(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Qx(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Qx(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Qx(this.left,n.reverse())}}}function Qx(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Aae(e){const t={};let n=-1,r,i,a,o,l,c,d;const u=new hUe(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,mUe(u,n)),n=t[n],d=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=u.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},l=u.slice(i,n),l.unshift(r),u.splice(i,n-i+1,l))}}return El(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!d}function mUe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],d={};let u,h,m=-1,f=n,p=0,g=0;const y=[g];for(;f;){for(;e.get(++i)[1]!==f;);a.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),h&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(g=m+1,y.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):y.pop(),m=y.length;m--;){const v=l.slice(y[m],y[m+1]),b=a.pop();c.push([b,b+v.length-1]),e.splice(b,2,v)}for(c.reverse(),m=-1;++m<c.length;)d[p+c[m][0]]=p+c[m][1],p+=c[m][1]-c[m][0]-1;return d}const fUe={resolve:gUe,tokenize:xUe},pUe={partial:!0,tokenize:yUe};function gUe(e){return Aae(e),e}function xUe(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):yt(l)?e.check(pUe,o,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function yUe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Bn(e,a,"linePrefix")}function a(o){if(o===null||yt(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Pae(e,t,n,r,i,a,o,l,c){const d=c||Number.POSITIVE_INFINITY;let u=0;return h;function h(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),m):v===null||v===32||v===41||EO(v)?n(v):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),g(v))}function m(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===62?(e.exit("chunkString"),e.exit(l),m(v)):v===null||v===60||yt(v)?n(v):(e.consume(v),v===92?p:f)}function p(v){return v===60||v===62||v===92?(e.consume(v),f):f(v)}function g(v){return!u&&(v===null||v===41||Ti(v))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(v)):u<d&&v===40?(e.consume(v),u++,g):v===41?(e.consume(v),u--,g):v===null||v===32||v===40||EO(v)?n(v):(e.consume(v),v===92?y:g)}function y(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function Iae(e,t,n,r,i,a){const o=this;let l=0,c;return d;function d(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(a),u}function u(f){return l>999||f===null||f===91||f===93&&!c||f===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):f===93?(e.exit(a),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):yt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||yt(f)||l++>999?(e.exit("chunkString"),u(f)):(e.consume(f),c||(c=!mn(f)),f===92?m:h)}function m(f){return f===91||f===92||f===93?(e.consume(f),l++,h):h(f)}}function Oae(e,t,n,r,i,a){let o;return l;function l(m){return m===34||m===39||m===40?(e.enter(r),e.enter(i),e.consume(m),e.exit(i),o=m===40?41:m,c):n(m)}function c(m){return m===o?(e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):(e.enter(a),d(m))}function d(m){return m===o?(e.exit(a),c(o)):m===null?n(m):yt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Bn(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(m))}function u(m){return m===o||m===null||yt(m)?(e.exit("chunkString"),d(m)):(e.consume(m),m===92?h:u)}function h(m){return m===o||m===92?(e.consume(m),u):u(m)}}function uv(e,t){let n;return r;function r(i){return yt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):mn(i)?Bn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const vUe={name:"definition",tokenize:wUe},bUe={partial:!0,tokenize:jUe};function wUe(e,t,n){const r=this;let i;return a;function a(f){return e.enter("definition"),o(f)}function o(f){return Iae.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function l(f){return i=xp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),c):n(f)}function c(f){return Ti(f)?uv(e,d)(f):d(f)}function d(f){return Pae(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function u(f){return e.attempt(bUe,h,h)(f)}function h(f){return mn(f)?Bn(e,m,"whitespace")(f):m(f)}function m(f){return f===null||yt(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function jUe(e,t,n){return r;function r(l){return Ti(l)?uv(e,i)(l):n(l)}function i(l){return Oae(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return mn(l)?Bn(e,o,"whitespace")(l):o(l)}function o(l){return l===null||yt(l)?t(l):n(l)}}const SUe={name:"hardBreakEscape",tokenize:NUe};function NUe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return yt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const kUe={name:"headingAtx",resolve:_Ue,tokenize:CUe};function _Ue(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},El(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function CUe(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(e.consume(u),o):u===null||Ti(u)?(e.exit("atxHeadingSequence"),l(u)):n(u)}function l(u){return u===35?(e.enter("atxHeadingSequence"),c(u)):u===null||yt(u)?(e.exit("atxHeading"),t(u)):mn(u)?Bn(e,l,"whitespace")(u):(e.enter("atxHeadingText"),d(u))}function c(u){return u===35?(e.consume(u),c):(e.exit("atxHeadingSequence"),l(u))}function d(u){return u===null||u===35||Ti(u)?(e.exit("atxHeadingText"),l(u)):(e.consume(u),d)}}const EUe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],zz=["pre","script","style","textarea"],TUe={concrete:!0,name:"htmlFlow",resolveTo:IUe,tokenize:OUe},AUe={partial:!0,tokenize:MUe},PUe={partial:!0,tokenize:RUe};function IUe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function OUe(e,t,n){const r=this;let i,a,o,l,c;return d;function d(U){return u(U)}function u(U){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(U),h}function h(U){return U===33?(e.consume(U),m):U===47?(e.consume(U),a=!0,g):U===63?(e.consume(U),i=3,r.interrupt?t:I):il(U)?(e.consume(U),o=String.fromCharCode(U),y):n(U)}function m(U){return U===45?(e.consume(U),i=2,f):U===91?(e.consume(U),i=5,l=0,p):il(U)?(e.consume(U),i=4,r.interrupt?t:I):n(U)}function f(U){return U===45?(e.consume(U),r.interrupt?t:I):n(U)}function p(U){const X="CDATA[";return U===X.charCodeAt(l++)?(e.consume(U),l===X.length?r.interrupt?t:P:p):n(U)}function g(U){return il(U)?(e.consume(U),o=String.fromCharCode(U),y):n(U)}function y(U){if(U===null||U===47||U===62||Ti(U)){const X=U===47,le=o.toLowerCase();return!X&&!a&&zz.includes(le)?(i=1,r.interrupt?t(U):P(U)):EUe.includes(o.toLowerCase())?(i=6,X?(e.consume(U),v):r.interrupt?t(U):P(U)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(U):a?b(U):w(U))}return U===45||sa(U)?(e.consume(U),o+=String.fromCharCode(U),y):n(U)}function v(U){return U===62?(e.consume(U),r.interrupt?t:P):n(U)}function b(U){return mn(U)?(e.consume(U),b):T(U)}function w(U){return U===47?(e.consume(U),T):U===58||U===95||il(U)?(e.consume(U),S):mn(U)?(e.consume(U),w):T(U)}function S(U){return U===45||U===46||U===58||U===95||sa(U)?(e.consume(U),S):j(U)}function j(U){return U===61?(e.consume(U),N):mn(U)?(e.consume(U),j):w(U)}function N(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(e.consume(U),c=U,k):mn(U)?(e.consume(U),N):_(U)}function k(U){return U===c?(e.consume(U),c=null,C):U===null||yt(U)?n(U):(e.consume(U),k)}function _(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||Ti(U)?j(U):(e.consume(U),_)}function C(U){return U===47||U===62||mn(U)?w(U):n(U)}function T(U){return U===62?(e.consume(U),A):n(U)}function A(U){return U===null||yt(U)?P(U):mn(U)?(e.consume(U),A):n(U)}function P(U){return U===45&&i===2?(e.consume(U),M):U===60&&i===1?(e.consume(U),F):U===62&&i===4?(e.consume(U),z):U===63&&i===3?(e.consume(U),I):U===93&&i===5?(e.consume(U),L):yt(U)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(AUe,H,R)(U)):U===null||yt(U)?(e.exit("htmlFlowData"),R(U)):(e.consume(U),P)}function R(U){return e.check(PUe,D,H)(U)}function D(U){return e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),$}function $(U){return U===null||yt(U)?R(U):(e.enter("htmlFlowData"),P(U))}function M(U){return U===45?(e.consume(U),I):P(U)}function F(U){return U===47?(e.consume(U),o="",O):P(U)}function O(U){if(U===62){const X=o.toLowerCase();return zz.includes(X)?(e.consume(U),z):P(U)}return il(U)&&o.length<8?(e.consume(U),o+=String.fromCharCode(U),O):P(U)}function L(U){return U===93?(e.consume(U),I):P(U)}function I(U){return U===62?(e.consume(U),z):U===45&&i===2?(e.consume(U),I):P(U)}function z(U){return U===null||yt(U)?(e.exit("htmlFlowData"),H(U)):(e.consume(U),z)}function H(U){return e.exit("htmlFlow"),t(U)}}function RUe(e,t,n){const r=this;return i;function i(o){return yt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function MUe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Z_,t,n)}}const DUe={name:"htmlText",tokenize:LUe};function LUe(e,t,n){const r=this;let i,a,o;return l;function l(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),c}function c(I){return I===33?(e.consume(I),d):I===47?(e.consume(I),j):I===63?(e.consume(I),w):il(I)?(e.consume(I),_):n(I)}function d(I){return I===45?(e.consume(I),u):I===91?(e.consume(I),a=0,p):il(I)?(e.consume(I),b):n(I)}function u(I){return I===45?(e.consume(I),f):n(I)}function h(I){return I===null?n(I):I===45?(e.consume(I),m):yt(I)?(o=h,F(I)):(e.consume(I),h)}function m(I){return I===45?(e.consume(I),f):h(I)}function f(I){return I===62?M(I):I===45?m(I):h(I)}function p(I){const z="CDATA[";return I===z.charCodeAt(a++)?(e.consume(I),a===z.length?g:p):n(I)}function g(I){return I===null?n(I):I===93?(e.consume(I),y):yt(I)?(o=g,F(I)):(e.consume(I),g)}function y(I){return I===93?(e.consume(I),v):g(I)}function v(I){return I===62?M(I):I===93?(e.consume(I),v):g(I)}function b(I){return I===null||I===62?M(I):yt(I)?(o=b,F(I)):(e.consume(I),b)}function w(I){return I===null?n(I):I===63?(e.consume(I),S):yt(I)?(o=w,F(I)):(e.consume(I),w)}function S(I){return I===62?M(I):w(I)}function j(I){return il(I)?(e.consume(I),N):n(I)}function N(I){return I===45||sa(I)?(e.consume(I),N):k(I)}function k(I){return yt(I)?(o=k,F(I)):mn(I)?(e.consume(I),k):M(I)}function _(I){return I===45||sa(I)?(e.consume(I),_):I===47||I===62||Ti(I)?C(I):n(I)}function C(I){return I===47?(e.consume(I),M):I===58||I===95||il(I)?(e.consume(I),T):yt(I)?(o=C,F(I)):mn(I)?(e.consume(I),C):M(I)}function T(I){return I===45||I===46||I===58||I===95||sa(I)?(e.consume(I),T):A(I)}function A(I){return I===61?(e.consume(I),P):yt(I)?(o=A,F(I)):mn(I)?(e.consume(I),A):C(I)}function P(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),i=I,R):yt(I)?(o=P,F(I)):mn(I)?(e.consume(I),P):(e.consume(I),D)}function R(I){return I===i?(e.consume(I),i=void 0,$):I===null?n(I):yt(I)?(o=R,F(I)):(e.consume(I),R)}function D(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||Ti(I)?C(I):(e.consume(I),D)}function $(I){return I===47||I===62||Ti(I)?C(I):n(I)}function M(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}function F(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),O}function O(I){return mn(I)?Bn(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):L(I)}function L(I){return e.enter("htmlTextData"),o(I)}}const OD={name:"labelEnd",resolveAll:UUe,resolveTo:zUe,tokenize:VUe},$Ue={tokenize:qUe},FUe={tokenize:WUe},BUe={tokenize:HUe};function UUe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&El(e,0,e.length,n),e}function zUe(e,t){let n=e.length,r=0,i,a,o,l;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",c,t],["enter",d,t]],l=Ia(l,e.slice(a+1,a+r+3)),l=Ia(l,[["enter",u,t]]),l=Ia(l,ID(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),l=Ia(l,[["exit",u,t],e[o-2],e[o-1],["exit",d,t]]),l=Ia(l,e.slice(o+1)),l=Ia(l,[["exit",c,t]]),El(e,a,e.length,l),e}function VUe(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(m){return a?a._inactive?h(m):(o=r.parser.defined.includes(xp(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),c):n(m)}function c(m){return m===40?e.attempt($Ue,u,o?u:h)(m):m===91?e.attempt(FUe,u,o?d:h)(m):o?u(m):h(m)}function d(m){return e.attempt(BUe,u,h)(m)}function u(m){return t(m)}function h(m){return a._balanced=!0,n(m)}}function qUe(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Ti(h)?uv(e,a)(h):a(h)}function a(h){return h===41?u(h):Pae(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Ti(h)?uv(e,c)(h):u(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?Oae(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function d(h){return Ti(h)?uv(e,u)(h):u(h)}function u(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function WUe(e,t,n){const r=this;return i;function i(l){return Iae.call(r,e,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(xp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function HUe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const KUe={name:"labelStartImage",resolveAll:OD.resolveAll,tokenize:GUe};function GUe(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const YUe={name:"labelStartLink",resolveAll:OD.resolveAll,tokenize:XUe};function XUe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const m2={name:"lineEnding",tokenize:JUe};function JUe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Bn(e,t,"linePrefix")}}const Oj={name:"thematicBreak",tokenize:QUe};function QUe(e,t,n){let r=0,i;return a;function a(d){return e.enter("thematicBreak"),o(d)}function o(d){return i=d,l(d)}function l(d){return d===i?(e.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||yt(d))?(e.exit("thematicBreak"),t(d)):n(d)}function c(d){return d===i?(e.consume(d),r++,c):(e.exit("thematicBreakSequence"),mn(d)?Bn(e,l,"whitespace")(d):l(d))}}const mi={continuation:{tokenize:nze},exit:sze,name:"list",tokenize:tze},ZUe={partial:!0,tokenize:ize},eze={partial:!0,tokenize:rze};function tze(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(f){const p=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:TO(f)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Oj,n,d)(f):d(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(f)}return n(f)}function c(f){return TO(f)&&++o<10?(e.consume(f),c):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),d(f)):n(f)}function d(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(Z_,r.interrupt?n:u,e.attempt(ZUe,m,h))}function u(f){return r.containerState.initialBlankLine=!0,a++,m(f)}function h(f){return mn(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),m):n(f)}function m(f){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function nze(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Z_,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Bn(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!mn(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(eze,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Bn(e,e.attempt(mi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function rze(e,t,n){const r=this;return Bn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function sze(e){e.exit(this.containerState.type)}function ize(e,t,n){const r=this;return Bn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!mn(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const Vz={name:"setextUnderline",resolveTo:aze,tokenize:oze};function aze(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function oze(e,t,n){const r=this;let i;return a;function a(d){let u=r.events.length,h;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){h=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=d,o(d)):n(d)}function o(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),mn(d)?Bn(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||yt(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const lze={tokenize:cze};function cze(e){const t=this,n=e.attempt(Z_,r,e.attempt(this.parser.constructs.flowInitial,i,Bn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(fUe,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const dze={resolveAll:Mae()},uze=Rae("string"),hze=Rae("text");function Rae(e){return{resolveAll:Mae(e==="text"?mze:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,l);return o;function o(u){return d(u)?a(u):l(u)}function l(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),c}function c(u){return d(u)?(n.exit("data"),a(u)):(n.consume(u),c)}function d(u){if(u===null)return!0;const h=i[u];let m=-1;if(h)for(;++m<h.length;){const f=h[m];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function Mae(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function mze(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,l=0,c;for(;a--;){const d=i[a];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(d===-2)c=!0,l++;else if(d!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const d={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const fze={42:mi,43:mi,45:mi,48:mi,49:mi,50:mi,51:mi,52:mi,53:mi,54:mi,55:mi,56:mi,57:mi,62:Cae},pze={91:vUe},gze={[-2]:h2,[-1]:h2,32:h2},xze={35:kUe,42:Oj,45:[Vz,Oj],60:TUe,61:Vz,95:Oj,96:Uz,126:Uz},yze={38:Tae,92:Eae},vze={[-5]:m2,[-4]:m2,[-3]:m2,33:KUe,38:Tae,42:AO,60:[Y9e,DUe],91:YUe,92:[SUe,Eae],93:OD,95:AO,96:lUe},bze={null:[AO,dze]},wze={null:[42,95]},jze={null:[]},Sze=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:wze,contentInitial:pze,disable:jze,document:fze,flow:xze,flowInitial:gze,insideSpan:bze,string:yze,text:vze},Symbol.toStringTag,{value:"Module"}));function Nze(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],l=[];const c={attempt:k(j),check:k(N),consume:b,enter:w,exit:S,interrupt:k(N,{interrupt:!0})},d={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:m,sliceStream:f,write:h};let u=t.tokenize.call(d,c);return t.resolveAll&&a.push(t),d;function h(A){return o=Ia(o,A),y(),o[o.length-1]!==null?[]:(_(t,0),d.events=ID(a,d.events,d),d.events)}function m(A,P){return _ze(f(A),P)}function f(A){return kze(o,A)}function p(){const{_bufferIndex:A,_index:P,line:R,column:D,offset:$}=r;return{_bufferIndex:A,_index:P,line:R,column:D,offset:$}}function g(A){i[A.line]=A.column,T()}function y(){let A;for(;r._index<o.length;){const P=o[r._index];if(typeof P=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<P.length;)v(P.charCodeAt(r._bufferIndex));else v(P)}}function v(A){u=u(A)}function b(A){yt(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,T()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=A}function w(A,P){const R=P||{};return R.type=A,R.start=p(),d.events.push(["enter",R,d]),l.push(R),R}function S(A){const P=l.pop();return P.end=p(),d.events.push(["exit",P,d]),P}function j(A,P){_(A,P.from)}function N(A,P){P.restore()}function k(A,P){return R;function R(D,$,M){let F,O,L,I;return Array.isArray(D)?H(D):"tokenize"in D?H([D]):z(D);function z(de){return oe;function oe(Ne){const K=Ne!==null&&de[Ne],he=Ne!==null&&de.null,re=[...Array.isArray(K)?K:K?[K]:[],...Array.isArray(he)?he:he?[he]:[]];return H(re)(Ne)}}function H(de){return F=de,O=0,de.length===0?M:U(de[O])}function U(de){return oe;function oe(Ne){return I=C(),L=de,de.partial||(d.currentConstruct=de),de.name&&d.parser.constructs.disable.null.includes(de.name)?le():de.tokenize.call(P?Object.assign(Object.create(d),P):d,c,X,le)(Ne)}}function X(de){return A(L,I),$}function le(de){return I.restore(),++O<F.length?U(F[O]):M}}}function _(A,P){A.resolveAll&&!a.includes(A)&&a.push(A),A.resolve&&El(d.events,P,d.events.length-P,A.resolve(d.events.slice(P),d)),A.resolveTo&&(d.events=A.resolveTo(d.events,d))}function C(){const A=p(),P=d.previous,R=d.currentConstruct,D=d.events.length,$=Array.from(l);return{from:D,restore:M};function M(){r=A,d.previous=P,d.currentConstruct=R,d.events.length=D,l=$,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function kze(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function _ze(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function Cze(e){const r={constructs:R9e([Sze,...(e||{}).extensions||[]]),content:i(z9e),defined:[],document:i(q9e),flow:i(lze),lazy:{},string:i(uze),text:i(hze)};return r;function i(a){return o;function o(l){return Nze(r,a,l)}}}function Eze(e){for(;!Aae(e););return e}const qz=/[\0\t\n\r]/g;function Tze(){let e=1,t="",n=!0,r;return i;function i(a,o,l){const c=[];let d,u,h,m,f;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),h=0,t="",n&&(a.charCodeAt(0)===65279&&h++,n=void 0);h<a.length;){if(qz.lastIndex=h,d=qz.exec(a),m=d&&d.index!==void 0?d.index:a.length,f=a.charCodeAt(m),!d){t=a.slice(h);break}if(f===10&&h===m&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<m&&(c.push(a.slice(h,m)),e+=m-h),f){case 0:{c.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,c.push(-2);e++<u;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}h=m+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const Aze=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Pze(e){return e.replace(Aze,Ize)}function Ize(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return _ae(n.slice(a?2:1),a?16:10)}return PD(n)||e}const Dae={}.hasOwnProperty;function Oze(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Rze(n)(Eze(Cze(n).document().write(Tze()(e,t,!0))))}function Rze(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(wt),autolinkProtocol:C,autolinkEmail:C,atxHeading:a(ut),blockQuote:a(he),characterEscape:C,characterReference:C,codeFenced:a(re),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(re,o),codeText:a(Q,o),codeTextData:C,data:C,codeFlowValue:C,definition:a(ge),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(Oe),hardBreakEscape:a(nt),hardBreakTrailing:a(nt),htmlFlow:a(ne,o),htmlFlowData:C,htmlText:a(ne,o),htmlTextData:C,image:a(Xe),label:o,link:a(wt),listItem:a(Re),listItemValue:m,listOrdered:a(Ve,h),listUnordered:a(Ve),paragraph:a(Le),reference:U,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ut),strong:a(Me),thematicBreak:a(rt)},exit:{atxHeading:c(),atxHeadingSequence:j,autolink:c(),autolinkEmail:K,autolinkProtocol:Ne,blockQuote:c(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:le,characterReferenceMarkerNumeric:le,characterReferenceValue:de,characterReference:oe,codeFenced:c(y),codeFencedFence:g,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:c(v),codeText:c($),codeTextData:T,data:T,definition:c(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(P),hardBreakTrailing:c(P),htmlFlow:c(R),htmlFlowData:T,htmlText:c(D),htmlTextData:T,image:c(F),label:L,labelText:O,lineEnding:A,link:c(M),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:X,resourceDestinationString:I,resourceTitleString:z,resource:H,setextHeading:c(_),setextHeadingLineSequence:k,setextHeadingText:N,strong:c(),thematicBreak:c()}};Lae(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ie){let be={type:"root",children:[]};const Qe={stack:[be],tokenStack:[],config:t,enter:l,exit:d,buffer:o,resume:u,data:n},at=[];let Ot=-1;for(;++Ot<ie.length;)if(ie[Ot][1].type==="listOrdered"||ie[Ot][1].type==="listUnordered")if(ie[Ot][0]==="enter")at.push(Ot);else{const Pr=at.pop();Ot=i(ie,Pr,Ot)}for(Ot=-1;++Ot<ie.length;){const Pr=t[ie[Ot][0]];Dae.call(Pr,ie[Ot][1].type)&&Pr[ie[Ot][1].type].call(Object.assign({sliceSerialize:ie[Ot][2].sliceSerialize},Qe),ie[Ot][1])}if(Qe.tokenStack.length>0){const Pr=Qe.tokenStack[Qe.tokenStack.length-1];(Pr[1]||Wz).call(Qe,void 0,Pr[0])}for(be.position={start:rd(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:rd(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},Ot=-1;++Ot<t.transforms.length;)be=t.transforms[Ot](be)||be;return be}function i(ie,be,Qe){let at=be-1,Ot=-1,Pr=!1,Qt,Lt,Rt,mr;for(;++at<=Qe;){const Jn=ie[at];switch(Jn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Jn[0]==="enter"?Ot++:Ot--,mr=void 0;break}case"lineEndingBlank":{Jn[0]==="enter"&&(Qt&&!mr&&!Ot&&!Rt&&(Rt=at),mr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mr=void 0}if(!Ot&&Jn[0]==="enter"&&Jn[1].type==="listItemPrefix"||Ot===-1&&Jn[0]==="exit"&&(Jn[1].type==="listUnordered"||Jn[1].type==="listOrdered")){if(Qt){let Ir=at;for(Lt=void 0;Ir--;){const kr=ie[Ir];if(kr[1].type==="lineEnding"||kr[1].type==="lineEndingBlank"){if(kr[0]==="exit")continue;Lt&&(ie[Lt][1].type="lineEndingBlank",Pr=!0),kr[1].type="lineEnding",Lt=Ir}else if(!(kr[1].type==="linePrefix"||kr[1].type==="blockQuotePrefix"||kr[1].type==="blockQuotePrefixWhitespace"||kr[1].type==="blockQuoteMarker"||kr[1].type==="listItemIndent"))break}Rt&&(!Lt||Rt<Lt)&&(Qt._spread=!0),Qt.end=Object.assign({},Lt?ie[Lt][1].start:Jn[1].end),ie.splice(Lt||at,0,["exit",Qt,Jn[2]]),at++,Qe++}if(Jn[1].type==="listItemPrefix"){const Ir={type:"listItem",_spread:!1,start:Object.assign({},Jn[1].start),end:void 0};Qt=Ir,ie.splice(at,0,["enter",Ir,Jn[2]]),at++,Qe++,Rt=void 0,mr=!0}}}return ie[be][1]._spread=Pr,Qe}function a(ie,be){return Qe;function Qe(at){l.call(this,ie(at),at),be&&be.call(this,at)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(ie,be,Qe){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([be,Qe||void 0]),ie.position={start:rd(be.start),end:void 0}}function c(ie){return be;function be(Qe){ie&&ie.call(this,Qe),d.call(this,Qe)}}function d(ie,be){const Qe=this.stack.pop(),at=this.tokenStack.pop();if(at)at[0].type!==ie.type&&(be?be.call(this,ie,at[0]):(at[1]||Wz).call(this,ie,at[0]));else throw new Error("Cannot close `"+ie.type+"` ("+dv({start:ie.start,end:ie.end})+"): its not open");Qe.position.end=rd(ie.end)}function u(){return I9e(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function m(ie){if(this.data.expectingFirstListItemValue){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function f(){const ie=this.resume(),be=this.stack[this.stack.length-1];be.lang=ie}function p(){const ie=this.resume(),be=this.stack[this.stack.length-1];be.meta=ie}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ie=this.resume(),be=this.stack[this.stack.length-1];be.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ie=this.resume(),be=this.stack[this.stack.length-1];be.value=ie.replace(/(\r?\n|\r)$/g,"")}function b(ie){const be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.label=be,Qe.identifier=xp(this.sliceSerialize(ie)).toLowerCase()}function w(){const ie=this.resume(),be=this.stack[this.stack.length-1];be.title=ie}function S(){const ie=this.resume(),be=this.stack[this.stack.length-1];be.url=ie}function j(ie){const be=this.stack[this.stack.length-1];if(!be.depth){const Qe=this.sliceSerialize(ie).length;be.depth=Qe}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function k(ie){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function _(){this.data.setextHeadingSlurpLineEnding=void 0}function C(ie){const Qe=this.stack[this.stack.length-1].children;let at=Qe[Qe.length-1];(!at||at.type!=="text")&&(at=Ae(),at.position={start:rd(ie.start),end:void 0},Qe.push(at)),this.stack.push(at)}function T(ie){const be=this.stack.pop();be.value+=this.sliceSerialize(ie),be.position.end=rd(ie.end)}function A(ie){const be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Qe=be.children[be.children.length-1];Qe.position.end=rd(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(be.type)&&(C.call(this,ie),T.call(this,ie))}function P(){this.data.atHardBreak=!0}function R(){const ie=this.resume(),be=this.stack[this.stack.length-1];be.value=ie}function D(){const ie=this.resume(),be=this.stack[this.stack.length-1];be.value=ie}function $(){const ie=this.resume(),be=this.stack[this.stack.length-1];be.value=ie}function M(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=be,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function F(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=be,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function O(ie){const be=this.sliceSerialize(ie),Qe=this.stack[this.stack.length-2];Qe.label=Pze(be),Qe.identifier=xp(be).toLowerCase()}function L(){const ie=this.stack[this.stack.length-1],be=this.resume(),Qe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Qe.type==="link"){const at=ie.children;Qe.children=at}else Qe.alt=be}function I(){const ie=this.resume(),be=this.stack[this.stack.length-1];be.url=ie}function z(){const ie=this.resume(),be=this.stack[this.stack.length-1];be.title=ie}function H(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function X(ie){const be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.label=be,Qe.identifier=xp(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function le(ie){this.data.characterReferenceType=ie.type}function de(ie){const be=this.sliceSerialize(ie),Qe=this.data.characterReferenceType;let at;Qe?(at=_ae(be,Qe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):at=PD(be);const Ot=this.stack[this.stack.length-1];Ot.value+=at}function oe(ie){const be=this.stack.pop();be.position.end=rd(ie.end)}function Ne(ie){T.call(this,ie);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(ie)}function K(ie){T.call(this,ie);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(ie)}function he(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function Q(){return{type:"inlineCode",value:""}}function ge(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Oe(){return{type:"emphasis",children:[]}}function ut(){return{type:"heading",depth:0,children:[]}}function nt(){return{type:"break"}}function ne(){return{type:"html",value:""}}function Xe(){return{type:"image",title:null,url:"",alt:null}}function wt(){return{type:"link",title:null,url:"",children:[]}}function Ve(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function Re(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function Le(){return{type:"paragraph",children:[]}}function Me(){return{type:"strong",children:[]}}function Ae(){return{type:"text",value:""}}function rt(){return{type:"thematicBreak"}}}function rd(e){return{line:e.line,column:e.column,offset:e.offset}}function Lae(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Lae(e,r):Mze(e,r)}}function Mze(e,t){let n;for(n in t)if(Dae.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Wz(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+dv({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+dv({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+dv({start:t.start,end:t.end})+") is still open")}function Dze(e){const t=this;t.parser=n;function n(r){return Oze(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Lze(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function $ze(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Fze(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Bze(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Uze(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zze(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=px(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,d),e.applyData(t,d)}function Vze(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qze(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function $ae(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Wze(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $ae(e,t);const i={src:px(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function Hze(e,t){const n={src:px(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Kze(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Gze(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return $ae(e,t);const i={href:px(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Yze(e,t){const n={href:px(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Xze(e,t,n){const r=e.all(t),i=n?Jze(n):Fae(t),a={},o=[];if(typeof t.checked=="boolean"){const u=r[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const u=r[l];(i||l!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,d),e.applyData(t,d)}function Jze(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Fae(n[r])}return t}function Fae(e){const t=e.spread;return t??e.children.length>1}function Qze(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Zze(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function e7e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function t7e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function n7e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=CD(t.children[1]),c=vae(t.children[t.children.length-1]);l&&c&&(o.position={start:l,end:c}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function r7e(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let c=-1;const d=[];for(;++c<l;){const h=t.children[c],m={},f=o?o[c]:void 0;f&&(m.align=f);let p={type:"element",tagName:a,properties:m,children:[]};h&&(p.children=e.all(h),e.patch(h,p),p=e.applyData(h,p)),d.push(p)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,u),e.applyData(t,u)}function s7e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Hz=9,Kz=32;function i7e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(Gz(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(Gz(t.slice(i),i>0,!1)),a.join("")}function Gz(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===Hz||a===Kz;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===Hz||a===Kz;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function a7e(e,t){const n={type:"text",value:i7e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function o7e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const l7e={blockquote:Lze,break:$ze,code:Fze,delete:Bze,emphasis:Uze,footnoteReference:zze,heading:Vze,html:qze,imageReference:Wze,image:Hze,inlineCode:Kze,linkReference:Gze,link:Yze,listItem:Xze,list:Qze,paragraph:Zze,root:e7e,strong:t7e,table:n7e,tableCell:s7e,tableRow:r7e,text:a7e,thematicBreak:o7e,toml:m1,yaml:m1,definition:m1,footnoteDefinition:m1};function m1(){}const Bae=-1,eC=0,hv=1,rN=2,RD=3,MD=4,DD=5,LD=6,Uae=7,zae=8,Yz=typeof self=="object"?self:globalThis,c7e=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case eC:case Bae:return n(o,i);case hv:{const l=n([],i);for(const c of o)l.push(r(c));return l}case rN:{const l=n({},i);for(const[c,d]of o)l[r(c)]=r(d);return l}case RD:return n(new Date(o),i);case MD:{const{source:l,flags:c}=o;return n(new RegExp(l,c),i)}case DD:{const l=n(new Map,i);for(const[c,d]of o)l.set(r(c),r(d));return l}case LD:{const l=n(new Set,i);for(const c of o)l.add(r(c));return l}case Uae:{const{name:l,message:c}=o;return n(new Yz[l](c),i)}case zae:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new Yz[a](o),i)};return r},Xz=e=>c7e(new Map,e)(0),rf="",{toString:d7e}={},{keys:u7e}=Object,Zx=e=>{const t=typeof e;if(t!=="object"||!e)return[eC,t];const n=d7e.call(e).slice(8,-1);switch(n){case"Array":return[hv,rf];case"Object":return[rN,rf];case"Date":return[RD,rf];case"RegExp":return[MD,rf];case"Map":return[DD,rf];case"Set":return[LD,rf];case"DataView":return[hv,n]}return n.includes("Array")?[hv,n]:n.includes("Error")?[Uae,n]:[rN,n]},f1=([e,t])=>e===eC&&(t==="function"||t==="symbol"),h7e=(e,t,n,r)=>{const i=(o,l)=>{const c=r.push(o)-1;return n.set(l,c),c},a=o=>{if(n.has(o))return n.get(o);let[l,c]=Zx(o);switch(l){case eC:{let u=o;switch(c){case"bigint":l=zae,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);u=null;break;case"undefined":return i([Bae],o)}return i([l,u],o)}case hv:{if(c){let m=o;return c==="DataView"?m=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(m=new Uint8Array(o)),i([c,[...m]],o)}const u=[],h=i([l,u],o);for(const m of o)u.push(a(m));return h}case rN:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const u=[],h=i([l,u],o);for(const m of u7e(o))(e||!f1(Zx(o[m])))&&u.push([a(m),a(o[m])]);return h}case RD:return i([l,o.toISOString()],o);case MD:{const{source:u,flags:h}=o;return i([l,{source:u,flags:h}],o)}case DD:{const u=[],h=i([l,u],o);for(const[m,f]of o)(e||!(f1(Zx(m))||f1(Zx(f))))&&u.push([a(m),a(f)]);return h}case LD:{const u=[],h=i([l,u],o);for(const m of o)(e||!f1(Zx(m)))&&u.push(a(m));return h}}const{message:d}=o;return i([l,{name:c,message:d}],o)};return a},Jz=(e,{json:t,lossy:n}={})=>{const r=[];return h7e(!(t||n),!!t,new Map,r)(e),r},sN=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Xz(Jz(e,t)):structuredClone(e):(e,t)=>Xz(Jz(e,t));function m7e(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function f7e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function p7e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||m7e,r=e.options.footnoteBackLabel||f7e,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[c]);if(!d)continue;const u=e.all(d),h=String(d.identifier).toUpperCase(),m=px(h.toLowerCase());let f=0;const p=[],g=e.footnoteCounts.get(h);for(;g!==void 0&&++f<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(c,f);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,f),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=u[u.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else u.push(...p);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(u,!0)};e.patch(d,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...sN(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Vae=function(e){if(e==null)return v7e;if(typeof e=="function")return tC(e);if(typeof e=="object")return Array.isArray(e)?g7e(e):x7e(e);if(typeof e=="string")return y7e(e);throw new Error("Expected function, string, or object as test")};function g7e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Vae(e[n]);return tC(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function x7e(e){const t=e;return tC(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function y7e(e){return tC(t);function t(n){return n&&n.type===e}}function tC(e){return t;function t(n,r,i){return!!(b7e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function v7e(){return!0}function b7e(e){return e!==null&&typeof e=="object"&&"type"in e}const qae=[],w7e=!0,Qz=!1,j7e="skip";function S7e(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=Vae(i),o=r?-1:1;l(e,void 0,[])();function l(c,d,u){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})}return m;function m(){let f=qae,p,g,y;if((!t||a(c,d,u[u.length-1]||void 0))&&(f=N7e(n(c,u)),f[0]===Qz))return f;if("children"in c&&c.children){const v=c;if(v.children&&f[0]!==j7e)for(g=(r?v.children.length:-1)+o,y=u.concat(v);g>-1&&g<v.children.length;){const b=v.children[g];if(p=l(b,g,y)(),p[0]===Qz)return p;g=typeof p[1]=="number"?p[1]:g+o}}return f}}}function N7e(e){return Array.isArray(e)?e:typeof e=="number"?[w7e,e]:e==null?qae:[e]}function Wae(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),S7e(e,a,l,i);function l(c,d){const u=d[d.length-1],h=u?u.children.indexOf(c):void 0;return o(c,h,u)}}const PO={}.hasOwnProperty,k7e={};function _7e(e,t){const n=t||k7e,r=new Map,i=new Map,a=new Map,o={...l7e,...n.handlers},l={all:d,applyData:E7e,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:c,options:n,patch:C7e,wrap:A7e};return Wae(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?r:i,m=String(u.identifier).toUpperCase();h.has(m)||h.set(m,u)}}),l;function c(u,h){const m=u.type,f=l.handlers[m];if(PO.call(l.handlers,m)&&f)return f(l,u,h);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in u){const{children:g,...y}=u,v=sN(y);return v.children=l.all(u),v}return sN(u)}return(l.options.unknownHandler||T7e)(l,u,h)}function d(u){const h=[];if("children"in u){const m=u.children;let f=-1;for(;++f<m.length;){const p=l.one(m[f],u);if(p){if(f&&m[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=Zz(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=Zz(g.value))}Array.isArray(p)?h.push(...p):h.push(p)}}}return h}}function C7e(e,t){e.position&&(t.position=d9e(e))}function E7e(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,sN(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function T7e(e,t){const n=t.data||{},r="value"in t&&!(PO.call(n,"hProperties")||PO.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function A7e(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Zz(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function e7(e,t){const n=_7e(e,t),r=n.one(e,void 0),i=p7e(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function P7e(e,t){return e&&"run"in e?async function(n,r){const i=e7(n,{file:r,...t});await e.run(i,r)}:function(n,r){return e7(n,{file:r,...e||t})}}function t7(e){if(e)throw e}var Rj=Object.prototype.hasOwnProperty,Hae=Object.prototype.toString,n7=Object.defineProperty,r7=Object.getOwnPropertyDescriptor,s7=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Hae.call(t)==="[object Array]"},i7=function(t){if(!t||Hae.call(t)!=="[object Object]")return!1;var n=Rj.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Rj.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Rj.call(t,i)},a7=function(t,n){n7&&n.name==="__proto__"?n7(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},o7=function(t,n){if(n==="__proto__")if(Rj.call(t,n)){if(r7)return r7(t,n).value}else return;return t[n]},I7e=function e(){var t,n,r,i,a,o,l=arguments[0],c=1,d=arguments.length,u=!1;for(typeof l=="boolean"&&(u=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<d;++c)if(t=arguments[c],t!=null)for(n in t)r=o7(l,n),i=o7(t,n),l!==i&&(u&&i&&(i7(i)||(a=s7(i)))?(a?(a=!1,o=r&&s7(r)?r:[]):o=r&&i7(r)?r:{},a7(l,{name:n,newValue:e(u,o,i)})):typeof i<"u"&&a7(l,{name:n,newValue:i}));return l};const f2=un(I7e);function IO(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function O7e(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(c,...d){const u=e[++a];let h=-1;if(c){o(c);return}for(;++h<i.length;)(d[h]===null||d[h]===void 0)&&(d[h]=i[h]);i=d,u?R7e(u,l)(...d):o(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function R7e(e,t){let n;return r;function r(...o){const l=e.length>o.length;let c;l&&o.push(i);try{c=e.apply(this,o)}catch(d){const u=d;if(l&&n)throw u;return i(u)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(o,...l){n||(n=!0,t(o,...l))}function a(o){i(null,o)}}const Qo={basename:M7e,dirname:D7e,extname:L7e,join:$7e,sep:"/"};function M7e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');rw(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function D7e(e){if(rw(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function L7e(e){rw(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function $7e(...e){let t=-1,n;for(;++t<e.length;)rw(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":F7e(n)}function F7e(e){rw(e);const t=e.codePointAt(0)===47;let n=B7e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function B7e(e,t){let n="",r=0,i=-1,a=0,o=-1,l,c;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else l===46&&a>-1?a++:a=-1}return n}function rw(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const U7e={cwd:z7e};function z7e(){return"/"}function OO(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function V7e(e){if(typeof e=="string")e=new URL(e);else if(!OO(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return q7e(e)}function q7e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const p2=["history","path","basename","stem","extname","dirname"];class Kae{constructor(t){let n;t?OO(t)?n={path:t}:typeof t=="string"||W7e(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":U7e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<p2.length;){const a=p2[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)p2.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Qo.basename(this.path):void 0}set basename(t){x2(t,"basename"),g2(t,"basename"),this.path=Qo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qo.dirname(this.path):void 0}set dirname(t){l7(this.basename,"dirname"),this.path=Qo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qo.extname(this.path):void 0}set extname(t){if(g2(t,"extname"),l7(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){OO(t)&&(t=V7e(t)),x2(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qo.basename(this.path,this.extname):void 0}set stem(t){x2(t,"stem"),g2(t,"stem"),this.path=Qo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Us(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function g2(e,t){if(e&&e.includes(Qo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qo.sep+"`")}function x2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function l7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function W7e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const H7e=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},K7e={}.hasOwnProperty;class $D extends H7e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=O7e()}copy(){const t=new $D;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(f2(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(b2("data",this.frozen),this.namespace[t]=n,this):K7e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(b2("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=p1(t),r=this.parser||this.Parser;return y2("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),y2("process",this.parser||this.Parser),v2("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const l=p1(t),c=r.parse(l);r.run(c,l,function(u,h,m){if(u||!h||!m)return d(u);const f=h,p=r.stringify(f,m);X7e(p)?m.value=p:m.result=p,d(u,m)});function d(u,h){u||!h?o(u):a?a(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),y2("processSync",this.parser||this.Parser),v2("processSync",this.compiler||this.Compiler),this.process(t,i),d7("processSync","process",n),r;function i(a,o){n=!0,t7(a),r=o}}run(t,n,r){c7(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,l){const c=p1(n);i.run(t,c,d);function d(u,h,m){const f=h||t;u?l(u):o?o(f):r(void 0,f,m)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),d7("runSync","run",r),i;function a(o,l){t7(o),i=l,r=!0}}stringify(t,n){this.freeze();const r=p1(n),i=this.compiler||this.Compiler;return v2("stringify",i),c7(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(b2("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[u,...h]=d;c(u,h)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=f2(!0,i.settings,d.settings))}function l(d){let u=-1;if(d!=null)if(Array.isArray(d))for(;++u<d.length;){const h=d[u];a(h)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,u){let h=-1,m=-1;for(;++h<r.length;)if(r[h][0]===d){m=h;break}if(m===-1)r.push([d,...u]);else if(u.length>0){let[f,...p]=u;const g=r[m][1];IO(g)&&IO(f)&&(f=f2(!0,g,f)),r[m]=[d,f,...p]}}}}const G7e=new $D().freeze();function y2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function v2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function b2(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function c7(e){if(!IO(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function d7(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function p1(e){return Y7e(e)?e:new Kae(e)}function Y7e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function X7e(e){return typeof e=="string"||J7e(e)}function J7e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Q7e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",u7=[],h7={allowDangerousHtml:!0},Z7e=/^(https?|ircs?|mailto|xmpp)$/i,eVe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function FD(e){const t=tVe(e),n=nVe(e);return rVe(t.runSync(t.parse(n),n),e)}function tVe(e){const t=e.rehypePlugins||u7,n=e.remarkPlugins||u7,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...h7}:h7;return G7e().use(Dze).use(n).use(P7e,r).use(t)}function nVe(e){const t=e.children||"",n=new Kae;return typeof t=="string"&&(n.value=t),n}function rVe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||sVe;for(const u of eVe)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+Q7e+u.id,void 0);return Wae(e,d),p9e(e,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function d(u,h,m){if(u.type==="raw"&&m&&typeof h=="number")return o?m.children.splice(h,1):m.children[h]={type:"text",value:u.value},h;if(u.type==="element"){let f;for(f in u2)if(Object.hasOwn(u2,f)&&Object.hasOwn(u.properties,f)){const p=u.properties[f],g=u2[f];(g===null||g.includes(u.tagName))&&(u.properties[f]=c(String(p||""),f,u))}}if(u.type==="element"){let f=n?!n.includes(u.tagName):a?a.includes(u.tagName):!1;if(!f&&r&&typeof h=="number"&&(f=!r(u,h,m)),f&&m&&typeof h=="number")return l&&u.children?m.children.splice(h,1,...u.children):m.children.splice(h,1),h}}}function sVe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Z7e.test(e.slice(0,t))?e:""}const iN={SEOBAIKE:"bg-blue-500",:"bg-green-500",openshop123:"bg-purple-500",SEO:"bg-orange-500",general:"bg-gray-500"};function iVe(){var Ne;const[e,t]=x.useState(!1),[n,r]=x.useState(!1),[i,a]=x.useState(""),[o,l]=x.useState("chat"),[c,d]=x.useState(!1),[u,h]=x.useState(""),[m,f]=x.useState("general");x.useState(!1);const p=x.useRef(null),g=x.useRef(null),{sessionId:y,isConnected:v,generateSessionId:b,getQRCodeData:w,sendVoiceCommand:S}=z_(),{isConnected:j}=mD(),{messages:N,isLoading:k,sendMessage:_,tasks:C,taskOperations:T,projectProgress:A,executeQuickCommand:P,sendVoiceCommand:R}=qse(),{speak:D,stop:$,isPlaying:M}=iD(),{isListening:F,isConnecting:O,startListening:L,stopListening:I,partialText:z,fullTranscript:H,clearTranscript:U}=$_({onTranscript:K=>{a(he=>he+" "+K)}});x.useEffect(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[N]),x.useEffect(()=>{z&&a(z)},[z]);const X=async()=>{if(!i.trim()||k)return;const K=i.trim();a(""),U();const he=await _(K);he&&c&&D(he)},le=async K=>{var he;if(K===""){const re=i.trim();if(!re){a("");return}await P(K,re),a("")}else{const re=await P(K);if(re){const Q=K===""?` ${((he=re.tasks)==null?void 0:he.length)||0} `:` ${Object.keys(re.projects||{}).length} `;c&&D(Q)}}},de=async()=>{u.trim()&&(await T.create(u,{project:m}),h(""))},oe=()=>{F?I():L()};return e?s.jsxs(E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:`fixed z-[9999] bg-background border shadow-2xl flex flex-col overflow-hidden
        sm:bottom-6 sm:right-6 sm:w-[400px] sm:h-[600px] sm:rounded-lg
        inset-0 sm:inset-auto w-full h-full`,style:{...typeof window<"u"&&window.innerWidth<=640?{top:0,left:0,right:0,bottom:0,borderRadius:0,maxHeight:"100dvh",height:"100dvh"}:{}},children:[s.jsx("div",{className:"sm:hidden w-full bg-gradient-to-r from-primary/10 to-primary/5",style:{paddingTop:"env(safe-area-inset-top, 0px)"}}),s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-primary/10 to-primary/5 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"font-semibold text-base",children:""}),s.jsx("div",{className:"hidden sm:block",children:s.jsx(yBe,{})})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(B,{variant:"ghost",size:"icon",className:"h-10 w-10 touch-manipulation",onClick:()=>d(!c),children:c?s.jsx(Hh,{className:"w-5 h-5"}):s.jsx(CM,{className:"w-5 h-5"})}),s.jsx(B,{variant:"ghost",size:"icon",className:"h-10 w-10 hidden sm:flex touch-manipulation",onClick:()=>r(!n),children:n?s.jsx(X_e,{className:"w-5 h-5"}):s.jsx(G_e,{className:"w-5 h-5"})}),s.jsx(B,{variant:"ghost",size:"icon",className:"h-10 w-10 touch-manipulation",onClick:()=>t(!1),children:s.jsx(nr,{className:"w-5 h-5"})})]})]}),s.jsxs(va,{value:o,onValueChange:K=>l(K),className:"flex-1 flex flex-col",children:[s.jsxs($i,{className:"grid grid-cols-4 mx-4 mt-2",children:[s.jsxs(Dt,{value:"chat",className:"gap-1 text-xs px-2",children:[s.jsx(Vr,{className:"w-3 h-3"}),""]}),s.jsxs(Dt,{value:"tasks",className:"gap-1 text-xs px-2",children:[s.jsx(K_e,{className:"w-3 h-3"}),"",C.filter(K=>K.status!=="completed").length>0&&s.jsx(ae,{variant:"destructive",className:"ml-1 h-4 w-4 p-0 flex items-center justify-center text-[10px]",children:C.filter(K=>K.status!=="completed").length})]}),s.jsxs(Dt,{value:"web-remote",className:"gap-1 text-xs px-2",children:[s.jsx(Tt,{className:"w-3 h-3"}),"",j&&s.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})]}),s.jsxs(Dt,{value:"remote",className:"gap-1 text-xs px-2",children:[s.jsx(Dl,{className:"w-3 h-3"}),"",v&&s.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})]})]}),s.jsxs(Ut,{value:"chat",className:"flex-1 flex flex-col m-0 p-0",children:[s.jsxs("div",{className:"flex gap-2 px-4 py-2 overflow-x-auto border-b",children:[s.jsx(B,{variant:"outline",size:"sm",className:"whitespace-nowrap",onClick:()=>le(""),children:" "}),s.jsx(B,{variant:"outline",size:"sm",className:"whitespace-nowrap",onClick:()=>le(""),children:" "}),s.jsx(B,{variant:"outline",size:"sm",className:"whitespace-nowrap",onClick:()=>le(""),disabled:!i.trim(),children:" "})]}),s.jsx(xl,{className:"flex-1 px-4",ref:g,children:s.jsxs("div",{className:"py-4 space-y-4",children:[N.length===0&&s.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[s.jsx(Ye,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:" AI "}),s.jsx("p",{className:"text-sm",children:""})]}),N.map(K=>s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:G("flex",K.role==="user"?"justify-end":"justify-start"),children:s.jsx("div",{className:G("max-w-[85%] rounded-lg px-4 py-2",K.role==="user"?"bg-primary text-primary-foreground":"bg-muted"),children:K.role==="assistant"?s.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:s.jsx(FD,{children:K.content})}):s.jsx("p",{className:"text-sm",children:K.content})})},K.id)),k&&s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:s.jsx("div",{className:"bg-muted rounded-lg px-4 py-2",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-primary/50 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-primary/50 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-primary/50 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})})]})}),s.jsxs("div",{className:"p-4 border-t bg-background",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom, 1rem))"},children:[z&&s.jsxs("div",{className:"text-xs text-muted-foreground mb-2 italic",children:[" ",z]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(B,{variant:F?"destructive":"outline",size:"icon",onClick:oe,disabled:O,className:"shrink-0 h-12 w-12 touch-manipulation active:scale-95",style:{WebkitTapHighlightColor:"transparent"},children:F?s.jsx(Ub,{className:"w-5 h-5"}):s.jsx(ma,{className:"w-5 h-5"})}),s.jsx(xe,{ref:p,value:i,onChange:K=>a(K.target.value),onKeyDown:K=>K.key==="Enter"&&!K.shiftKey&&X(),placeholder:"...",className:"flex-1 h-12 text-base px-4",style:{fontSize:"16px"},inputMode:"text",enterKeyHint:"send",disabled:k}),s.jsx(B,{onClick:X,disabled:!i.trim()||k,className:"shrink-0 h-12 w-12 touch-manipulation active:scale-95",style:{WebkitTapHighlightColor:"transparent"},children:s.jsx(Bs,{className:"w-5 h-5"})})]})]})]}),s.jsxs(Ut,{value:"tasks",className:"flex-1 flex flex-col m-0 p-0",children:[s.jsxs("div",{className:"p-4 border-b space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xe,{value:u,onChange:K=>h(K.target.value),onKeyDown:K=>K.key==="Enter"&&de(),placeholder:"...",className:"flex-1"}),s.jsx(B,{onClick:de,disabled:!u.trim(),children:s.jsx(lm,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex gap-1 flex-wrap",children:Object.keys(iN).map(K=>s.jsxs(B,{variant:m===K?"default":"outline",size:"sm",className:"h-7 text-xs",onClick:()=>f(K),children:[s.jsx("span",{className:G("w-2 h-2 rounded-full mr-1",iN[K])}),K]},K))})]}),s.jsx(xl,{className:"flex-1",children:s.jsxs("div",{className:"p-4 space-y-2",children:[C.filter(K=>K.status!=="completed").map(K=>s.jsx(m7,{task:K,onComplete:()=>T.complete(K.id),onDelete:()=>T.delete(K.id)},K.id)),C.filter(K=>K.status!=="completed").length===0&&s.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[s.jsx(rCe,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:""}),s.jsx("p",{className:"text-sm",children:""})]}),C.filter(K=>K.status==="completed").length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:""}),C.filter(K=>K.status==="completed").slice(0,5).map(K=>s.jsx(m7,{task:K,onComplete:()=>{},onDelete:()=>T.delete(K.id),completed:!0},K.id))]})]})})]}),s.jsx(Ut,{value:"web-remote",className:"flex-1 flex flex-col m-0 p-0",children:s.jsx("div",{className:"p-4 flex-1 flex flex-col",children:s.jsx(Wse,{})})}),s.jsx(Ut,{value:"remote",className:"flex-1 flex flex-col m-0 p-0",children:s.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[s.jsx("div",{className:G("flex items-center justify-center gap-2 px-4 py-2 rounded-lg mb-4",v?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"),children:v?s.jsxs(s.Fragment,{children:[s.jsx(nx,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(f_,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"..."})]})}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[y?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white p-3 rounded-xl shadow-lg mb-3",children:s.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=140x140&data=${encodeURIComponent(((Ne=w())==null?void 0:Ne.url)||"")}`,alt:"QR Code",className:"w-36 h-36"})}),s.jsxs("p",{className:"text-xs text-muted-foreground text-center mb-1",children:["Session: ",y]})]}):s.jsxs("div",{className:"text-center",children:[s.jsx(yu,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground/50"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:""})]}),s.jsxs(B,{onClick:b,size:"sm",className:"gap-2",children:[s.jsx(yu,{className:"w-4 h-4"}),y?"":""]})]}),s.jsxs("div",{className:"mt-3 p-3 bg-muted/50 rounded-lg text-xs",children:[s.jsx("p",{className:"font-medium mb-1",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:" Python "})]}),s.jsxs("div",{className:"mt-3 p-3 border rounded-lg text-xs",children:[s.jsx("p",{className:"font-medium mb-1",children:" "}),s.jsxs("ol",{className:"text-muted-foreground space-y-1 list-decimal list-inside",children:[s.jsx("li",{children:" Desktop Agent "}),s.jsx("li",{children:s.jsx("code",{className:"bg-muted px-1 rounded",children:"pip install -r requirements.txt"})}),s.jsx("li",{children:" .env  SESSION_ID"}),s.jsx("li",{children:s.jsx("code",{className:"bg-muted px-1 rounded",children:"python main.py"})})]})]})]})})]})]}):s.jsx(E.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>t(!0),className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-50 w-14 h-14 rounded-full bg-gradient-to-r from-primary to-primary/80 text-white shadow-lg flex items-center justify-center touch-manipulation active:scale-95","aria-label":" AI ",style:{WebkitTapHighlightColor:"transparent"},children:s.jsx(Ye,{className:"w-6 h-6"})})}function m7({task:e,onComplete:t,onDelete:n,completed:r=!1}){return s.jsxs(E.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:G("flex items-start gap-3 p-3 rounded-lg border bg-card",r&&"opacity-60"),children:[s.jsx(B,{variant:"ghost",size:"icon",className:"h-5 w-5 shrink-0 mt-0.5",onClick:t,disabled:r,children:r?s.jsx(We,{className:"w-4 h-4 text-primary"}):s.jsx("div",{className:"w-4 h-4 rounded border-2"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[e.is_important&&s.jsx(Js,{className:"w-3 h-3 text-primary fill-primary"}),s.jsx("span",{className:G("text-sm",r&&"line-through"),children:e.task_title})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs(ae,{variant:"outline",className:"h-5 text-xs gap-1",children:[s.jsx("span",{className:G("w-2 h-2 rounded-full",iN[e.project_category]||iN.general)}),e.project_category]}),e.due_date&&s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Pn,{className:"w-3 h-3"}),new Date(e.due_date).toLocaleDateString("zh-TW")]})]})]}),s.jsx(B,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0 text-muted-foreground hover:text-destructive",onClick:n,children:s.jsx(Vb,{className:"w-3 h-3"})})]})}class aVe extends x.Component{constructor(){super(...arguments);Ix(this,"state",{hasError:!1,error:null,errorInfo:null});Ix(this,"handleRefresh",()=>{window.location.reload()});Ix(this,"handleGoHome",()=>{window.location.href="/"});Ix(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#667eea] via-[#764ba2] to-[#f093fb] p-4",children:s.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"max-w-md w-full",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/20",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 mx-auto mb-6 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Wr,{className:"w-10 h-10 text-white"})}),s.jsx(E.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-2xl font-bold text-white text-center mb-3",children:""}),s.jsx(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-white/80 text-center mb-8",children:" "}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-3",children:[s.jsxs(B,{onClick:this.handleRetry,className:"w-full h-12 bg-white text-[#764ba2] hover:bg-white/90 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[s.jsx(rn,{className:"w-5 h-5 mr-2"}),""]}),s.jsxs(B,{onClick:this.handleRefresh,variant:"outline",className:"w-full h-12 bg-transparent border-2 border-white/50 text-white hover:bg-white/10 rounded-xl font-semibold transition-all duration-300",children:[s.jsx(rn,{className:"w-5 h-5 mr-2"}),""]}),s.jsxs(B,{onClick:this.handleGoHome,variant:"ghost",className:"w-full h-12 text-white/80 hover:text-white hover:bg-white/10 rounded-xl font-medium transition-all duration-300",children:[s.jsx(tx,{className:"w-5 h-5 mr-2"}),""]})]}),!1]}),s.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-center text-white/60 text-sm mt-6",children:" 2026 SEOBAIKE. All rights reserved."})]})}):this.props.children}}function oVe(){const[e,t]=x.useState({isOnline:typeof navigator<"u"?navigator.onLine:!0,wasOffline:!1,lastOnline:null,reconnecting:!1}),n=x.useCallback(()=>{t(i=>({...i,isOnline:!0,wasOffline:!0,reconnecting:!1,lastOnline:new Date})),setTimeout(()=>{t(i=>({...i,wasOffline:!1}))},3e3)},[]),r=x.useCallback(()=>{t(i=>({...i,isOnline:!1,reconnecting:!0}))},[]);return x.useEffect(()=>(window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}),[n,r]),e}function lVe(){const{isOnline:e,wasOffline:t,reconnecting:n}=oVe();return s.jsxs(He,{children:[!e&&s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-[#667eea] via-[#764ba2] to-[#f093fb]",children:s.jsx(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"max-w-md w-full mx-4",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/20 text-center",children:[s.jsx(E.div,{animate:{scale:[1,1.1,1],rotate:n?[0,10,-10,0]:0},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-24 h-24 mx-auto mb-6 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(f_,{className:"w-12 h-12 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:""}),s.jsxs("p",{className:"text-white/80 mb-6",children:["",s.jsx("br",{}),""]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/60",children:[s.jsx(E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm",children:"..."})]}),s.jsx(B,{onClick:()=>window.location.reload(),className:"mt-6 bg-white/20 hover:bg-white/30 text-white border border-white/30 rounded-xl",children:""})]})})}),e&&t&&s.jsx(E.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},className:"fixed top-4 left-1/2 -translate-x-1/2 z-[9999]",children:s.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-2",children:[s.jsx(nx,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:""})]})})]})}const aN="https://seobaike.com",RO="https://seobaike.com/og-image.jpg",MO="SEOBAIKE",yn=e=>{x.useEffect(()=>{const t=e.title.length>60?e.title.substring(0,57)+"...":e.title;document.title=`${t} | ${MO}`;const n=(o,l,c=!1)=>{const d=c?"property":"name";let u=document.querySelector(`meta[${d}="${o}"]`);u||(u=document.createElement("meta"),u.setAttribute(d,o),document.head.appendChild(u)),u.content=l},r=(o,l)=>{let c=document.querySelector(`link[rel="${o}"]`);c||(c=document.createElement("link"),c.rel=o,document.head.appendChild(c)),c.href=l},i=e.description.length>155?e.description.substring(0,152)+"...":e.description;n("description",i),e.keywords&&n("keywords",e.keywords),n("author",e.author||"SEOBAIKE"),e.noindex?n("robots","noindex, nofollow"):n("robots","index, follow");const a=e.canonical||window.location.href.split("?")[0];return r("canonical",a),n("og:title",t,!0),n("og:description",i,!0),n("og:type",e.ogType||"website",!0),n("og:image",e.ogImage||RO,!0),n("og:url",e.ogUrl||a,!0),n("og:site_name",MO,!0),n("og:locale","zh_TW",!0),n("twitter:card",e.twitterCard||"summary_large_image"),n("twitter:title",t),n("twitter:description",i),n("twitter:image",e.ogImage||RO),n("twitter:site","@SEOBAIKE"),e.ogType==="article"&&(e.publishedTime&&n("article:published_time",e.publishedTime,!0),e.modifiedTime&&n("article:modified_time",e.modifiedTime,!0)),e.schema&&(document.querySelectorAll('script[type="application/ld+json"][data-seo="true"]').forEach(c=>c.remove()),(Array.isArray(e.schema)?e.schema:[e.schema]).forEach(c=>{const d=document.createElement("script");d.type="application/ld+json",d.setAttribute("data-seo","true"),d.textContent=JSON.stringify(c),document.head.appendChild(d)})),()=>{}},[e])},Gae=()=>({"@context":"https://schema.org","@type":"WebSite",name:MO,alternateName:"SEOBAIKE AI ",url:aN,description:" AI-SEO ",potentialAction:{"@type":"SearchAction",target:`${aN}/search?q={search_term_string}`,"query-input":"required name=search_term_string"}}),nC=()=>({"@context":"https://schema.org","@type":"Organization",name:"SEOBAIKE",alternateName:"SEOBAIKE AI-SEO Platform",url:aN,logo:`${aN}/logo.png`,sameAs:["https://www.facebook.com/seobaike","https://www.linkedin.com/company/seobaike"],contactPoint:{"@type":"ContactPoint",telephone:"04-7776342",contactType:"customer service",availableLanguage:["Chinese","English"]}}),In=e=>({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e.map((t,n)=>({"@type":"ListItem",position:n+1,name:t.name,item:t.url}))}),Yae=e=>({"@context":"https://schema.org","@type":"FAQPage",mainEntity:e.map(t=>({"@type":"Question",name:t.question,acceptedAnswer:{"@type":"Answer",text:t.answer}}))}),cVe=e=>({"@context":"https://schema.org","@type":"Product",name:e.name,description:e.description,image:e.image||RO,offers:{"@type":"Offer",price:e.price,priceCurrency:e.currency||"TWD",availability:`https://schema.org/${e.availability||"InStock"}`}}),zc=()=>{const{user:e}=Jt(),[t,n]=x.useState(null),[r,i]=x.useState(!0);return x.useEffect(()=>{if(!e){n(null),i(!1);return}(async()=>{i(!0);const{data:d,error:u}=await ee.from("profiles").select("*").eq("id",e.id).single();u?console.error("Error fetching profile:",u):n(d),i(!1)})();const c=ee.channel(`profile-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`id=eq.${e.id}`},d=>{d.new&&n(d.new)}).subscribe();return()=>{ee.removeChannel(c)}},[e]),{profile:t,loading:r,deductPoints:async(l,c,d)=>{if(!e||!t)return{success:!1,error:"Not authenticated"};if(t.points<l)return{success:!1,error:""};const u=t.points-l,{error:h}=await ee.from("profiles").update({points:u}).eq("id",e.id);if(h)return{success:!1,error:h.message};const{error:m}=await ee.from("point_transactions").insert({user_id:e.id,amount:-l,type:"deduct",description:c,reference_id:d,balance_after:u});return m&&console.error("Error recording transaction:",m),{success:!0,newBalance:u}},addPoints:async(l,c,d="topup",u,h)=>{if(!e||!t)return{success:!1,error:"Not authenticated"};const m=t.points+l,{error:f}=await ee.from("profiles").update({points:m}).eq("id",e.id);if(f)return{success:!1,error:f.message};let p=null;if(d==="topup"||h){const y=new Date;y.setDate(y.getDate()+(h||90)),p=y.toISOString()}const{error:g}=await ee.from("point_transactions").insert({user_id:e.id,amount:l,type:d,description:c,reference_id:u,balance_after:m,expires_at:p});return g&&console.error("Error recording transaction:",g),{success:!0,newBalance:m}}}},f7=[{icon:tx,label:"",href:"/"},{icon:Ye,label:"",href:"/builder"},{icon:$P,label:"",href:"/projects"},{icon:Jp,label:"",href:"/templates"}],p7=[{icon:bn,label:"SEO ",href:"/merchant/seo"},{icon:Zd,label:"AI ",href:"/merchant/editor"},{icon:Tt,label:"",href:"/merchant/domain"},{icon:sn,label:"",href:"/merchant/health-check"}],g7=[{icon:Cs,label:"",href:"/topup"},{icon:Bb,label:"",href:"/faq"},{icon:Vr,label:"",href:"/contact"}];function dVe({isOpen:e,onClose:t}){var h;const n=fs(),{user:r}=Jt(),{profile:i}=zc(),[a,o]=x.useState(!1),l=(i==null?void 0:i.name)||((h=r==null?void 0:r.email)==null?void 0:h.split("@")[0])||"",c=m=>n.pathname===m,d=({title:m,items:f})=>s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"px-4 mb-3 text-[10px] font-semibold text-muted-foreground/60 uppercase tracking-widest",children:m}),s.jsx("div",{className:"space-y-1 px-2",children:f.map((p,g)=>s.jsx(ye,{to:p.href,onClick:t,children:s.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.05},whileHover:{scale:1.02,x:4},whileTap:{scale:.98},className:G("flex items-center gap-3 px-4 py-3 rounded-2xl transition-all cursor-pointer group",c(p.href)?"bg-gradient-to-r from-primary/15 to-secondary/10 text-primary shadow-soft":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[s.jsx(p.icon,{className:G("w-5 h-5 transition-colors",c(p.href)?"text-primary":"text-muted-foreground group-hover:text-foreground")}),s.jsx("span",{className:"text-sm font-medium",children:p.label}),c(p.href)&&s.jsx(E.div,{layoutId:"activeIndicator",className:"ml-auto w-1.5 h-1.5 rounded-full bg-primary"})]})},p.label))})]}),u=()=>s.jsxs(E.aside,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,ease:[.22,1,.36,1]},className:G("fixed left-4 top-4 bottom-4 w-[260px] z-50","bg-slate-950/90 backdrop-blur-2xl","border border-slate-700/50 rounded-3xl","shadow-elevated","flex flex-col overflow-hidden"),children:[s.jsx("div",{className:"p-5 border-b border-slate-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(E.div,{whileHover:{scale:1.05,rotate:5},className:"w-11 h-11 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-glow",children:s.jsx(Ye,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-lg tracking-tight text-white",children:"SEOBAIKE"}),s.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:"AI-SEO "})]})]})}),s.jsxs("div",{className:"px-4 py-3 border-b border-slate-700/50",children:[s.jsxs(E.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>o(!a),className:"w-full flex items-center gap-3 p-2.5 rounded-2xl bg-slate-800/50 hover:bg-slate-800 transition-all",children:[s.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white text-sm font-bold shadow-soft",children:l.charAt(0).toUpperCase()}),s.jsx("span",{className:"flex-1 text-left text-sm font-medium text-white truncate",children:l}),s.jsx(qr,{className:G("w-4 h-4 text-gray-400 transition-transform duration-200",a&&"rotate-180")})]}),s.jsx(He,{children:a&&s.jsxs(E.div,{initial:{opacity:0,y:-8,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.96},transition:{duration:.15},className:"mt-2 bg-slate-900/95 backdrop-blur-xl rounded-2xl shadow-medium border border-slate-700/50 py-2 overflow-hidden",children:[s.jsx(ye,{to:"/merchant",className:"block px-4 py-2.5 text-sm text-white hover:bg-slate-800 transition-colors",children:""}),s.jsx(ye,{to:"/dashboard/settings",className:"block px-4 py-2.5 text-sm text-white hover:bg-slate-800 transition-colors",children:""}),s.jsx("hr",{className:"my-2 border-slate-700/50"}),s.jsx("button",{className:"w-full text-left px-4 py-2.5 text-sm text-red-400 hover:bg-red-500/10 transition-colors",children:""})]})})]}),s.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto scrollbar-thin",children:[s.jsx(d,{title:"",items:f7}),s.jsx(d,{title:"",items:p7}),s.jsx(d,{title:"",items:g7})]}),s.jsxs("div",{className:"p-4 border-t border-slate-700/50 space-y-3",children:[s.jsx(ye,{to:"/pricing",children:s.jsx(E.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"w-full py-3 px-4 rounded-2xl btn-glow text-white text-sm font-semibold transition-all",children:" "})}),s.jsx(ye,{to:"/dashboard/settings",children:s.jsxs(E.button,{whileHover:{scale:1.01},className:"w-full flex items-center justify-center gap-2 py-2.5 px-4 rounded-xl text-gray-400 hover:text-white hover:bg-slate-800/50 text-sm transition-all",children:[s.jsx(fa,{className:"w-4 h-4"}),""]})})]})]});return s.jsxs(s.Fragment,{children:[s.jsx(He,{children:e&&s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden",onClick:t})}),s.jsx(He,{children:e&&s.jsxs(E.aside,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:G("fixed left-0 top-0 h-screen w-[280px] z-50 lg:hidden","bg-slate-950/98 backdrop-blur-2xl","border-r border-slate-700/50","shadow-elevated","flex flex-col"),children:[s.jsx("div",{className:"absolute right-3 top-3",children:s.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"p-2 rounded-xl bg-slate-800/50 text-gray-400 hover:text-white transition-colors",children:s.jsx(nr,{className:"w-5 h-5"})})}),s.jsx("div",{className:"p-5 border-b border-slate-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-glow",children:s.jsx(Ye,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold text-lg tracking-tight text-white",children:"SEOBAIKE"}),s.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:"AI-SEO "})]})]})}),s.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto",children:[s.jsx(d,{title:"",items:f7}),s.jsx(d,{title:"",items:p7}),s.jsx(d,{title:"",items:g7})]}),s.jsx("div",{className:"p-4 border-t border-slate-700/50",children:s.jsx(ye,{to:"/pricing",children:s.jsx(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 px-4 rounded-2xl btn-glow text-white text-sm font-semibold",children:" "})})})]})}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(u,{})})]})}const uVe=[{feature:"",traditional:"NT$30,000-150,000",ours:"NT$8,888",highlight:!0},{feature:"",traditional:"2-4 ",ours:"30 ",highlight:!0},{feature:"",traditional:"3 ",ours:"",highlight:!0},{feature:"SEO ",traditional:" NT$10,000+",ours:" AI-SEO",highlight:!1},{feature:"",traditional:"NT$1,500-3,000/",ours:"NT$30/",highlight:!0},{feature:"",traditional:"NT$5,000-20,000/",ours:"NT$50/",highlight:!0},{feature:"",traditional:"",ours:"",highlight:!1},{feature:"SSL ",traditional:"",ours:"",highlight:!1},{feature:"",traditional:"",ours:"AI ",highlight:!1},{feature:"24 ",traditional:"",ours:"",highlight:!1}],hVe=[{emoji:"",title:" 10 ",highlight:" 8,888",icon:nZ},{emoji:"",title:" 1 ",highlight:" 30 ",icon:Pn},{emoji:"",title:" 3,000",highlight:" 30 ",icon:Ur},{emoji:"",title:"",highlight:"",icon:rn}],mVe=[{id:"light",emoji:"",name:"",points:100,price:100,popular:!1},{id:"standard",emoji:"",name:"",points:500,price:500,popular:!0},{id:"pro",emoji:"",name:"",points:1500,price:1500,popular:!1},{id:"enterprise",emoji:"",name:"",points:5e3,price:5e3,popular:!1}],fVe=[{feature:"SEO  1 ",traditional:"1,500-3,000",ours:30,saving:"98%"},{feature:" 1 ",traditional:"5,000-15,000",ours:50,saving:"99%"},{feature:"AI  1 ",traditional:"500-1,000",ours:20,saving:"97%"},{feature:"",traditional:"3,000-5,000",ours:5,saving:"99%"},{feature:"SEO ",traditional:"5,000-10,000",ours:10,saving:"99%"},{feature:" 1 ",traditional:"500-1,000",ours:5,saving:"99%"}],pVe=[{emoji:"",title:"",traditional:" 3-7 ",ours:"30 "},{emoji:"",title:"",traditional:"",ours:" 5 "},{emoji:"",title:"",traditional:"",ours:"24 "}],gVe=[{icon:Ur,text:"AI "},{icon:dr,text:"SEO "},{icon:Tt,text:""},{icon:ai,text:""},{icon:sn,text:""},{icon:Do,text:""}],xVe=[{name:"",points:1},{name:"/",points:5},{name:"AI ",points:10,unit:"/"},{name:"AI ",points:20,unit:"/"},{name:"AI ",points:30,unit:"/"},{name:"AI  15 ",points:15},{name:"AI  30 ",points:30},{name:"AI  60 ",points:50},{name:"SEO  + ",points:10}],yVe=[{icon:cn,text:""},{icon:dr,text:"SEO "},{icon:Zy,text:"AI "},{icon:ai,text:""},{icon:pu,text:""}],vVe=()=>s.jsx("section",{className:"py-12 sm:py-16 md:py-20 lg:py-32 bg-background",children:s.jsxs("div",{className:"container mx-auto px-3 sm:px-4",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-center mb-10 sm:mb-12 md:mb-16",children:[s.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-3 sm:mb-4 px-2",children:[" ",s.jsx("span",{className:"text-gradient",children:"SEOBAIKE"}),""]}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground max-w-2xl mx-auto px-4",children:""})]}),s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 max-w-6xl mx-auto mb-10 sm:mb-12 md:mb-16",children:hVe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.3,delay:.1+t*.1},className:"relative rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-6 gradient-border bg-card glow-primary-subtle text-center",children:[s.jsx("div",{className:"text-2xl sm:text-3xl md:text-4xl mb-2 sm:mb-3",children:e.emoji}),s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm mb-1 sm:mb-2 line-through",children:e.title}),s.jsx("p",{className:"text-sm sm:text-base md:text-xl font-bold text-primary",children:e.highlight})]},e.title))}),s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"max-w-4xl mx-auto mb-12 sm:mb-16 md:mb-20",children:s.jsxs("div",{className:"glass rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8",children:[s.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-foreground text-center mb-4 sm:mb-6",children:""}),s.jsx("div",{className:"overflow-x-auto -mx-2 sm:mx-0",children:s.jsxs("table",{className:"w-full min-w-[320px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-border",children:[s.jsx("th",{className:"text-left py-3 sm:py-4 px-2 sm:px-3 font-semibold text-foreground text-xs sm:text-sm",children:""}),s.jsx("th",{className:"text-center py-3 sm:py-4 px-2 sm:px-3 font-semibold text-muted-foreground text-xs sm:text-sm",children:s.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[s.jsx(nr,{className:"w-3 h-3 sm:w-4 sm:h-4 text-destructive"}),s.jsx("span",{className:"hidden sm:inline",children:""}),s.jsx("span",{className:"sm:hidden",children:""})]})}),s.jsx("th",{className:"text-center py-3 sm:py-4 px-2 sm:px-3 font-semibold text-primary text-xs sm:text-sm",children:s.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[s.jsx(We,{className:"w-3 h-3 sm:w-4 sm:h-4 text-primary"}),"SEOBAIKE"]})})]})}),s.jsx("tbody",{children:uVe.map((e,t)=>s.jsxs(E.tr,{className:G("border-b border-border/50 transition-colors",e.highlight&&"bg-primary/5"),initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:t*.05},children:[s.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-3 text-foreground font-medium text-xs sm:text-sm",children:e.feature}),s.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-3 text-center text-muted-foreground text-xs sm:text-sm",children:s.jsx("span",{className:e.highlight?"line-through":"",children:e.traditional})}),s.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-3 text-center",children:e.highlight?s.jsx("span",{className:"bg-primary text-primary-foreground px-2 sm:px-3 py-0.5 sm:py-1 rounded-full font-bold text-xs sm:text-sm",children:e.ours}):s.jsx("span",{className:"text-primary font-semibold text-xs sm:text-sm",children:e.ours})})]},e.feature))})]})}),s.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:s.jsx(ye,{to:"/builder",children:s.jsxs(B,{variant:"hero",size:"lg",className:"gap-2 text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3 touch-manipulation",children:[s.jsx(Mi,{className:"w-4 h-4 sm:w-5 sm:h-5"})," 30 "]})})})]})}),s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},className:"mb-12 sm:mb-16 md:mb-20",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-foreground mb-2",children:""}),s.jsx("p",{className:"text-base sm:text-lg text-primary font-semibold mb-2",children:"1  = NT$1"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:""})]}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6 max-w-5xl mx-auto",children:mVe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,delay:t*.1},className:G("relative rounded-xl sm:rounded-2xl p-3 sm:p-4 md:p-6 transition-all duration-300 hover-lift",e.popular?"gradient-border bg-card glow-primary-subtle lg:scale-105 z-10":"glass hover:bg-card/80"),children:[e.popular&&s.jsx("div",{className:"absolute -top-2 sm:-top-3 left-1/2 -translate-x-1/2",children:s.jsxs("div",{className:"flex items-center gap-1 bg-primary text-primary-foreground px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-xs font-medium",children:[s.jsx(Js,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),""]})}),s.jsxs("div",{className:"text-center mb-2 sm:mb-4",children:[s.jsx("span",{className:"text-2xl sm:text-3xl mb-1 sm:mb-2 block",children:e.emoji}),s.jsx("h4",{className:"text-sm sm:text-base md:text-lg font-bold text-foreground",children:e.name})]}),s.jsxs("div",{className:"text-center mb-3 sm:mb-4",children:[s.jsxs("div",{className:"text-primary text-lg sm:text-xl md:text-2xl font-bold mb-0.5 sm:mb-1",children:[e.points.toLocaleString()," "]}),s.jsxs("span",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-foreground",children:["NT$",e.price.toLocaleString()]})]}),s.jsx(ye,{to:`/merchant/topup?package=${e.id}`,children:s.jsx(B,{variant:e.popular?"hero":"heroOutline",className:"w-full text-xs sm:text-sm touch-manipulation",size:"sm",children:""})})]},e.id))}),s.jsx("div",{className:"mt-10 max-w-4xl mx-auto",children:s.jsxs("div",{className:"glass rounded-2xl p-6",children:[s.jsx("h4",{className:"text-xl font-bold text-foreground text-center mb-6",children:" "}),s.jsx("div",{className:"overflow-x-auto mb-8",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-2 font-semibold text-foreground",children:""}),s.jsx("th",{className:"text-center py-3 px-2 font-semibold text-muted-foreground",children:""}),s.jsx("th",{className:"text-center py-3 px-2 font-semibold text-primary",children:"SEOBAIKE"}),s.jsx("th",{className:"text-center py-3 px-2 font-semibold text-emerald-500 dark:text-emerald-400",children:""})]})}),s.jsx("tbody",{children:fVe.map(e=>s.jsxs("tr",{className:"border-b border-border/50",children:[s.jsx("td",{className:"py-3 px-2 text-foreground",children:e.feature}),s.jsxs("td",{className:"py-3 px-2 text-center text-muted-foreground line-through",children:["NT$",e.traditional]}),s.jsx("td",{className:"py-3 px-2 text-center",children:s.jsxs("span",{className:"bg-primary text-primary-foreground px-2 py-1 rounded-full font-bold",children:["NT$",e.ours]})}),s.jsxs("td",{className:"py-3 px-2 text-center text-emerald-500 dark:text-emerald-400 font-bold",children:[" ",e.saving]})]},e.feature))})]})}),s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:pVe.map(e=>s.jsxs("div",{className:"bg-card/50 rounded-xl p-4",children:[s.jsx("div",{className:"text-2xl mb-2",children:e.emoji}),s.jsx("h5",{className:"font-bold text-foreground mb-2",children:e.title}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsx("p",{className:"text-muted-foreground",children:s.jsxs("span",{className:"line-through",children:["",e.traditional]})}),s.jsxs("p",{className:"text-primary font-medium",children:["SEOBAIKE",e.ours]})]})]},e.title))}),s.jsx("p",{className:"text-center text-muted-foreground text-sm mt-6",children:"AI  "})]})})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-foreground mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground",children:""})]}),s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs("div",{className:"glass rounded-2xl overflow-hidden",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-px bg-border",children:[s.jsx("div",{className:"bg-muted p-4 font-semibold text-foreground",children:""}),s.jsx("div",{className:"bg-muted p-4 font-semibold text-foreground text-right",children:""})]}),xVe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:t*.05},className:"grid grid-cols-2 gap-px bg-border",children:[s.jsx("div",{className:"bg-card p-4 text-foreground",children:e.name}),s.jsxs("div",{className:"bg-card p-4 text-right",children:[s.jsxs("span",{className:"text-primary font-semibold",children:[e.points," "]}),e.unit&&s.jsx("span",{className:"text-muted-foreground text-sm",children:e.unit})]})]},e.name))]})})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.45},className:"mb-20",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-foreground mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground",children:" SEO "})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:gVe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,delay:t*.05},className:"flex items-center gap-3 glass rounded-xl p-4 hover:bg-card/80 transition-colors cursor-pointer",children:[s.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(e.icon,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-foreground font-medium",children:e.text})]})]},e.text))}),s.jsx("div",{className:"text-center mt-6",children:s.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary rounded-full px-4 py-2 text-sm font-medium",children:[s.jsx(We,{className:"w-4 h-4"}),""]})})]}),s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.5},className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"glass rounded-2xl p-8 md:p-12",children:[s.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-foreground text-center mb-8",children:""}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:yVe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:.5+t*.1},className:"flex items-center gap-4 bg-card/50 rounded-xl p-4 hover:bg-card/80 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center",children:s.jsx(e.icon,{className:"w-6 h-6 text-primary"})}),s.jsx("span",{className:"text-foreground font-medium",children:e.text})]},e.text))}),s.jsx(E.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:1},className:"mt-8 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-primary to-primary/80 text-primary-foreground rounded-xl px-6 py-4",children:[s.jsx(rZ,{className:"w-5 h-5"}),s.jsx("p",{className:"font-bold",children:" "})]})})]})})]})}),bVe=[{id:"credit",icon:Cs,name:"",description:"Visa/Master/JCB",instant:!0},{id:"atm",icon:ya,name:"ATM ",description:"24 ",instant:!1},{id:"cvs",icon:_M,name:"",description:"7-11OK",instant:!1},{id:"linepay",icon:ii,name:"LINE Pay",description:"",instant:!0},{id:"jkopay",icon:ii,name:"",description:"",instant:!0}],wVe=()=>s.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:""})]}),s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 max-w-4xl mx-auto mb-10",children:bVe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,delay:.1+t*.05},whileHover:{y:-4},className:"relative bg-card rounded-xl p-4 border border-border hover:border-primary/50 transition-all text-center",children:[e.instant&&s.jsx("div",{className:"absolute -top-2 -right-2",children:s.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-500 text-white text-[10px] font-medium",children:" "})}),s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(e.icon,{className:"w-6 h-6 text-primary"})}),s.jsx("h3",{className:"font-semibold text-foreground text-sm mb-1",children:e.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e.description})]},e.id))}),s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},className:"text-center space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 rounded-xl bg-card border border-border",children:[s.jsx(sn,{className:"w-5 h-5 text-emerald-500"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[" ",s.jsx("span",{className:"font-semibold text-foreground",children:"ECPay "})," "]}),s.jsx(Ct,{className:"w-4 h-4 text-emerald-500"})]}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-emerald-500/10 border border-emerald-500/30",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm font-medium text-emerald-600",children:""}),s.jsx("span",{className:"text-xs text-emerald-500 bg-emerald-500/20 px-2 py-0.5 rounded-full",children:"eCO"})]})]})]})}),x7=["","","","","","","",""],y7=[{id:"modern",name:"",color:"from-blue-500 to-cyan-500"},{id:"elegant",name:"",color:"from-amber-500 to-orange-500"},{id:"tech",name:"",color:"from-purple-500 to-pink-500"},{id:"nature",name:"",color:"from-green-500 to-emerald-500"},{id:"dark",name:"",color:"from-slate-600 to-slate-800"}],Oy=x.memo(({icon:e,label:t,onClick:n,active:r,className:i})=>s.jsxs("button",{onClick:n,className:G("flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200","hover:bg-slate-700/50 active:scale-95",r?"text-primary bg-primary/20":"text-gray-400",i),children:[s.jsx(e,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:t})]}));Oy.displayName="ToolbarButton";const Xae=x.memo(({onSubmit:e,isLoading:t})=>{const[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,l]=x.useState(y7[0]),c=x.useRef(null),d=x.useRef(!1),[u,h]=x.useState(""),m=x.useRef({placeholderIndex:0,isTyping:!0});x.useEffect(()=>{if(d.current)return;const v=setInterval(()=>{if(d.current)return;const b=m.current,w=x7[b.placeholderIndex];h(S=>d.current?S:b.isTyping?S.length<w.length?w.substring(0,S.length+1):(setTimeout(()=>{b.isTyping=!1},2500),S):S.length>3?S.substring(0,S.length-1):(b.placeholderIndex=(b.placeholderIndex+1)%x7.length,b.isTyping=!0,S))},m.current.isTyping?100:50);return()=>clearInterval(v)},[]);const f=x.useCallback(()=>{n.trim()&&!t&&(e(n),r(""),d.current=!1)},[n,t,e]),p=x.useCallback(y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),f())},[f]),g=x.useCallback(y=>{const v=y.target.value;r(v),d.current=v.length>0},[]);return x.useEffect(()=>{c.current&&(c.current.style.height="auto",c.current.style.height=`${Math.min(c.current.scrollHeight,200)}px`)},[n]),s.jsx(E.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,ease:[.22,1,.36,1]},className:"w-full max-w-3xl mx-auto",children:s.jsxs("div",{className:G("relative bg-slate-900/90 backdrop-blur-xl rounded-2xl transition-all duration-300","shadow-2xl shadow-black/30","border",i?"ring-2 ring-primary/40 border-primary/30":"border-slate-700/50 hover:border-slate-600/70"),children:[s.jsx("div",{className:"p-4 md:p-5",children:s.jsx("textarea",{ref:c,value:n,onChange:g,onFocus:()=>a(!0),onBlur:()=>a(!1),onKeyDown:p,placeholder:u,rows:1,className:G("w-full resize-none bg-transparent","text-white placeholder:text-gray-500","focus:outline-none text-base md:text-lg leading-relaxed","min-h-[28px]"),disabled:t})}),s.jsxs("div",{className:"flex items-center justify-between px-3 md:px-4 pb-3 md:pb-4 border-t border-slate-700/50 pt-3",children:[s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx(Oy,{icon:lm,label:""}),s.jsx(Oy,{icon:wM,label:""}),s.jsxs(X_,{children:[s.jsx(J_,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium text-gray-400 hover:bg-slate-700/50 transition-all",children:[s.jsx(Ac,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Theme"}),s.jsx(qr,{className:"w-3 h-3 opacity-50"})]})}),s.jsx(ew,{align:"start",className:"w-48 bg-slate-900 border-slate-700",children:y7.map(y=>s.jsxs(pp,{onClick:()=>l(y),className:"flex items-center gap-2 cursor-pointer text-gray-300 hover:text-white hover:bg-slate-800",children:[s.jsx("div",{className:G("w-4 h-4 rounded-full bg-gradient-to-r",y.color)}),s.jsx("span",{children:y.name}),o.id===y.id&&s.jsx(Ye,{className:"w-3 h-3 ml-auto text-primary"})]},y.id))})]})]}),s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx(Oy,{icon:Vr,label:""}),s.jsx(Oy,{icon:bn,label:""}),s.jsx(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f,disabled:!n.trim()||t,className:G("flex items-center gap-2 px-4 py-2 rounded-lg ml-2","bg-gradient-to-r from-[#667eea] to-[#764ba2]","text-white font-medium text-sm","shadow-lg shadow-purple-500/25","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none","hover:shadow-xl hover:shadow-purple-500/30"),children:t?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{className:"hidden sm:inline",children:"..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Bs,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]})})]})]})]})})});Xae.displayName="LovableStyleInput";const Yn=x.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:G("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Yn.displayName="Textarea";var rC="Dialog",[Jae,Qae]=Ar(rC),[jVe,Wo]=Jae(rC),Zae=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[d,u]=ua({prop:r,defaultProp:i??!1,onChange:a,caller:rC});return s.jsx(jVe,{scope:t,triggerRef:l,contentRef:c,contentId:za(),titleId:za(),descriptionId:za(),open:d,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};Zae.displayName=rC;var eoe="DialogTrigger",toe=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Wo(eoe,n),a=ft(t,i.triggerRef);return s.jsx(De.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":zD(i.open),...r,ref:a,onClick:ve(e.onClick,i.onOpenToggle)})});toe.displayName=eoe;var BD="DialogPortal",[SVe,noe]=Jae(BD,{forceMount:void 0}),roe=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Wo(BD,t);return s.jsx(SVe,{scope:t,forceMount:n,children:x.Children.map(r,o=>s.jsx(ms,{present:n||a.open,children:s.jsx(Lb,{asChild:!0,container:i,children:o})}))})};roe.displayName=BD;var oN="DialogOverlay",soe=x.forwardRef((e,t)=>{const n=noe(oN,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Wo(oN,e.__scopeDialog);return a.modal?s.jsx(ms,{present:r||a.open,children:s.jsx(kVe,{...i,ref:t})}):null});soe.displayName=oN;var NVe=om("DialogOverlay.RemoveScroll"),kVe=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Wo(oN,n);return s.jsx(W_,{as:NVe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(De.div,{"data-state":zD(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),fm="DialogContent",ioe=x.forwardRef((e,t)=>{const n=noe(fm,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Wo(fm,e.__scopeDialog);return s.jsx(ms,{present:r||a.open,children:a.modal?s.jsx(_Ve,{...i,ref:t}):s.jsx(CVe,{...i,ref:t})})});ioe.displayName=fm;var _Ve=x.forwardRef((e,t)=>{const n=Wo(fm,e.__scopeDialog),r=x.useRef(null),i=ft(t,n.contentRef,r);return x.useEffect(()=>{const a=r.current;if(a)return pD(a)},[]),s.jsx(aoe,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ve(e.onFocusOutside,a=>a.preventDefault())})}),CVe=x.forwardRef((e,t)=>{const n=Wo(fm,e.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return s.jsx(aoe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),aoe=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Wo(fm,n),c=x.useRef(null),d=ft(t,c);return fD(),s.jsxs(s.Fragment,{children:[s.jsx(V_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(ex,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":zD(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(TVe,{titleId:l.titleId}),s.jsx(PVe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),UD="DialogTitle",ooe=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Wo(UD,n);return s.jsx(De.h2,{id:i.titleId,...r,ref:t})});ooe.displayName=UD;var loe="DialogDescription",coe=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Wo(loe,n);return s.jsx(De.p,{id:i.descriptionId,...r,ref:t})});coe.displayName=loe;var doe="DialogClose",uoe=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Wo(doe,n);return s.jsx(De.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,()=>i.onOpenChange(!1))})});uoe.displayName=doe;function zD(e){return e?"open":"closed"}var hoe="DialogTitleWarning",[EVe,moe]=Ake(hoe,{contentName:fm,titleName:UD,docsSlug:"dialog"}),TVe=({titleId:e})=>{const t=moe(hoe),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},AVe="DialogDescriptionWarning",PVe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${moe(AVe).contentName}}.`;return x.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},foe=Zae,poe=toe,goe=roe,VD=soe,qD=ioe,WD=ooe,HD=coe,KD=uoe;const Xn=foe,IVe=poe,OVe=goe,xoe=x.forwardRef(({className:e,...t},n)=>s.jsx(VD,{ref:n,className:G("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xoe.displayName=VD.displayName;const zn=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(OVe,{children:[s.jsx(xoe,{}),s.jsxs(qD,{ref:r,className:G("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(KD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zn.displayName=qD.displayName;const Di=({className:e,...t})=>s.jsx("div",{className:G("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Di.displayName="DialogHeader";const sC=({className:e,...t})=>s.jsx("div",{className:G("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sC.displayName="DialogFooter";const hr=x.forwardRef(({className:e,...t},n)=>s.jsx(WD,{ref:n,className:G("text-lg font-semibold leading-none tracking-tight",e),...t}));hr.displayName=WD.displayName;const Tl=x.forwardRef(({className:e,...t},n)=>s.jsx(HD,{ref:n,className:G("text-sm text-muted-foreground",e),...t}));Tl.displayName=HD.displayName;var GD="Progress",YD=100,[RVe,n_t]=Ar(GD),[MVe,DVe]=RVe(GD),yoe=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=LVe,...o}=e;(i||i===0)&&!v7(i)&&console.error($Ve(`${i}`,"Progress"));const l=v7(i)?i:YD;r!==null&&!b7(r,l)&&console.error(FVe(`${r}`,"Progress"));const c=b7(r,l)?r:null,d=lN(c)?a(c,l):void 0;return s.jsx(MVe,{scope:n,value:c,max:l,children:s.jsx(De.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":lN(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":woe(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});yoe.displayName=GD;var voe="ProgressIndicator",boe=x.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=DVe(voe,n);return s.jsx(De.div,{"data-state":woe(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});boe.displayName=voe;function LVe(e,t){return`${Math.round(e/t*100)}%`}function woe(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function lN(e){return typeof e=="number"}function v7(e){return lN(e)&&!isNaN(e)&&e>0}function b7(e,t){return lN(e)&&!isNaN(e)&&e<=t&&e>=0}function $Ve(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${YD}\`.`}function FVe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${YD} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var joe=yoe,BVe=boe;const Uu=x.forwardRef(({className:e,value:t,...n},r)=>s.jsx(joe,{ref:r,className:G("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(BVe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Uu.displayName=joe.displayName;const g1=[{id:"security",name:"",description:"",icon:s.jsx(sn,{className:"h-5 w-5"})},{id:"package",name:"",description:"",icon:s.jsx(bM,{className:"h-5 w-5"})},{id:"upload",name:"",description:"",icon:s.jsx(uZ,{className:"h-5 w-5"})},{id:"domain",name:"",description:" DNS  SSL ",icon:s.jsx(Tt,{className:"h-5 w-5"})},{id:"complete",name:"",description:"",icon:s.jsx(St,{className:"h-5 w-5"})}],UVe=({open:e,onComplete:t,websiteName:n,domain:r})=>{const[i,a]=x.useState(g1.map(p=>({...p,status:"pending"}))),[o,l]=x.useState(0),[c,d]=x.useState(0),[u]=x.useState(Date.now());x.useEffect(()=>{if(!e)return;const p=setInterval(()=>{d(Math.floor((Date.now()-u)/1e3))},1e3);return()=>clearInterval(p)},[e,u]),x.useEffect(()=>{if(!e)return;(async()=>{for(let y=0;y<g1.length;y++){l(y),a(w=>w.map((S,j)=>j===y?{...S,status:"in_progress"}:S));const v=1500+Math.random()*1500;if(await new Promise(w=>setTimeout(w,v)),Math.random()<.05&&y<g1.length-1){a(w=>w.map((S,j)=>j===y?{...S,status:"failed"}:S)),t(!1,{error:`${g1[y].name}`});return}a(w=>w.map((S,j)=>j===y?{...S,status:"completed"}:S))}const g=r?`https://${r}`:`https://${n.toLowerCase().replace(/\s+/g,"-")}.aiforseo.vip`;t(!0,{url:g})})()},[e,r,n,t]);const h=p=>{const g=Math.floor(p/60),y=p%60;return`${g.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`},m=i.filter(p=>p.status==="completed").length,f=m/i.length*100;return s.jsx(Xn,{open:e,onOpenChange:()=>{},children:s.jsxs(zn,{className:"max-w-md",onPointerDownOutside:p=>p.preventDefault(),children:[s.jsx(hr,{className:"sr-only",children:""}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h2",{className:"text-xl font-bold",children:""}),s.jsx("p",{className:"text-muted-foreground text-sm",children:n}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Pn,{className:"h-4 w-4"}),s.jsxs("span",{children:[" ",h(c)]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Uu,{value:f,className:"h-2"}),s.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[m,"/",i.length," "]})]}),s.jsx("div",{className:"space-y-3",children:i.map((p,g)=>s.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},className:G("flex items-center gap-4 p-3 rounded-lg transition-all",p.status==="in_progress"&&"bg-primary/10 border border-primary/20",p.status==="completed"&&"bg-green-50 dark:bg-green-950/20",p.status==="failed"&&"bg-red-50 dark:bg-red-950/20",p.status==="pending"&&"opacity-50"),children:[s.jsx("div",{className:G("flex items-center justify-center w-10 h-10 rounded-full",p.status==="pending"&&"bg-muted text-muted-foreground",p.status==="in_progress"&&"bg-primary text-primary-foreground",p.status==="completed"&&"bg-green-500 text-white",p.status==="failed"&&"bg-red-500 text-white"),children:s.jsx(He,{mode:"wait",children:p.status==="in_progress"?s.jsx(E.div,{initial:{rotate:0},animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:s.jsx(Ge,{className:"h-5 w-5"})},"loading"):p.status==="completed"?s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},children:s.jsx(St,{className:"h-5 w-5"})},"check"):p.status==="failed"?s.jsx(rs,{className:"h-5 w-5"}):p.icon})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:G("font-medium",p.status==="completed"&&"text-green-700 dark:text-green-400",p.status==="failed"&&"text-red-700 dark:text-red-400"),children:p.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.description})]}),p.status==="in_progress"&&s.jsx("span",{className:"text-xs text-primary animate-pulse",children:"..."})]},p.id))}),s.jsx("p",{className:"text-center text-xs text-muted-foreground",children:""})]})]})})},zVe=({open:e,onOpenChange:t,websiteUrl:n,websiteName:r,onDownloadBackup:i})=>{const[a,o]=x.useState(!1),l=async()=>{try{await navigator.clipboard.writeText(n),o(!0),q.success(""),setTimeout(()=>o(!1),2e3)}catch{q.error("")}},c=()=>{window.open(n,"_blank")},d=()=>{const u=encodeURIComponent(` 

${r}
${n}

 SEOBAIKE `);window.open(`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(n)}&text=${u}`,"_blank")};return s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsxs(zn,{className:"max-w-md",children:[s.jsx(hr,{className:"sr-only",children:""}),s.jsxs("div",{className:"space-y-6 py-4 text-center",children:[s.jsxs(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"relative mx-auto w-24 h-24",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full animate-pulse opacity-20"}),s.jsx("div",{className:"absolute inset-2 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center",children:s.jsx(St,{className:"h-12 w-12 text-white"})}),s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:-10},transition:{delay:.3,duration:.5},className:"absolute -top-4 -right-2",children:s.jsx(jM,{className:"h-8 w-8 text-yellow-500"})}),s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:-10},transition:{delay:.4,duration:.5},className:"absolute -top-2 -left-4",children:s.jsx(Ye,{className:"h-6 w-6 text-purple-500"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(E.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-500 bg-clip-text text-transparent",children:" "}),s.jsxs(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-muted-foreground",children:[r," "]})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-muted/50 rounded-lg p-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:""}),s.jsxs("div",{className:"flex items-center gap-2 bg-background rounded-md p-3 border",children:[s.jsx("span",{className:"flex-1 text-sm font-mono truncate text-primary",children:n}),s.jsx(B,{variant:"ghost",size:"icon",onClick:l,className:"shrink-0",children:s.jsx(An,{className:`h-4 w-4 ${a?"text-green-500":""}`})})]})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-2 gap-3",children:[s.jsxs(B,{onClick:c,className:"gap-2",children:[s.jsx(Br,{className:"h-4 w-4"}),""]}),s.jsxs(B,{variant:"outline",onClick:l,className:"gap-2",children:[s.jsx(An,{className:"h-4 w-4"}),a?"":""]})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-2 gap-3",children:[s.jsxs(B,{variant:"outline",onClick:d,className:"gap-2 border-green-500 text-green-600 hover:bg-green-50",children:[s.jsx(NM,{className:"h-4 w-4"})," LINE"]}),s.jsxs(B,{variant:"outline",onClick:i,className:"gap-2",children:[s.jsx(fu,{className:"h-4 w-4"}),""]})]}),s.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-xs text-muted-foreground",children:"DNS  24-48 "})]})]})})},VVe=({errorCode:e,title:t,description:n,impact:r,solution:i,isFixed:a,isFixing:o,onRequestFix:l,fixCost:c=10})=>{const[d,u]=x.useState(!1);return s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:G("rounded-lg border transition-colors",a?"border-green-500/30 bg-green-50/50 dark:bg-green-950/20":"border-red-500/30 bg-red-50/50 dark:bg-red-950/20"),children:[s.jsxs("div",{className:"flex items-center justify-between p-3 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a?s.jsx(Ct,{className:"w-5 h-5 text-green-500 shrink-0"}):s.jsx(Wr,{className:"w-5 h-5 text-red-500 shrink-0"}),s.jsxs("button",{onClick:()=>u(!d),className:"flex items-center gap-2 text-left flex-1 min-w-0",children:[s.jsx("span",{className:G("text-sm font-medium truncate",a?"text-green-700 dark:text-green-400 line-through":"text-red-700 dark:text-red-400"),children:t}),s.jsx(qr,{className:G("w-4 h-4 shrink-0 transition-transform text-muted-foreground",d&&"rotate-180")})]})]}),!a&&s.jsx(B,{size:"sm",variant:"outline",onClick:l,disabled:o,className:G("shrink-0 gap-1.5 text-xs",o?"border-blue-300 text-blue-600":"border-red-300 text-red-600 hover:bg-red-100 hover:text-red-700"),children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-3.5 h-3.5 animate-spin"}),s.jsx("span",{children:"..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Sl,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:""})]})})]}),s.jsx(He,{children:d&&s.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsxs("div",{className:"px-3 pb-3 space-y-2 text-xs",children:[s.jsx("div",{className:"flex items-center gap-2 text-muted-foreground",children:s.jsx("span",{className:"font-mono bg-muted px-1.5 py-0.5 rounded",children:e})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-foreground",children:""}),s.jsx("p",{className:"text-muted-foreground",children:n})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-orange-600 dark:text-orange-400",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:r})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:i})]}),!a&&s.jsxs("div",{className:"flex items-center gap-1.5 pt-1 text-primary",children:[s.jsx(cr,{className:"w-3.5 h-3.5"}),s.jsxs("span",{children:["",c," "]})]})]})})})]})},qVe=({open:e,onOpenChange:t,errorTitle:n,fixCost:r,currentBalance:i,onConfirm:a})=>{const o=i>=r,l=()=>{t(!1),a()};return s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsxs(zn,{className:"max-w-sm",children:[s.jsx(hr,{className:"sr-only",children:""}),s.jsxs("div",{className:"space-y-5 py-2 text-center",children:[s.jsxs(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"relative mx-auto w-16 h-16",children:[s.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full animate-pulse"}),s.jsx("div",{className:"absolute inset-2 bg-gradient-to-br from-primary to-blue-600 rounded-full flex items-center justify-center",children:s.jsx(Sl,{className:"h-7 w-7 text-white"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-lg font-bold text-foreground",children:" AI "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{className:"bg-muted/50 rounded-lg p-3",children:s.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:n})})]}),s.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("div",{className:"flex items-center gap-1.5 font-semibold text-primary",children:[s.jsx(cr,{className:"w-4 h-4"}),s.jsxs("span",{children:[r," "]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:o?"text-green-600":"text-red-600",children:[i," "]})]}),s.jsx("div",{className:"border-t pt-3",children:s.jsxs("div",{className:"flex items-center justify-between text-sm font-medium",children:[s.jsx("span",{children:""}),s.jsx("span",{className:o?"text-foreground":"text-red-600",children:o?`${i-r} `:""})]})})]}),s.jsxs("div",{className:"flex items-start gap-2 text-left bg-green-50 dark:bg-green-950/30 rounded-lg p-3",children:[s.jsx(Ct,{className:"w-4 h-4 text-green-500 shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs text-green-700 dark:text-green-400",children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("p",{className:"mt-1 text-green-600 dark:text-green-500",children:"AI "})]})]}),!o&&s.jsxs("div",{className:"flex items-start gap-2 text-left bg-red-50 dark:bg-red-950/30 rounded-lg p-3",children:[s.jsx(Wr,{className:"w-4 h-4 text-red-500 shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs text-red-700 dark:text-red-400",children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("p",{className:"mt-1",children:""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[s.jsx(B,{variant:"outline",onClick:()=>t(!1),children:""}),s.jsxs(B,{onClick:l,disabled:!o,className:"gap-1.5",children:[s.jsx(Sl,{className:"w-4 h-4"}),""]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-xs text-muted-foreground",children:[s.jsx(eg,{className:"w-3 h-3"}),s.jsx("span",{children:"AI "})]})]})]})})},sd={SECURITY_SCAN_FAILED:{title:"",description:"",impact:"",solution:" API "},PACKAGE_FAILED:{title:"",description:"",impact:"",solution:" 10MB "},UPLOAD_FAILED:{title:"",description:"",impact:"",solution:" 1-2 "},DOMAIN_FAILED:{title:"",description:" DNS ",impact:"",solution:" DNS  48 "},TIMEOUT:{title:"",description:"",impact:"",solution:""},UNKNOWN:{title:"",description:"",impact:"",solution:" AI "}},WVe=({open:e,onOpenChange:t,error:n,errorCode:r="UNKNOWN",errors:i,onRetry:a,onContactSupport:o,onRequestFix:l,pointsBalance:c=100,fixCost:d=10})=>{const[u,h]=x.useState(i||[{code:r,message:n,isFixed:!1,isFixing:!1}]),[m,f]=x.useState({open:!1,errorCode:"",errorTitle:""});x.useEffect(()=>{i&&h(i)},[i]);const p=`ERR_${r}_${Date.now().toString(36).toUpperCase()}`,g=u.every(S=>S.isFixed),y=S=>{const j=sd[S.code]||sd.UNKNOWN;f({open:!0,errorCode:S.code,errorTitle:j.title})},v=()=>{const S=u.find(k=>k.code===m.errorCode);if(!S)return;h(k=>k.map(_=>_.code===m.errorCode?{..._,isFixing:!0}:_));const j=sd[S.code]||sd.UNKNOWN,N=`
${S.code}
${j.title}
${S.message}
${j.description}
${j.impact}
${j.solution}
    `.trim();l==null||l(S.code,N)},b=async()=>{const S=u.map(N=>{const k=sd[N.code]||sd.UNKNOWN;return`
: ${N.code}
: ${k.title}
: ${N.message}
: ${N.isFixed?"":""}
      `.trim()}).join(`

---

`),j=`

: ${new Date().toLocaleString("zh-TW")}
: ${p}

${S}
    `.trim();try{await navigator.clipboard.writeText(j),q.success("")}catch{q.error("")}},w=()=>{o?o():window.open("https://line.me/R/ti/p/@seobaike","_blank")};return s.jsxs(s.Fragment,{children:[s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsxs(zn,{className:"max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsx(hr,{className:"sr-only",children:""}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"relative w-14 h-14 shrink-0",children:[s.jsx("div",{className:"absolute inset-0 bg-destructive/20 rounded-full animate-pulse"}),s.jsx("div",{className:"absolute inset-1.5 bg-gradient-to-br from-destructive to-red-600 rounded-full flex items-center justify-center",children:s.jsx(Oi,{className:"h-7 w-7 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-destructive",children:""}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",u.length," ",g&&""]})]}),s.jsx(B,{variant:"ghost",size:"icon",onClick:b,className:"shrink-0",children:s.jsx(An,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"space-y-2 max-h-[40vh] overflow-y-auto pr-1",children:u.map((S,j)=>{const N=sd[S.code]||sd.UNKNOWN;return s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:j*.1},children:s.jsx(VVe,{errorCode:S.code,title:N.title,description:N.description,impact:N.impact,solution:N.solution,isFixed:S.isFixed,isFixing:S.isFixing,onRequestFix:()=>y(S),fixCost:d})},S.code)})}),s.jsxs("div",{className:"flex items-center justify-between bg-muted/50 rounded-lg p-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4 text-primary"}),s.jsxs("span",{className:"text-muted-foreground",children:["AI ",d," /"]})]}),s.jsxs("span",{className:"font-medium text-primary",children:["",c," "]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[s.jsxs(B,{onClick:a,disabled:!g,className:"gap-2",children:[s.jsx(rn,{className:"h-4 w-4"}),g?"":""]}),s.jsxs(B,{variant:"outline",onClick:w,className:"gap-2",children:[s.jsx(ha,{className:"h-4 w-4"}),""]})]}),s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["",p]})]})]})}),s.jsx(qVe,{open:m.open,onOpenChange:S=>f(j=>({...j,open:S})),errorTitle:m.errorTitle,fixCost:d,currentBalance:c,onConfirm:v})]})},HVe=({open:e,onOpenChange:t,issueCount:n=1,onPublishAnyway:r,onReviewSecurity:i})=>s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsxs(zn,{className:"max-w-md p-0 overflow-hidden bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl shadow-xl",children:[s.jsx(hr,{className:"sr-only",children:""}),s.jsx("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors z-10",children:s.jsx(nr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg shrink-0",children:s.jsx(Yv,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:""}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:[" ",n," "]})]})]}),s.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800/50 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-orange-500 shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-300 space-y-1",children:[s.jsx("p",{className:"font-medium",children:""}),s.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-orange-600 dark:text-orange-400",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"API "}),s.jsx("li",{children:""})]})]})]})}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[s.jsx(B,{variant:"outline",onClick:r,className:"text-gray-600 hover:text-gray-800",children:""}),s.jsxs(B,{onClick:i,className:"bg-primary hover:bg-primary/90 text-primary-foreground gap-1.5",children:[s.jsx(sn,{className:"w-4 h-4"}),""]})]})]})]})}),KVe=[{id:"api_keys",title:"",titleEn:"Sensitive Key Exposure",severity:"critical",category:"security"},{id:"rls_policies",title:"",titleEn:"Data Access Policies",severity:"critical",category:"security"},{id:"xss_protection",title:"",titleEn:"XSS Protection",severity:"critical",category:"security"},{id:"auth_security",title:"",titleEn:"Authentication Security",severity:"critical",category:"security"},{id:"ssl_check",title:"",titleEn:"SSL/TLS Encryption",severity:"critical",category:"security"},{id:"third_party_hidden",title:"",titleEn:"Third-Party Branding Hidden",severity:"critical",category:"security"},{id:"input_validation",title:"",titleEn:"Input Validation",severity:"warning",category:"security"},{id:"error_message_friendly",title:"",titleEn:"Friendly Error Messages",severity:"warning",category:"security"},{id:"session_security",title:"Session ",titleEn:"Session Security",severity:"warning",category:"security"},{id:"password_encryption",title:"",titleEn:"Password Encryption",severity:"critical",category:"security"}],GVe=[{id:"meta_title",title:" 50-60 ",titleEn:"Meta Title (50-60 chars)",severity:"warning",category:"site_config"},{id:"meta_description",title:" 150-160 ",titleEn:"Meta Description (150-160 chars)",severity:"warning",category:"site_config"},{id:"og_image",title:"",titleEn:"OG Image Configuration",severity:"info",category:"site_config"},{id:"og_title",title:"OG ",titleEn:"OG Title Configuration",severity:"info",category:"site_config"},{id:"og_description",title:"OG ",titleEn:"OG Description Configuration",severity:"info",category:"site_config"},{id:"favicon",title:"",titleEn:"Favicon Configuration",severity:"info",category:"site_config"},{id:"canonical_url",title:"",titleEn:"Canonical URL",severity:"info",category:"site_config"},{id:"twitter_card",title:"Twitter Card ",titleEn:"Twitter Card Configuration",severity:"info",category:"site_config"}],YVe=[{id:"lighthouse_performance",title:"Lighthouse Performance 90+",titleEn:"Lighthouse Performance 90",severity:"warning",category:"performance"},{id:"lighthouse_seo",title:"Lighthouse SEO 90+",titleEn:"Lighthouse SEO 90",severity:"warning",category:"performance"},{id:"lighthouse_accessibility",title:"Lighthouse Accessibility 90+",titleEn:"Lighthouse Accessibility 90",severity:"warning",category:"performance"},{id:"lighthouse_best_practices",title:"Lighthouse Best Practices 90+",titleEn:"Lighthouse Best Practices 90",severity:"warning",category:"performance"},{id:"page_speed",title:" 3 ",titleEn:"Page Load Speed <3s",severity:"warning",category:"performance"},{id:"first_contentful_paint",title:" 1 ",titleEn:"First Contentful Paint <1s",severity:"info",category:"performance"},{id:"image_optimization",title:" WebP + lazy loading",titleEn:"Image Optimization (WebP + Lazy)",severity:"info",category:"performance"},{id:"code_optimization",title:"JS defer ",titleEn:"JS Defer Loading",severity:"info",category:"performance"},{id:"css_optimization",title:" CSS inline",titleEn:"Critical CSS Inline",severity:"info",category:"performance"},{id:"gzip_compression",title:"Gzip ",titleEn:"Gzip Compression Enabled",severity:"info",category:"performance"}],XVe=[{id:"mobile_responsive",title:" 320-480px ",titleEn:"Mobile Responsive (320-480px)",severity:"warning",category:"compatibility"},{id:"tablet_responsive",title:" 768-1024px ",titleEn:"Tablet Responsive (768-1024px)",severity:"warning",category:"compatibility"},{id:"desktop_responsive",title:" 1280px+ ",titleEn:"Desktop Responsive (1280px+)",severity:"warning",category:"compatibility"},{id:"touch_target",title:" 44x44px",titleEn:"Touch Target 44x44px",severity:"info",category:"compatibility"},{id:"font_size",title:" 16px ",titleEn:"Mobile Font Size 16px",severity:"info",category:"compatibility"},{id:"accessibility",title:"",titleEn:"Accessibility Support",severity:"info",category:"compatibility"},{id:"cross_browser",title:"Chrome/Safari/Firefox ",titleEn:"Cross-Browser Compatibility",severity:"info",category:"compatibility"},{id:"viewport_meta",title:"Viewport Meta ",titleEn:"Viewport Meta Tag",severity:"warning",category:"compatibility"}],JVe=[{id:"broken_links",title:"",titleEn:"Broken Link Detection",severity:"warning",category:"content"},{id:"broken_images",title:"",titleEn:"Broken Image Detection",severity:"warning",category:"content"},{id:"contact_info",title:"",titleEn:"Contact Information Complete",severity:"info",category:"content"},{id:"company_info",title:"",titleEn:"Company Information Complete",severity:"info",category:"content"},{id:"privacy_policy",title:"",titleEn:"Privacy Policy Exists",severity:"warning",category:"content"},{id:"terms_of_service",title:"",titleEn:"Terms of Service Exists",severity:"warning",category:"content"},{id:"copyright_notice",title:"",titleEn:"Copyright Notice Exists",severity:"info",category:"content"},{id:"spelling_check",title:"",titleEn:"Spelling Check",severity:"info",category:"content"},{id:"content_length",title:"",titleEn:"Content Length Adequate",severity:"info",category:"content"},{id:"cta_visible",title:"CTA ",titleEn:"CTA Buttons Visible",severity:"info",category:"content"}],QVe=[{id:"h1_tag",title:"H1 ",titleEn:"Unique H1 Tag Per Page",severity:"warning",category:"seo"},{id:"h2_h3_structure",title:"H2-H3 ",titleEn:"H2-H3 Heading Structure",severity:"info",category:"seo"},{id:"alt_tags",title:" Alt ",titleEn:"Image Alt Tags",severity:"warning",category:"seo"},{id:"json_ld_organization",title:"JSON-LD Organization",titleEn:"JSON-LD Organization Schema",severity:"info",category:"seo"},{id:"json_ld_localbusiness",title:"JSON-LD LocalBusiness",titleEn:"JSON-LD LocalBusiness Schema",severity:"info",category:"seo"},{id:"json_ld_breadcrumb",title:"JSON-LD BreadcrumbList",titleEn:"JSON-LD Breadcrumb Schema",severity:"info",category:"seo"},{id:"robots_txt",title:"robots.txt ",titleEn:"Valid robots.txt",severity:"warning",category:"seo"},{id:"sitemap_xml",title:"sitemap.xml ",titleEn:"Valid sitemap.xml",severity:"warning",category:"seo"},{id:"internal_links",title:"",titleEn:"Internal Links Valid",severity:"info",category:"seo"},{id:"external_links",title:" nofollow",titleEn:"External Links Nofollow",severity:"info",category:"seo"},{id:"page_404",title:"404 ",titleEn:"404 Page Exists",severity:"warning",category:"seo"},{id:"url_structure",title:"URL ",titleEn:"Clean URL Structure",severity:"info",category:"seo"}],ZVe=[{id:"register_function",title:"",titleEn:"Registration Functional",severity:"warning",category:"functionality"},{id:"login_function",title:"",titleEn:"Login Functional",severity:"warning",category:"functionality"},{id:"logout_function",title:"",titleEn:"Logout Functional",severity:"warning",category:"functionality"},{id:"form_submit",title:"",titleEn:"Form Submission Working",severity:"warning",category:"functionality"},{id:"form_validation",title:"",titleEn:"Form Validation Working",severity:"warning",category:"functionality"},{id:"ai_chat",title:"AI ",titleEn:"AI Chat Functional",severity:"warning",category:"functionality"},{id:"ai_chat_streaming",title:"AI ",titleEn:"AI Chat Streaming Effect",severity:"info",category:"functionality"},{id:"points_system",title:"",titleEn:"Points System Working",severity:"warning",category:"functionality"},{id:"points_deduction",title:"",titleEn:"Points Deduction Correct",severity:"warning",category:"functionality"},{id:"error_handling",title:"",titleEn:"Error Handling Working",severity:"info",category:"functionality"},{id:"notification_system",title:"",titleEn:"Notification System Working",severity:"info",category:"functionality"},{id:"email_delivery",title:"Email ",titleEn:"Email Delivery Working",severity:"info",category:"functionality"}],eqe=[{id:"consistent_design",title:"",titleEn:"Consistent Design Style",severity:"info",category:"ui_ux"},{id:"color_contrast",title:"",titleEn:"Sufficient Color Contrast",severity:"info",category:"ui_ux"},{id:"loading_indicator",title:"",titleEn:"Loading Indicators Present",severity:"info",category:"ui_ux"},{id:"empty_state",title:"",titleEn:"Empty State Messaging",severity:"info",category:"ui_ux"},{id:"success_feedback",title:"",titleEn:"Success Feedback",severity:"info",category:"ui_ux"},{id:"error_feedback",title:"",titleEn:"Error Feedback",severity:"info",category:"ui_ux"},{id:"navigation_clear",title:"",titleEn:"Clear Navigation",severity:"warning",category:"ui_ux"},{id:"footer_complete",title:"Footer ",titleEn:"Complete Footer Information",severity:"info",category:"ui_ux"}],tqe=[{id:"google_analytics",title:"GA4 ",titleEn:"GA4 Tracking Installed",severity:"info",category:"monitoring"},{id:"google_search_console",title:"GSC ",titleEn:"GSC Verified",severity:"warning",category:"monitoring"},{id:"error_logging",title:"",titleEn:"Error Logging Enabled",severity:"info",category:"monitoring"},{id:"uptime_monitoring",title:"",titleEn:"Uptime Monitoring Enabled",severity:"info",category:"monitoring"},{id:"backup_system",title:"",titleEn:"Backup System Enabled",severity:"info",category:"monitoring"},{id:"ssl_expiry_alert",title:"SSL ",titleEn:"SSL Expiry Alert",severity:"info",category:"monitoring"}],Ry=[...KVe,...GVe,...YVe,...XVe,...JVe,...QVe,...ZVe,...eqe,...tqe],nqe={security:{zh:"",en:"Security",icon:""},site_config:{zh:"",en:"Site Configuration",icon:""},performance:{zh:"",en:"Performance",icon:""},compatibility:{zh:"",en:"Compatibility",icon:""},content:{zh:"",en:"Content Integrity",icon:""},seo:{zh:"SEO ",en:"SEO",icon:""},functionality:{zh:"",en:"Functionality",icon:""},ui_ux:{zh:"UI/UX ",en:"UI/UX",icon:""},monitoring:{zh:"",en:"Monitoring",icon:""}},ey={critical:Ry.filter(e=>e.severity==="critical").length,warning:Ry.filter(e=>e.severity==="warning").length,info:Ry.filter(e=>e.severity==="info").length,total:Ry.length},w7="115100981",rqe=({open:e,onOpenChange:t,onComplete:n,issueCount:r=3})=>{const[i,a]=x.useState(0),[o,l]=x.useState(0),[c,d]=x.useState(["1","1","5","1","0","0","9","8","1"]),[u,h]=x.useState(!1),m=[{progress:15,duration:800},{progress:35,duration:1200},{progress:55,duration:1e3},{progress:75,duration:1500},{progress:90,duration:800},{progress:100,duration:600}];return x.useEffect(()=>{if(!e)return;const f=["1","1","5","1","0","0","9","8","1"],p=[];return f.forEach((g,y)=>{let v=0;const b=setInterval(()=>{d(w=>{const S=[...w];return v<20?S[y]=String(Math.floor(Math.random()*10)):(S[y]=g,clearInterval(b)),S}),v++},50+y*30);p.push(b)}),()=>p.forEach(clearInterval)},[e]),x.useEffect(()=>{if(!e){a(0),l(0),h(!1);return}let f;const p=g=>{if(g>=m.length){h(!0),setTimeout(()=>{n()},1e3);return}const y=m[g],v=g===0?0:m[g-1].progress,b=y.duration,w=Date.now(),S=()=>{const j=Date.now()-w,N=Math.min(j/b,1),k=1-Math.pow(1-N,3),_=v+(y.progress-v)*k;a(_),N<1?requestAnimationFrame(S):(l(g+1),f=setTimeout(()=>p(g+1),200))};requestAnimationFrame(S)};return f=setTimeout(()=>p(0),500),()=>clearTimeout(f)},[e,n]),s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsxs(zn,{className:"max-w-lg p-0 overflow-hidden bg-gray-950 border border-gray-800 rounded-2xl shadow-2xl",children:[s.jsx(hr,{className:"sr-only",children:"Repair Progress"}),s.jsxs("div",{className:"relative min-h-[400px] flex flex-col items-center justify-center p-8",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-purple-500/10"}),s.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-20",children:[s.jsx("defs",{children:s.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:s.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"currentColor",strokeWidth:"0.5",className:"text-primary/30"})})}),s.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]}),[...Array(12)].map((f,p)=>s.jsx(E.div,{className:"absolute w-1 h-1 bg-primary/60 rounded-full",initial:{x:Math.random()*100+"%",y:"100%",opacity:0},animate:{y:"-20%",opacity:[0,1,0]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2,ease:"linear"}},p))]}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[s.jsxs("div",{className:"relative w-40 h-40 mb-8",children:[s.jsx(E.div,{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(from 0deg, hsl(var(--primary)) ${i}%, transparent ${i}%)`,filter:"blur(8px)",opacity:.5}}),s.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",children:[s.jsx("circle",{cx:"80",cy:"80",r:"70",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),s.jsx(E.circle,{cx:"80",cy:"80",r:"70",fill:"none",stroke:"hsl(var(--primary))",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:440,strokeDashoffset:440-440*i/100,className:"drop-shadow-[0_0_10px_hsl(var(--primary))]"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs(E.div,{className:"text-4xl font-mono font-bold text-white",children:[Math.floor(i),s.jsx("span",{className:"text-lg text-primary",children:"%"})]},Math.floor(i))}),s.jsx(E.div,{className:"absolute inset-0",animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},children:s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-2 h-2 bg-primary rounded-full shadow-[0_0_10px_hsl(var(--primary))]"})})]}),s.jsx("div",{className:"flex gap-3 mb-6",children:m.map((f,p)=>s.jsx(E.div,{className:"w-2 h-2 rounded-full",animate:{backgroundColor:p<o||p===o?"hsl(var(--primary))":"rgba(255,255,255,0.2)",scale:p===o?[1,1.3,1]:1},transition:{scale:{duration:.5,repeat:p===o?1/0:0}}},p))}),s.jsx(He,{children:u&&s.jsx(E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 flex items-center justify-center",children:s.jsx(E.div,{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center",animate:{scale:[1,1.2,1]},transition:{duration:.5},children:s.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx(E.path,{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5}})})})})})]}),s.jsxs("div",{className:"relative z-10 mt-8",children:[s.jsxs("div",{className:"flex items-center gap-1 px-4 py-2 bg-gray-900/80 rounded-lg border border-gray-700/50",children:[s.jsx("span",{className:"text-xs text-gray-500 mr-2 font-mono",children:"PATENT"}),c.map((f,p)=>s.jsx(E.span,{className:"w-5 h-7 flex items-center justify-center text-sm font-mono font-bold text-primary bg-gray-800/50 rounded",animate:{textShadow:u?"0 0 8px hsl(var(--primary))":"none"},children:f},p))]}),s.jsxs("svg",{className:"absolute -left-8 -right-8 top-1/2 -translate-y-1/2 h-px",style:{width:"calc(100% + 64px)"},children:[s.jsx(E.line,{x1:"0",y1:"0",x2:"30",y2:"0",stroke:"hsl(var(--primary))",strokeWidth:"1",strokeDasharray:"2 2",animate:{opacity:[.3,.7,.3]},transition:{duration:2,repeat:1/0}}),s.jsx(E.line,{x1:"calc(100% - 30px)",y1:"0",x2:"100%",y2:"0",stroke:"hsl(var(--primary))",strokeWidth:"1",strokeDasharray:"2 2",animate:{opacity:[.3,.7,.3]},transition:{duration:2,repeat:1/0,delay:1}})]})]})]})]})})},sqe=({open:e,onOpenChange:t,onStartScan:n,onSkipScan:r,onPublishWithWarnings:i,onReviewIssues:a,onStartRepair:o,scanCost:l=8,repairCost:c=8,pointsBalance:d=100,isScanning:u=!1,scanComplete:h=!1,scanResults:m})=>{const[f,p]=x.useState(0),[g,y]=x.useState(""),[v,b]=x.useState(!1),w=["Analyzing SSL/TLS encryption...","Scanning sensitive configurations...","Validating data access policies...","Checking XSS protection...","Verifying authentication security...","Analyzing meta tags...","Checking OG configurations...","Evaluating page load speed...","Scanning image optimization...","Testing mobile compatibility...","Detecting broken links...","Verifying legal pages...","Running SEO audit...","Testing functionality...","Completing comprehensive assessment..."];x.useEffect(()=>{if(u){p(0);let R=0;const D=setInterval(()=>{R++,p(Math.min(R/w.length*100,100)),y(w[Math.min(R-1,w.length-1)]),R>=w.length&&clearInterval(D)},350);return()=>clearInterval(D)}},[u]);const S=R=>{switch(R){case"critical":return s.jsx(A8,{className:"w-4 h-4 text-red-500"});case"warning":return s.jsx(Yv,{className:"w-4 h-4 text-amber-500"});default:return s.jsx(eg,{className:"w-4 h-4 text-blue-500"})}},j=R=>{switch(R){case"critical":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800/50";case"warning":return"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800/50";default:return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800/50"}},N=R=>{switch(R){case"critical":return"CRITICAL";case"warning":return"WARNING";default:return"INFO"}},k=(m==null?void 0:m.hasCritical)||!1,_=d>=l,C=d>=c,T=()=>{m!=null&&m.issues&&b(!0)},A=()=>{b(!1),o==null||o((m==null?void 0:m.issues)||[])},P=Object.entries(nqe).map(([R,D])=>({category:R,labels:D,items:Ry.filter($=>$.category===R)}));return s.jsxs(s.Fragment,{children:[s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsxs(zn,{className:"max-w-lg p-0 overflow-hidden bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl shadow-xl",children:[s.jsx(hr,{className:"sr-only",children:"Pre-Publish Security Scan"}),s.jsx("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors z-10",children:s.jsx(nr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"p-6 space-y-5",children:[!u&&!h&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg shrink-0",children:s.jsx(sn,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Pre-Publish Security Scan"}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:["Comprehensive ",ey.total,"-point inspection covering security, SEO, performance, and compliance."]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 space-y-3 max-h-52 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Inspection Categories"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[ey.total," checks"]})]}),P.map(({category:R,labels:D,items:$})=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:[D.icon," ",D.en]}),s.jsx("span",{className:"text-xs text-gray-400",children:$.length})]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[$.slice(0,3).map(M=>s.jsx("span",{className:G("text-[10px] px-1.5 py-0.5 rounded",M.severity==="critical"&&"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",M.severity==="warning"&&"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",M.severity==="info"&&"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"),children:M.titleEn},M.id)),$.length>3&&s.jsxs("span",{className:"text-[10px] text-gray-400",children:["+",$.length-3]})]})]},R)),s.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{className:"text-red-600",children:[ey.critical," Critical"]}),s.jsxs("span",{className:"text-amber-600",children:[ey.warning," Warning"]}),s.jsxs("span",{className:"text-blue-600",children:[ey.info," Info"]})]})})]}),s.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-primary/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[s.jsx(cr,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Scan Cost"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-semibold text-primary",children:[l," pts"]}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(Balance: ",d," pts)"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[s.jsxs(B,{onClick:n,disabled:!_,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground gap-2",children:[s.jsx(sn,{className:"w-4 h-4"}),"Start Scan"]}),s.jsx(B,{variant:"ghost",onClick:r,className:"w-full text-gray-500 hover:text-gray-700",children:"Skip scan, publish directly"})]})]}),u&&s.jsxs("div",{className:"py-8 space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"p-3 bg-primary/10 rounded-full",children:s.jsx(sn,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{className:"text-center space-y-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scanning in Progress"}),s.jsx("p",{className:"text-sm text-gray-500 font-mono",children:g})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx(E.div,{className:"h-full bg-primary rounded-full",initial:{width:0},animate:{width:`${f}%`},transition:{duration:.3}})}),s.jsxs("p",{className:"text-xs text-center text-gray-500 font-mono",children:[Math.round(f),"% complete"]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[s.jsx("span",{className:"text-[10px] text-gray-400 font-mono",children:"PATENT"}),s.jsx("span",{className:"text-xs font-mono text-primary tracking-wider",children:w7})]})]}),h&&m&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:G("p-2 rounded-lg shrink-0",k?"bg-red-100 dark:bg-red-900/30":m.issues.length>0?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"),children:k?s.jsx(A8,{className:"w-6 h-6 text-red-600 dark:text-red-400"}):m.issues.length>0?s.jsx(Yv,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"}):s.jsx(kM,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:k?"Critical Issues Detected":m.issues.length>0?"Issues Detected":"Scan Passed"}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-mono",children:["Security Score: ",m.score,"/100"]})]})]}),m.issues.length>0&&s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:m.issues.map(R=>s.jsx("div",{className:G("p-3 rounded-lg border",j(R.severity)),children:s.jsxs("div",{className:"flex items-start gap-2",children:[S(R.severity),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.title}),s.jsx("span",{className:G("text-[10px] px-1.5 py-0.5 rounded font-mono",R.severity==="critical"&&"bg-red-200 text-red-800",R.severity==="warning"&&"bg-amber-200 text-amber-800",R.severity==="info"&&"bg-blue-200 text-blue-800"),children:N(R.severity)})]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:R.description}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1 font-mono",children:["Impact: ",R.impact]})]})]})},R.id))}),k&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-red-500 shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs text-red-700 dark:text-red-300 space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Critical security risks detected. Repair recommended before publishing."}),s.jsx("p",{className:"text-red-600 dark:text-red-400 font-mono text-[10px]",children:"DISCLAIMER: SEOBAIKE assumes no liability for security vulnerabilities or algorithmic penalties if published without repair."})]})]})}),!k&&m.issues.length>0&&s.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800/50 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(eg,{className:"w-4 h-4 text-amber-500 shrink-0 mt-0.5"}),s.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"These issues won't block publishing but may impact site performance. You can repair now or publish directly."})]})}),s.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[m.issues.length>0&&s.jsxs(B,{onClick:T,disabled:!C,className:"w-full bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90 text-white gap-2",children:[s.jsx(Sl,{className:"w-4 h-4"}),"Repair Now (",c," pts)"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[m.issues.length>0&&s.jsx(B,{variant:"outline",onClick:a,className:"flex-1",children:"View Details"}),k?s.jsx(B,{variant:"ghost",onClick:i,className:"flex-1 text-gray-500 hover:text-gray-700 text-sm",children:"Publish Anyway"}):s.jsx(B,{onClick:i,className:G("flex-1 bg-primary hover:bg-primary/90 text-primary-foreground",m.issues.length===0&&"col-span-2"),children:m.issues.length>0?"Continue Publishing":"Confirm Publish"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 pt-2 border-t border-gray-100 dark:border-gray-800",children:[s.jsx("span",{className:"text-[10px] text-gray-400 font-mono",children:"PATENTED TECHNOLOGY"}),s.jsx("span",{className:"text-xs font-mono text-primary tracking-wider",children:w7})]})]})]})]})}),s.jsx(rqe,{open:v,onOpenChange:b,onComplete:A,issueCount:(m==null?void 0:m.issues.length)||0})]})},Soe=x.forwardRef(({isOpen:e=!0,websiteUrl:t="aiforseo.lovable.app",websiteName:n="",customDomain:r,visitorCount:i=17,isLive:a=!0,securityErrors:o=0,isUpdating:l=!1,onEditDomain:c,onAddCustomDomain:d,onReviewSecurity:u,onOpenSupport:h,onDownloadBackup:m},f)=>{const[p,g]=x.useState(!1),[y,v]=x.useState("edit"),[b,w]=x.useState("anyone"),[S,j]=x.useState(!1),[N,k]=x.useState(!1),[_,C]=x.useState(!1),[T,A]=x.useState(!1),[P,R]=x.useState(!1),[D,$]=x.useState(!1),[M,F]=x.useState(!1),[O,L]=x.useState(0),[I,z]=x.useState(""),[H,U]=x.useState(""),[X,le]=x.useState(""),[de,oe]=x.useState(100),[Ne]=x.useState(10),[K]=x.useState(8),[he]=x.useState(8),[re,Q]=x.useState(!1),[ge,Oe]=x.useState(!1),[ut,nt]=x.useState(!1),[ne,Xe]=x.useState(void 0);x.useImperativeHandle(f,()=>({openSupportChat:()=>{h==null||h()}}));const wt=()=>{const Qt=r||`https://${t}`;navigator.clipboard.writeText(Qt),g(!0),q.success(""),setTimeout(()=>g(!1),2e3)},Ve=()=>{Oe(!1),nt(!1),Xe(void 0),Q(!0)},Re=()=>{oe(Qt=>Math.max(0,Qt-K)),Oe(!0),setTimeout(()=>{Oe(!1),nt(!0);const Qt=o>0?[{id:"api_keys",title:"",description:"",severity:"critical",impact:"",category:"security"},{id:"rls_policies",title:"",description:"",severity:"critical",impact:"",category:"security"},{id:"meta_title",title:"",description:"",severity:"warning",impact:"",category:"seo"},{id:"og_image",title:"",description:"",severity:"info",impact:"",category:"seo"}]:[];Xe({issues:Qt,hasCritical:Qt.some(Lt=>Lt.severity==="critical"),score:Qt.length===0?95:Qt.some(Lt=>Lt.severity==="critical")?45:72})},3200)},Le=()=>{Q(!1),o>0?(L(o),F(!0)):rt()},Me=()=>{Q(!1),ne!=null&&ne.hasCritical?(L(ne.issues.filter(Qt=>Qt.severity==="critical").length),F(!0)):rt()},Ae=()=>{Q(!1),u==null||u()},rt=()=>{C(!0),A(!0)},ie=()=>{F(!1),rt()},be=()=>{F(!1),u==null||u()},Qe=(Qt,Lt)=>{if(A(!1),C(!1),Qt&&(Lt!=null&&Lt.url))z(Lt.url),R(!0);else{const Rt=(Lt==null?void 0:Lt.error)||"";U(Rt),Rt.includes("")?le("SECURITY_SCAN_FAILED"):Rt.includes("")?le("PACKAGE_FAILED"):Rt.includes("")||Rt.includes("")?le("UPLOAD_FAILED"):Rt.includes("")||Rt.includes("DNS")?le("DOMAIN_FAILED"):Rt.includes("")||Rt.includes("timeout")?le("TIMEOUT"):le("UNKNOWN"),$(!0)}},at=()=>{$(!1),setTimeout(()=>{rt()},300)},Ot=()=>{$(!1),h==null||h()},Pr=async(Qt,Lt)=>{oe(Rt=>Math.max(0,Rt-Ne)),$(!1),setTimeout(()=>{q.info(" AI ...",{description:""}),h==null||h(Lt)},300)};return e?s.jsxs(s.Fragment,{children:[s.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"w-full max-w-md bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-5 py-4 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:""}),a&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded-full",children:""})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-500",children:[s.jsx(bn,{className:"w-4 h-4"}),s.jsxs("span",{children:[i," "]})]})]})}),s.jsxs("div",{className:"p-5 space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-medium text-gray-700",children:[s.jsx("span",{children:""}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx(eg,{className:"w-3.5 h-3.5"})})]}),s.jsx("p",{className:"text-xs text-gray-500",children:""}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsx(Tt,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsx("input",{type:"text",value:r||t,readOnly:!0,className:"flex-1 bg-transparent text-sm text-gray-700 outline-none"}),s.jsx("button",{onClick:wt,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:p?s.jsx(We,{className:"w-4 h-4 text-green-500"}):s.jsx(An,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex gap-1 p-1 bg-gray-100 rounded-lg",children:[s.jsx("button",{onClick:()=>{v("edit"),c==null||c()},className:G("flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-all",y==="edit"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:""}),s.jsx("button",{onClick:()=>{v("custom"),d==null||d()},className:G("flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-all",y==="custom"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:""})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-medium text-gray-700",children:[s.jsx("span",{children:""}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx(eg,{className:"w-3.5 h-3.5"})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>j(!S),className:"w-full flex items-center justify-between px-3 py-2.5 bg-white border border-gray-200 rounded-lg text-sm hover:border-gray-300 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ai,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-700",children:b==="anyone"?"":""})]}),s.jsx(qr,{className:G("w-4 h-4 text-gray-400 transition-transform",S&&"rotate-180")})]}),s.jsx(He,{children:S&&s.jsxs(E.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden z-10",children:[s.jsx("button",{onClick:()=>{w("anyone"),j(!1)},className:G("w-full px-3 py-2 text-left text-sm hover:bg-gray-50 transition-colors",b==="anyone"&&"bg-primary/5 text-primary"),children:""}),s.jsx("button",{onClick:()=>{w("members"),j(!1)},className:G("w-full px-3 py-2 text-left text-sm hover:bg-gray-50 transition-colors",b==="members"&&"bg-primary/5 text-primary"),children:""})]})})]})]}),s.jsxs("button",{onClick:()=>k(!N),className:"w-full flex items-center justify-between px-3 py-3 bg-white border border-gray-200 rounded-lg text-sm hover:border-gray-300 transition-colors",children:[s.jsx("span",{className:"font-medium text-gray-700",children:""}),s.jsx(Ml,{className:G("w-4 h-4 text-gray-400 transition-transform",N&&"rotate-90")})]})]}),s.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(sn,{className:"w-4 h-4"}),s.jsx("span",{children:""})]}),l&&s.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-500",children:[s.jsx(rn,{className:"w-3.5 h-3.5 animate-spin"}),s.jsx("span",{children:""})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[o>0&&s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-red-100 text-red-600 text-xs font-medium rounded",children:[s.jsx(rs,{className:"w-3 h-3"}),o," "]}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx(Br,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(B,{onClick:u,variant:"outline",className:"flex-1",children:""}),s.jsx(B,{onClick:Ve,disabled:_,className:"flex-1 bg-[#2563EB] hover:bg-[#1D4ED8] text-white gap-2",children:_?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"..."]}):""})]})]})]}),s.jsx(sqe,{open:re,onOpenChange:Q,onStartScan:Re,onSkipScan:Le,onPublishWithWarnings:Me,onReviewIssues:Ae,onStartRepair:Qt=>{oe(Lt=>Math.max(0,Lt-he)),Q(!1),h==null||h(`[AUTO-REPAIR] ${Qt.map(Lt=>Lt.id).join(", ")}`)},scanCost:K,repairCost:he,pointsBalance:de,isScanning:ge,scanComplete:ut,scanResults:ne}),s.jsx(HVe,{open:M,onOpenChange:F,issueCount:O,onPublishAnyway:ie,onReviewSecurity:be}),s.jsx(UVe,{open:T,onComplete:Qe,websiteName:n,domain:r}),s.jsx(zVe,{open:P,onOpenChange:R,websiteUrl:I,websiteName:n,onDownloadBackup:m}),s.jsx(WVe,{open:D,onOpenChange:$,error:H,errorCode:X,onRetry:at,onContactSupport:Ot,onRequestFix:Pr,pointsBalance:de,fixCost:Ne})]}):null});Soe.displayName="PublishPanel";const w2=[{id:"title",name:"Title ",icon:s.jsx(zP,{className:"w-4 h-4"}),maxScore:10},{id:"meta",name:"Meta Description",icon:s.jsx(Jd,{className:"w-4 h-4"}),maxScore:10},{id:"h1",name:"H1 ",icon:s.jsx(zP,{className:"w-4 h-4"}),maxScore:10},{id:"schema",name:"Schema JSON-LD",icon:s.jsx(Jd,{className:"w-4 h-4"}),maxScore:10},{id:"mobile",name:"",icon:s.jsx(ii,{className:"w-4 h-4"}),maxScore:10},{id:"speed",name:"",icon:s.jsx(Pn,{className:"w-4 h-4"}),maxScore:10},{id:"ssl",name:"SSL ",icon:s.jsx(gu,{className:"w-4 h-4"}),maxScore:10},{id:"images",name:" Alt ",icon:s.jsx(Zp,{className:"w-4 h-4"}),maxScore:10},{id:"links",name:"",icon:s.jsx(Qd,{className:"w-4 h-4"}),maxScore:10},{id:"canonical",name:"Canonical URL",icon:s.jsx(Tt,{className:"w-4 h-4"}),maxScore:10}],iqe={title:["Title  60 ","Title ","Title "],meta:["Meta Description  160 "," Meta Description","Description "],h1:[" H1 "," H1 ","H1 "],schema:[" JSON-LD Schema","Schema ",""],mobile:[" viewport","",""],speed:["First Contentful Paint > 3s","Largest Contentful Paint > 4s"," lazy loading"],ssl:["SSL ",""," HTTPS"],images:[" alt ",""," WebP "],links:["","",""],canonical:[" canonical","canonical "," canonical"]};function Noe({onAnalysisComplete:e,pointsBalance:t=100,onDeductPoints:n}){const[r,i]=x.useState(""),[a,o]=x.useState(!1),[l,c]=x.useState(0),[d,u]=x.useState(w2.map(k=>({...k,status:"pending",score:0}))),[h,m]=x.useState(-1),[f,p]=x.useState(0),[g,y]=x.useState(!1),[v,b]=x.useState(!0),w=x.useRef(null);x.useEffect(()=>{var k;(k=w.current)==null||k.scrollIntoView({behavior:"smooth"})},[d,a,g]),x.useEffect(()=>{if(!a)return;const k=setInterval(()=>{c(_=>(_+3)%360)},20);return()=>clearInterval(k)},[a]),x.useEffect(()=>{if(!a||h>=d.length)return;const k=setTimeout(()=>{if(h===-1){m(0);return}const _=Math.random()>.3,C=_?d[h].maxScore:Math.floor(Math.random()*5),T=_?void 0:iqe[d[h].id][Math.floor(Math.random()*3)];if(u(A=>A.map((P,R)=>R===h?{...P,status:_?"pass":C>=5?"warning":"fail",score:C,reason:T}:R===h+1?{...P,status:"scanning"}:P)),p(A=>A+C),h<d.length-1)m(A=>A+1);else{o(!1),y(!0);const A=d.reduce((P,R,D)=>P+(D===h?C:R.score),0);e==null||e(A,d)}},600);return()=>clearTimeout(k)},[a,h,d,e]);const S=()=>{if(!r.trim()){q.error("");return}try{new URL(r.startsWith("http")?r:`https://${r}`)}catch{q.error("");return}if(t<3){q.error(" 3 ");return}n==null||n(),q.success(" 3 ..."),b(!1),o(!0),m(-1),p(0),y(!1),u(w2.map((k,_)=>({...k,status:_===0?"scanning":"pending",score:0,reason:void 0})))},j=()=>{b(!0),i(""),y(!1),u(w2.map(k=>({...k,status:"pending",score:0})))},N=k=>{switch(k){case"pass":return s.jsx(St,{className:"w-4 h-4 text-green-500"});case"fail":return s.jsx(Oi,{className:"w-4 h-4 text-red-500"});case"warning":return s.jsx(Wr,{className:"w-4 h-4 text-yellow-500"});case"scanning":return s.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:s.jsx(fn,{className:"w-4 h-4 text-cyan-400"})});default:return s.jsx("div",{className:"w-4 h-4 rounded-full bg-white/20"})}};return s.jsxs("div",{className:"h-full flex flex-col bg-[#0A0A0B]",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-cyan-500/20 to-blue-600/20 flex items-center justify-center flex-shrink-0",children:s.jsx(sn,{className:"w-4 h-4 text-cyan-400"})}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-white/5 rounded-2xl rounded-tl-md px-4 py-3 text-white/90",children:s.jsxs("p",{className:"text-sm leading-relaxed",children:["  SEOBAIKE ",s.jsx("br",{}),s.jsx("br",{})," ",s.jsx("span",{className:"text-cyan-400 font-medium",children:"10  SEO "})," 3 "]})})})]}),s.jsx(He,{children:v&&s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 flex-shrink-0"})," ",s.jsxs("div",{className:"flex-1 flex gap-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40"}),s.jsx(xe,{value:r,onChange:k=>i(k.target.value),placeholder:" (: example.com)",className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-white/40",onKeyDown:k=>k.key==="Enter"&&S()})]}),s.jsx(B,{onClick:S,size:"icon",className:"bg-gradient-to-r from-cyan-500 to-blue-600 hover:opacity-90",children:s.jsx(Bs,{className:"w-4 h-4"})})]})]})}),!v&&r&&s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-end",children:s.jsxs("div",{className:"max-w-[85%] bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl rounded-tr-md px-4 py-3 text-white text-sm",children:["",r]})}),!v&&s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-cyan-500/20 to-blue-600/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Ye,{className:"w-4 h-4 text-cyan-400"})}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsx("div",{className:"bg-white/5 rounded-2xl rounded-tl-md p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative w-24 h-24 flex-shrink-0",children:[s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[[15,30,45].map(k=>s.jsx("circle",{cx:"50",cy:"50",r:k,fill:"none",stroke:"rgba(0, 212, 255, 0.2)",strokeWidth:"1"},k)),s.jsx("line",{x1:"50",y1:"5",x2:"50",y2:"95",stroke:"rgba(0, 212, 255, 0.2)",strokeWidth:"1"}),s.jsx("line",{x1:"5",y1:"50",x2:"95",y2:"50",stroke:"rgba(0, 212, 255, 0.2)",strokeWidth:"1"}),a&&s.jsxs(E.g,{style:{transformOrigin:"50px 50px"},animate:{rotate:l},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"miniRadarGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"rgba(0, 212, 255, 0)"}),s.jsx("stop",{offset:"100%",stopColor:"rgba(0, 212, 255, 0.8)"})]})}),s.jsx("path",{d:"M 50 50 L 50 5 A 45 45 0 0 1 81.82 18.18 Z",fill:"url(#miniRadarGradient)"}),s.jsx("line",{x1:"50",y1:"50",x2:"50",y2:"5",stroke:"#00D4FF",strokeWidth:"2"})]}),d.map((k,_)=>{const C=(_*36-90)*(Math.PI/180),T=10+k.score/k.maxScore*35,A=50+T*Math.cos(C),P=50+T*Math.sin(C);return k.status==="pending"?null:s.jsx(E.circle,{cx:A,cy:P,r:"3",initial:{scale:0},animate:{scale:1},fill:k.status==="pass"?"#22c55e":k.status==="warning"?"#eab308":k.status==="fail"?"#ef4444":"#3b82f6"},k.id)})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(E.span,{initial:{scale:.5},animate:{scale:1},className:"text-lg font-bold text-cyan-400",children:f},f)})]}),s.jsx("div",{className:"flex-1",children:a?s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-white/90 text-sm font-medium",children:" ..."}),s.jsxs("p",{className:"text-white/60 text-xs",children:[" ",h+1," / 10"]}),s.jsx(Uu,{value:(h+1)*10,className:"h-1.5"})]}):g?s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:`text-sm font-medium ${f>=90?"text-green-400":f>=70?"text-yellow-400":"text-red-400"}`,children:f>=90?" ":f>=70?" ":" "}),s.jsxs("p",{className:"text-white/60 text-xs",children:["",f," / 100"]})]}):null})]})}),s.jsx("div",{className:"space-y-2",children:d.map((k,_)=>s.jsxs(E.div,{initial:{opacity:0,x:-10},animate:{opacity:k.status!=="pending"?1:.3,x:0},transition:{delay:_*.05},className:`p-3 rounded-lg border transition-all ${k.status==="scanning"?"border-cyan-500/50 bg-cyan-500/10":k.status==="pass"?"border-green-500/30 bg-green-500/5":k.status==="fail"?"border-red-500/30 bg-red-500/5":k.status==="warning"?"border-yellow-500/30 bg-yellow-500/5":"border-white/10 bg-white/5"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[N(k.status),s.jsx("span",{className:"text-white/80 text-sm",children:k.name})]}),k.status!=="pending"&&k.status!=="scanning"&&s.jsxs(ae,{variant:"outline",className:`text-xs ${k.score>=8?"border-green-500/50 text-green-400":k.score>=5?"border-yellow-500/50 text-yellow-400":"border-red-500/50 text-red-400"}`,children:[k.score,"/",k.maxScore]})]}),k.reason&&s.jsxs(E.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-2 text-xs text-red-400 pl-6",children:[" ",k.reason]})]},k.id))}),g&&s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:s.jsxs(B,{onClick:j,variant:"outline",className:"w-full border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",children:[s.jsx(fn,{className:"w-4 h-4 mr-2"})," (3 )"]})})]})]}),s.jsx("div",{ref:w})]}),s.jsxs("div",{className:"p-4 border-t border-white/10 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[s.jsx(cn,{className:"w-4 h-4 text-cyan-400"}),s.jsxs("span",{children:["",t]})]}),s.jsx(ae,{variant:"outline",className:"border-cyan-500/50 text-cyan-400",children:" 3 "})]})]})}const aqe={restaurant:["","","","","","","","","","","","","","","","","","","","brunch","","","","","","","","","","","","","","bar","","","","","restaurant","food","cafe","coffee","bakery","pizza","burger","","","","vegan","","",""],fitness:["","","gym","","","","yoga","","","","","","","","","","","","golf","","","","","","","","","","mma","","","","crossfit","","","","fitness","sport","workout","training","","coach"],medical:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","clinic","hospital","medical","dental","health","therapy","","","","",""],tech:["","","tech","technology","","software","","app","","","web","","developer","","ai","","","machine learning","","data","iot","","","cloud","","blockchain","","","","","ic","","","","3d","","ar","vr","","metaverse","","cybersecurity","","network","","server","startup","","","","consulting","it","saas"],beauty:["","","","","","","","spa","","","","","","","salon","","","","","","","","","","","","","","","","beauty","cosmetic","skincare","makeup","nail","hair","","","","","fashion",""],default:[]},oqe={restaurant:{type:"restaurant",label:"",gradient:"from-orange-500 via-red-500 to-amber-500",textColor:"text-white",borderColor:"border-orange-400/30",accentColor:"#f97316",iconBg:"bg-gradient-to-br from-orange-500/30 to-red-500/30"},fitness:{type:"fitness",label:"",gradient:"from-green-500 via-emerald-500 to-teal-500",textColor:"text-white",borderColor:"border-green-400/30",accentColor:"#22c55e",iconBg:"bg-gradient-to-br from-green-500/30 to-emerald-500/30"},medical:{type:"medical",label:"",gradient:"from-sky-400 via-blue-400 to-cyan-300",textColor:"text-slate-800",borderColor:"border-sky-300/50",accentColor:"#38bdf8",iconBg:"bg-gradient-to-br from-sky-400/30 to-blue-400/30"},tech:{type:"tech",label:"",gradient:"from-indigo-600 via-blue-600 to-purple-700",textColor:"text-white",borderColor:"border-indigo-400/30",accentColor:"#6366f1",iconBg:"bg-gradient-to-br from-indigo-500/30 to-purple-500/30"},beauty:{type:"beauty",label:"SPA",gradient:"from-pink-400 via-rose-400 to-purple-400",textColor:"text-white",borderColor:"border-pink-300/40",accentColor:"#f472b6",iconBg:"bg-gradient-to-br from-pink-400/30 to-purple-400/30"},default:{type:"default",label:"",gradient:"from-[#4a5568] via-[#667eea] to-[#764ba2]",textColor:"text-white",borderColor:"border-purple-400/30",accentColor:"#667eea",iconBg:"bg-gradient-to-br from-[#667eea]/30 to-[#764ba2]/30"}};function lqe(e){const t=e.toLowerCase(),n={restaurant:0,fitness:0,medical:0,tech:0,beauty:0,default:0};for(const[a,o]of Object.entries(aqe))if(a!=="default")for(const l of o)t.includes(l.toLowerCase())&&(n[a]+=l.length>2?2:1);let r=0,i="default";for(const[a,o]of Object.entries(n))o>r&&(r=o,i=a);return i}function cqe(e){return oqe[e]}function dqe(e){const t=lqe(e);return cqe(t)}const x1=[{icon:s.jsx(fn,{className:"w-4 h-4"}),title:"...",description:"",duration:800,progressHint:"10%"},{icon:s.jsx(Ac,{className:"w-4 h-4"}),title:"",description:"",duration:1e3,progressHint:"20%"},{icon:s.jsx(Jd,{className:"w-4 h-4"}),title:"Edited src/pages/Index.tsx",description:"",duration:600,progressHint:"35%"},{icon:s.jsx(Jd,{className:"w-4 h-4"}),title:"Edited src/components/Hero.tsx",description:" Hero ",duration:500,progressHint:"45%"},{icon:s.jsx(Jd,{className:"w-4 h-4"}),title:"Edited src/components/About.tsx",description:"",duration:500,progressHint:"55%"},{icon:s.jsx(tZ,{className:"w-4 h-4"}),title:"Edited tailwind.config.ts",description:"",duration:400,progressHint:"65%"},{icon:s.jsx(d_,{className:"w-4 h-4"}),title:" SEO Schema",description:"",duration:600,progressHint:"75%"},{icon:s.jsx(fa,{className:"w-4 h-4"}),title:" Lighthouse ",description:"AI-SEO ...",duration:800,progressHint:"90%"},{icon:s.jsx(Tt,{className:"w-4 h-4"}),title:" ",description:"SEO : 92 ",duration:500,progressHint:"100%"}],uqe=e=>`${e} 

****
1.  **** - 
2.  ** SEO ** -  Lighthouse 90+ 
3.  **** - 
4.  ** Schema Markup** - 

  ** AI-SEO  115100981** ...

  30 `,hqe=({isGenerating:e,prompt:t,onComplete:n,onExit:r})=>{const[i,a]=x.useState([]),[o,l]=x.useState(0),[c,d]=x.useState(""),[u,h]=x.useState(!1),[m,f]=x.useState(!1),[p,g]=x.useState(0),y=x.useRef(null),[v,b]=x.useState(""),[w,S]=x.useState(!1),[j,N]=x.useState(void 0),[k,_]=x.useState("chat"),[C,T]=x.useState(100),[A,P]=x.useState(""),[R,D]=x.useState([]),[$,M]=x.useState([]),[F,O]=x.useState(-1),L=x.useRef(null),I=x.useRef(null),z=x.useMemo(()=>dqe(t),[t]),H=re=>{N(re),S(!0)},U=(re=3)=>{T(Q=>Math.max(0,Q-re))},X=x.useCallback(re=>{const Q=re.target.files;Q&&(Array.from(Q).forEach(ge=>{const Oe=ge.type.startsWith("image/"),ut={name:ge.name,type:ge.type,preview:Oe?URL.createObjectURL(ge):void 0};D(nt=>[...nt,ut])}),L.current&&(L.current.value=""))},[]),le=x.useCallback(re=>{D(Q=>Q.filter((ge,Oe)=>Oe!==re))},[]),de=x.useCallback(()=>{F>0&&C>=1?(U(1),O(re=>re-1),mf({title:"",description:` 1  ${C-1} `})):C<1&&mf({title:"",description:"Undo  1 ",variant:"destructive"})},[F,C]),oe=x.useCallback(()=>{F<$.length-1&&C>=1?(U(1),O(re=>re+1),mf({title:"",description:` 1  ${C-1} `})):C<1&&mf({title:"",description:"Redo  1 ",variant:"destructive"})},[F,$.length,C]),Ne=x.useCallback(()=>{if(!A.trim()&&R.length===0)return;const re=[...$.slice(0,F+1),A];M(re),O(re.length-1),P(""),D([]),mf({title:"",description:"AI ..."})},[A,R,$,F]),K=x.useCallback(re=>{re.key==="Enter"&&!re.shiftKey&&(re.preventDefault(),Ne())},[Ne]);x.useEffect(()=>{var re;(re=y.current)==null||re.scrollIntoView({behavior:"smooth"})},[i,v]),x.useEffect(()=>{if(!e){a([]),l(0),d(""),b(""),h(!1),f(!1),g(0);return}const re=uqe(t);d(re),h(!0);let Q=0;const ge=setInterval(()=>{Q<re.length?(b(re.substring(0,Q+1)),Q++):(clearInterval(ge),h(!1),he())},20);return()=>clearInterval(ge)},[e,t]);const he=()=>{let re=0;const Q=()=>{if(re>=x1.length){f(!0),g(100);return}const ge=x1[re],Oe={id:`log-${Date.now()}-${re}`,type:re===x1.length-1?"complete":"action",icon:ge.icon,title:ge.title,description:ge.description,timestamp:new Date().toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),isActive:!0};a(ut=>[...ut.map(nt=>({...nt,isActive:!1})),Oe]),l(re+1),g(Math.round((re+1)/x1.length*100)),re++,setTimeout(Q,ge.duration)};setTimeout(Q,500)};return e?s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:G("fixed inset-0 z-50 flex transition-all duration-700",`bg-gradient-to-br ${z.gradient}`),children:[s.jsxs("div",{className:G("w-full lg:w-[480px] flex flex-col border-r transition-colors duration-500",z.borderColor),children:[s.jsxs("div",{className:G("h-14 flex items-center justify-between px-4 border-b backdrop-blur-md transition-colors duration-500",z.borderColor,"bg-black/20"),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(E.div,{className:G("w-8 h-8 rounded-lg flex items-center justify-center transition-colors duration-500",z.iconBg),animate:{boxShadow:[`0 0 10px ${z.accentColor}40`,`0 0 20px ${z.accentColor}60`,`0 0 10px ${z.accentColor}40`]},transition:{duration:2,repeat:1/0},children:s.jsx(Ye,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:G("font-semibold",z.textColor),children:"SEOBAIKE AI"}),s.jsx("span",{className:G("text-xs px-2 py-0.5 rounded-full bg-white/20 backdrop-blur-sm",z.textColor),children:z.label})]})]}),s.jsx(B,{variant:"ghost",size:"icon",onClick:r,className:G("hover:bg-white/20 transition-colors",z.textColor==="text-white"?"text-white/60 hover:text-white":"text-slate-600 hover:text-slate-800"),children:s.jsx(nr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:G("flex border-b backdrop-blur-md transition-colors duration-500",z.borderColor,"bg-black/10"),children:[s.jsxs("button",{onClick:()=>_("chat"),className:G("flex-1 flex items-center justify-center gap-2 py-3 text-sm font-medium transition-colors",k==="chat"?G(z.textColor,"border-b-2"):G(z.textColor,"opacity-60 hover:opacity-90")),style:{borderColor:k==="chat"?z.accentColor:"transparent"},children:[s.jsx(Vr,{className:"w-4 h-4"}),""]}),s.jsxs("button",{onClick:()=>_("analyze"),className:G("flex-1 flex items-center justify-center gap-2 py-3 text-sm font-medium transition-colors",k==="analyze"?G(z.textColor,"border-b-2 border-cyan-400"):G(z.textColor,"opacity-60 hover:opacity-90")),children:[s.jsx(bn,{className:"w-4 h-4"}),""]})]}),s.jsx(He,{mode:"wait",children:k==="chat"?s.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-end",children:s.jsx("div",{className:"max-w-[85%] bg-white/20 backdrop-blur-sm rounded-2xl rounded-tr-md px-4 py-3 text-white shadow-lg",children:t})}),s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex gap-3",children:[s.jsx("div",{className:G("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",z.iconBg),children:s.jsx(Ye,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:G("backdrop-blur-sm rounded-2xl rounded-tl-md px-4 py-3 shadow-lg",z.type==="medical"?"bg-white/80 text-slate-800":"bg-black/20 text-white/95"),children:[s.jsx("div",{className:G("prose prose-sm max-w-none",z.type==="medical"?"prose-slate":"prose-invert"),children:s.jsx(FD,{children:v})}),u&&s.jsx(E.span,{animate:{opacity:[1,0,1]},transition:{duration:.8,repeat:1/0},className:"inline-block w-2 h-4 ml-1",style:{backgroundColor:z.accentColor}})]}),s.jsx(He,{children:i.length>0&&s.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 space-y-1",children:i.map((re,Q)=>s.jsxs(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:Q*.05},className:G("flex items-center gap-2 px-3 py-2 rounded-lg text-sm backdrop-blur-sm",re.isActive?"bg-white/20 text-white":"bg-black/10 text-white/70",re.type==="complete"&&"bg-green-500/30 text-green-100"),children:[s.jsx("span",{className:G("flex-shrink-0",re.isActive?"text-white":"text-white/50",re.type==="complete"&&"text-green-300"),children:re.type==="complete"?s.jsx(St,{className:"w-4 h-4"}):re.isActive?s.jsx(Ge,{className:"w-4 h-4 animate-spin"}):s.jsx(St,{className:"w-4 h-4"})}),s.jsx("span",{className:"flex-1 font-mono text-xs",children:re.title}),s.jsx(Ml,{className:"w-3 h-3 opacity-50"})]},re.id))})})]})]}),s.jsx("div",{ref:y})]}),s.jsxs("div",{className:G("border-t backdrop-blur-md transition-colors duration-500",z.borderColor,"bg-white/10"),children:[s.jsxs("div",{className:"p-3 border-b border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm",children:[s.jsx("span",{className:G(z.textColor,"opacity-80"),children:m?" ":" "}),s.jsxs("span",{className:G(z.textColor,"font-mono font-bold"),children:[p,"%"]})]}),s.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:s.jsx(E.div,{className:"h-full bg-gradient-to-r from-white/80 via-white/60 to-white/80",initial:{width:0},animate:{width:`${p}%`},transition:{duration:.3}})})]}),R.length>0&&s.jsx("div",{className:"px-3 py-2 flex gap-2 flex-wrap border-b border-white/10",children:R.map((re,Q)=>s.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"relative group",children:[re.preview?s.jsx("img",{src:re.preview,alt:re.name,className:"w-12 h-12 object-cover rounded-lg border border-white/20"}):s.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-lg border border-white/20 flex items-center justify-center",children:s.jsx(Ur,{className:"w-5 h-5 text-white/60"})}),s.jsx("button",{onClick:()=>le(Q),className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(nr,{className:"w-3 h-3 text-white"})})]},Q))}),s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:G("flex items-end gap-2 rounded-xl p-2 transition-colors","bg-white/20 backdrop-blur-sm border border-white/20"),children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"file",ref:L,onChange:X,multiple:!0,accept:"image/*,.pdf,.doc,.docx",className:"hidden"}),s.jsx("button",{onClick:()=>{var re;return(re=L.current)==null?void 0:re.click()},className:G("p-2 rounded-lg transition-all duration-200","hover:bg-white/20 active:scale-95",z.textColor,"opacity-70 hover:opacity-100"),title:"",children:s.jsx(wM,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center bg-white/10 rounded-lg",children:[s.jsx("button",{onClick:de,disabled:F<=0,className:G("p-1.5 rounded-l-lg transition-all duration-200","hover:bg-white/20 active:scale-95","disabled:opacity-30 disabled:cursor-not-allowed",z.textColor),title:" (1)",children:s.jsx(cCe,{className:"w-3.5 h-3.5"})}),s.jsx("div",{className:"w-px h-4 bg-white/20"}),s.jsx("button",{onClick:oe,disabled:F>=$.length-1,className:G("p-1.5 rounded-r-lg transition-all duration-200","hover:bg-white/20 active:scale-95","disabled:opacity-30 disabled:cursor-not-allowed",z.textColor),title:" (1)",children:s.jsx(nCe,{className:"w-3.5 h-3.5"})})]})]}),s.jsx(Yn,{ref:I,value:A,onChange:re=>P(re.target.value),onKeyDown:K,placeholder:"...",rows:1,className:G("flex-1 resize-none min-h-[40px] max-h-[120px] border-0 bg-transparent","placeholder:text-white/40 focus-visible:ring-0 focus-visible:ring-offset-0",z.type==="medical"?"text-slate-800":"text-white")}),s.jsx(B,{onClick:Ne,disabled:!A.trim()&&R.length===0,size:"icon",className:G("h-9 w-9 rounded-lg transition-all duration-200","bg-white/20 hover:bg-white/30 active:scale-95","disabled:opacity-30 disabled:cursor-not-allowed",z.textColor),children:s.jsx(Bs,{className:"w-4 h-4"})})]}),s.jsxs("p",{className:G("text-xs mt-2 text-center",z.textColor,"opacity-50"),children:[" ",C,"   Shift+Enter   Enter "]})]}),m&&s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"px-3 pb-3 space-y-2",children:[s.jsx("div",{className:"bg-green-500/30 backdrop-blur-sm rounded-lg p-2 text-center",children:s.jsx("p",{className:"text-green-100 text-sm font-medium",children:" SEO : 92 "})}),s.jsxs(B,{onClick:n,className:"w-full bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white gap-2 border border-white/30",size:"lg",children:[s.jsx(mt,{className:"w-5 h-5"}),""]})]})]})]},"chat"):s.jsx(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex-1 overflow-hidden",children:s.jsx(Noe,{pointsBalance:C,onDeductPoints:U,onAnalysisComplete:(re,Q)=>{console.log("Analysis complete:",re,Q)}})},"analyze")})]}),s.jsxs("div",{className:"hidden lg:flex flex-1 flex-col bg-[#F8F9FA]",children:[s.jsxs("div",{className:"h-14 flex items-center justify-between px-6 border-b border-gray-200 bg-white",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 rounded-full border border-green-200 bg-green-50 text-green-600 text-xs font-medium",children:[s.jsx(cn,{className:"w-3 h-3"}),s.jsx("span",{children:"SEO 92 "})]})})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsx(He,{mode:"wait",children:m?s.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full flex flex-col items-center justify-center",children:[s.jsx(Soe,{isOpen:!0,websiteUrl:"aiforseo.lovable.app",websiteName:t||"",visitorCount:17,isLive:!1,securityErrors:0,isUpdating:!1,onOpenSupport:H,onDownloadBackup:()=>{}}),s.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(St,{className:"w-4 h-4 text-green-500"}),"Lighthouse 90+"]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(St,{className:"w-4 h-4 text-green-500"}),""]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(St,{className:"w-4 h-4 text-green-500"}),"SEO "]})]})]},"complete"):s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full max-w-4xl",children:[s.jsxs("div",{className:"w-full aspect-[16/10] bg-white rounded-2xl border border-gray-200 shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"h-10 bg-gray-100 border-b border-gray-200 flex items-center px-4 gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"}),s.jsx("div",{className:"flex-1 mx-6",children:s.jsx("div",{className:"h-6 bg-white rounded-full max-w-xs mx-auto flex items-center justify-center text-xs text-gray-400 border border-gray-200",children:"your-website.com"})})]}),s.jsxs("div",{className:"p-8 space-y-6 bg-gradient-to-br from-[#667eea]/5 to-[#764ba2]/5 h-full",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded-lg animate-pulse"}),s.jsx("div",{className:"flex gap-4",children:[1,2,3].map(re=>s.jsx("div",{className:"h-5 w-20 bg-gray-200 rounded animate-pulse",style:{animationDelay:`${re*.1}s`}},re))})]}),s.jsxs("div",{className:"py-12 space-y-5 text-center",children:[s.jsx("div",{className:"h-12 w-2/3 bg-gray-200 rounded-lg animate-pulse mx-auto"}),s.jsx("div",{className:"h-6 w-1/2 bg-gray-100 rounded animate-pulse mx-auto"}),s.jsx("div",{className:"h-12 w-40 bg-gradient-to-r from-[#667eea]/40 to-[#764ba2]/40 rounded-lg animate-pulse mx-auto"})]}),s.jsx("div",{className:"grid grid-cols-3 gap-6 pt-4",children:[1,2,3].map(re=>s.jsx("div",{className:"h-32 bg-white rounded-xl animate-pulse border border-gray-100 shadow-sm",style:{animationDelay:`${re*.15}s`}},re))})]})]}),s.jsx(E.p,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"mt-8 text-gray-400 text-sm text-center",children:"AI ..."})]},"loading")})})]}),s.jsx(use,{forceOpen:w,onClose:()=>{S(!1),N(void 0)},errorContext:j,forceUseClaude:!!j})]}):null},Gs=[{id:"restaurant",name:"",icon:"",templates:[{id:"restaurant-1",name:"",description:"",features:["","Google ",""],colorScheme:"",seoScore:92,usageCount:1580},{id:"restaurant-2",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:890},{id:"restaurant-3",name:"",description:"",features:["","","Google "],colorScheme:"",seoScore:93,usageCount:1250},{id:"restaurant-4",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:2100},{id:"restaurant-5",name:"",description:"",features:["","Google ",""],colorScheme:"",seoScore:90,usageCount:980},{id:"restaurant-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1450},{id:"restaurant-7",name:"",description:" IG ",features:["","",""],colorScheme:"",seoScore:93,usageCount:1890},{id:"restaurant-8",name:"",description:"",features:["","","Google "],colorScheme:"",seoScore:91,usageCount:670},{id:"restaurant-9",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1120},{id:"restaurant-10",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1560}]},{id:"interior",name:"",icon:"",templates:[{id:"interior-1",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1340},{id:"interior-2",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1680},{id:"interior-3",name:"",description:" Loft ",features:["","",""],colorScheme:"",seoScore:92,usageCount:980},{id:"interior-4",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1120},{id:"interior-5",name:"",description:"",features:["","VIP ",""],colorScheme:"",seoScore:95,usageCount:560},{id:"interior-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:780},{id:"interior-7",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:890},{id:"interior-8",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:650},{id:"interior-9",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1020},{id:"interior-10",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1450}]},{id:"medical",name:"",icon:"",templates:[{id:"medical-1",name:"",description:"",features:["","",""],colorScheme:"",seoScore:95,usageCount:2340},{id:"medical-2",name:"",description:"",features:["","","Google "],colorScheme:"",seoScore:93,usageCount:1560},{id:"medical-3",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1890},{id:"medical-4",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:980},{id:"medical-5",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:1120},{id:"medical-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:2100},{id:"medical-7",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1780},{id:"medical-8",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:890},{id:"medical-9",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:670},{id:"medical-10",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:560}]},{id:"corporate",name:"",icon:"",templates:[{id:"corporate-1",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:2560},{id:"corporate-2",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1890},{id:"corporate-3",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1450},{id:"corporate-4",name:"",description:"",features:["","",""],colorScheme:"",seoScore:95,usageCount:1120},{id:"corporate-5",name:"",description:"",features:["","","ESG "],colorScheme:"",seoScore:93,usageCount:890},{id:"corporate-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1230},{id:"corporate-7",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1560},{id:"corporate-8",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:780},{id:"corporate-9",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1340},{id:"corporate-10",name:"",description:" NGO",features:["","",""],colorScheme:"",seoScore:92,usageCount:560}]},{id:"ecommerce",name:"",icon:"",templates:[{id:"ecommerce-1",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:3450},{id:"ecommerce-2",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:2890},{id:"ecommerce-3",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1560},{id:"ecommerce-4",name:"",description:"",features:["","VIP ",""],colorScheme:"",seoScore:95,usageCount:890},{id:"ecommerce-5",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:2340},{id:"ecommerce-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:2670},{id:"ecommerce-7",name:"3C ",description:" 3C",features:["","",""],colorScheme:"",seoScore:94,usageCount:1890},{id:"ecommerce-8",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:2120},{id:"ecommerce-9",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:1450},{id:"ecommerce-10",name:"",description:"",features:["","",""],colorScheme:"",seoScore:90,usageCount:780}]},{id:"beauty",name:"",icon:"",templates:[{id:"beauty-1",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:2340},{id:"beauty-2",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:2890},{id:"beauty-3",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1670},{id:"beauty-4",name:"",description:" SPA",features:["","","VIP "],colorScheme:"",seoScore:95,usageCount:890},{id:"beauty-5",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:1120},{id:"beauty-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1560},{id:"beauty-7",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1890},{id:"beauty-8",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:1230},{id:"beauty-9",name:"",description:"SPA",features:["","",""],colorScheme:"",seoScore:92,usageCount:1450},{id:"beauty-10",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:980}]},{id:"legal",name:"",icon:"",templates:[{id:"legal-1",name:"",description:"",features:["","",""],colorScheme:"",seoScore:95,usageCount:1230},{id:"legal-2",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:980},{id:"legal-3",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:670},{id:"legal-4",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1120},{id:"legal-5",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:560},{id:"legal-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:890},{id:"legal-7",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:450},{id:"legal-8",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:780},{id:"legal-9",name:"",description:"",features:["","","24H "],colorScheme:"",seoScore:91,usageCount:340},{id:"legal-10",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:620}]},{id:"education",name:"",icon:"",templates:[{id:"education-1",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:2560},{id:"education-2",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1890},{id:"education-3",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1450},{id:"education-4",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:2120},{id:"education-5",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:1230},{id:"education-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1780},{id:"education-7",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:980},{id:"education-8",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1560},{id:"education-9",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:1340},{id:"education-10",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:890}]},{id:"fitness",name:"",icon:"",templates:[{id:"fitness-1",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:2340},{id:"fitness-2",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1560},{id:"fitness-3",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1890},{id:"fitness-4",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:980},{id:"fitness-5",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1120},{id:"fitness-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1450},{id:"fitness-7",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:780},{id:"fitness-8",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:560},{id:"fitness-9",name:"",description:"",features:["","",""],colorScheme:"",seoScore:90,usageCount:670},{id:"fitness-10",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:890}]},{id:"travel",name:"",icon:"",templates:[{id:"travel-1",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:2120},{id:"travel-2",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1780},{id:"travel-3",name:"",description:"",features:["","",""],colorScheme:"",seoScore:95,usageCount:1120},{id:"travel-4",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:980},{id:"travel-5",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1450},{id:"travel-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1670},{id:"travel-7",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:890},{id:"travel-8",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1230},{id:"travel-9",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:1560},{id:"travel-10",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:670}]},{id:"automotive",name:"",icon:"",templates:[{id:"automotive-1",name:"",description:"",features:["","","Google "],colorScheme:"",seoScore:93,usageCount:1560},{id:"automotive-2",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1120},{id:"automotive-3",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:1890},{id:"automotive-4",name:"",description:"",features:["","VIP ",""],colorScheme:"",seoScore:95,usageCount:780},{id:"automotive-5",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:670},{id:"automotive-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:1340},{id:"automotive-7",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:890},{id:"automotive-8",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:1230},{id:"automotive-9",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:560},{id:"automotive-10",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:980}]},{id:"manufacturing",name:"",icon:"",templates:[{id:"manufacturing-1",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:1560},{id:"manufacturing-2",name:"",description:"",features:["","",""],colorScheme:"",seoScore:95,usageCount:1230},{id:"manufacturing-3",name:"",description:"",features:["","ESG ",""],colorScheme:"",seoScore:94,usageCount:890},{id:"manufacturing-4",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1120},{id:"manufacturing-5",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:670},{id:"manufacturing-6",name:"",description:"",features:["","",""],colorScheme:"",seoScore:93,usageCount:980},{id:"manufacturing-7",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:780},{id:"manufacturing-8",name:"",description:"",features:["","",""],colorScheme:"",seoScore:91,usageCount:560},{id:"manufacturing-9",name:"",description:"",features:["","",""],colorScheme:"",seoScore:94,usageCount:1340},{id:"manufacturing-10",name:"",description:"",features:["","",""],colorScheme:"",seoScore:92,usageCount:890}]}],DO=e=>{const t=Gs.find(n=>n.id===e);return(t==null?void 0:t.templates)||[]},cN=(e,t)=>{var r;return((r={restaurant:["https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1579027989536-b7b1f875659b?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1544025162-d76694265947?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1552566626-52f8b828add9?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1565299585323-38d6b0865b47?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=400&h=300&fit=crop"],interior:["https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1600573472550-8090b5e0745e?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1600566753376-12c8ab7fb75b?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1600121848594-d8644e57abab?w=400&h=300&fit=crop"],medical:["https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1631217868264-e5b90bb7e133?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1579684385127-1ef15d508118?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1588776814546-1ffcf47267a5?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1583912086096-8c60d75a53f9?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1629909613654-28e377c37b09?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1527613426441-4da17471b66d?w=400&h=300&fit=crop"],corporate:["https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1559136555-9303baea8ebd?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1504384308090-c894fdcc538d?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1556761175-4b46a572b786?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1561070791-2526d30994b5?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1521737711867-e3b97375f902?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1469571486292-0ba58a3f068b?w=400&h=300&fit=crop"],ecommerce:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1556742111-a301076d9d18?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1490367532201-b9bc1dc483f6?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1483985988355-763728e1935b?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1512496015851-a90fb38ba796?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1468495244123-6c6c332eeece?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1607082349566-187342175e2f?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1450778869180-41d0601e046e?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop"],beauty:["https://images.unsplash.com/photo-1560066984-138dadb4c035?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1604654894610-df63bc536371?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1540555700478-4be289fbecef?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1487412912498-0447578fcca8?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1503951914875-452162b0f3f1?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1604654894610-df63bc536371?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1519741497674-611481863552?w=400&h=300&fit=crop"],legal:["https://images.unsplash.com/photo-1589829545856-d10d557cf95f?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1505664194779-8beaceb93744?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1479142506502-19b3a3b7ff33?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1521791055366-0d553872125f?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1450101499163-c8848c66ca85?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1575505586569-646b2ca898fc?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1551836022-deb4988cc6c0?w=400&h=300&fit=crop"],education:["https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1427504494785-3a9ca7044f45?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1503454537195-1dcabb73ffb9?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1501504905252-473c47e087f8?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1514369118554-e20d93546b30?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1546410531-bb4caa6b424d?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1587654780291-39c9404d746b?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1507679799987-c73779587ccf?w=400&h=300&fit=crop"],fitness:["https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1545205597-3d9d02c29597?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1551632436-cbf8dd35adfa?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1549824506-46f0fbd81c4e?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1508050249562-b28a87434496?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1530549387789-4c1017266635?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1535131749006-b7f58c99034b?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1564769662533-4f00a87b4056?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=300&fit=crop"],travel:["https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1582719508461-905c673771fd?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1555854877-bab0e564b8d5?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1587061949409-02df41d5e562?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1540541338287-41700207dee6?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1444201983204-c43cbd584d93?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop"],automotive:["https://images.unsplash.com/photo-1487754180451-c456f719a1fc?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1486262715619-67b85e0b08d3?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1619642751034-765dfdf7c58e?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1494976388531-d1058494cdd8?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1520340356584-f9917d1eea6f?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1593941707882-a5bba14938c7?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=400&h=300&fit=crop"],manufacturing:["https://images.unsplash.com/photo-1565043589221-1a6fd9ae45c7?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1581092921461-eab62e97a780?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1574671930210-5a5d93f25d11?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1557804506-669a67965ba0?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1518770660439-4636190af475?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1565193566173-7a0ee3dbe261?w=400&h=300&fit=crop"]}[e])==null?void 0:r[t])||"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400&h=300&fit=crop"},mqe=({initialPrompt:e="",onComplete:t,onSkip:n,onDeductPoints:r,pointsBalance:i})=>{const[a,o]=x.useState([]),[l,c]=x.useState(""),[d,u]=x.useState(!1),[h,m]=x.useState("industry"),[f,p]=x.useState(null),[g,y]=x.useState(null),[v,b]=x.useState(!1),[w,S]=x.useState({}),[j,N]=x.useState(0),k=x.useRef(null),_=()=>{var $;($=k.current)==null||$.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{_()},[a]),x.useEffect(()=>{const $={id:"welcome",role:"assistant",content:` SEOBAIKE 

 AI 

`,options:Gs.map((M,F)=>({label:`${F+1<=9?F+1+"":""} ${M.name}`,value:M.id}))};o([$])},[]);const C=x.useCallback($=>{const M=Gs.find(O=>O.id===$);if(!M)return;p($),S(O=>({...O,industry:M.name,industryId:$})),o(O=>[...O,{id:`user-${Date.now()}`,role:"user",content:M.name}]);const F=DO($);setTimeout(()=>{o(O=>[...O,{id:`templates-${Date.now()}`,role:"assistant",content:`${M.icon} ${M.name} ${F.length} 

`,templates:F,industryId:$}]),m("template")},500)},[]),T=x.useCallback($=>{y($),S(M=>({...M,templateId:$.id,templateName:$.name,features:$.features})),b(!0)},[]),A=x.useCallback(()=>{!g||!f||(b(!1),o($=>[...$,{id:`user-template-${Date.now()}`,role:"user",content:`${g.name}`}]),setTimeout(()=>{o($=>[...$,{id:`details-start-${Date.now()}`,role:"assistant",content:`${g.name}



**1 /**`}]),m("details"),N(1)},500))},[g,f]),P=x.useCallback(()=>{b(!1),y(null)},[]),R=x.useCallback($=>{if(!$.trim())return;o(O=>[...O,{id:`user-detail-${Date.now()}`,role:"user",content:$}]);const M=[{key:"companyName",question:"**2 /**"},{key:"mainProducts",question:"**3 **"},{key:"address",question:"**4 **"},{key:"businessHours",question:"**5  LOGO**"},{key:"hasLogo",question:"**6 24H...**"}],F=["companyName","mainProducts","address","businessHours","hasLogo","highlights"][j-1];S(O=>({...O,[F]:F==="hasLogo"?$.includes("")||$.includes("yes")||$.includes("Yes"):$})),j<6?setTimeout(()=>{o(O=>[...O,{id:`detail-q-${Date.now()}`,role:"assistant",content:M[j-1].question}]),N(O=>O+1)},500):setTimeout(()=>{const O=Gs.find(L=>L.id===f);o(L=>[...L,{id:`confirm-${Date.now()}`,role:"assistant",content:`

 ****${O==null?void 0:O.icon} ${O==null?void 0:O.name}
 ****${g==null?void 0:g.name}
 ****${w.companyName}
 ****${w.mainProducts}
 ****${w.address||""}
 ****${w.businessHours||""}
 ****${g==null?void 0:g.features.join("")}

 ****
-  +NT$3,999/
- Google  +NT$1,999
- AI  +NT$2,999/

`}]),m("confirm")},500),c("")},[j,w,f,g]),D=x.useCallback(()=>{if(l.trim()){if(h==="industry"){const $=parseInt(l.trim());if($>=1&&$<=Gs.length)C(Gs[$-1].id);else{const M=Gs.find(F=>F.name.includes(l.trim())||l.trim().includes(F.name));M?C(M.id):o(F=>[...F,{id:`user-${Date.now()}`,role:"user",content:l},{id:`assistant-${Date.now()}`,role:"assistant",content:" 1-12 "}])}}else if(h==="details")R(l);else if(h==="confirm")if(l.includes("")||l.includes("")||l.includes("")){const $={industry:w.industry||"",industryId:w.industryId||"",templateId:w.templateId||"",templateName:w.templateName||"",companyName:w.companyName||"",mainProducts:w.mainProducts||"",address:w.address||"",businessHours:w.businessHours||"",hasLogo:w.hasLogo||!1,highlights:w.highlights||"",contactInfo:w.contactInfo||"",features:w.features||[]};t($)}else o($=>[...$,{id:`user-${Date.now()}`,role:"user",content:l},{id:`assistant-${Date.now()}`,role:"assistant",content:""}]);c("")}},[l,h,C,R,w,t]);return s.jsxs(s.Fragment,{children:[s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card rounded-2xl shadow-2xl w-full max-w-4xl h-[85vh] flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border bg-gradient-to-r from-primary/10 to-primary/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center",children:s.jsx(Do,{className:"w-5 h-5 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold text-foreground",children:"AI "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ae,{variant:"outline",className:"text-xs",children:[" ",i," "]}),s.jsx(B,{variant:"ghost",size:"icon",onClick:n,children:s.jsx(nr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.jsx(He,{mode:"popLayout",children:a.map($=>s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:`flex gap-3 ${$.role==="user"?"justify-end":""}`,children:[$.role==="assistant"&&s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center flex-shrink-0",children:s.jsx(Do,{className:"w-4 h-4 text-primary-foreground"})}),s.jsxs("div",{className:`max-w-[85%] ${$.role==="user"?"order-first":""}`,children:[s.jsx("div",{className:`px-4 py-3 rounded-2xl ${$.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted rounded-bl-md"}`,children:s.jsx("div",{className:"text-sm whitespace-pre-line",children:$.content})}),$.options&&s.jsx("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-2",children:$.options.map(M=>s.jsx(B,{variant:"outline",size:"sm",onClick:()=>C(M.value),className:"justify-start text-left h-auto py-2 hover:bg-primary/10 hover:border-primary",children:M.label},M.value))}),$.templates&&$.industryId&&s.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-5 gap-3",children:$.templates.map((M,F)=>s.jsxs(E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>T(M),className:"cursor-pointer group",children:[s.jsxs("div",{className:"relative aspect-[4/3] rounded-lg overflow-hidden border-2 border-border hover:border-primary transition-colors",children:[s.jsx("img",{src:cN($.industryId,F),alt:M.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("p",{className:"text-xs font-medium truncate",children:M.name})})]}),s.jsxs("p",{className:"mt-1 text-xs text-center text-muted-foreground truncate",children:[String.fromCharCode(65+F),". ",M.name]})]},M.id))})]}),$.role==="user"&&s.jsx("div",{className:"w-8 h-8 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:s.jsx(Mu,{className:"w-4 h-4 text-secondary-foreground"})})]},$.id))}),s.jsx("div",{ref:k})]}),s.jsx("div",{className:"p-4 border-t border-border bg-card",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xe,{value:l,onChange:$=>c($.target.value),onKeyDown:$=>$.key==="Enter"&&!$.shiftKey&&D(),placeholder:h==="industry"?" 1-12 ...":h==="details"?"...":"...",className:"flex-1",disabled:d}),s.jsx(B,{onClick:D,disabled:d||!l.trim(),children:s.jsx(Bs,{className:"w-4 h-4"})})]})})]})}),s.jsx(Xn,{open:v,onOpenChange:b,children:s.jsx(zn,{className:"max-w-3xl p-0 overflow-hidden",children:g&&f&&s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[s.jsx("img",{src:cN(f,DO(f).findIndex($=>$.id===g.id)),alt:g.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs(ae,{className:"bg-green-500 text-white gap-1",children:[s.jsx(St,{className:"w-3 h-3"}),"SEO ",g.seoScore,"+"]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:g.name}),s.jsx("p",{className:"text-muted-foreground mb-4",children:g.description}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(cn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:g.features.join("")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ac,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:g.colorScheme})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ai,{className:"w-4 h-4 text-primary"}),s.jsxs("span",{children:[" ",g.usageCount.toLocaleString()," "]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(B,{onClick:A,className:"flex-1 gap-2",children:[s.jsx(St,{className:"w-4 h-4"}),""]}),s.jsxs(B,{variant:"outline",onClick:P,className:"gap-2",children:[s.jsx(ks,{className:"w-4 h-4"}),""]})]})]})]})})})]})},j2=768;function fqe(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const n=window.matchMedia(`(max-width: ${j2-1}px)`),r=()=>{t(window.innerWidth<j2)};return n.addEventListener("change",r),t(window.innerWidth<j2),()=>n.removeEventListener("change",r)},[]),!!e}const pqe=({isLoading:e,onLoadingChange:t})=>{const[n,r]=x.useState(null),i=async()=>{t(!0),r("google");try{const a=ee.supabaseUrl||"https://anuslwdkfstrfffsrgvk.supabase.co";if(console.log(" DIAGNOSTIC - Current Supabase URL:",a),console.log(" DIAGNOSTIC - Current Origin:",window.location.origin),a.includes("sataqwe"))throw alert(" CRITICAL ERROR: The app is still connected to the OLD Supabase project (sataqwe...). Please go to Lovable Editor -> Supabase -> Disconnect and Reconnect!"),new Error("Stale Environment Variables detected.");console.log(" Config looks correct (Lovable Cloud: anuslwdk). Attempting Direct Auth...");const{error:o}=await ee.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://www.aiforseo.vip/auth/callback",skipBrowserRedirect:!1}});o&&(console.error("Supabase Auth Error:",o),q.error(`: ${o.message}`))}catch(a){console.error("System Error:",a),q.error(a.message||"Google "),t(!1),r(null)}};return s.jsx("div",{className:"space-y-3",children:s.jsxs(B,{variant:"outline",className:"w-full h-12 gap-3 font-medium",onClick:i,disabled:e,children:[n==="google"?s.jsx(Ge,{className:"w-5 h-5 animate-spin"}):s.jsx(A_e,{className:"w-5 h-5"})," Google "]})})};var gqe="Label",koe=x.forwardRef((e,t)=>s.jsx(De.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));koe.displayName=gqe;var _oe=koe;const xqe=Fb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ee=x.forwardRef(({className:e,...t},n)=>s.jsx(_oe,{ref:n,className:G(xqe(),e),...t}));Ee.displayName=_oe.displayName;var yqe="authorization_response",vqe="/~oauth/initiate",bqe=["https://oauth.lovable.app"];function wqe(e){let t;const n=new Promise(a=>{t=a}),r=a=>{if(!e.some(c=>a.origin===c))return;const l=a.data;!l||typeof l!="object"||l.type===yqe&&t(l.response)},i=()=>{window.removeEventListener("message",r)};return window.addEventListener("message",r),{cleanup:i,messagePromise:n}}function jqe(e){const t=window.screenX!==0||window.screenY!==0||!e,n=t?window.outerWidth*.5:window.screen.width*.5,r=t?window.outerHeight*.5:window.screen.height*.5,i=t?window.screenX+(window.outerWidth-n)/2:(window.screen.width-n)/2,a=t?window.screenY+(window.outerHeight-r)/2:(window.screen.height-r)/2;return{width:n,height:r,left:i,top:a}}function Sqe(){return typeof crypto<"u"&&crypto.getRandomValues?[...crypto.getRandomValues(new Uint8Array(16))].map(e=>e.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).substring(2)+Date.now().toString(36)}function Nqe(e={}){const t=e.oauthBrokerUrl??vqe,n=e.supportedOAuthOrigins??bqe;async function r(i,a={}){let o=!1;try{o=window.self!==window.top}catch{o=!0}const l=Sqe(),c=a.redirect_uri??window.location.origin,d=new URLSearchParams({provider:i,redirect_uri:c,state:l,...a.extraParams});if(!o)return window.location.href=`${t}?${d.toString()}`,{error:null,redirected:!0};d.set("response_mode","web_message");const u=`${t}?${d.toString()}`,{messagePromise:h,cleanup:m}=wqe(n),f=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let p;if(f)p=window.open(u,"_blank");else{const{width:v,height:b,left:w,top:S}=jqe(o);p=window.open(u,"oauth",`width=${v},height=${b},left=${w},top=${S}`)}if(!p)return m(),{error:new Error("Popup was blocked")};let g;const y=new Promise((v,b)=>{g=setInterval(()=>{p.closed&&(clearInterval(g),b(new Error("Sign in was cancelled")))},500)});try{const v=await Promise.race([h,y]);return v.error?v.error==="legacy_flow"?{error:new Error("This flow is not supported in Preview mode. Please open the app in a new tab to sign in.")}:{error:new Error(v.error_description??"Sign in failed")}:v.state!==l?{error:new Error("State is invalid")}:!v.access_token||!v.refresh_token?{error:new Error("No tokens received")}:{tokens:{access_token:v.access_token,refresh_token:v.refresh_token},error:null}}catch(v){return{error:v instanceof Error?v:new Error(String(v))}}finally{clearInterval(g),m(),p==null||p.close()}}return{signInWithOAuth:r}}function kqe(e){return Nqe(e)}const _qe=kqe({}),Cqe={auth:{signInWithOAuth:async(e,t)=>{const n=await _qe.signInWithOAuth(e,{redirect_uri:t==null?void 0:t.redirect_uri,extraParams:{...t==null?void 0:t.extraParams}});if(n.redirected||n.error)return n;try{await ee.auth.setSession(n.tokens)}catch(r){return{error:r instanceof Error?r:new Error(String(r))}}return n}}},Eqe=()=>s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((e,t)=>s.jsx(E.div,{className:"absolute w-1 h-1 rounded-full",style:{background:"rgba(255, 255, 255, 0.3)",left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},initial:{scale:Math.random()*.5+.5,opacity:.2},animate:{y:[0,-20,20,0],x:[0,Math.random()*20-10,Math.random()*20-10,0],opacity:[.2,.8,.2]},transition:{duration:Math.random()*3+2,repeat:1/0,repeatType:"reverse",ease:"easeInOut",delay:Math.random()*2}},t))}),Tqe=()=>s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),Coe=({isOpen:e,onClose:t,onSuccess:n,defaultTab:r="login"})=>{const[i,a]=x.useState("method"),[o,l]=x.useState(!1),[c,d]=x.useState(""),[u,h]=x.useState(""),[m,f]=x.useState(""),[p,g]=x.useState(""),[y,v]=x.useState(r==="login");x.useEffect(()=>{v(r==="login")},[r]);const b=()=>{a("method"),d(""),h(""),f(""),g(""),l(!1)},w=()=>{b(),t()},S=async()=>{l(!0);try{const{error:D}=await Cqe.auth.signInWithOAuth("google",{redirect_uri:window.location.origin});D&&(console.error("[AuthModal] Google OAuth Error:",D),q.error("Google "),l(!1))}catch(D){console.error("[AuthModal] Google OAuth Exception:",D),q.error("Google "),l(!1)}},j=async()=>{var D,$;if(!c||!p){q.error("");return}l(!0);try{if(y){const{data:M,error:F}=await ee.auth.signInWithPassword({email:c,password:p});if(F)throw F;q.success("");const{data:O}=await ee.from("user_preferences").select("onboarding_completed").eq("user_id",M.user.id).single();n(!(O!=null&&O.onboarding_completed))}else{const{error:M}=await ee.auth.signUp({email:c,password:p,options:{emailRedirectTo:`${window.location.origin}/`}});if(M)throw M;q.success("  50 "),n(!0)}w()}catch(M){console.error("Email auth error:",M),(D=M.message)!=null&&D.includes("Invalid login credentials")?q.error(""):($=M.message)!=null&&$.includes("User already registered")?q.error(""):q.error(M.message||"")}finally{l(!1)}},N=async()=>{if(!u){q.error("");return}const D=u.startsWith("+")?u:`+886${u.replace(/^0/,"")}`;l(!0);try{const{error:$}=await ee.auth.signInWithOtp({phone:D});if($)throw $;q.success(""),h(D),a("phone-verify")}catch($){console.error("Phone OTP error:",$),q.error($.message||"")}finally{l(!1)}},k=async()=>{var D;if(!m){q.error("");return}l(!0);try{const{data:$,error:M}=await ee.auth.verifyOtp({phone:u,token:m,type:"sms"});if(M)throw M;q.success("");const{data:F}=await ee.from("user_preferences").select("onboarding_completed").eq("user_id",(D=$.user)==null?void 0:D.id).single();n(!(F!=null&&F.onboarding_completed)),w()}catch($){console.error("Verify OTP error:",$),q.error($.message||"")}finally{l(!1)}},_={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.3,ease:"easeOut",staggerChildren:.05}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},C={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.2}}},T=()=>s.jsxs(E.div,{className:"space-y-4",variants:_,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx(E.div,{variants:C,children:s.jsxs(B,{className:G("w-full h-14 gap-3 text-base font-semibold","bg-white text-gray-700","border-0 shadow-lg","hover:shadow-xl hover:scale-[1.02]","active:scale-[0.98]","transition-all duration-200 ease-out","rounded-2xl"),style:{boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)"},onClick:S,disabled:o,children:[o?s.jsx(Ge,{className:"w-5 h-5 animate-spin text-gray-600"}):s.jsx(Tqe,{})," Google "]})}),s.jsxs(E.div,{variants:C,className:"relative py-2",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-white/30 to-transparent"})}),s.jsx("div",{className:"relative flex justify-center",children:s.jsx("span",{className:"px-4 text-sm",style:{color:"rgba(255, 255, 255, 0.5)"},children:""})})]}),s.jsx(E.div,{variants:C,children:s.jsxs(B,{className:G("w-full h-14 gap-3 text-base font-semibold","text-white border-0","hover:scale-[1.02]","active:scale-[0.98]","transition-all duration-200 ease-out","rounded-2xl","relative overflow-hidden group"),style:{background:"linear-gradient(135deg, #9333ea, #7c3aed, #4f46e5)",boxShadow:"0 4px 20px rgba(147, 51, 234, 0.4)"},onClick:()=>a("email-input"),disabled:o,children:[s.jsx("div",{className:"absolute inset-0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)"}}),s.jsx(Ri,{className:"w-5 h-5"}),""]})}),s.jsx(E.div,{variants:C,children:s.jsxs(B,{className:G("w-full h-14 gap-3 text-base font-semibold","text-white","hover:scale-[1.02]","active:scale-[0.98]","transition-all duration-200 ease-out","rounded-2xl"),style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.3)"},onClick:()=>a("phone-input"),disabled:o,children:[s.jsx(Ya,{className:"w-5 h-5"}),""]})}),s.jsx(E.div,{variants:C,className:"text-center pt-4",children:s.jsxs("button",{type:"button",className:"text-sm transition-colors duration-200 relative group",style:{color:"rgba(255, 255, 255, 0.6)"},onClick:()=>v(!y),children:[y?"":"",s.jsxs("span",{className:"font-medium ml-1 relative",style:{color:"#c4b5fd"},children:[y?"":"",s.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-[1px] group-hover:w-full transition-all duration-300",style:{background:"#c4b5fd"}})]})]})})]}),A=()=>s.jsxs(E.div,{className:"space-y-5",variants:_,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx(E.div,{variants:C,children:s.jsxs(B,{variant:"ghost",size:"sm",className:"mb-2 -ml-2 rounded-xl",style:{color:"rgba(255, 255, 255, 0.6)"},onClick:()=>a("method"),children:[s.jsx(ks,{className:"w-4 h-4 mr-1"}),""]})}),s.jsxs(E.div,{variants:C,className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"email",className:"text-sm font-medium",style:{color:"rgba(255, 255, 255, 0.8)"},children:""}),s.jsx(xe,{id:"email",type:"email",placeholder:"your@email.com",value:c,onChange:D=>d(D.target.value),className:G("h-14 text-base text-white rounded-2xl","transition-all duration-200"),style:{fontSize:"16px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.2)"}})]}),s.jsxs(E.div,{variants:C,className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"password",className:"text-sm font-medium",style:{color:"rgba(255, 255, 255, 0.8)"},children:""}),s.jsx(xe,{id:"password",type:"password",placeholder:"",value:p,onChange:D=>g(D.target.value),className:G("h-14 text-base text-white rounded-2xl","transition-all duration-200"),style:{fontSize:"16px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.2)"}})]}),s.jsx(E.div,{variants:C,children:s.jsxs(B,{className:G("w-full h-14 text-base font-bold","text-white border-0","hover:scale-[1.02]","active:scale-[0.98]","transition-all duration-200 ease-out","rounded-2xl","relative overflow-hidden group"),style:{background:"linear-gradient(135deg, #9333ea, #7c3aed, #4f46e5)",boxShadow:"0 4px 20px rgba(147, 51, 234, 0.4)"},onClick:j,disabled:o,children:[s.jsx("div",{className:"absolute inset-0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700",style:{background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)"}}),o?s.jsx(Ge,{className:"w-5 h-5 animate-spin"}):y?"":""]})})]}),P=()=>s.jsxs(E.div,{className:"space-y-5",variants:_,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx(E.div,{variants:C,children:s.jsxs(B,{variant:"ghost",size:"sm",className:"mb-2 -ml-2 rounded-xl",style:{color:"rgba(255, 255, 255, 0.6)"},onClick:()=>a("method"),children:[s.jsx(ks,{className:"w-4 h-4 mr-1"}),""]})}),s.jsxs(E.div,{variants:C,className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"phone",className:"text-sm font-medium",style:{color:"rgba(255, 255, 255, 0.8)"},children:""}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex items-center justify-center px-4 text-sm font-medium rounded-2xl",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.7)"},children:"+886"}),s.jsx(xe,{id:"phone",type:"tel",placeholder:"912345678",value:u,onChange:D=>h(D.target.value.replace(/\D/g,"")),className:G("h-14 text-base text-white flex-1 rounded-2xl","transition-all duration-200"),style:{fontSize:"16px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.2)"},inputMode:"numeric"})]}),s.jsx("p",{className:"text-xs pl-1",style:{color:"rgba(255, 255, 255, 0.5)"},children:""})]}),s.jsx(E.div,{variants:C,children:s.jsx(B,{className:G("w-full h-14 text-base font-bold","text-white border-0","hover:scale-[1.02]","active:scale-[0.98]","transition-all duration-200 ease-out","rounded-2xl"),style:{background:"linear-gradient(135deg, #9333ea, #7c3aed, #4f46e5)",boxShadow:"0 4px 20px rgba(147, 51, 234, 0.4)"},onClick:N,disabled:o||!u,children:o?s.jsx(Ge,{className:"w-5 h-5 animate-spin"}):""})})]}),R=()=>s.jsxs(E.div,{className:"space-y-5",variants:_,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx(E.div,{variants:C,children:s.jsxs(B,{variant:"ghost",size:"sm",className:"mb-2 -ml-2 rounded-xl",style:{color:"rgba(255, 255, 255, 0.6)"},onClick:()=>a("phone-input"),children:[s.jsx(ks,{className:"w-4 h-4 mr-1"}),""]})}),s.jsxs(E.div,{variants:C,className:"text-center mb-4",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #22c55e, #10b981)",boxShadow:"0 4px 20px rgba(34, 197, 94, 0.4)"},children:s.jsx(Ct,{className:"w-8 h-8 text-white"})}),s.jsxs("p",{className:"text-sm",style:{color:"rgba(255, 255, 255, 0.7)"},children:[" ",s.jsx("span",{className:"font-medium text-white",children:u})]})]}),s.jsxs(E.div,{variants:C,className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"otp",className:"text-sm font-medium",style:{color:"rgba(255, 255, 255, 0.8)"},children:""}),s.jsx(xe,{id:"otp",type:"text",placeholder:"123456",value:m,onChange:D=>f(D.target.value.replace(/\D/g,"").slice(0,6)),className:G("h-16 text-2xl text-white text-center tracking-[0.5em] font-mono rounded-2xl","transition-all duration-200"),style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.2)"},inputMode:"numeric",maxLength:6})]}),s.jsx(E.div,{variants:C,children:s.jsx(B,{className:G("w-full h-14 text-base font-bold","text-white border-0","hover:scale-[1.02]","active:scale-[0.98]","transition-all duration-200 ease-out","rounded-2xl"),style:{background:"linear-gradient(135deg, #9333ea, #7c3aed, #4f46e5)",boxShadow:"0 4px 20px rgba(147, 51, 234, 0.4)"},onClick:k,disabled:o||m.length!==6,children:o?s.jsx(Ge,{className:"w-5 h-5 animate-spin"}):""})}),s.jsx(E.div,{variants:C,children:s.jsx("button",{type:"button",className:"w-full text-sm transition-colors py-2",style:{color:"rgba(255, 255, 255, 0.5)"},onClick:N,disabled:o,children:""})})]});return s.jsx(Xn,{open:e,onOpenChange:w,children:s.jsx(zn,{className:"sm:max-w-[440px] p-0 overflow-hidden border-0 bg-transparent shadow-none",children:s.jsxs(E.div,{initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:30,scale:.95},transition:{duration:.3,ease:"easeOut"},className:"relative rounded-[32px] overflow-hidden",style:{background:"linear-gradient(135deg, #1a1a2e, #16213e, #0f0f23)",boxShadow:"0 25px 50px -12px rgba(88, 28, 135, 0.5)"},children:[s.jsx(Eqe,{}),s.jsx("div",{className:"absolute -top-32 -right-32 w-64 h-64 rounded-full blur-[100px]",style:{background:"rgba(147, 51, 234, 0.3)"}}),s.jsx("div",{className:"absolute -bottom-32 -left-32 w-64 h-64 rounded-full blur-[100px]",style:{background:"rgba(99, 102, 241, 0.3)"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full blur-[80px]",style:{background:"rgba(139, 92, 246, 0.2)"}}),s.jsxs("div",{className:"relative m-4 rounded-[24px] p-8",style:{background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(40px)",border:"1px solid rgba(255, 255, 255, 0.15)"},children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.1},className:"w-16 h-16 mx-auto mb-4 rounded-2xl flex items-center justify-center rotate-3",style:{background:"linear-gradient(135deg, #a855f7, #8b5cf6, #6366f1)",boxShadow:"0 8px 30px rgba(168, 85, 247, 0.4)"},children:s.jsx(Ye,{className:"w-8 h-8 text-white"})}),s.jsx(E.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-white mb-2",children:y?"":" SEOBAIKE"}),s.jsx(E.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"text-sm",style:{color:"rgba(255, 255, 255, 0.6)"},children:y?"":" AI "})]}),s.jsxs(He,{mode:"wait",children:[i==="method"&&T(),i==="email-input"&&A(),i==="phone-input"&&P(),i==="phone-verify"&&R()]})]}),s.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-3/4 h-[2px]",style:{background:"linear-gradient(90deg, transparent, rgba(168, 85, 247, 0.5), transparent)"}})]})})})},j7=[{id:"mobile",icon:ii,title:" ",description:"",features:["","","PWA "],route:"/assistant",gradient:"from-blue-500 to-cyan-500"},{id:"web",icon:Dl,title:" ",description:"",features:["","",""],route:"/dashboard",gradient:"from-purple-500 to-pink-500"},{id:"sync",icon:rn,title:" ",description:"",features:["","",""],route:"/sync-setup",gradient:"from-orange-500 to-red-500"}],Eoe=({isOpen:e,onClose:t,userId:n})=>{const[r,i]=x.useState(null),[a,o]=x.useState(!1),[l,c]=x.useState(!0),d=xn(),u=async h=>{i(h),o(!0);try{const{error:m}=await ee.from("user_preferences").upsert({user_id:n,preferred_version:h,onboarding_completed:!0,remember_choice:l,last_login_device:/Mobile|Android|iPhone/i.test(navigator.userAgent)?"mobile":"desktop"},{onConflict:"user_id"});if(m)throw m;q.success("");const f=j7.find(p=>p.id===h);f&&(t(),d(f.route))}catch(m){console.error("Save preference error:",m),q.error("")}finally{o(!1)}};return s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsxs(zn,{className:G("sm:max-w-[700px] p-0 overflow-hidden max-h-[90vh] overflow-y-auto","bg-gradient-to-br from-slate-900/95 via-purple-900/90 to-slate-900/95","backdrop-blur-xl border-white/10 shadow-2xl"),children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-32 -right-32 w-64 h-64 bg-purple-500/20 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-32 -left-32 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative p-6 sm:p-8",children:[s.jsxs(Di,{className:"mb-8",children:[s.jsx(hr,{className:"text-2xl sm:text-3xl font-bold text-center bg-gradient-to-r from-white via-purple-200 to-white bg-clip-text text-transparent",children:""}),s.jsx("p",{className:"text-center text-muted-foreground text-sm sm:text-base mt-3",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:j7.map(h=>{const m=h.icon,f=r===h.id;return s.jsxs("button",{onClick:()=>u(h.id),disabled:a,className:G("relative p-5 rounded-2xl text-left transition-all duration-300","bg-white/5 backdrop-blur-sm border border-white/10","hover:bg-white/10 hover:border-white/20 hover:scale-[1.02]","focus:outline-none focus:ring-2 focus:ring-primary/50","group touch-manipulation",f&&"bg-white/15 border-primary/50 scale-[1.02]"),children:[f&&s.jsx("div",{className:"absolute top-3 right-3",children:a?s.jsx(Ge,{className:"w-5 h-5 text-primary animate-spin"}):s.jsx(We,{className:"w-5 h-5 text-primary"})}),s.jsx("div",{className:G("w-14 h-14 rounded-xl flex items-center justify-center mb-4","bg-gradient-to-br",h.gradient,"group-hover:scale-110 transition-transform duration-300"),children:s.jsx(m,{className:"w-7 h-7 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:h.title}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:h.description}),s.jsx("ul",{className:"space-y-1.5",children:h.features.map((p,g)=>s.jsxs("li",{className:"flex items-center gap-2 text-xs text-white/70",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-primary"}),p]},g))})]},h.id)})}),s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx("button",{type:"button",onClick:()=>c(!l),className:G("w-5 h-5 rounded border-2 flex items-center justify-center transition-all",l?"bg-primary border-primary":"bg-transparent border-white/30"),children:l&&s.jsx(We,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-center text-xs text-muted-foreground",children:""})]})]})})},Aqe=[{icon:yM,label:" 115100981",sublabel:null},{icon:mu,label:"SEO 90+ ",sublabel:null},{icon:B_e,label:" ",sublabel:null}],Toe=x.memo(()=>s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-wrap items-center justify-center gap-2 sm:gap-3",children:Aqe.map((e,t)=>{const n=e.icon;return s.jsxs(E.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1+t*.1},whileHover:{scale:1.05,y:-2},className:"inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full bg-slate-800/80 backdrop-blur-md text-white text-xs sm:text-sm font-medium border border-slate-600/50 shadow-lg cursor-default",children:[s.jsx(n,{className:"w-3 h-3 sm:w-4 sm:h-4 text-primary"}),s.jsx("span",{className:"font-mono text-[10px] sm:text-xs",children:e.label})]},e.label)})}));Toe.displayName="HeroBadges";const Pqe=[{icon:"",label:"AI-SEO ",color:"bg-green-400"},{icon:"",label:"Lighthouse 90+",color:"bg-blue-400"},{icon:"",label:"30 ",color:"bg-purple-400"}],Aoe=x.memo(()=>s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex flex-wrap items-center justify-center gap-3 md:gap-4",children:Pqe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.7+t*.1},whileHover:{scale:1.05,y:-2},className:"flex items-center gap-2 px-4 py-2 rounded-full bg-slate-800/60 backdrop-blur-sm border border-slate-600/50 cursor-default",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${e.color}`}),s.jsx("span",{className:"text-sm text-gray-300 font-medium",children:e.label})]},e.label))}));Aoe.displayName="TrustBadges";const S2=[{id:1,name:"",category:"SaaS / Tech",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=500&fit=crop",color:"#8B5CF6"},{id:2,name:"",category:"E-commerce",image:"https://images.unsplash.com/photo-1483985988355-763728e1935b?w=800&h=500&fit=crop",color:"#EC4899"},{id:3,name:"",category:"Professional",image:"https://images.unsplash.com/photo-1589829545856-d10d557cf95f?w=800&h=500&fit=crop",color:"#0EA5E9"},{id:4,name:"",category:"Restaurant",image:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=500&fit=crop",color:"#F59E0B"},{id:5,name:"",category:"Healthcare",image:"https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=800&h=500&fit=crop",color:"#10B981"},{id:6,name:"",category:"Real Estate",image:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=500&fit=crop",color:"#6366F1"},{id:7,name:"",category:"Portfolio",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=500&fit=crop",color:"#8B5CF6"},{id:8,name:"",category:"Education",image:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=800&h=500&fit=crop",color:"#06B6D4"}],S7=[...S2,...S2,...S2],Iqe=()=>{const[e,t]=x.useState(!1),n=x.useRef(null),r=x.useRef(null);return x.useEffect(()=>{const i=n.current,a=r.current;if(!i||!a)return;const o=()=>t(!0),l=()=>t(!1);return i.addEventListener("mouseenter",o),i.addEventListener("mouseleave",l),a.addEventListener("mouseenter",o),a.addEventListener("mouseleave",l),()=>{i.removeEventListener("mouseenter",o),i.removeEventListener("mouseleave",l),a.removeEventListener("mouseenter",o),a.removeEventListener("mouseleave",l)}},[]),s.jsxs("section",{className:"py-20 md:py-28 overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-background to-transparent z-10 pointer-events-none"}),s.jsx("div",{className:"container mx-auto px-4 mb-12 md:mb-16",children:s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex flex-col md:flex-row md:items-end md:justify-between gap-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-4 tracking-tight",children:["",s.jsx("span",{className:"text-gradient",children:""})]}),s.jsx("p",{className:"text-base md:text-lg text-gray-400 max-w-2xl",children:" 50+  SEO 90+ "})]}),s.jsx(ye,{to:"/templates",children:s.jsxs(B,{variant:"heroOutline",size:"lg",className:"group whitespace-nowrap",children:["",s.jsx(mt,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})})]})}),s.jsx("div",{ref:n,className:"relative mb-6 overflow-hidden",children:s.jsx(E.div,{className:"flex gap-6",animate:{x:e?void 0:["0%","-50%"]},transition:{x:{repeat:1/0,repeatType:"loop",duration:40,ease:"linear"}},style:{width:"max-content",animationPlayState:e?"paused":"running"},children:S7.map((i,a)=>s.jsx(N7,{template:i,size:"large"},`row1-${i.id}-${a}`))})}),s.jsx("div",{ref:r,className:"relative overflow-hidden",children:s.jsx(E.div,{className:"flex gap-6",animate:{x:e?void 0:["-50%","0%"]},transition:{x:{repeat:1/0,repeatType:"loop",duration:45,ease:"linear"}},style:{width:"max-content",animationPlayState:e?"paused":"running"},children:[...S7].reverse().map((i,a)=>s.jsx(N7,{template:i,size:"medium"},`row2-${i.id}-${a}`))})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-background to-transparent z-10 pointer-events-none"}),s.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-32 bg-gradient-to-r from-background to-transparent z-10 pointer-events-none"}),s.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-32 bg-gradient-to-l from-background to-transparent z-10 pointer-events-none"})]})},N7=({template:e,size:t="large"})=>{const n=t==="large"?"w-[380px] md:w-[440px] h-[240px] md:h-[280px]":"w-[300px] md:w-[360px] h-[190px] md:h-[220px]";return s.jsxs(E.div,{className:`${n} flex-shrink-0 rounded-2xl overflow-hidden relative group cursor-pointer`,whileHover:{scale:1.03,y:-8},transition:{duration:.3,ease:[.22,1,.36,1]},children:[s.jsxs("div",{className:"absolute inset-0 bg-slate-900 rounded-2xl border border-slate-700/50 overflow-hidden",children:[s.jsxs("div",{className:"h-8 bg-slate-800/80 flex items-center px-3 gap-2 border-b border-slate-700/50",children:[s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/80"}),s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/80"}),s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/80"})]}),s.jsx("div",{className:"flex-1 mx-3",children:s.jsx("div",{className:"h-4 bg-slate-700/50 rounded-md max-w-[120px]"})})]}),s.jsxs("div",{className:"relative h-[calc(100%-2rem)]",children:[s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300",children:[s.jsx("div",{className:"inline-block px-2 py-0.5 rounded-md text-xs font-medium text-white mb-2",style:{backgroundColor:e.color},children:e.category}),s.jsx("h3",{className:"text-white font-semibold text-lg",children:e.name}),s.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"SEO 90+ "})]})]})]}),s.jsx("div",{className:"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{boxShadow:`0 20px 60px ${e.color}40, 0 10px 30px ${e.color}30`}})]})},Oqe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},sf={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",damping:20,stiffness:300}}},Rqe=()=>{var A,P;const e=xn(),{user:t}=Jt(),[n,r]=x.useState(!1),[i,a]=x.useState("idle"),[o,l]=x.useState(""),[c,d]=x.useState(100),[u,h]=x.useState(null),[m,f]=x.useState(!1),[p,g]=x.useState(!1),[y,v]=x.useState("login");yn({title:"SEOBAIKE |  AI-SEO ",description:" AI  10  SEO 90+ Lighthouse ",keywords:"AI,SEO,,,Lighthouse 90,AI,,SEOBAIKE",canonical:"https://seobaike.com/",ogType:"website",schema:[Gae(),nC(),Yae([{question:" SEOBAIKE",answer:"SEOBAIKE  AI-SEO  10  Lighthouse 90+ "},{question:"SEOBAIKE  SEO 90 ",answer:" AI-SEO meta Schema Markup  SEO "},{question:"",answer:"AI  30  24 "}])]});const b=R=>{R.trim()&&(l(R),a("consulting"))};x.useCallback(R=>{l(`${R.name}`),a("consulting")},[]);const w=x.useCallback(R=>{h(R),a("generating")},[]),S=x.useCallback(()=>{a("idle"),l("")},[]),j=()=>{a("idle"),e("/editor")},N=()=>{a("idle"),l(""),h(null)},k=x.useCallback(R=>{d(D=>Math.max(0,D-R))},[]),_=()=>{v("login"),f(!0)},C=()=>{v("register"),f(!0)},T=R=>{R&&t&&g(!0)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(dVe,{isOpen:n,onClose:()=>r(!1)}),s.jsxs("main",{className:"flex flex-col min-h-screen lg:pl-[290px]",children:[s.jsx(E.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"sticky top-0 z-40 glass-navy mx-4 mt-4 lg:mr-4 lg:ml-0 rounded-2xl",children:s.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!n),className:"p-2.5 rounded-xl glass-dark hover:bg-white/10 lg:hidden transition-all",children:s.jsx(h_,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex items-center gap-2 lg:hidden",children:[s.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-glow",children:s.jsx(Ye,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"font-bold text-white tracking-tight",children:"SEOBAIKE"})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:t?s.jsx(ye,{to:"/merchant",children:s.jsx(E.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},className:"px-5 py-2.5 rounded-xl btn-glow text-white text-sm font-semibold",children:""})}):s.jsxs(s.Fragment,{children:[s.jsx(E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:_,className:"px-4 py-2.5 rounded-xl text-gray-300 text-sm font-medium hover:text-white hover:bg-white/10 transition-all",children:""}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(E.button,{whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},onClick:C,className:"px-5 py-2.5 rounded-xl btn-glow text-white text-sm font-semibold",children:""}),s.jsx("span",{className:"text-xs text-primary mt-1 font-medium",children:"  50 "})]})]})})]})}),s.jsxs("div",{className:"relative flex-1 flex flex-col items-center justify-center px-4 py-16 md:py-24 overflow-hidden min-h-[70vh]",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/5 via-transparent to-transparent pointer-events-none"}),s.jsxs(E.div,{variants:Oqe,initial:"hidden",animate:"visible",className:"relative z-10 w-full max-w-3xl mx-auto text-center",children:[s.jsx(E.div,{variants:sf,className:"mb-6 sm:mb-8",children:s.jsx(Toe,{})}),s.jsx(E.div,{variants:sf,className:"mb-4",children:s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-white leading-tight tracking-tighter",children:t?s.jsxs(s.Fragment,{children:["",s.jsx("span",{className:"text-gray-300",children:((A=t.user_metadata)==null?void 0:A.full_name)||((P=t.email)==null?void 0:P.split("@")[0])||""})]}):s.jsx(s.Fragment,{children:""})})}),s.jsx(E.p,{variants:sf,className:"text-base sm:text-lg md:text-xl text-gray-400 mb-8 md:mb-10 mt-4",children:" AI "}),s.jsx(E.div,{variants:sf,className:"relative w-full",children:s.jsx(Xae,{onSubmit:b,isLoading:i!=="idle"})}),s.jsx(E.div,{variants:sf,className:"mt-6",children:s.jsx(Aoe,{})}),s.jsx(E.p,{variants:sf,className:"mt-4 text-xs text-gray-500",children:" AI  30 "})]})]}),s.jsx(Iqe,{}),s.jsx(vVe,{}),s.jsx(wVe,{}),s.jsx("footer",{className:"px-4 py-8 glass-navy mx-4 mb-4 rounded-2xl",children:s.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4 text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:" 2026 SEOBAIKE. All rights reserved."})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"font-mono text-xs text-gray-500",children:" 115100981"}),s.jsx("span",{className:"text-gray-600",children:"|"}),s.jsx("span",{className:"text-gray-500",children:" AI-SEO "})]})]})})]}),s.jsx(He,{children:i==="consulting"&&s.jsx(mqe,{initialPrompt:o,onComplete:w,onSkip:S,onDeductPoints:k,pointsBalance:c})}),s.jsx(He,{children:i==="generating"&&s.jsx(hqe,{isGenerating:i==="generating",prompt:o,onComplete:j,onExit:N})}),s.jsx(Coe,{isOpen:m,onClose:()=>f(!1),onSuccess:T,defaultTab:y}),t&&s.jsx(Eoe,{isOpen:p,onClose:()=>g(!1),userId:t.id})]})};var Poe={exports:{}},Ioe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg=x;function Mqe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dqe=typeof Object.is=="function"?Object.is:Mqe,Lqe=dg.useState,$qe=dg.useEffect,Fqe=dg.useLayoutEffect,Bqe=dg.useDebugValue;function Uqe(e,t){var n=t(),r=Lqe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return Fqe(function(){i.value=n,i.getSnapshot=t,N2(i)&&a({inst:i})},[e,n,t]),$qe(function(){return N2(i)&&a({inst:i}),e(function(){N2(i)&&a({inst:i})})},[e]),Bqe(n),n}function N2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dqe(e,n)}catch{return!0}}function zqe(e,t){return t()}var Vqe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zqe:Uqe;Ioe.useSyncExternalStore=dg.useSyncExternalStore!==void 0?dg.useSyncExternalStore:Vqe;Poe.exports=Ioe;var qqe=Poe.exports;function Wqe(){return qqe.useSyncExternalStore(Hqe,()=>!0,()=>!1)}function Hqe(){return()=>{}}var XD="Avatar",[Kqe,r_t]=Ar(XD),[Gqe,Ooe]=Kqe(XD),Roe=x.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=x.useState("idle");return s.jsx(Gqe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(De.span,{...r,ref:t})})});Roe.displayName=XD;var Moe="AvatarImage",Doe=x.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=Ooe(Moe,n),l=Yqe(r,a),c=ar(d=>{i(d),o.onImageLoadingStatusChange(d)});return Nr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(De.img,{...a,ref:t,src:r}):null});Doe.displayName=Moe;var Loe="AvatarFallback",$oe=x.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=Ooe(Loe,n),[o,l]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(De.span,{...i,ref:t}):null});$oe.displayName=Loe;function k7(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Yqe(e,{referrerPolicy:t,crossOrigin:n}){const r=Wqe(),i=x.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=x.useState(()=>k7(a,e));return Nr(()=>{l(k7(a,e))},[a,e]),Nr(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),u=c("error");return a.addEventListener("load",d),a.addEventListener("error",u),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",u)}},[a,n,t]),o}var Foe=Roe,Boe=Doe,Uoe=$oe;const dN=x.forwardRef(({className:e,...t},n)=>s.jsx(Foe,{ref:n,className:G("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));dN.displayName=Foe.displayName;const uN=x.forwardRef(({className:e,...t},n)=>s.jsx(Boe,{ref:n,className:G("aspect-square h-full w-full",e),...t}));uN.displayName=Boe.displayName;const hN=x.forwardRef(({className:e,...t},n)=>s.jsx(Uoe,{ref:n,className:G("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));hN.displayName=Uoe.displayName;const _7=[{href:"/",label:""},{href:"/services",label:""},{href:"/pricing",label:""},{href:"/cases",label:""},{href:"/blog",label:""},{href:"/faq",label:""},{href:"/contact",label:""}],zoe=()=>{var C;const[e,t]=x.useState(!1),[n,r]=x.useState(!1),[i,a]=x.useState(null),[o,l]=x.useState(null),[c,d]=x.useState(!1),[u,h]=x.useState(!1),[m,f]=x.useState("login"),p=fs(),g=xn(),y=async T=>{const{data:A,error:P}=await ee.from("profiles").select("name, avatar_url, email").eq("id",T).single();!P&&A&&a(A)},v=async T=>{const{data:A,error:P}=await ee.from("user_preferences").select("preferred_version, onboarding_completed, remember_choice").eq("user_id",T).single();P||!(A!=null&&A.onboarding_completed)?h(!0):A.remember_choice&&A.preferred_version&&g({mobile:"/assistant",web:"/dashboard",sync:"/sync-setup"}[A.preferred_version]||"/dashboard")};x.useEffect(()=>{console.log("[Navbar] Setting up auth state listener..."),ee.auth.getSession().then(({data:{session:A}})=>{var P;if(console.log("[Navbar] Initial session:",!!A,(P=A==null?void 0:A.user)==null?void 0:P.email),r(!!A),A!=null&&A.user){l(A.user.id);const R=A.user.user_metadata;console.log("[Navbar] User metadata:",R),(R!=null&&R.name||R!=null&&R.avatar_url)&&a({name:R.name||R.full_name||null,avatar_url:R.avatar_url||R.picture||null,email:A.user.email||null}),setTimeout(()=>y(A.user.id),0)}});const{data:{subscription:T}}=ee.auth.onAuthStateChange((A,P)=>{var R;if(console.log("[Navbar] Auth state changed:",A,!!P,(R=P==null?void 0:P.user)==null?void 0:R.email),r(!!P),P!=null&&P.user){l(P.user.id);const D=P.user.user_metadata;console.log("[Navbar] User metadata on change:",D),a({name:(D==null?void 0:D.name)||(D==null?void 0:D.full_name)||null,avatar_url:(D==null?void 0:D.avatar_url)||(D==null?void 0:D.picture)||null,email:P.user.email||null}),setTimeout(()=>y(P.user.id),0)}else a(null),l(null)});return()=>T.unsubscribe()},[]);const b=async()=>{await ee.auth.signOut(),a(null),r(!1),l(null)},w=T=>{T&&o?h(!0):o&&v(o)},S=()=>{f("login"),d(!0),t(!1)},j=()=>{f("register"),d(!0),t(!1)},N=(i==null?void 0:i.name)||((C=i==null?void 0:i.email)==null?void 0:C.split("@")[0])||"",k=i==null?void 0:i.avatar_url,_=N.charAt(0).toUpperCase();return s.jsxs(s.Fragment,{children:[s.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-strong",children:[s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[s.jsxs(ye,{to:"/",className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg bg-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-lg md:text-xl",children:"S"})}),s.jsx("span",{className:"text-lg md:text-xl font-bold text-foreground",children:"SEOBAIKE"})]}),s.jsx("div",{className:"hidden md:flex items-center gap-8",children:_7.map(T=>s.jsx(ye,{to:T.href,className:`text-sm font-medium transition-colors hover:text-primary ${p.pathname===T.href?"text-primary":"text-muted-foreground"}`,children:T.label},T.href))}),s.jsx("div",{className:"hidden md:flex items-center gap-4",children:n?s.jsxs(X_,{children:[s.jsx(J_,{asChild:!0,children:s.jsxs(B,{variant:"ghost",className:"gap-2 px-2 hover:bg-primary/5",children:[s.jsxs(dN,{className:"h-8 w-8",children:[s.jsx(uN,{src:k||void 0,alt:N}),s.jsx(hN,{className:"bg-primary/10 text-primary text-sm",children:_})]}),s.jsx("span",{className:"text-sm font-medium max-w-[100px] truncate hidden lg:inline",children:N}),s.jsx(qr,{className:"w-4 h-4 text-muted-foreground"})]})}),s.jsxs(ew,{align:"end",className:"w-48",children:[s.jsxs("div",{className:"px-2 py-1.5",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:N}),(i==null?void 0:i.email)&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:i.email})]}),s.jsx(Gh,{}),s.jsx(pp,{asChild:!0,children:s.jsxs(ye,{to:"/dashboard",className:"cursor-pointer",children:[s.jsx(Gv,{className:"w-4 h-4 mr-2"}),""]})}),s.jsx(pp,{asChild:!0,children:s.jsxs(ye,{to:"/dashboard/settings",className:"cursor-pointer",children:[s.jsx(Mu,{className:"w-4 h-4 mr-2"}),""]})}),s.jsx(Gh,{}),s.jsxs(pp,{onClick:b,className:"cursor-pointer text-destructive focus:text-destructive",children:[s.jsx(NS,{className:"w-4 h-4 mr-2"}),""]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:S,children:""}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(B,{variant:"hero",size:"sm",onClick:j,children:""}),s.jsx("span",{className:"text-xs text-primary mt-1",children:"  50 "})]})]})}),s.jsx("button",{className:"md:hidden p-2",onClick:()=>t(!e),children:e?s.jsx(nr,{className:"w-6 h-6 text-foreground"}):s.jsx(h_,{className:"w-6 h-6 text-foreground"})})]})}),s.jsx(He,{children:e&&s.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden glass-strong border-t border-border",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 space-y-4",children:[_7.map(T=>s.jsx(ye,{to:T.href,onClick:()=>t(!1),className:`block py-2 text-sm font-medium transition-colors hover:text-primary ${p.pathname===T.href?"text-primary":"text-muted-foreground"}`,children:T.label},T.href)),s.jsx("div",{className:"pt-4 border-t border-border flex flex-col gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3 px-2 py-2",children:[s.jsxs(dN,{className:"h-10 w-10",children:[s.jsx(uN,{src:k||void 0,alt:N}),s.jsx(hN,{className:"bg-primary/10 text-primary",children:_})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:N}),(i==null?void 0:i.email)&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:i.email})]})]}),s.jsx(ye,{to:"/dashboard",onClick:()=>t(!1),children:s.jsxs(B,{variant:"outline",className:"w-full gap-2 border-primary/30",children:[s.jsx(Gv,{className:"w-4 h-4"}),""]})}),s.jsxs(B,{variant:"ghost",className:"w-full gap-2 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>{b(),t(!1)},children:[s.jsx(NS,{className:"w-4 h-4"}),""]})]}):s.jsxs(s.Fragment,{children:[s.jsx(B,{variant:"ghost",className:"w-full",onClick:S,children:""}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(B,{variant:"hero",className:"w-full",onClick:j,children:""}),s.jsx("span",{className:"text-xs text-primary mt-1",children:"  50 "})]})]})})]})})})]}),s.jsx(Coe,{isOpen:c,onClose:()=>d(!1),onSuccess:w,defaultTab:m}),o&&s.jsx(Eoe,{isOpen:u,onClose:()=>h(!1),userId:o})]})},Xqe=()=>s.jsx("footer",{className:"bg-card border-t border-border",role:"contentinfo","aria-label":"",children:s.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-16",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ye,{to:"/",className:"flex items-center gap-2","aria-label":"SEOBAIKE ",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-xl",children:"S"})}),s.jsx("span",{className:"text-xl font-bold text-foreground",children:"SEOBAIKE"})]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"AI  SEO 30  Lighthouse 90 "}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(ya,{className:"w-3 h-3","aria-hidden":"true"}),s.jsx("span",{children:""})]})]}),s.jsxs("nav",{"aria-label":"",children:[s.jsx("h2",{className:"font-semibold text-foreground mb-4 text-base",children:""}),s.jsx("ul",{className:"space-y-2",children:[{href:"/",label:"SEOBAIKE "},{href:"/services",label:""},{href:"/pricing",label:""},{href:"/cases",label:"SEO "},{href:"/blog",label:"SEO "},{href:"/faq",label:""},{href:"/contact",label:""}].map(e=>s.jsx("li",{children:s.jsx(ye,{to:e.href,className:"text-muted-foreground text-sm hover:text-primary transition-colors",children:e.label})},e.href))})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold text-foreground mb-4 text-base",children:"SEO "}),s.jsxs("ul",{className:"space-y-2 text-muted-foreground text-sm",children:[s.jsx("li",{children:s.jsx(ye,{to:"/builder",className:"hover:text-primary transition-colors",children:"SEO 90 "})}),s.jsx("li",{children:s.jsx(ye,{to:"/merchant/seo",className:"hover:text-primary transition-colors",children:""})}),s.jsx("li",{children:s.jsx(ye,{to:"/merchant/youtube",className:"hover:text-primary transition-colors",children:"AI  SEO "})}),s.jsx("li",{children:s.jsx(ye,{to:"/tools",className:"hover:text-primary transition-colors",children:"SEO "})}),s.jsx("li",{children:s.jsx(ye,{to:"/merchant/ads",className:"hover:text-primary transition-colors",children:""})}),s.jsx("li",{children:s.jsx(ye,{to:"/merchant/gmb",className:"hover:text-primary transition-colors",children:"Google "})})]})]}),s.jsxs("address",{className:"not-italic",children:[s.jsx("h2",{className:"font-semibold text-foreground mb-4 text-base",children:""}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[s.jsx(Ri,{className:"w-4 h-4 text-primary flex-shrink-0","aria-hidden":"true"}),s.jsx("a",{href:"mailto:seobaike@aiforseo.vip",className:"hover:text-primary transition-colors",children:"seobaike@aiforseo.vip"})]}),s.jsxs("li",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[s.jsx(ha,{className:"w-4 h-4 text-primary flex-shrink-0","aria-hidden":"true"}),s.jsx("a",{href:"https://line.me/R/ti/p/@729zaaaq",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors",children:"LINE: @729zaaaq"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[s.jsx(xu,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0","aria-hidden":"true"}),s.jsx("span",{children:"67"})]})]})]})]}),s.jsx("div",{className:"mt-12 pt-8 border-t border-border",children:s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-6",children:[s.jsxs("div",{className:"text-center lg:text-left space-y-1",children:[s.jsx("p",{className:"text-muted-foreground text-sm",children:" 2025-2026  | 60475510 | 115100981"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"67 | Emailseobaike@aiforseo.vip"})]}),s.jsxs("nav",{className:"flex items-center gap-6","aria-label":"",children:[s.jsx(ye,{to:"/privacy",className:"text-muted-foreground text-sm hover:text-primary transition-colors",children:""}),s.jsx(ye,{to:"/terms",className:"text-muted-foreground text-sm hover:text-primary transition-colors",children:""}),s.jsx(ye,{to:"/login",className:"text-muted-foreground text-sm hover:text-primary transition-colors",children:""})]})]})})]})}),Ho=({children:e,hideFooter:t=!1})=>s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsx(zoe,{}),s.jsx("main",{className:"flex-1 pt-16 md:pt-20",children:e}),!t&&s.jsx(Xqe,{})]});function iC(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Jqe=[" ","Enter","ArrowUp","ArrowDown"],Qqe=[" ","Enter"],pm="Select",[aC,oC,Zqe]=Db(pm),[gx,s_t]=Ar(pm,[Zqe,ax]),lC=ax(),[eWe,zu]=gx(pm),[tWe,nWe]=gx(pm),Voe=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:f,form:p}=e,g=lC(t),[y,v]=x.useState(null),[b,w]=x.useState(null),[S,j]=x.useState(!1),N=Rm(d),[k,_]=ua({prop:r,defaultProp:i??!1,onChange:a,caller:pm}),[C,T]=ua({prop:o,defaultProp:l,onChange:c,caller:pm}),A=x.useRef(null),P=y?p||!!y.closest("form"):!0,[R,D]=x.useState(new Set),$=Array.from(R).map(M=>M.props.value).join(";");return s.jsx(WZ,{...g,children:s.jsxs(eWe,{required:f,scope:t,trigger:y,onTriggerChange:v,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:za(),value:C,onValueChange:T,open:k,onOpenChange:_,dir:N,triggerPointerDownPosRef:A,disabled:m,children:[s.jsx(aC.Provider,{scope:t,children:s.jsx(tWe,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(M=>{D(F=>new Set(F).add(M))},[]),onNativeOptionRemove:x.useCallback(M=>{D(F=>{const O=new Set(F);return O.delete(M),O})},[]),children:n})}),P?s.jsxs(mle,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:C,onChange:M=>T(M.target.value),disabled:m,form:p,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},$):null]})})};Voe.displayName=pm;var qoe="SelectTrigger",Woe=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=lC(n),o=zu(qoe,n),l=o.disabled||r,c=ft(t,o.onTriggerChange),d=oC(n),u=x.useRef("touch"),[h,m,f]=ple(g=>{const y=d().filter(w=>!w.disabled),v=y.find(w=>w.value===o.value),b=gle(y,g,v);b!==void 0&&o.onValueChange(b.value)}),p=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx($M,{asChild:!0,...a,children:s.jsx(De.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":fle(o.value)?"":void 0,...i,ref:c,onClick:ve(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&p(g)}),onPointerDown:ve(i.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:ve(i.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(y&&g.key===" ")&&Jqe.includes(g.key)&&(p(),g.preventDefault())})})})});Woe.displayName=qoe;var Hoe="SelectValue",Koe=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=e,c=zu(Hoe,n),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=ft(t,c.onValueNodeChange);return Nr(()=>{d(u)},[d,u]),s.jsx(De.span,{...l,ref:h,style:{pointerEvents:"none"},children:fle(c.value)?s.jsx(s.Fragment,{children:o}):a})});Koe.displayName=Hoe;var rWe="SelectIcon",Goe=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx(De.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});Goe.displayName=rWe;var sWe="SelectPortal",Yoe=e=>s.jsx(Lb,{asChild:!0,...e});Yoe.displayName=sWe;var gm="SelectContent",Xoe=x.forwardRef((e,t)=>{const n=zu(gm,e.__scopeSelect),[r,i]=x.useState();if(Nr(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Cm.createPortal(s.jsx(Joe,{scope:e.__scopeSelect,children:s.jsx(aC.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(Qoe,{...e,ref:t})});Xoe.displayName=gm;var fo=10,[Joe,Vu]=gx(gm),iWe="SelectContentImpl",aWe=om("SelectContent.RemoveScroll"),Qoe=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:y,...v}=e,b=zu(gm,n),[w,S]=x.useState(null),[j,N]=x.useState(null),k=ft(t,oe=>S(oe)),[_,C]=x.useState(null),[T,A]=x.useState(null),P=oC(n),[R,D]=x.useState(!1),$=x.useRef(!1);x.useEffect(()=>{if(w)return pD(w)},[w]),fD();const M=x.useCallback(oe=>{const[Ne,...K]=P().map(Q=>Q.ref.current),[he]=K.slice(-1),re=document.activeElement;for(const Q of oe)if(Q===re||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===Ne&&j&&(j.scrollTop=0),Q===he&&j&&(j.scrollTop=j.scrollHeight),Q==null||Q.focus(),document.activeElement!==re))return},[P,j]),F=x.useCallback(()=>M([_,w]),[M,_,w]);x.useEffect(()=>{R&&F()},[R,F]);const{onOpenChange:O,triggerPointerDownPosRef:L}=b;x.useEffect(()=>{if(w){let oe={x:0,y:0};const Ne=he=>{var re,Q;oe={x:Math.abs(Math.round(he.pageX)-(((re=L.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(he.pageY)-(((Q=L.current)==null?void 0:Q.y)??0))}},K=he=>{oe.x<=10&&oe.y<=10?he.preventDefault():w.contains(he.target)||O(!1),document.removeEventListener("pointermove",Ne),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",K,{capture:!0})}}},[w,O,L]),x.useEffect(()=>{const oe=()=>O(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[O]);const[I,z]=ple(oe=>{const Ne=P().filter(re=>!re.disabled),K=Ne.find(re=>re.ref.current===document.activeElement),he=gle(Ne,oe,K);he&&setTimeout(()=>he.ref.current.focus())}),H=x.useCallback((oe,Ne,K)=>{const he=!$.current&&!K;(b.value!==void 0&&b.value===Ne||he)&&(C(oe),he&&($.current=!0))},[b.value]),U=x.useCallback(()=>w==null?void 0:w.focus(),[w]),X=x.useCallback((oe,Ne,K)=>{const he=!$.current&&!K;(b.value!==void 0&&b.value===Ne||he)&&A(oe)},[b.value]),le=r==="popper"?LO:Zoe,de=le===LO?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:y}:{};return s.jsx(Joe,{scope:n,content:w,viewport:j,onViewportChange:N,itemRefCallback:H,selectedItem:_,onItemLeave:U,itemTextRefCallback:X,focusSelectedItem:F,selectedItemText:T,position:r,isPositioned:R,searchRef:I,children:s.jsx(W_,{as:aWe,allowPinchZoom:!0,children:s.jsx(V_,{asChild:!0,trapped:b.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:ve(i,oe=>{var Ne;(Ne=b.trigger)==null||Ne.focus({preventScroll:!0}),oe.preventDefault()}),children:s.jsx(ex,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(le,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:oe=>oe.preventDefault(),...v,...de,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ve(v.onKeyDown,oe=>{const Ne=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!Ne&&oe.key.length===1&&z(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let he=P().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const re=oe.target,Q=he.indexOf(re);he=he.slice(Q+1)}setTimeout(()=>M(he)),oe.preventDefault()}})})})})})})});Qoe.displayName=iWe;var oWe="SelectItemAlignedPosition",Zoe=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=zu(gm,n),o=Vu(gm,n),[l,c]=x.useState(null),[d,u]=x.useState(null),h=ft(t,k=>u(k)),m=oC(n),f=x.useRef(!1),p=x.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:b}=o,w=x.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&g&&y&&v){const k=a.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(a.dir!=="rtl"){const re=T.left-_.left,Q=C.left-re,ge=k.left-Q,Oe=k.width+ge,ut=Math.max(Oe,_.width),nt=window.innerWidth-fo,ne=bO(Q,[fo,Math.max(fo,nt-ut)]);l.style.minWidth=Oe+"px",l.style.left=ne+"px"}else{const re=_.right-T.right,Q=window.innerWidth-C.right-re,ge=window.innerWidth-k.right-Q,Oe=k.width+ge,ut=Math.max(Oe,_.width),nt=window.innerWidth-fo,ne=bO(Q,[fo,Math.max(fo,nt-ut)]);l.style.minWidth=Oe+"px",l.style.right=ne+"px"}const A=m(),P=window.innerHeight-fo*2,R=g.scrollHeight,D=window.getComputedStyle(d),$=parseInt(D.borderTopWidth,10),M=parseInt(D.paddingTop,10),F=parseInt(D.borderBottomWidth,10),O=parseInt(D.paddingBottom,10),L=$+M+R+O+F,I=Math.min(y.offsetHeight*5,L),z=window.getComputedStyle(g),H=parseInt(z.paddingTop,10),U=parseInt(z.paddingBottom,10),X=k.top+k.height/2-fo,le=P-X,de=y.offsetHeight/2,oe=y.offsetTop+de,Ne=$+M+oe,K=L-Ne;if(Ne<=X){const re=A.length>0&&y===A[A.length-1].ref.current;l.style.bottom="0px";const Q=d.clientHeight-g.offsetTop-g.offsetHeight,ge=Math.max(le,de+(re?U:0)+Q+F),Oe=Ne+ge;l.style.height=Oe+"px"}else{const re=A.length>0&&y===A[0].ref.current;l.style.top="0px";const ge=Math.max(X,$+g.offsetTop+(re?H:0)+de)+K;l.style.height=ge+"px",g.scrollTop=Ne-X+g.offsetTop}l.style.margin=`${fo}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[m,a.trigger,a.valueNode,l,d,g,y,v,a.dir,r]);Nr(()=>w(),[w]);const[S,j]=x.useState();Nr(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const N=x.useCallback(k=>{k&&p.current===!0&&(w(),b==null||b(),p.current=!1)},[w,b]);return s.jsx(cWe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(De.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Zoe.displayName=oWe;var lWe="SelectPopperPosition",LO=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=fo,...a}=e,o=lC(n);return s.jsx(FM,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});LO.displayName=lWe;var[cWe,JD]=gx(gm,{}),$O="SelectViewport",ele=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Vu($O,n),o=JD($O,n),l=ft(t,a.onViewportChange),c=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(aC.Slot,{scope:n,children:s.jsx(De.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ve(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const f=Math.abs(c.current-u.scrollTop);if(f>0){const p=window.innerHeight-fo*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),v=Math.max(g,y);if(v<p){const b=v+f,w=Math.min(p,b),S=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});ele.displayName=$O;var tle="SelectGroup",[dWe,uWe]=gx(tle),hWe=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=za();return s.jsx(dWe,{scope:n,id:i,children:s.jsx(De.div,{role:"group","aria-labelledby":i,...r,ref:t})})});hWe.displayName=tle;var nle="SelectLabel",rle=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=uWe(nle,n);return s.jsx(De.div,{id:i.id,...r,ref:t})});rle.displayName=nle;var mN="SelectItem",[mWe,sle]=gx(mN),ile=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,l=zu(mN,n),c=Vu(mN,n),d=l.value===r,[u,h]=x.useState(a??""),[m,f]=x.useState(!1),p=ft(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,r,i)}),g=za(),y=x.useRef("touch"),v=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(mWe,{scope:n,value:r,disabled:i,textId:g,isSelected:d,onItemTextChange:x.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(aC.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:s.jsx(De.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:p,onFocus:ve(o.onFocus,()=>f(!0)),onBlur:ve(o.onBlur,()=>f(!1)),onClick:ve(o.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:ve(o.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:ve(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:ve(o.onPointerMove,b=>{var w;y.current=b.pointerType,i?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ve(o.onKeyDown,b=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(Qqe.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});ile.displayName=mN;var My="SelectItemText",ale=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=zu(My,n),l=Vu(My,n),c=sle(My,n),d=nWe(My,n),[u,h]=x.useState(null),m=ft(t,v=>h(v),c.onItemTextChange,v=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,v,c.value,c.disabled)}),f=u==null?void 0:u.textContent,p=x.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return Nr(()=>(g(p),()=>y(p)),[g,y,p]),s.jsxs(s.Fragment,{children:[s.jsx(De.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Cm.createPortal(a.children,o.valueNode):null]})});ale.displayName=My;var ole="SelectItemIndicator",lle=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return sle(ole,n).isSelected?s.jsx(De.span,{"aria-hidden":!0,...r,ref:t}):null});lle.displayName=ole;var FO="SelectScrollUpButton",cle=x.forwardRef((e,t)=>{const n=Vu(FO,e.__scopeSelect),r=JD(FO,e.__scopeSelect),[i,a]=x.useState(!1),o=ft(t,r.onScrollButtonChange);return Nr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(ule,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});cle.displayName=FO;var BO="SelectScrollDownButton",dle=x.forwardRef((e,t)=>{const n=Vu(BO,e.__scopeSelect),r=JD(BO,e.__scopeSelect),[i,a]=x.useState(!1),o=ft(t,r.onScrollButtonChange);return Nr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(ule,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});dle.displayName=BO;var ule=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Vu("SelectScrollButton",n),o=x.useRef(null),l=oC(n),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Nr(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(De.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ve(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ve(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ve(i.onPointerLeave,()=>{c()})})}),fWe="SelectSeparator",hle=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(De.div,{"aria-hidden":!0,...r,ref:t})});hle.displayName=fWe;var UO="SelectArrow",pWe=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=lC(n),a=zu(UO,n),o=Vu(UO,n);return a.open&&o.position==="popper"?s.jsx(BM,{...i,...r,ref:t}):null});pWe.displayName=UO;var gWe="SelectBubbleInput",mle=x.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=x.useRef(null),a=ft(r,i),o=iC(t);return x.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(De.select,{...n,style:{...IQ,...n.style},ref:a,defaultValue:t})});mle.displayName=gWe;function fle(e){return e===""||e===void 0}function ple(e){const t=ar(e),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function gle(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=xWe(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function xWe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var yWe=Voe,xle=Woe,vWe=Koe,bWe=Goe,wWe=Yoe,yle=Xoe,jWe=ele,vle=rle,ble=ile,SWe=ale,NWe=lle,wle=cle,jle=dle,Sle=hle;const Al=yWe,Pl=vWe,Vo=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(xle,{ref:r,className:G("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(bWe,{asChild:!0,children:s.jsx(qr,{className:"h-4 w-4 opacity-50"})})]}));Vo.displayName=xle.displayName;const Nle=x.forwardRef(({className:e,...t},n)=>s.jsx(wle,{ref:n,className:G("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(l_,{className:"h-4 w-4"})}));Nle.displayName=wle.displayName;const kle=x.forwardRef(({className:e,...t},n)=>s.jsx(jle,{ref:n,className:G("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(qr,{className:"h-4 w-4"})}));kle.displayName=jle.displayName;const qo=x.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(wWe,{children:s.jsxs(yle,{ref:i,className:G("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(Nle,{}),s.jsx(jWe,{className:G("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(kle,{})]})}));qo.displayName=yle.displayName;const kWe=x.forwardRef(({className:e,...t},n)=>s.jsx(vle,{ref:n,className:G("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));kWe.displayName=vle.displayName;const Zr=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(ble,{ref:r,className:G("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(NWe,{children:s.jsx(We,{className:"h-4 w-4"})})}),s.jsx(SWe,{children:t})]}));Zr.displayName=ble.displayName;const _We=x.forwardRef(({className:e,...t},n)=>s.jsx(Sle,{ref:n,className:G("-mx-1 my-1 h-px bg-muted",e),...t}));_We.displayName=Sle.displayName;const C7=e=>{let t;const n=new Set,r=(d,u)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=u??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(f=>f(t,m))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=t=e(r,i,l);return l},CWe=e=>e?C7(e):C7,EWe=e=>e;function TWe(e,t=EWe){const n=V.useSyncExternalStore(e.subscribe,V.useCallback(()=>t(e.getState()),[e,t]),V.useCallback(()=>t(e.getInitialState()),[e,t]));return V.useDebugValue(n),n}const E7=e=>{const t=CWe(e),n=r=>TWe(t,r);return Object.assign(n,t),n},_le=e=>e?E7(e):E7,T7={companyNameCn:"",companyNameEn:"",brandSlogan:"",industry:"",contactName:"",phone:"",lineId:"",email:"",address:"",coreAdvantages:"",mainServices:"",targetKeywords:""},sw=_le(e=>({currentStep:1,formData:T7,isPreviewGenerated:!1,generatedWebsite:null,isGenerating:!1,showPaymentModal:!1,setCurrentStep:t=>e({currentStep:t}),updateFormData:t=>e(n=>({formData:{...n.formData,...t}})),setPreviewGenerated:t=>e({isPreviewGenerated:t}),setGeneratedWebsite:t=>e({generatedWebsite:t}),setIsGenerating:t=>e({isGenerating:t}),setShowPaymentModal:t=>e({showPaymentModal:t}),resetForm:()=>e({currentStep:1,formData:T7,isPreviewGenerated:!1,generatedWebsite:null,isGenerating:!1,showPaymentModal:!1})})),A7=[{id:1,title:""},{id:2,title:""},{id:3,title:""},{id:4,title:""}],AWe=["SEO ","","","","","",""],PWe=()=>{const{currentStep:e,setCurrentStep:t,formData:n,updateFormData:r,isPreviewGenerated:i,setPreviewGenerated:a}=sw(),[o,l]=x.useState(!1);yn({title:"AI  - SEOBAIKE ",description:" AI  30  SEO Lighthouse 90+ ",keywords:"AI,,,SEO,SEOBAIKE",canonical:"https://seobaike.com/builder",ogType:"website",schema:[In([{name:"",url:"https://seobaike.com/"},{name:"AI ",url:"https://seobaike.com/builder"}])]});const c=()=>{e<4&&t(e+1)},d=()=>{e>1&&t(e-1)},u=()=>{l(!0),setTimeout(()=>{l(!1),a(!0)},2e3)},h=n.companyNameCn&&n.companyNameEn&&n.brandSlogan&&n.industry,m=n.contactName&&n.phone&&n.email,f=n.coreAdvantages&&n.mainServices&&n.targetKeywords,p=()=>{switch(e){case 1:return h;case 2:return m;case 3:return f;default:return!0}};return s.jsx(Ho,{hideFooter:!0,children:s.jsx("div",{className:"min-h-screen bg-background py-8 md:py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[s.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:["AI ",s.jsx("span",{className:"text-gradient",children:""})]}),s.jsx("p",{className:"text-muted-foreground",children:"30 "})]}),s.jsx("div",{className:"max-w-3xl mx-auto mb-12",children:s.jsx("div",{className:"flex items-center justify-between",children:A7.map((g,y)=>s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-all ${e>g.id?"bg-primary text-primary-foreground":e===g.id?"bg-primary text-primary-foreground glow-primary-subtle":"bg-muted text-muted-foreground"}`,children:e>g.id?s.jsx(We,{className:"w-5 h-5"}):g.id}),s.jsx("span",{className:`mt-2 text-xs md:text-sm ${e>=g.id?"text-foreground":"text-muted-foreground"}`,children:g.title})]}),y<A7.length-1&&s.jsx("div",{className:`flex-1 h-0.5 mx-2 md:mx-4 ${e>g.id?"bg-primary":"bg-muted"}`})]},g.id))})}),s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs(He,{mode:"wait",children:[e===1&&s.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"glass rounded-2xl p-6 md:p-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:""}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"companyNameCn",children:"*"}),s.jsx(xe,{id:"companyNameCn",placeholder:"",value:n.companyNameCn,onChange:g=>r({companyNameCn:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"companyNameEn",children:"*"}),s.jsx(xe,{id:"companyNameEn",placeholder:"Awesome Tech",value:n.companyNameEn,onChange:g=>r({companyNameEn:g.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"brandSlogan",children:" *"}),s.jsx(xe,{id:"brandSlogan",placeholder:"",value:n.brandSlogan,onChange:g=>r({brandSlogan:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:" *"}),s.jsxs(Al,{value:n.industry,onValueChange:g=>r({industry:g}),children:[s.jsx(Vo,{children:s.jsx(Pl,{placeholder:""})}),s.jsx(qo,{children:AWe.map(g=>s.jsx(Zr,{value:g,children:g},g))})]})]})]})]},"step1"),e===2&&s.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"glass rounded-2xl p-6 md:p-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:""}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"contactName",children:" *"}),s.jsx(xe,{id:"contactName",placeholder:"",value:n.contactName,onChange:g=>r({contactName:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"phone",children:" *"}),s.jsx(xe,{id:"phone",placeholder:"0912-345-678",value:n.phone,onChange:g=>r({phone:g.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"lineId",children:"LINE ID"}),s.jsx(xe,{id:"lineId",placeholder:"",value:n.lineId,onChange:g=>r({lineId:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"email",children:"Email *"}),s.jsx(xe,{id:"email",type:"email",placeholder:"your@email.com",value:n.email,onChange:g=>r({email:g.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"address",children:""}),s.jsx(xe,{id:"address",placeholder:"",value:n.address,onChange:g=>r({address:g.target.value})})]})]})]},"step2"),e===3&&s.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"glass rounded-2xl p-6 md:p-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:""}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"coreAdvantages",children:"3-5 *"}),s.jsx(Yn,{id:"coreAdvantages",placeholder:`
10 
100% 
24 `,rows:4,value:n.coreAdvantages,onChange:g=>r({coreAdvantages:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"mainServices",children:"3-8 *"}),s.jsx(Yn,{id:"mainServices",placeholder:`
SEO 


`,rows:4,value:n.mainServices,onChange:g=>r({mainServices:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"targetKeywords",children:"5-10 *"}),s.jsx(Yn,{id:"targetKeywords",placeholder:`
 SEO 

`,rows:4,value:n.targetKeywords,onChange:g=>r({targetKeywords:g.target.value})})]})]})]},"step3"),e===4&&!i&&s.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"glass rounded-2xl p-6 md:p-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:""}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"text-foreground ml-2",children:n.companyNameCn})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"text-foreground ml-2",children:n.companyNameEn})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"text-foreground ml-2",children:n.brandSlogan})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"text-foreground ml-2",children:n.industry})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"text-foreground ml-2",children:n.contactName})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"text-foreground ml-2",children:n.phone})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email"}),s.jsx("span",{className:"text-foreground ml-2",children:n.email})]})]}),s.jsxs("div",{className:"border-t border-border pt-4 mt-4",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:""}),s.jsx("p",{className:"text-foreground text-sm mt-1 whitespace-pre-line",children:n.coreAdvantages})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:""}),s.jsx("p",{className:"text-foreground text-sm mt-1 whitespace-pre-line",children:n.mainServices})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:""}),s.jsx("p",{className:"text-foreground text-sm mt-1 whitespace-pre-line",children:n.targetKeywords})]})]})]})]},"step4"),e===4&&i&&s.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"glass rounded-2xl p-8 md:p-12 text-center",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"w-20 h-20 mx-auto bg-primary/20 rounded-full flex items-center justify-center mb-6",children:s.jsx(jM,{className:"w-10 h-10 text-primary"})}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground mb-4",children:" "}),s.jsxs("p",{className:"text-muted-foreground mb-8",children:[" ",s.jsx("span",{className:"text-primary font-semibold",children:n.companyNameCn})," "]}),s.jsxs("div",{className:"glass rounded-xl p-6 mb-8 max-w-md mx-auto",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:" 7 "}),s.jsx("div",{className:"text-3xl font-bold text-gradient mb-4",children:"NT$8,888"}),s.jsx(ye,{to:"/checkout",children:s.jsx(B,{variant:"glow",size:"lg",className:"w-full",children:""})})]}),s.jsx(B,{variant:"heroOutline",size:"lg",children:""})]},"generated")]}),!(e===4&&i)&&s.jsxs("div",{className:"flex justify-between mt-8",children:[s.jsxs(B,{variant:"ghost",onClick:d,disabled:e===1,className:"gap-2",children:[s.jsx(ks,{className:"w-4 h-4"}),""]}),e<4?s.jsxs(B,{variant:"hero",onClick:c,disabled:!p(),className:"gap-2",children:["",s.jsx(mt,{className:"w-4 h-4"})]}):s.jsx(B,{variant:"glow",onClick:u,disabled:o,className:"gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:s.jsx(Ye,{className:"w-4 h-4"})}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-4 h-4"}),""]})})]})]})]})})})},IWe=[{href:"/home",label:"Home",icon:tx},{href:"/search",label:"Search",icon:fn}],OWe=[{href:"/projects?filter=recent",label:"Recent",icon:$P},{href:"/projects",label:"All projects",icon:$P},{href:"/projects?filter=starred",label:"Starred",icon:Js}],RWe=[{href:"/templates?discover=true",label:"Discover",icon:M_e},{href:"/templates",label:"Templates",icon:W_e},{href:"/learn",label:"Learn",icon:Jp}],MWe=[{href:"/tools",label:"",icon:Sl},{href:"/topup",label:"",icon:cr},{href:"/dashboard",label:"Dashboard",icon:Gv},{href:"/dashboard/notifications",label:"",icon:Da}],fN=({isOpen:e,onToggle:t})=>{var m;const n=fs(),{user:r,signOut:i}=Jt(),{profile:a}=zc(),[o,l]=x.useState(!1),c=(a==null?void 0:a.name)||((m=r==null?void 0:r.email)==null?void 0:m.split("@")[0])||"",d=f=>f.includes("?")?n.pathname+n.search===f:n.pathname===f,u=({href:f,label:p,icon:g})=>s.jsxs(ye,{to:f,className:G("flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-all duration-200","hover:bg-primary/10",d(f)?"bg-primary/10 text-primary font-medium relative before:absolute before:left-0 before:top-1/2 before:-translate-y-1/2 before:w-1 before:h-6 before:bg-primary before:rounded-r-full":"text-muted-foreground hover:text-foreground"),children:[s.jsx(g,{className:"w-4 h-4"}),s.jsx("span",{children:p})]}),h=({children:f})=>s.jsx("div",{className:"px-3 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider",children:f});return s.jsxs(s.Fragment,{children:[s.jsx(He,{children:e&&s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:t})}),s.jsxs(E.aside,{initial:!1,animate:{x:e?0:-280},transition:{type:"spring",stiffness:300,damping:30},className:G("fixed left-0 top-0 h-screen w-[280px] bg-sidebar border-r border-sidebar-border z-50","flex flex-col shadow-xl","lg:translate-x-0 lg:z-30"),children:[s.jsx("div",{className:"p-4 border-b border-sidebar-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ye,{to:"/",className:"flex items-center gap-2 group",children:[s.jsx(E.div,{whileHover:{scale:1.05},className:"w-8 h-8 rounded-lg bg-seobaike-gradient flex items-center justify-center shadow-md",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"S"})}),s.jsxs("span",{className:"text-lg font-bold text-foreground",children:["SEO",s.jsx("span",{className:"text-gradient",children:""})]})]}),s.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-lg hover:bg-accent transition-colors",children:s.jsx(nr,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"p-4 border-b border-sidebar-border",children:[s.jsxs(E.button,{onClick:()=>l(!o),whileHover:{backgroundColor:"hsl(var(--accent))"},className:"w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-seobaike-gradient flex items-center justify-center shadow-sm",children:s.jsx("span",{className:"text-white text-sm font-medium",children:c.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate max-w-[140px]",children:c}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate max-w-[140px]",children:[(a==null?void 0:a.points)||0," "]})]})]}),s.jsx(E.div,{animate:{rotate:o?180:0},transition:{duration:.2},children:s.jsx(qr,{className:"w-4 h-4 text-muted-foreground"})})]}),s.jsx(He,{children:o&&s.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsxs("div",{className:"pt-2 space-y-1",children:[s.jsxs(ye,{to:"/dashboard/settings",className:"flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:[s.jsx(fa,{className:"w-4 h-4"}),""]}),s.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:[s.jsx(NS,{className:"w-4 h-4"}),""]})]})})})]}),s.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[s.jsx("div",{className:"space-y-1",children:IWe.map(f=>s.jsx(u,{...f},f.href))}),s.jsxs("div",{children:[s.jsx(h,{children:"Projects"}),s.jsx("div",{className:"space-y-1",children:OWe.map(f=>s.jsx(u,{...f},f.href))})]}),s.jsxs("div",{children:[s.jsx(h,{children:"Resources"}),s.jsx("div",{className:"space-y-1",children:RWe.map(f=>s.jsx(u,{...f},f.href))})]}),s.jsxs("div",{children:[s.jsx(h,{children:""}),s.jsx("div",{className:"space-y-1",children:MWe.map(f=>s.jsx(u,{...f},f.href))})]})]}),s.jsxs("div",{className:"p-4 border-t border-sidebar-border space-y-2",children:[s.jsx(ye,{to:"/pricing",children:s.jsx(E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(B,{variant:"outline",size:"sm",className:"w-full justify-start gap-2 border-primary/30 text-primary hover:bg-primary/10 transition-all",children:[s.jsx(cn,{className:"w-4 h-4"}),"Upgrade to Pro"]})})}),s.jsx(ye,{to:"/dashboard/settings",children:s.jsxs(B,{variant:"ghost",size:"sm",className:"w-full justify-start gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[s.jsx(fa,{className:"w-4 h-4"}),""]})})]})]}),s.jsx(E.button,{onClick:t,initial:{opacity:0},animate:{opacity:e?0:1},className:G("fixed top-4 left-4 z-40 p-2.5 rounded-xl bg-white shadow-lg border border-border lg:hidden","hover:shadow-xl transition-shadow",e&&"pointer-events-none"),children:s.jsx(h_,{className:"w-5 h-5 text-foreground"})})]})},DWe=[{id:"default",name:"Default",colors:["#667eea","#764ba2","#f093fb"]},{id:"glacier",name:"Glacier",colors:["#3b82f6","#6366f1","#8b5cf6"]},{id:"harvest",name:"Harvest",colors:["#f97316","#ea580c","#dc2626"]},{id:"lavender",name:"Lavender",colors:["#8b5cf6","#a78bfa","#c4b5fd"]},{id:"brutalist",name:"Brutalist",colors:["#1f2937","#374151","#6b7280"]},{id:"obsidian",name:"Obsidian",colors:["#18181b","#27272a","#3f3f46"]},{id:"orchid",name:"Orchid",colors:["#ec4899","#f472b6","#f9a8d4"]},{id:"solar",name:"Solar",colors:["#f59e0b","#fbbf24","#fcd34d"]}],LWe=({selectedTheme:e="default",onThemeChange:t})=>{const[n,r]=x.useState(!1),[i,a]=x.useState(""),o=DWe.filter(c=>c.name.toLowerCase().includes(i.toLowerCase())),l=c=>{t==null||t(c),r(!1)};return s.jsxs("div",{className:"relative",children:[s.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>r(!n),className:G("gap-1.5 text-gray-500 hover:text-primary hover:bg-primary/10 transition-all",n&&"text-primary bg-primary/10"),children:[s.jsx(Ac,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Theme"}),s.jsx(qr,{className:G("w-3 h-3 transition-transform duration-200",n&&"rotate-180")})]})}),s.jsx(He,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>r(!1)}),s.jsxs(E.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15,ease:"easeOut"},className:G("absolute bottom-full left-0 mb-2 z-50","w-64 bg-white rounded-xl shadow-2xl","border border-gray-200/80","overflow-hidden"),children:[s.jsx("div",{className:"p-3 border-b border-gray-100",children:s.jsxs("div",{className:"relative",children:[s.jsx(fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search themes...",value:i,onChange:c=>a(c.target.value),className:G("w-full pl-9 pr-3 py-2 text-sm","bg-gray-50 rounded-lg","border border-transparent","focus:outline-none focus:border-primary/30 focus:bg-white","placeholder:text-gray-400 transition-all")})]})}),s.jsxs("div",{className:"max-h-[280px] overflow-y-auto",children:[s.jsx("div",{className:"px-3 py-2",children:s.jsx("span",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Default themes"})}),o.map(c=>s.jsxs(E.button,{onClick:()=>l(c.id),whileHover:{backgroundColor:"rgba(102, 126, 234, 0.08)"},className:G("w-full px-3 py-2.5 flex items-center justify-between","transition-colors cursor-pointer",e===c.id&&"bg-primary/10"),children:[s.jsx("span",{className:G("text-sm",e===c.id?"text-primary font-medium":"text-gray-700"),children:c.name}),s.jsx("div",{className:"flex items-center gap-0",children:c.colors.map((d,u)=>s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:d,marginLeft:u>0?"-4px":0,zIndex:3-u}},u))})]},c.id)),o.length===0&&s.jsx("div",{className:"px-3 py-4 text-center text-sm text-gray-400",children:""})]}),s.jsxs("div",{className:"border-t border-gray-100 p-2 flex items-center justify-between",children:[s.jsxs(B,{variant:"ghost",size:"sm",className:"gap-1.5 text-gray-600 hover:text-primary hover:bg-primary/10 text-sm",children:[s.jsx(lm,{className:"w-4 h-4"}),"Create new"]}),s.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-400 hover:text-gray-600",children:s.jsx(fa,{className:"w-4 h-4"})})]})]})]})})]})},k2=["","","","","","","",""],Dy=x.memo(({icon:e,label:t,onClick:n,className:r})=>s.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(B,{variant:"ghost",size:"sm",onClick:n,className:G("gap-1.5 text-gray-500 hover:text-primary hover:bg-primary/10 transition-all",r),children:[s.jsx(e,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:t})]})}));Dy.displayName="ActionButton";const Cle=x.memo(({onSubmit:e,isLoading:t})=>{const[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,l]=x.useState(!1),[c,d]=x.useState(100),u=x.useRef(!1),[h,m]=x.useState(""),f=x.useRef({placeholderIndex:0,isTyping:!0,timeoutId:null}),p=x.useCallback(()=>{d(N=>Math.max(0,N-3))},[]);x.useEffect(()=>{if(u.current)return;const k=setInterval(()=>{if(u.current)return;const _=f.current,C=k2[_.placeholderIndex];m(T=>u.current?T:_.isTyping?T.length<C.length?C.substring(0,T.length+1):(setTimeout(()=>{_.isTyping=!1},2e3),T):T.length>0?T.substring(0,T.length-1):(_.placeholderIndex=(_.placeholderIndex+1)%k2.length,_.isTyping=!0,""))},f.current.isTyping?80:40);return()=>clearInterval(k)},[]);const g=x.useCallback(()=>{n.trim()&&!t&&(e(n),r(""),u.current=!1)},[n,t,e]),y=x.useCallback(N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),g())},[g]),v=x.useCallback(()=>a(!0),[]),b=x.useCallback(()=>a(!1),[]),w=x.useCallback(N=>{const k=N.target.value;r(k),k.length>0?u.current=!0:u.current=!1},[]),S=x.useCallback(()=>l(N=>!N),[]),j=x.useCallback(()=>l(!1),[]);return s.jsxs(s.Fragment,{children:[s.jsxs(E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,ease:"easeOut"},whileHover:{scale:1.01},className:G("w-full max-w-3xl mx-auto","bg-white rounded-2xl","shadow-2xl shadow-black/10","border-2 transition-all duration-300",i?"border-primary/40 shadow-primary/20":"border-white/50 hover:border-primary/20"),style:{boxShadow:i?"0 25px 50px -12px rgba(102, 126, 234, 0.25), 0 0 0 3px rgba(102, 126, 234, 0.1)":"0 25px 50px -12px rgba(0, 0, 0, 0.15)"},children:[s.jsx("div",{className:"p-4 md:p-5",children:s.jsx("textarea",{value:n,onChange:w,onFocus:v,onBlur:b,onKeyDown:y,placeholder:h||k2[0],className:G("w-full min-h-[56px] max-h-[200px] resize-none","bg-transparent text-gray-900 placeholder:text-gray-400","focus:outline-none text-base md:text-lg","transition-all duration-300"),disabled:t})}),s.jsxs("div",{className:"flex items-center justify-between px-4 md:px-5 pb-4 md:pb-5",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Dy,{icon:lm,label:""}),s.jsx(Dy,{icon:wM,label:""}),s.jsx(LWe,{selectedTheme:"default",onThemeChange:N=>console.log("Selected theme:",N)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Dy,{icon:Vr,label:""}),s.jsx(Dy,{icon:bn,label:"",onClick:S}),s.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(B,{onClick:g,disabled:!n.trim()||t,className:G("gap-1.5 text-white transition-all duration-300","bg-lovable-gradient hover:opacity-90","shadow-lg hover:shadow-xl hover:shadow-primary/25","disabled:opacity-50 disabled:cursor-not-allowed"),children:[t?s.jsx(Ge,{className:"w-4 h-4 animate-spin"}):s.jsx(Bs,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:t?"SEOBAIKE ...":""})]})})]})]})]}),s.jsx(He,{children:o&&s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:j,children:s.jsxs(E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-2xl max-h-[85vh] mx-4 bg-[#0A0A0B] rounded-2xl border border-white/10 shadow-2xl overflow-hidden",onClick:N=>N.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center",children:s.jsx(bn,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:" SEO "}),s.jsx("p",{className:"text-xs text-white/50",children:" 10 "})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm text-cyan-400 font-mono",children:[": ",c," "]}),s.jsx(B,{variant:"ghost",size:"icon",onClick:j,className:"text-white/60 hover:text-white hover:bg-white/10",children:s.jsx(nr,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"h-[60vh] overflow-hidden",children:s.jsx(Noe,{pointsBalance:c,onDeductPoints:p,onAnalysisComplete:(N,k)=>{console.log("Analysis complete:",N,k)}})})]})})})]})});Cle.displayName="BuilderInput";var Ele="AlertDialog",[$We,i_t]=Ar(Ele,[Qae]),Vc=Qae(),Tle=e=>{const{__scopeAlertDialog:t,...n}=e,r=Vc(t);return s.jsx(foe,{...r,...n,modal:!0})};Tle.displayName=Ele;var FWe="AlertDialogTrigger",BWe=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Vc(n);return s.jsx(poe,{...i,...r,ref:t})});BWe.displayName=FWe;var UWe="AlertDialogPortal",Ale=e=>{const{__scopeAlertDialog:t,...n}=e,r=Vc(t);return s.jsx(goe,{...r,...n})};Ale.displayName=UWe;var zWe="AlertDialogOverlay",Ple=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Vc(n);return s.jsx(VD,{...i,...r,ref:t})});Ple.displayName=zWe;var yp="AlertDialogContent",[VWe,qWe]=$We(yp),WWe=EQ("AlertDialogContent"),Ile=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=Vc(n),o=x.useRef(null),l=ft(t,o),c=x.useRef(null);return s.jsx(EVe,{contentName:yp,titleName:Ole,docsSlug:"alert-dialog",children:s.jsx(VWe,{scope:n,cancelRef:c,children:s.jsxs(qD,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:ve(i.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(WWe,{children:r}),s.jsx(KWe,{contentRef:o})]})})})});Ile.displayName=yp;var Ole="AlertDialogTitle",Rle=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Vc(n);return s.jsx(WD,{...i,...r,ref:t})});Rle.displayName=Ole;var Mle="AlertDialogDescription",Dle=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Vc(n);return s.jsx(HD,{...i,...r,ref:t})});Dle.displayName=Mle;var HWe="AlertDialogAction",Lle=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Vc(n);return s.jsx(KD,{...i,...r,ref:t})});Lle.displayName=HWe;var $le="AlertDialogCancel",Fle=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=qWe($le,n),a=Vc(n),o=ft(t,i);return s.jsx(KD,{...a,...r,ref:o})});Fle.displayName=$le;var KWe=({contentRef:e})=>{const t=`\`${yp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${yp}\` by passing a \`${Mle}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${yp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},GWe=Tle,YWe=Ale,Ble=Ple,Ule=Ile,zle=Lle,Vle=Fle,qle=Rle,Wle=Dle;const Hle=GWe,XWe=YWe,Kle=x.forwardRef(({className:e,...t},n)=>s.jsx(Ble,{className:G("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Kle.displayName=Ble.displayName;const QD=x.forwardRef(({className:e,...t},n)=>s.jsxs(XWe,{children:[s.jsx(Kle,{}),s.jsx(Ule,{ref:n,className:G("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));QD.displayName=Ule.displayName;const ZD=({className:e,...t})=>s.jsx("div",{className:G("flex flex-col space-y-2 text-center sm:text-left",e),...t});ZD.displayName="AlertDialogHeader";const eL=({className:e,...t})=>s.jsx("div",{className:G("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});eL.displayName="AlertDialogFooter";const tL=x.forwardRef(({className:e,...t},n)=>s.jsx(qle,{ref:n,className:G("text-lg font-semibold",e),...t}));tL.displayName=qle.displayName;const nL=x.forwardRef(({className:e,...t},n)=>s.jsx(Wle,{ref:n,className:G("text-sm text-muted-foreground",e),...t}));nL.displayName=Wle.displayName;const rL=x.forwardRef(({className:e,...t},n)=>s.jsx(zle,{ref:n,className:G(t3(),e),...t}));rL.displayName=zle.displayName;const sL=x.forwardRef(({className:e,...t},n)=>s.jsx(Vle,{ref:n,className:G(t3({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));sL.displayName=Vle.displayName;const P7=["hsl(var(--primary))","hsl(280, 100%, 70%)","hsl(320, 100%, 70%)","hsl(200, 100%, 70%)"],JWe=()=>{const e=x.useRef(null),t=x.useRef([]),n=x.useRef(),[r,i]=x.useState({width:0,height:0});return x.useEffect(()=>{const a=()=>{i({width:window.innerWidth,height:window.innerHeight})};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),x.useEffect(()=>{const a=e.current;if(!a||r.width===0)return;const o=a.getContext("2d");if(!o)return;a.width=r.width,a.height=r.height;const l=Math.min(100,Math.floor(r.width*r.height/15e3));t.current=Array.from({length:l},(h,m)=>({id:m,x:Math.random()*r.width,y:Math.random()*r.height,vx:(Math.random()-.5)*2,vy:(Math.random()-.5)*2,size:Math.random()*3+1,opacity:Math.random()*.5+.2,color:P7[Math.floor(Math.random()*P7.length)]}));const c=h=>{o.beginPath(),o.arc(h.x,h.y,h.size,0,Math.PI*2),o.fillStyle=h.color.replace(")",`, ${h.opacity})`).replace("hsl","hsla"),o.fill(),o.beginPath(),o.arc(h.x,h.y,h.size*2,0,Math.PI*2);const m=o.createRadialGradient(h.x,h.y,0,h.x,h.y,h.size*3);m.addColorStop(0,h.color.replace(")",`, ${h.opacity*.5})`).replace("hsl","hsla")),m.addColorStop(1,"transparent"),o.fillStyle=m,o.fill()},d=()=>{const h=t.current;for(let m=0;m<h.length;m++)for(let f=m+1;f<h.length;f++){const p=h[m].x-h[f].x,g=h[m].y-h[f].y,y=Math.sqrt(p*p+g*g);y<120&&(o.beginPath(),o.moveTo(h[m].x,h[m].y),o.lineTo(h[f].x,h[f].y),o.strokeStyle=`hsla(var(--primary), ${(1-y/120)*.3})`,o.lineWidth=.5,o.stroke())}},u=()=>{o.clearRect(0,0,r.width,r.height),t.current.forEach(h=>{h.x+=h.vx,h.y+=h.vy,(h.x<0||h.x>r.width)&&(h.vx*=-1),(h.y<0||h.y>r.height)&&(h.vy*=-1),h.opacity=.2+Math.sin(Date.now()*.002+h.id)*.3,c(h)}),d(),n.current=requestAnimationFrame(u)};return u(),()=>{n.current&&cancelAnimationFrame(n.current)}},[r]),s.jsx(E.canvas,{ref:e,initial:{opacity:0},animate:{opacity:1},transition:{duration:1},className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%"}})},I7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%^&*()_+-=[]{}|;:,.<>?/~`",Gle=x.memo(()=>{const e=x.useRef(null),t=x.useRef(null),n=x.useRef([]),r=x.useRef(0),[i,a]=x.useState({width:0,height:0});x.useEffect(()=>{const l=()=>{a({width:window.innerWidth,height:window.innerHeight})};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const o=x.useCallback((l,c)=>{if(c-r.current<50){t.current=requestAnimationFrame(f=>o(l,f));return}r.current=c;const{width:d,height:u}=i,h=14,m=n.current;l.fillStyle="rgba(0, 0, 0, 0.05)",l.fillRect(0,0,d,u),l.font=`${h}px 'JetBrains Mono', monospace`;for(let f=0;f<m.length;f++){const p=I7[Math.floor(Math.random()*I7.length)],g=f*h,y=m[f]*h,v=Math.random();v>.8?(l.fillStyle="hsl(var(--primary))",l.shadowBlur=10,l.shadowColor="hsl(var(--primary))"):v>.5?(l.fillStyle="hsla(280, 100%, 70%, 0.8)",l.shadowBlur=0):(l.fillStyle="hsla(280, 100%, 60%, 0.4)",l.shadowBlur=0),l.fillText(p,g,y),l.shadowBlur=0,y>u&&Math.random()>.975&&(m[f]=0),m[f]+=.5+Math.random()*.5}t.current=requestAnimationFrame(f=>o(l,f))},[i]);return x.useEffect(()=>{const l=e.current;if(!l||i.width===0)return;const c=l.getContext("2d");if(!c)return;l.width=i.width,l.height=i.height;const u=Math.floor(i.width/14);return n.current=new Array(u).fill(1).map(()=>Math.random()*-100),t.current=requestAnimationFrame(h=>o(c,h)),()=>{t.current&&cancelAnimationFrame(t.current)}},[i,o]),s.jsx(E.canvas,{ref:e,initial:{opacity:0},animate:{opacity:.6},transition:{duration:2},className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%"}})});Gle.displayName="MatrixCodeRain";const QWe=[{size:400,x:"20%",y:"20%",color:"from-primary/40 to-purple-500/20",duration:8},{size:300,x:"70%",y:"60%",color:"from-purple-500/30 to-pink-500/20",duration:10},{size:250,x:"50%",y:"30%",color:"from-blue-500/30 to-primary/20",duration:12},{size:200,x:"30%",y:"70%",color:"from-pink-500/25 to-purple-500/15",duration:9},{size:350,x:"80%",y:"20%",color:"from-violet-500/30 to-indigo-500/20",duration:11}],ZWe=()=>s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:QWe.map((e,t)=>s.jsx(E.div,{className:`absolute rounded-full bg-gradient-radial ${e.color} blur-3xl`,style:{width:e.size,height:e.size,left:e.x,top:e.y,transform:"translate(-50%, -50%)"},animate:{scale:[1,1.3,1],opacity:[.3,.6,.3],x:[0,t%2===0?50:-50,0],y:[0,t%2===0?-30:30,0]},transition:{duration:e.duration,repeat:1/0,ease:"easeInOut",delay:t*.5}},t))}),eHe=[{Icon:O_e,x:"10%",y:"20%",delay:0},{Icon:d_,x:"85%",y:"15%",delay:.5},{Icon:c_,x:"15%",y:"75%",delay:1},{Icon:nx,x:"90%",y:"70%",delay:1.5},{Icon:sn,x:"5%",y:"50%",delay:2},{Icon:cn,x:"95%",y:"40%",delay:2.5},{Icon:Tt,x:"25%",y:"10%",delay:3},{Icon:Pm,x:"75%",y:"85%",delay:3.5},{Icon:I_e,x:"50%",y:"5%",delay:4},{Icon:gu,x:"60%",y:"90%",delay:4.5}],tHe=()=>s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:eHe.map(({Icon:e,x:t,y:n,delay:r},i)=>s.jsx(E.div,{className:"absolute text-white/20",style:{left:t,top:n},initial:{opacity:0,scale:0},animate:{opacity:[0,.4,.2,.4,0],scale:[.5,1,1.2,1,.5],y:[0,-20,-10,-20,0],rotate:[0,10,-10,10,0]},transition:{duration:8,delay:r,repeat:1/0,ease:"easeInOut"},children:s.jsx(e,{className:"w-8 h-8"})},i))}),O7=({targetNumber:e,duration:t=2e3,suffix:n="",prefix:r="",className:i=""})=>{const[a,o]=x.useState(0),[l,c]=x.useState(!1);return x.useEffect(()=>{const d=Date.now(),u=0,h=()=>{const m=Date.now()-d,f=Math.min(m/t,1),p=1-Math.pow(1-f,3),g=f<.9?Math.floor(Math.random()*10):0,y=Math.floor(u+(e-u)*p);o(y+g),f<1?requestAnimationFrame(h):(o(e),c(!0))};h()},[e,t]),s.jsx(E.div,{className:`font-mono ${i}`,animate:l?{scale:[1,1.1,1]}:{},transition:{duration:.3},children:s.jsx(He,{mode:"wait",children:s.jsxs(E.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.05},children:[r,a.toLocaleString(),n]},a)})})},ty=[{icon:"",text:"..."},{icon:"",text:"AI ..."},{icon:"",text:"..."},{icon:"",text:" SEO ..."},{icon:"",text:"..."},{icon:"",text:" Schema ..."},{icon:"",text:"..."},{icon:"",text:" SSL ..."},{icon:"",text:"..."},{icon:"",text:" CDN ..."},{icon:"",text:""}],_2=["Initializing AI-SEO Engine v3.2.1...","Loading neural network weights...","Connecting to patent algorithm 115100981...","Analyzing input prompt structure...","Extracting industry keywords...","Building semantic graph...","Generating component hierarchy...","Optimizing for Lighthouse 90+...","Applying responsive breakpoints...","Configuring meta tags...","Setting up structured data...","Finalizing render pipeline...","Build complete! "],nHe=({isGenerating:e,prompt:t="",onComplete:n,onExport:r,onEdit:i,onPublish:a,onExit:o})=>{const[l,c]=x.useState(0),[d,u]=x.useState(ty[0]),[h,m]=x.useState(0),[f,p]=x.useState("generating"),[g,y]=x.useState(!1),[v,b]=x.useState(0),[w,S]=x.useState([]);x.useEffect(()=>{if(!e||f!=="generating")return;const _=T=>{T<_2.length&&S(A=>[...A.slice(-8),_2[T]])},C=setInterval(()=>{const T=Math.floor(l/100*_2.length);_(T)},400);return()=>clearInterval(C)},[e,f,l]),x.useEffect(()=>{if(!e||f!=="generating")return;const _=setInterval(()=>{m(C=>{const T=C+1;return T>=ty.length?ty.length-1:(u(ty[T]),T)})},600);return()=>clearInterval(_)},[e,f]),x.useEffect(()=>{if(!e){c(0),p("generating"),m(0),u(ty[0]),b(0),S([]);return}const _=6500+Math.random()*1500,C=Date.now(),T=()=>{const A=Date.now()-C,P=Math.min(A/_,1);let R=1-Math.pow(1-P,3);P>.3&&P<.35&&(R*=.98),P>.6&&P<.65&&(R*=.99),P>.85&&P<.9&&(R*=.97),c(R*100),P<1?requestAnimationFrame(T):(p("preview"),j())};T()},[e]);const j=x.useCallback(()=>{const _=92+Math.floor(Math.random()*6),C=1500,T=Date.now(),A=()=>{const P=Date.now()-T,R=Math.min(P/C,1);b(Math.floor(R*_)),R<1&&requestAnimationFrame(A)};A()},[]),N=()=>{y(!0)},k=()=>{y(!1),o==null||o(),n()};return e?s.jsxs(s.Fragment,{children:[s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[s.jsx(Gle,{}),s.jsx(JWe,{}),s.jsx(ZWe,{}),s.jsx(tHe,{}),s.jsx(He,{mode:"wait",children:f==="generating"?s.jsx(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative z-10 max-w-2xl w-full mx-4",children:s.jsxs("div",{className:"bg-white/5 backdrop-blur-2xl rounded-3xl p-8 border border-white/10 shadow-2xl",children:[s.jsxs(E.div,{className:"relative w-28 h-28 mx-auto mb-6",children:[s.jsx(E.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full border-2 border-dashed border-primary/50"}),s.jsx(E.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-2 rounded-full bg-gradient-to-r from-primary/30 to-purple-500/30"}),s.jsx(E.div,{animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-4 rounded-full bg-gradient-to-r from-primary via-purple-500 to-pink-500 flex items-center justify-center shadow-lg shadow-primary/50",children:s.jsx(Zy,{className:"w-10 h-10 text-white"})})]}),s.jsx(He,{mode:"wait",children:s.jsx(E.div,{initial:{opacity:0,y:20,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-20,filter:"blur(10px)"},transition:{duration:.3},className:"text-center mb-6",children:s.jsxs("p",{className:"text-2xl text-white font-medium",children:[s.jsx("span",{className:"mr-2",children:d.icon}),d.text]})},h)}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded-full overflow-hidden border border-white/20",children:s.jsx(E.div,{className:"h-full bg-gradient-to-r from-primary via-purple-500 to-pink-500 relative",style:{width:`${l}%`},children:s.jsx(E.div,{animate:{x:["-100%","200%"]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"})})}),s.jsx(E.div,{className:"absolute -bottom-2 left-0 h-2 bg-primary/50 blur-md rounded-full",style:{width:`${l}%`}})]}),s.jsx("div",{className:"flex items-center justify-center gap-4 mb-6",children:s.jsx(O7,{targetNumber:Math.round(l),duration:100,suffix:"%",className:"text-5xl font-bold text-white"})}),s.jsx("div",{className:"bg-black/40 rounded-xl p-4 font-mono text-xs overflow-hidden h-32 mb-4",children:s.jsx(He,{children:w.map((_,C)=>s.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:.3},className:"text-green-400/80 mb-1",children:[s.jsx("span",{className:"text-primary",children:">"})," ",_]},`${_}-${C}`))})}),s.jsxs(E.div,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"flex items-center justify-center gap-2 text-sm text-primary",children:[s.jsx(cn,{className:"w-4 h-4"}),s.jsx("span",{className:"font-mono",children:" 115100981 ..."})]})]})},"generating"):s.jsx(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 max-w-3xl w-full mx-4",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 px-8 py-6 text-center text-white",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-white/20 backdrop-blur mb-4",children:s.jsx(Ye,{className:"w-8 h-8"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-white/80",children:"AI "})]}),s.jsxs("div",{className:"p-8",children:[s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-r from-primary/10 to-purple-500/10 rounded-2xl p-6 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"AI-SEO "}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx(O7,{targetNumber:v,duration:1500,className:"text-5xl font-bold text-primary"}),s.jsx("span",{className:"text-2xl text-muted-foreground",children:"/100"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:[s.jsx(St,{className:"w-4 h-4"})," 90% "]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" 115100981"})]})]})}),s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"bg-muted rounded-xl overflow-hidden mb-6 aspect-video flex items-center justify-center border relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-purple-500/5"}),s.jsxs("div",{className:"text-center relative z-10",children:[s.jsx(Dl,{className:"w-16 h-16 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:""}),s.jsxs(B,{variant:"ghost",size:"sm",className:"mt-2 gap-1",children:[s.jsx(Ga,{className:"w-4 h-4"}),""]})]})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(B,{variant:"outline",className:"w-full h-auto py-4 flex-col gap-2",onClick:r,children:[s.jsx(bM,{className:"w-6 h-6 text-amber-500"}),s.jsx("span",{className:"font-medium",children:" "}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})}),s.jsx(E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(B,{variant:"outline",className:"w-full h-auto py-4 flex-col gap-2 border-primary/50 hover:border-primary hover:bg-primary/5",onClick:i,children:[s.jsx(m_,{className:"w-6 h-6 text-primary"}),s.jsx("span",{className:"font-medium",children:" "}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:""})]})}),s.jsx(E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(B,{variant:"hero",className:"w-full h-auto py-4 flex-col gap-2",onClick:a,children:[s.jsx(Mi,{className:"w-6 h-6"}),s.jsx("span",{className:"font-medium",children:" "}),s.jsx("span",{className:"text-xs opacity-80",children:""})]})})]}),s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-center mt-6",children:s.jsx("button",{onClick:N,className:"text-sm text-muted-foreground hover:text-destructive transition-colors",children:" "})})]})]})},"preview")})]}),s.jsx(Hle,{open:g,onOpenChange:y,children:s.jsxs(QD,{children:[s.jsxs(ZD,{children:[s.jsxs(tL,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-amber-500"}),""]}),s.jsx(nL,{children:""})]}),s.jsxs(eL,{children:[s.jsx(sL,{children:""}),s.jsx(rL,{onClick:k,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:""})]})]})})]}):null},rHe=["//","SEO Lighthouse 90+","SSL ","CDN ","","24 ","1 ",""],sHe=[{id:"points100",name:"100 ",price:299,original:500,description:"AI  / "},{id:"points500",name:"500 ",price:999,original:2500,description:" AI "},{id:"seo",name:"SEO ",price:1999,description:" + "},{id:"ai-chat",name:"AI ",price:2999,description:"24/7 "}],R7=({isOpen:e,onClose:t,onComplete:n,websiteName:r=""})=>{const[i,a]=x.useState("payment"),[o,l]=x.useState(!1),[c,d]=x.useState(""),[u,h]=x.useState(!0),[m,f]=x.useState([]),[p,g]=x.useState(null),[y,v]=x.useState(null),b=`${c||r.toLowerCase().replace(/\s+/g,"-")}.aiforseo.vip`;x.useEffect(()=>{(async()=>{const{data:{user:C}}=await ee.auth.getUser();v((C==null?void 0:C.id)||null)})()},[]);const w=async()=>{if(!y){q.error("");return}l(!0);try{const{data:_,error:C}=await ee.from("orders").insert({user_id:y,order_type:"website_publish",amount:8888,status:"pending"}).select().single();if(C)throw C;g(_.id),q.info("",{duration:5e3})}catch(_){console.error("Order creation failed:",_),q.error("")}finally{l(!1)}},S=()=>{a("addons")},j=()=>{a("complete")},N=()=>{n(u?b:`${c}.com`),t()},k=_=>{f(C=>C.includes(_)?C.filter(T=>T!==_):[...C,_])};return e?s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs(E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-auto",children:[s.jsx("div",{className:"px-8 pt-6 pb-4 border-b bg-muted/30",children:s.jsx("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[{key:"payment",label:"",icon:Cs},{key:"domain",label:"",icon:Tt},{key:"addons",label:"",icon:pu},{key:"complete",label:"",icon:We}].map((_,C)=>{const T=_.key===i,A=["payment","domain","addons","complete"].indexOf(_.key)<["payment","domain","addons","complete"].indexOf(i);return s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:`flex flex-col items-center ${C>0?"ml-4":""}`,children:[s.jsx("div",{className:`
                      w-10 h-10 rounded-full flex items-center justify-center transition-all
                      ${T?"bg-primary text-white scale-110":""}
                      ${A?"bg-green-500 text-white":""}
                      ${!T&&!A?"bg-muted text-muted-foreground":""}
                    `,children:A?s.jsx(We,{className:"w-5 h-5"}):s.jsx(_.icon,{className:"w-5 h-5"})}),s.jsx("span",{className:`text-xs mt-1 ${T?"text-primary font-medium":"text-muted-foreground"}`,children:_.label})]}),C<3&&s.jsx(Ml,{className:`w-4 h-4 mx-2 ${A?"text-green-500":"text-muted-foreground"}`})]},_.key)})})}),s.jsxs(He,{mode:"wait",children:[i==="payment"&&s.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:s.jsx(Mi,{className:"w-8 h-8 text-primary"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground",children:""})]}),s.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-purple-500/5 rounded-2xl p-6 mb-6 text-center",children:[s.jsxs("div",{className:"flex items-baseline justify-center gap-2 mb-2",children:[s.jsx("span",{className:"text-lg text-muted-foreground line-through",children:"NT$15,000"}),s.jsx("span",{className:"text-4xl font-bold text-primary",children:"NT$8,888"})]}),s.jsx(ae,{variant:"secondary",className:"bg-amber-100 text-amber-700",children:" 41% OFF"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4 text-primary"}),""]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:rHe.map((_,C)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(We,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("span",{children:_})]},C))})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(sn,{className:"w-4 h-4"}),""]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(cn,{className:"w-4 h-4"}),""]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pm,{className:"w-4 h-4"}),"99.9% "]})]}),p?s.jsxs("div",{className:"space-y-4",children:[s.jsxs(E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-2xl p-6 text-center shadow-lg",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},children:s.jsx(Pn,{className:"w-12 h-12 text-amber-500 mx-auto mb-3"})}),s.jsx("h3",{className:"font-bold text-lg text-amber-800 mb-1",children:""}),s.jsx("p",{className:"text-amber-700 mb-3",children:""}),s.jsxs("div",{className:"bg-white/80 rounded-lg px-4 py-2 inline-block mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:""}),s.jsxs("p",{className:"font-mono font-bold text-lg text-primary",children:["#",p.slice(0,8).toUpperCase()]})]}),s.jsxs("div",{className:"text-sm text-amber-600 space-y-1",children:[s.jsx("p",{children:" "}),s.jsx("p",{children:"  24 "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(B,{variant:"outline",className:"gap-2",onClick:()=>window.open("https://line.me/ti/p/@seobaike","_blank"),children:" LINE "}),s.jsx(B,{variant:"outline",className:"gap-2",onClick:()=>window.open("tel:0800-000-000","_blank"),children:" "})]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:" / ATM  / "})]}):s.jsx(B,{variant:"hero",className:"w-full h-14 text-lg gap-2",onClick:w,disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Cs,{className:"w-5 h-5"})," NT$8,888",s.jsx(mt,{className:"w-5 h-5"})]})}),s.jsx("button",{onClick:t,className:"w-full mt-4 text-sm text-muted-foreground hover:text-foreground transition-colors",children:p?"":""})]},"payment"),i==="domain"&&s.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4",children:s.jsx(Tt,{className:"w-8 h-8 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground",children:""})]}),s.jsxs("div",{onClick:()=>h(!0),className:`p-4 rounded-xl border-2 cursor-pointer transition-all mb-4 ${u?"border-primary bg-primary/5":"border-muted hover:border-primary/50"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${u?"border-primary bg-primary":"border-muted-foreground"}`,children:u&&s.jsx(We,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"font-medium",children:""})]}),s.jsx(ae,{variant:"secondary",className:"bg-green-100 text-green-700",children:""})]}),s.jsxs("div",{className:"ml-7",children:[s.jsx(xe,{placeholder:"your-name",value:c,onChange:_=>d(_.target.value),className:"mb-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",s.jsx("span",{className:"font-mono text-primary",children:b})]})]})]}),s.jsxs("div",{onClick:()=>h(!1),className:`p-4 rounded-xl border-2 cursor-pointer transition-all ${u?"border-muted hover:border-primary/50":"border-primary bg-primary/5"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${u?"border-muted-foreground":"border-primary bg-primary"}`,children:!u&&s.jsx(We,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"font-medium",children:""})]}),s.jsx(ae,{children:"NT$699/"})]}),s.jsx("p",{className:"ml-7 text-sm text-muted-foreground",children:" mybrand.com"})]}),s.jsxs(B,{variant:"hero",className:"w-full h-12 mt-6 gap-2",onClick:S,children:["",s.jsx(mt,{className:"w-4 h-4"})]})]},"domain"),i==="addons"&&s.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-purple-100 mb-4",children:s.jsx(pu,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground",children:""})]}),s.jsx("div",{className:"space-y-3 mb-6",children:sHe.map(_=>s.jsx("div",{onClick:()=>k(_.id),className:`p-4 rounded-xl border-2 cursor-pointer transition-all ${m.includes(_.id)?"border-primary bg-primary/5":"border-muted hover:border-primary/50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${m.includes(_.id)?"border-primary bg-primary":"border-muted-foreground"}`,children:m.includes(_.id)&&s.jsx(We,{className:"w-3 h-3 text-white"})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:_.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_.description})]})]}),s.jsxs("div",{className:"text-right",children:[_.original&&s.jsxs("span",{className:"text-xs text-muted-foreground line-through mr-2",children:["NT$",_.original]}),s.jsxs("span",{className:"font-bold text-primary",children:["NT$",_.price]})]})]})},_.id))}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(B,{variant:"outline",className:"flex-1",onClick:j,children:""}),s.jsxs(B,{variant:"hero",className:"flex-1 gap-2",onClick:j,children:[m.length>0?"":"",s.jsx(mt,{className:"w-4 h-4"})]})]})]},"addons"),i==="complete"&&s.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-8 text-center",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-green-100 mb-6",children:s.jsx(We,{className:"w-12 h-12 text-green-600"})}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:" "}),s.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:" 24 "}),s.jsxs("div",{className:"bg-muted/50 rounded-xl p-4 mb-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:""}),s.jsx("p",{className:"text-lg font-mono text-primary",children:u?b:`${c}.com`})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs(B,{variant:"hero",className:"w-full h-12 gap-2",onClick:N,children:[s.jsx(Ye,{className:"w-5 h-5"}),""]})})]},"complete")]})]})}):null},iHe=({website:e,onPublish:t,onDownload:n})=>{const[r,i]=x.useState("desktop"),a=()=>{switch(r){case"mobile":return"max-w-[375px]";case"tablet":return"max-w-[768px]";default:return"max-w-full"}};return s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-border",children:[s.jsx("div",{className:"bg-muted/50 px-6 py-4 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),s.jsxs("span",{className:"text-sm text-muted-foreground font-mono",children:[e.name.toLowerCase().replace(/\s+/g,"-"),".seo-baike.com"]})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-muted rounded-lg p-1",children:[s.jsx("button",{onClick:()=>i("desktop"),className:`p-2 rounded-md transition-colors ${r==="desktop"?"bg-white shadow-sm":"hover:bg-white/50"}`,children:s.jsx(Dl,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>i("tablet"),className:`p-2 rounded-md transition-colors ${r==="tablet"?"bg-white shadow-sm":"hover:bg-white/50"}`,children:s.jsx(aCe,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>i("mobile"),className:`p-2 rounded-md transition-colors ${r==="mobile"?"bg-white shadow-sm":"hover:bg-white/50"}`,children:s.jsx(ii,{className:"w-4 h-4"})})]})]})}),s.jsx("div",{className:"bg-muted/30 p-4 min-h-[400px] flex justify-center",children:s.jsxs("div",{className:`${a()} w-full bg-white rounded-lg shadow-lg overflow-hidden transition-all duration-300`,children:[s.jsx("div",{className:"bg-lovable-gradient h-48 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:e.name}),s.jsx("p",{className:"text-white/80",children:e.industry})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[1,2,3].map(o=>s.jsx("div",{className:"bg-muted rounded-lg h-20 animate-pulse"},o))}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-full"}),s.jsx("div",{className:"h-4 bg-muted rounded w-5/6"})]})]})]})}),s.jsx("div",{className:"px-6 py-5 bg-gradient-to-r from-green-50 to-emerald-50 border-t border-green-100",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative w-20 h-20",children:[s.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[s.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"6",fill:"none",className:"text-green-100"}),s.jsx(E.circle,{cx:"40",cy:"40",r:"36",stroke:"currentColor",strokeWidth:"6",fill:"none",strokeLinecap:"round",className:"text-green-500",initial:{strokeDasharray:"0 226"},animate:{strokeDasharray:`${e.seoScore/100*226} 226`},transition:{duration:1.5,ease:"easeOut"}})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-green-600",children:e.seoScore})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(St,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"font-semibold text-green-700",children:"SEO "})]}),s.jsx("p",{className:"text-sm text-green-600",children:"Lighthouse  90+ Google 2026 "})]})]}),s.jsx("div",{className:"flex gap-4",children:[{icon:Ur,label:"",value:e.pages.length},{icon:Zp,label:"",value:""},{icon:Tt,label:"SEO",value:"90+"}].map((o,l)=>s.jsxs("div",{className:"text-center",children:[s.jsx(o.icon,{className:"w-5 h-5 text-green-500 mx-auto mb-1"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:o.label}),s.jsx("p",{className:"font-semibold text-green-700",children:o.value})]},l))})]})}),s.jsxs("div",{className:"px-6 py-4 border-t border-border",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-3",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.features.map((o,l)=>s.jsxs(ae,{variant:"secondary",className:"gap-1",children:[s.jsx(Js,{className:"w-3 h-3"}),o]},l))})]}),s.jsxs("div",{className:"px-6 py-4 border-t border-border",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-3",children:""}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:e.pages.map((o,l)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground bg-muted/50 rounded-lg px-3 py-2",children:[s.jsx(Ur,{className:"w-4 h-4 text-primary"}),o.name]},l))})]}),s.jsx("div",{className:"px-6 py-5 bg-muted/30 border-t border-border",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(B,{variant:"outline",className:"flex-1 gap-2",onClick:()=>window.open("#preview","_blank"),children:[s.jsx(Ga,{className:"w-4 h-4"}),""]}),s.jsx(E.div,{className:"flex-1",whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(B,{className:"w-full gap-2 bg-lovable-gradient hover:opacity-90 text-white shadow-lg",onClick:t,children:[s.jsx(Mi,{className:"w-4 h-4"}),""]})}),s.jsx(E.div,{className:"flex-1",whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(B,{className:"w-full gap-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:opacity-90 text-white shadow-lg",onClick:n,children:[s.jsx(fu,{className:"w-4 h-4"}),""]})})]})})]})},zO=({id:e,name:t,thumbnail:n,industry:r,createdAt:i,seoScore:a=0,status:o,isStarred:l,onEdit:c,onPreview:d,onDelete:u,onToggleStar:h})=>{const m=f=>new Date(f).toLocaleDateString("zh-TW",{year:"numeric",month:"short",day:"numeric"});return s.jsxs(E.div,{className:"group relative bg-card rounded-xl overflow-hidden border border-border hover:border-primary/30 transition-all duration-300 shadow-sm hover:shadow-lg",children:[s.jsxs("div",{className:"relative aspect-video bg-muted overflow-hidden",children:[n?s.jsx("img",{src:n,alt:t,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-lovable-gradient",children:s.jsx("span",{className:"text-4xl font-bold text-white/50",children:t.charAt(0)})}),s.jsxs("div",{className:"absolute inset-0 bg-foreground/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[s.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(B,{size:"sm",variant:"secondary",className:"gap-1 bg-white hover:bg-white/90",onClick:c,children:[s.jsx(tCe,{className:"w-4 h-4"}),""]})}),s.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(B,{size:"sm",variant:"secondary",className:"gap-1 bg-white hover:bg-white/90",onClick:d,children:[s.jsx(Br,{className:"w-4 h-4"}),""]})})]}),s.jsx(E.button,{onClick:h,whileHover:{scale:1.1},whileTap:{scale:.9},className:G("absolute top-2 right-2 p-1.5 rounded-full transition-all",l?"bg-yellow-400 text-white shadow-md":"bg-white/80 text-muted-foreground hover:bg-white hover:text-yellow-500"),children:s.jsx(Js,{className:G("w-4 h-4",l&&"fill-current")})}),a>0&&s.jsx("div",{className:"absolute bottom-2 left-2",children:s.jsxs(ae,{className:G("font-semibold shadow-sm",a>=90?"bg-green-500 hover:bg-green-600 text-white":a>=70?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-red-500 hover:bg-red-600 text-white"),children:["SEO ",a]})})]}),s.jsxs("div",{className:"p-4 bg-card",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-foreground line-clamp-1",children:t}),s.jsx(ae,{variant:o==="published"?"default":"secondary",className:G("text-xs",o==="published"&&"bg-green-500/20 text-green-600 hover:bg-green-500/30"),children:o==="published"?"":""})]}),r&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:r}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Tc,{className:"w-3 h-3"}),s.jsx("span",{children:m(i)})]}),s.jsx(E.button,{onClick:u,whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-1 rounded hover:bg-destructive/10 hover:text-destructive transition-colors",children:s.jsx(Vb,{className:"w-3.5 h-3.5"})})]})]})]})},aHe=({id:e,name:t,thumbnail:n,industry:r,seoScore:i=92,onUse:a})=>s.jsxs(E.div,{className:"group relative bg-card rounded-xl overflow-hidden border border-border hover:border-primary/30 transition-all duration-300 shadow-sm hover:shadow-lg",children:[s.jsxs("div",{className:"relative aspect-[4/3] bg-muted overflow-hidden",children:[s.jsx("img",{src:n,alt:t,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs(ae,{className:"bg-green-500 hover:bg-green-600 text-white gap-1 shadow-md",children:[s.jsx(St,{className:"w-3 h-3"}),"SEO ",i,"+ "]})}),s.jsx("div",{className:"absolute inset-x-4 bottom-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx(E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsx(B,{onClick:a,className:"w-full bg-lovable-gradient hover:opacity-90 text-white shadow-lg",children:""})})})]}),s.jsxs("div",{className:"p-4 bg-card",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1",children:t}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})]}),M7=[{id:"1",name:"",industry:"",createdAt:"2026-01-20T10:00:00Z",seoScore:94,status:"published",isStarred:!0},{id:"2",name:"",industry:"",createdAt:"2026-01-18T14:30:00Z",seoScore:91,status:"draft",isStarred:!1}],oHe=[{id:"t1",name:"",thumbnail:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=300&fit=crop",industry:" "},{id:"t2",name:"",thumbnail:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=400&h=300&fit=crop",industry:" "},{id:"t3",name:"",thumbnail:"https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?w=400&h=300&fit=crop",industry:" "}],lHe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},ny={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},cHe=()=>{var A;const{user:e}=Jt(),{profile:t}=zc(),n=xn(),[r,i]=x.useState(!1),[a,o]=x.useState(!1),[l,c]=x.useState("recent"),[d,u]=x.useState(null),[h,m]=x.useState(!1),[f,p]=x.useState(""),[g,y]=x.useState(!1),v=(t==null?void 0:t.name)||((A=e==null?void 0:e.email)==null?void 0:A.split("@")[0])||"";yn({title:"AI  -  SEO  | SEOBAIKE",description:" AI  Lighthouse 90+ 10  SEO ",keywords:"AI, , SEO, , Lighthouse 90, ",canonical:"https://seobaike.com/home",ogType:"website",schema:[Gae(),nC()]});const b=P=>{P.trim()&&(p(P),q.info("...",{description:P.substring(0,50)+(P.length>50?"...":"")}),o(!0))},w=x.useCallback(()=>{o(!1);const P=f.includes("")?"":f.includes("")||f.includes("")?"":"",R=f.includes("")?"":f.includes("")||f.includes("")?"":"",D={id:`website-${Date.now()}`,name:P,industry:R,seoScore:Math.floor(Math.random()*6)+92,previewUrl:"#",pages:[{name:"",path:"/"},{name:"",path:"/about"},{name:"",path:"/services"},{name:"",path:"/portfolio"},{name:"",path:"/contact"}],features:["","SEO ","","SSL ","Google Analytics",""],prompt:f,createdAt:new Date().toISOString()};u(D),q.success("",{description:`SEO ${D.seoScore} `})},[f]),S=()=>{q.info("...",{description:""}),setTimeout(()=>{q.success("",{description:""})},2e3)},j=()=>{o(!1),y(!0),q.success("",{description:""})},N=()=>{o(!1),m(!0)},k=()=>{o(!1),u(null),y(!1)},_=P=>{q.success(" ",{description:`${P}`}),m(!1),u(null),y(!1),n("/merchant")},C=()=>{u(null),y(!1)},T=P=>{n(`/builder?template=${P}`)};return d?s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-background flex",children:[s.jsx(fN,{isOpen:r,onToggle:()=>i(!r)}),s.jsx("main",{className:"flex-1 lg:ml-[280px] p-4 md:p-8",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:s.jsxs(B,{variant:"ghost",onClick:C,className:"gap-2 text-muted-foreground hover:text-foreground",children:[s.jsx(ks,{className:"w-4 h-4","aria-hidden":"true"}),""]})}),s.jsxs(E.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-green-100 text-green-700 mb-4",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse","aria-hidden":"true"}),""]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2",children:" "}),s.jsxs("p",{className:"text-muted-foreground",children:["AI  SEO ",d.seoScore,"+ "]})]}),s.jsx(iHe,{website:d,onPublish:N,onDownload:S})]})}),s.jsx(R7,{isOpen:h,onClose:()=>m(!1),onComplete:_,websiteName:d==null?void 0:d.name})]}):s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-background flex",children:[s.jsx(fN,{isOpen:r,onToggle:()=>i(!r)}),s.jsxs("main",{className:"flex-1 lg:ml-[280px]",children:[s.jsxs("section",{className:"relative min-h-[60vh] flex flex-col items-center justify-center px-4 py-16 overflow-hidden bg-seobaike-gradient","aria-labelledby":"hero-title",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden","aria-hidden":"true",children:[s.jsx(E.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 left-1/4 w-96 h-96 bg-white/10 rounded-full blur-3xl"}),s.jsx(E.div,{animate:{scale:[1.2,1,1.2],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-white/10 rounded-full blur-3xl"})]}),s.jsx("div",{className:"absolute inset-0 grid-pattern opacity-20","aria-hidden":"true"}),s.jsxs(E.div,{variants:lHe,initial:"hidden",animate:"visible",className:"relative z-10 w-full max-w-4xl mx-auto text-center",children:[s.jsxs(E.div,{variants:ny,className:"flex flex-wrap items-center justify-center gap-3 mb-6",children:[s.jsxs(E.span,{whileHover:{scale:1.05,y:-2},className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-full bg-white/20 backdrop-blur-md text-white text-sm font-medium border border-white/30 shadow-lg",children:[s.jsx(yM,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{className:"font-mono",children:"Patent No. 115100981"})]}),s.jsxs(E.span,{whileHover:{scale:1.05,y:-2},className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-full bg-white/20 backdrop-blur-md text-white text-sm font-medium border border-white/30 shadow-lg",children:[s.jsx(mu,{className:"w-4 h-4","aria-hidden":"true"}),"Google 2026 Algorithm Ready"]}),s.jsxs(E.span,{whileHover:{scale:1.05,y:-2},className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-full bg-white/20 backdrop-blur-md text-white text-sm font-medium border border-white/30 shadow-lg",children:[s.jsx(Tt,{className:"w-4 h-4","aria-hidden":"true"})," World's First AI-SEO"]})]}),s.jsxs(E.h1,{id:"hero-title",variants:ny,className:"text-3xl md:text-5xl lg:text-6xl font-bold text-white mb-4",children:["Let's build something,"," ",s.jsx(E.span,{className:"text-white/90",animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},children:v})]}),s.jsx(E.p,{variants:ny,className:"text-lg md:text-xl text-white/80 mb-8",children:" AI  SEO Lighthouse 90+ "}),s.jsx(E.div,{variants:ny,children:s.jsx(Cle,{onSubmit:b,isLoading:a})}),s.jsxs(E.div,{variants:ny,className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-2 text-sm text-white/70",children:[s.jsx("span",{className:"font-mono text-xs",children:"AI-SEO Intelligent Algorithm"}),s.jsx("span",{className:"hidden sm:inline","aria-hidden":"true",children:"|"}),s.jsx("span",{children:"Lighthouse 90+ Guaranteed"}),s.jsx("span",{className:"hidden sm:inline","aria-hidden":"true",children:"|"}),s.jsx("span",{children:""})]})]})]}),s.jsx(E.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"px-4 py-12 bg-background","aria-labelledby":"projects-section-title",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("h2",{id:"projects-section-title",className:"sr-only",children:""}),s.jsxs(va,{value:l,onValueChange:c,children:[s.jsxs($i,{className:"mb-6 bg-muted/50",children:[s.jsx(Dt,{value:"recent",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm transition-all",children:"Recently viewed"}),s.jsx(Dt,{value:"projects",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm transition-all",children:"My projects"}),s.jsx(Dt,{value:"templates",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm transition-all",children:"Templates"})]}),s.jsx(Ut,{value:"recent",className:"mt-0",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:M7.map((P,R)=>s.jsx(E.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},whileHover:{y:-4,transition:{duration:.2}},children:s.jsx(zO,{...P,onEdit:()=>n(`/builder?edit=${P.id}`),onPreview:()=>window.open("#","_blank"),onDelete:()=>q.info("SEOBAIKE "),onToggleStar:()=>q.info("SEOBAIKE ")})},P.id))})}),s.jsx(Ut,{value:"projects",className:"mt-0",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:M7.map((P,R)=>s.jsx(E.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},whileHover:{y:-4,transition:{duration:.2}},children:s.jsx(zO,{...P,onEdit:()=>n(`/builder?edit=${P.id}`),onPreview:()=>window.open("#","_blank"),onDelete:()=>q.info(""),onToggleStar:()=>q.info("")})},P.id))})}),s.jsx(Ut,{value:"templates",className:"mt-0",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:oHe.map((P,R)=>s.jsx(E.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},whileHover:{y:-4,transition:{duration:.2}},children:s.jsx(aHe,{...P,onUse:()=>T(P.id)})},P.id))})})]})]})})]}),s.jsx(He,{children:a&&s.jsx(nHe,{isGenerating:a,prompt:f,onComplete:w,onExport:S,onEdit:j,onPublish:N,onExit:k})}),s.jsx(R7,{isOpen:h,onClose:()=>m(!1),onComplete:_,websiteName:(d==null?void 0:d.name)||f.substring(0,20)})]})},dHe=[{id:"1",name:"",industry:"",createdAt:"2026-01-20T10:00:00Z",seoScore:94,status:"published",isStarred:!0},{id:"2",name:"",industry:"",createdAt:"2026-01-18T14:30:00Z",seoScore:91,status:"draft",isStarred:!1},{id:"3",name:"",industry:"",createdAt:"2026-01-15T09:00:00Z",seoScore:88,status:"published",isStarred:!0},{id:"4",name:"",industry:"",createdAt:"2026-01-10T11:00:00Z",seoScore:92,status:"draft",isStarred:!1}],uHe=()=>{const e=xn(),[t]=Im(),[n,r]=x.useState(!1),[i,a]=x.useState("");yn({title:" - SEOBAIKE AI SEO ",description:"SEOBAIKE  SEO  AI ",keywords:"SEOBAIKE , , SEO , AI ",canonical:"https://seobaike.com/projects",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/projects"}])});const o=t.get("filter"),l=dHe.filter(d=>{if(o==="starred"&&!d.isStarred)return!1;if(i){const u=i.toLowerCase();return d.name.toLowerCase().includes(u)||d.industry.toLowerCase().includes(u)}return!0}),c=()=>{switch(o){case"recent":return"";case"starred":return"";default:return""}};return s.jsxs("div",{className:"min-h-screen bg-background flex",children:[s.jsx(fN,{isOpen:n,onToggle:()=>r(!n)}),s.jsx("main",{className:"flex-1 lg:ml-[280px] p-4 md:p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:c()}),s.jsx("p",{className:"text-muted-foreground mt-1",children:""})]}),s.jsxs(B,{onClick:()=>e("/home"),className:"gap-2 bg-gradient-to-r from-builder-primary to-builder-secondary hover:opacity-90",children:[s.jsx(lm,{className:"w-4 h-4"}),""]})]}),s.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(xe,{placeholder:"...",value:i,onChange:d=>a(d.target.value),className:"pl-10"})]}),s.jsxs(B,{variant:"outline",className:"gap-2",children:[s.jsx(u_,{className:"w-4 h-4"}),""]})]}),l.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((d,u)=>s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.05},children:s.jsx(zO,{...d,onEdit:()=>e(`/builder?edit=${d.id}`),onPreview:()=>window.open("#","_blank"),onDelete:()=>q.info(""),onToggleStar:()=>q.info("")})},d.id))}):s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:s.jsx(fn,{className:"w-8 h-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground mb-4",children:i?"":""}),s.jsxs(B,{onClick:()=>e("/home"),className:"gap-2 bg-gradient-to-r from-builder-primary to-builder-secondary hover:opacity-90",children:[s.jsx(lm,{className:"w-4 h-4"}),""]})]})]})})]})},hHe=()=>{var p,g,y,v,b;const e=xn(),[t,n]=x.useState(!1),[r,i]=x.useState(""),[a,o]=x.useState(Gs[0].id),[l,c]=x.useState(null),[d,u]=x.useState(!1);yn({title:" - 120+  SEO  | SEOBAIKE",description:" SEOBAIKE 120+  12  Lighthouse SEO 90+ ",keywords:", SEO, , , , ",canonical:"https://seobaike.com/templates",ogType:"website",schema:[In([{name:"",url:"https://seobaike.com/"},{name:"",url:"https://seobaike.com/templates"}]),{"@context":"https://schema.org","@type":"CollectionPage",name:"SEOBAIKE ",description:"120+  SEO ",url:"https://seobaike.com/templates",numberOfItems:120}]});const h=x.useMemo(()=>{const w=DO(a);if(r){const S=r.toLowerCase();return w.filter(j=>j.name.toLowerCase().includes(S)||j.description.toLowerCase().includes(S)).map((j,N)=>({template:j,industryId:a,index:N}))}return w.map((S,j)=>({template:S,industryId:a,index:j}))},[a,r]),m=(w,S,j)=>{c({template:w,industryId:S,index:j}),u(!0)},f=()=>{l&&e(`/builder?template=${l.template.id}&industry=${l.industryId}`)};return s.jsxs("div",{className:"min-h-screen bg-background flex",children:[s.jsx(fN,{isOpen:t,onToggle:()=>n(!t)}),s.jsxs("main",{className:"flex-1 lg:ml-[280px] flex",children:[s.jsxs("aside",{className:"hidden md:flex flex-col w-64 border-r border-border bg-card/50 h-[calc(100vh-0px)] sticky top-0",children:[s.jsxs("div",{className:"p-4 border-b border-border",children:[s.jsxs("h2",{className:"font-semibold text-foreground flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4 text-primary"}),""]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" 12   10 "})]}),s.jsx(xl,{className:"flex-1",children:s.jsx("div",{className:"p-2",children:Gs.map(w=>s.jsxs("button",{onClick:()=>o(w.id),className:G("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all mb-1",a===w.id?"bg-primary text-primary-foreground":"hover:bg-muted text-muted-foreground hover:text-foreground"),children:[s.jsx("span",{className:"text-lg",children:w.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium",children:w.name}),s.jsx("span",{className:"text-xs ml-2 opacity-70",children:"10 "})]})]},w.id))})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"p-4 md:p-6 max-w-6xl mx-auto",children:[s.jsx("header",{children:s.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-foreground mb-2",children:[(p=Gs.find(w=>w.id===a))==null?void 0:p.icon," ",(g=Gs.find(w=>w.id===a))==null?void 0:g.name,""]}),s.jsxs("p",{className:"text-muted-foreground",children:[(y=Gs.find(w=>w.id===a))==null?void 0:y.name," 10  SEO 90+ "]})]})}),s.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6 space-y-3",children:[s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground","aria-hidden":"true"}),s.jsx(xe,{placeholder:"...",value:r,onChange:w=>i(w.target.value),className:"pl-10","aria-label":""})]}),s.jsx("div",{className:"flex md:hidden flex-wrap gap-2 overflow-x-auto pb-2",children:Gs.map(w=>s.jsxs(B,{size:"sm",variant:a===w.id?"default":"outline",onClick:()=>o(w.id),className:"text-xs whitespace-nowrap",children:[w.icon," ",w.name]},w.id))})]}),s.jsx("section",{"aria-label":"",children:h.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.jsx(He,{mode:"popLayout",children:h.map(({template:w,industryId:S,index:j},N)=>s.jsx(E.article,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:N*.02},className:"group cursor-pointer",onClick:()=>m(w,S,j),children:s.jsxs("div",{className:"relative bg-card rounded-xl overflow-hidden border border-border hover:border-primary/50 transition-all duration-300 shadow-sm hover:shadow-lg",children:[s.jsxs("div",{className:"relative aspect-[4/3] bg-muted overflow-hidden",children:[s.jsx("img",{src:cN(S,j),alt:w.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsxs(ae,{className:"bg-green-500 hover:bg-green-600 text-white gap-1 text-xs shadow-md",children:[s.jsx(St,{className:"w-3 h-3"}),"SEO ",w.seoScore,"+"]})}),s.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsxs(ae,{variant:"outline",className:"bg-white/90 text-xs gap-1",children:[s.jsx(ai,{className:"w-3 h-3"}),w.usageCount.toLocaleString()," "]})}),s.jsx("div",{className:"absolute inset-x-3 bottom-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsxs(B,{size:"sm",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg",children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"}),""]})})]}),s.jsxs("div",{className:"p-3 bg-card",children:[s.jsx("h3",{className:"font-medium text-foreground text-sm truncate",children:w.name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:w.description}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[w.features.slice(0,2).map((k,_)=>s.jsx(ae,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:k},_)),w.features.length>2&&s.jsxs(ae,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:["+",w.features.length-2]})]})]})]})},`${S}-${w.id}`))})}):s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:s.jsx(fn,{className:"w-8 h-8 text-muted-foreground","aria-hidden":"true"})}),s.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground mb-4",children:""}),s.jsx(B,{variant:"outline",onClick:()=>i(""),children:""})]})})]})})]}),s.jsx(Xn,{open:d,onOpenChange:u,children:s.jsx(zn,{className:"max-w-3xl p-0 overflow-hidden",children:l&&s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"relative aspect-video bg-muted",children:[s.jsx("img",{src:cN(l.industryId,l.index),alt:l.template.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs(ae,{className:"bg-green-500 text-white gap-1",children:[s.jsx(St,{className:"w-3 h-3"}),"SEO ",l.template.seoScore,"+"]})}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsxs(ae,{className:"bg-primary text-primary-foreground",children:[(v=Gs.find(w=>w.id===l.industryId))==null?void 0:v.icon," ",(b=Gs.find(w=>w.id===l.industryId))==null?void 0:b.name]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:l.template.name}),s.jsx("p",{className:"text-muted-foreground mb-4",children:l.template.description}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(St,{className:"w-4 h-4 text-green-500"}),s.jsxs("span",{children:["",l.template.features.join("")]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(St,{className:"w-4 h-4 text-green-500"}),s.jsxs("span",{children:["",l.template.colorScheme]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ai,{className:"w-4 h-4 text-primary"}),s.jsxs("span",{children:[" ",l.template.usageCount.toLocaleString()," "]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(B,{onClick:f,className:"flex-1 bg-primary hover:bg-primary/90",children:[s.jsx(Ye,{className:"w-4 h-4 mr-2"}),""]}),s.jsx(B,{variant:"outline",onClick:()=>u(!1),children:""})]})]})]})})})]})};var cC="Collapsible",[mHe,Yle]=Ar(cC),[fHe,iL]=mHe(cC),Xle=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...l}=e,[c,d]=ua({prop:r,defaultProp:i??!1,onChange:o,caller:cC});return s.jsx(fHe,{scope:n,disabled:a,contentId:za(),open:c,onOpenToggle:x.useCallback(()=>d(u=>!u),[d]),children:s.jsx(De.div,{"data-state":cL(c),"data-disabled":a?"":void 0,...l,ref:t})})});Xle.displayName=cC;var Jle="CollapsibleTrigger",aL=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=iL(Jle,n);return s.jsx(De.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":cL(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:ve(e.onClick,i.onOpenToggle)})});aL.displayName=Jle;var oL="CollapsibleContent",lL=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=iL(oL,e.__scopeCollapsible);return s.jsx(ms,{present:n||i.open,children:({present:a})=>s.jsx(pHe,{...r,ref:t,present:a})})});lL.displayName=oL;var pHe=x.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=e,o=iL(oL,n),[l,c]=x.useState(r),d=x.useRef(null),u=ft(t,d),h=x.useRef(0),m=h.current,f=x.useRef(0),p=f.current,g=o.open||l,y=x.useRef(g),v=x.useRef(void 0);return x.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),Nr(()=>{const b=d.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();h.current=w.height,f.current=w.width,y.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),c(r)}},[o.open,r]),s.jsx(De.div,{"data-state":cL(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...a,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:g&&i})});function cL(e){return e?"open":"closed"}var Qle=Xle,gHe=aL,xHe=lL,Ko="Accordion",yHe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[dL,vHe,bHe]=Db(Ko),[dC,a_t]=Ar(Ko,[bHe,Yle]),uL=Yle(),Zle=V.forwardRef((e,t)=>{const{type:n,...r}=e,i=r,a=r;return s.jsx(dL.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?s.jsx(NHe,{...a,ref:t}):s.jsx(SHe,{...i,ref:t})})});Zle.displayName=Ko;var[ece,wHe]=dC(Ko),[tce,jHe]=dC(Ko,{collapsible:!1}),SHe=V.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:a=!1,...o}=e,[l,c]=ua({prop:n,defaultProp:r??"",onChange:i,caller:Ko});return s.jsx(ece,{scope:e.__scopeAccordion,value:V.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:V.useCallback(()=>a&&c(""),[a,c]),children:s.jsx(tce,{scope:e.__scopeAccordion,collapsible:a,children:s.jsx(nce,{...o,ref:t})})})}),NHe=V.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,l]=ua({prop:n,defaultProp:r??[],onChange:i,caller:Ko}),c=V.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=V.useCallback(u=>l((h=[])=>h.filter(m=>m!==u)),[l]);return s.jsx(ece,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:s.jsx(tce,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(nce,{...a,ref:t})})})}),[kHe,uC]=dC(Ko),nce=V.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:a="vertical",...o}=e,l=V.useRef(null),c=ft(l,t),d=vHe(n),h=Rm(i)==="ltr",m=ve(e.onKeyDown,f=>{var _;if(!yHe.includes(f.key))return;const p=f.target,g=d().filter(C=>{var T;return!((T=C.ref.current)!=null&&T.disabled)}),y=g.findIndex(C=>C.ref.current===p),v=g.length;if(y===-1)return;f.preventDefault();let b=y;const w=0,S=v-1,j=()=>{b=y+1,b>S&&(b=w)},N=()=>{b=y-1,b<w&&(b=S)};switch(f.key){case"Home":b=w;break;case"End":b=S;break;case"ArrowRight":a==="horizontal"&&(h?j():N());break;case"ArrowDown":a==="vertical"&&j();break;case"ArrowLeft":a==="horizontal"&&(h?N():j());break;case"ArrowUp":a==="vertical"&&N();break}const k=b%v;(_=g[k].ref.current)==null||_.focus()});return s.jsx(kHe,{scope:n,disabled:r,direction:i,orientation:a,children:s.jsx(dL.Slot,{scope:n,children:s.jsx(De.div,{...o,"data-orientation":a,ref:c,onKeyDown:r?void 0:m})})})}),pN="AccordionItem",[_He,hL]=dC(pN),rce=V.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...i}=e,a=uC(pN,n),o=wHe(pN,n),l=uL(n),c=za(),d=r&&o.value.includes(r)||!1,u=a.disabled||e.disabled;return s.jsx(_He,{scope:n,open:d,disabled:u,triggerId:c,children:s.jsx(Qle,{"data-orientation":a.orientation,"data-state":cce(d),...l,...i,ref:t,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});rce.displayName=pN;var sce="AccordionHeader",ice=V.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=uC(Ko,n),a=hL(sce,n);return s.jsx(De.h3,{"data-orientation":i.orientation,"data-state":cce(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:t})});ice.displayName=sce;var VO="AccordionTrigger",ace=V.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=uC(Ko,n),a=hL(VO,n),o=jHe(VO,n),l=uL(n);return s.jsx(dL.ItemSlot,{scope:n,children:s.jsx(gHe,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...l,...r,ref:t})})});ace.displayName=VO;var oce="AccordionContent",lce=V.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=uC(Ko,n),a=hL(oce,n),o=uL(n);return s.jsx(xHe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});lce.displayName=oce;function cce(e){return e?"open":"closed"}var CHe=Zle,EHe=rce,THe=ice,dce=ace,uce=lce;const gN=CHe,N0=x.forwardRef(({className:e,...t},n)=>s.jsx(EHe,{ref:n,className:G("border-b",e),...t}));N0.displayName="AccordionItem";const k0=x.forwardRef(({className:e,children:t,...n},r)=>s.jsx(THe,{className:"flex",children:s.jsxs(dce,{ref:r,className:G("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,s.jsx(qr,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));k0.displayName=dce.displayName;const _0=x.forwardRef(({className:e,children:t,...n},r)=>s.jsx(uce,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:s.jsx("div",{className:G("pb-4 pt-0",e),children:t})}));_0.displayName=uce.displayName;const AHe=[{name:"",price:"",description:" AI "},{name:" 7 ",price:"NT$8,888",description:"Lighthouse 90 "}],PHe=[{id:"df-domain-rating",name:" DR/UR ",price:"NT$10",period:"/",icon:fn,description:" Domain Rating  URL Rating",features:[" DR/UR ","","",""],endpoint:"/backlinks/summary",popular:!1},{id:"df-backlink-analysis",name:" ",price:"NT$30",period:"/",icon:Qd,description:"",features:["","DoFollow/NoFollow ","",""],endpoint:"/backlinks/backlinks",popular:!0},{id:"df-keyword-metrics",name:" ",price:"NT$20",period:"/",icon:dr,description:"KD  + ",features:[" (KD)","","CPC ",""],endpoint:"/keywords_data/google/search_volume",popular:!0},{id:"df-keyword-suggestions",name:" ",price:"NT$25",period:"/",icon:Ye,description:" 50+ ",features:["","","",""],endpoint:"/keywords_data/google/keyword_suggestions",popular:!1},{id:"df-serp-analysis",name:" SERP ",price:"NT$15",period:"/",icon:bn,description:" 10 ",features:[" 10 ","","",""],endpoint:"/serp/google/organic",popular:!1},{id:"df-competitor-analysis",name:" ",price:"NT$80",period:"/",icon:bn,description:" SEO ",features:["DR/UR ","","Top ",""],endpoint:" API",popular:!0}],IHe=[{id:"shopping-cart",name:"",price:"NT$3,999",period:"/",icon:cZ,description:"",features:["","","",""],popular:!1},{id:"product-management",name:"/",price:"NT$4,999",period:"/",icon:bM,description:"",features:["","","",""],popular:!0},{id:"customer-management",name:"",price:"NT$4,999",period:"/",icon:ai,description:"",features:["","","",""],popular:!1},{id:"ai-customer-service",name:"AI ",price:"NT$2,999",period:"/",icon:Vr,description:"24 ",features:["AI ","","",""],popular:!1}],D7=[{question:"",answer:" AI  30  7  24 "},{question:" Lighthouse 90 ",answer:"Lighthouse  Google  SEO 90 "},{question:"",answer:""},{question:"",answer:" AI "},{question:"",answer:""}],OHe=()=>(yn({title:" - SEOBAIKE AI ",description:" SEOBAIKE NT$8,8881  = NT$1  Lighthouse 90+ ",keywords:"SEOBAIKE,AI,SEO,,",canonical:"https://seobaike.com/pricing",ogType:"website",schema:[In([{name:"",url:"https://seobaike.com/"},{name:"",url:"https://seobaike.com/pricing"}]),cVe({name:"SEOBAIKE  7 ",description:"AI  SEO  Lighthouse 90+ ",price:8888,currency:"TWD",availability:"InStock"}),Yae(D7.map(e=>({question:e.question,answer:e.answer})))]}),s.jsx(Ho,{children:s.jsx("div",{className:"py-16 md:py-24",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[s.jsxs("h1",{className:"text-3xl md:text-5xl font-bold text-foreground mb-4",children:["",s.jsx("span",{className:"text-gradient",children:""})]}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:" SEO "})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6 text-center",children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:AHe.map(e=>s.jsxs("div",{className:"glass rounded-xl p-6 text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e.name}),s.jsx("div",{className:"text-3xl font-bold text-gradient mb-2",children:e.price}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.name))})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.12},className:"mb-16",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(ae,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white mb-4",children:" DataForSEO "}),s.jsxs("h2",{className:"text-2xl font-bold text-foreground mb-2 flex items-center justify-center gap-2",children:[s.jsx(fn,{className:"w-6 h-6 text-primary"})," SEO "]}),s.jsx("p",{className:"text-muted-foreground",children:" SEO  API "})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:PHe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15+t*.05},className:`relative rounded-2xl p-6 ${e.popular?"gradient-border bg-card glow-primary-subtle":"glass"}`,children:[e.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsxs(ae,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:[s.jsx(Js,{className:"w-3 h-3 mr-1"}),""]})}),s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:s.jsx(e.icon,{className:"w-5 h-5 text-blue-500"})}),s.jsx("h3",{className:"font-semibold text-foreground",children:e.name})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"text-2xl font-bold text-foreground",children:e.price}),s.jsx("span",{className:"text-muted-foreground text-sm",children:e.period})]}),s.jsx("ul",{className:"space-y-2 mb-6 flex-1",children:e.features.map(n=>s.jsxs("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(We,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),n]},n))}),s.jsx(ye,{to:"/tools",children:s.jsx(B,{variant:e.popular?"default":"outline",className:"w-full",children:""})})]})]},e.id))}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:" 1  = NT$1"})})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-16",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground mb-2 flex items-center justify-center gap-2",children:[s.jsx(cn,{className:"w-6 h-6 text-primary"}),""]}),s.jsx("p",{className:"text-muted-foreground",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:IHe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+t*.05},className:`relative rounded-2xl p-6 ${e.popular?"gradient-border bg-card glow-primary-subtle":"glass"}`,children:[e.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsxs(ae,{className:"bg-primary text-primary-foreground",children:[s.jsx(Js,{className:"w-3 h-3 mr-1"}),""]})}),s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(e.icon,{className:"w-5 h-5 text-primary"})}),s.jsx("h3",{className:"font-semibold text-foreground",children:e.name})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description}),s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"text-2xl font-bold text-foreground",children:e.price}),s.jsx("span",{className:"text-muted-foreground text-sm",children:e.period})]}),s.jsx("ul",{className:"space-y-2 mb-6 flex-1",children:e.features.map(n=>s.jsxs("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(We,{className:"w-4 h-4 text-primary flex-shrink-0"}),n]},n))}),s.jsx(ye,{to:"/checkout",children:s.jsx(B,{variant:e.popular?"default":"outline",className:"w-full",children:""})})]})]},e.id))})]}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-16",children:s.jsxs("div",{className:"text-center glass rounded-2xl p-6 md:p-8 max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:""}),s.jsx("div",{className:"text-4xl font-bold text-gradient mb-2",children:"1  = NT$1"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:" 50 "}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"font-semibold text-foreground",children:"AI "}),s.jsx("div",{className:"text-primary",children:"30 "})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"font-semibold text-foreground",children:"AI "}),s.jsx("div",{className:"text-primary",children:"50 "})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"font-semibold text-foreground",children:"SEO "}),s.jsx("div",{className:"text-primary",children:"10 "})]}),s.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"font-semibold text-foreground",children:"AI "}),s.jsx("div",{className:"text-primary",children:"10 "})]})]})]})}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"max-w-3xl mx-auto",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground mb-6 text-center flex items-center justify-center gap-2",children:[s.jsx(Bb,{className:"w-6 h-6 text-primary"}),""]}),s.jsx(gN,{type:"single",collapsible:!0,className:"space-y-4",children:D7.map((e,t)=>s.jsxs(N0,{value:`item-${t}`,className:"glass rounded-xl px-6 border-none",children:[s.jsx(k0,{className:"text-foreground hover:text-primary hover:no-underline",children:e.question}),s.jsx(_0,{className:"text-muted-foreground",children:e.answer})]},t))})]})]})})})),RHe=[{company:"",industry:"",challenge:"",solution:" SEO  + ",results:[{label:"Lighthouse ",value:"94",change:"+52"},{label:"",value:"#3",change:" #47"},{label:"",value:"+180%",change:""}]},{company:"",industry:"",challenge:"Google ",solution:"SEO  + GMB  +  SEO",results:[{label:"Lighthouse ",value:"91",change:"+45"},{label:"",value:"#1",change:" #12"},{label:"",value:"+250%",change:""}]},{company:"",industry:"",challenge:"",solution:" +  + ",results:[{label:"Lighthouse ",value:"92",change:"+48"},{label:"",value:"#5",change:""},{label:"",value:"+320%",change:""}]},{company:"SEO ",industry:"SEO ",challenge:"",solution:" +  + ",results:[{label:"Lighthouse ",value:"96",change:"+55"},{label:"",value:"#2",change:" #28"},{label:"",value:"+200%",change:""}]}],MHe=["","","","SEO ","",""],DHe=()=>(yn({title:" - SEOBAIKE  SEO ",description:" SEOBAIKE  AI Lighthouse 90+  180%",keywords:"SEO,,,Lighthouse,SEOBAIKE",canonical:"https://seobaike.com/cases",ogType:"website",schema:[In([{name:"",url:"https://seobaike.com/"},{name:"",url:"https://seobaike.com/cases"}])]}),s.jsx(Ho,{children:s.jsx("div",{className:"py-16 md:py-24",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[s.jsxs("h1",{className:"text-3xl md:text-5xl font-bold text-foreground mb-4",children:["",s.jsx("span",{className:"text-gradient",children:""})]}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:" SEO "})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16",children:RHe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"glass rounded-2xl p-6 md:p-8 hover:border-primary/30 transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded-full",children:e.industry}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mt-2",children:e.company})]}),s.jsx(dr,{className:"w-6 h-6 text-primary"})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-sm text-foreground ml-2",children:e.challenge})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-sm text-foreground ml-2",children:e.solution})]})]}),s.jsx("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-border",children:e.results.map(n=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gradient",children:n.value}),s.jsx("div",{className:"text-xs text-muted-foreground",children:n.label}),n.change&&s.jsx("div",{className:"text-xs text-primary",children:n.change})]},n.label))})]},e.company))}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-center mb-16",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-8",children:""}),s.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:MHe.map(e=>s.jsx("div",{className:"glass rounded-xl px-6 py-4 text-muted-foreground hover:text-primary hover:border-primary/30 transition-all",children:e},e))})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground mb-8",children:""}),s.jsx(ye,{to:"/builder",children:s.jsxs(B,{variant:"glow",size:"xl",className:"gap-2",children:["",s.jsx(Br,{className:"w-5 h-5"})]})})]})]})})})),LHe=[{icon:tg,title:"",description:" SEO "},{icon:cn,title:"",description:" AI "},{icon:ai,title:"",description:" SEO "},{icon:mu,title:"",description:"Lighthouse 90 "}],$He=[" Google 2026 Core Algorithm ","AI "," SEO  Lighthouse 90+ "," SEO "],FHe=()=>(yn({title:" - SEOBAIKE AI ",description:" SEOBAIKE  AI-SEO  AI  Lighthouse 90+ ",keywords:"SEOBAIKE,,AI,SEO,,",canonical:"https://seobaike.com/about",ogType:"website",schema:[nC(),In([{name:"",url:"https://seobaike.com/"},{name:"",url:"https://seobaike.com/about"}])]}),s.jsx(Ho,{children:s.jsx("div",{className:"py-16 md:py-24",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[s.jsxs("h1",{className:"text-3xl md:text-5xl font-bold text-foreground mb-4",children:["",s.jsx("span",{className:"text-gradient",children:" SEO "})]}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:" SEO  AI "})]}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"mb-16 max-w-5xl mx-auto",children:s.jsxs("div",{className:"relative rounded-3xl overflow-hidden",children:[s.jsx(E.div,{className:"absolute inset-0 rounded-3xl p-[2px]",style:{background:"linear-gradient(135deg, hsl(var(--builder-accent-cyan)), hsl(var(--builder-primary)), hsl(45 93% 47%), hsl(var(--builder-accent-cyan)))",backgroundSize:"300% 300%"},animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},children:s.jsx("div",{className:"absolute inset-0 rounded-3xl bg-card"})}),s.jsxs("div",{className:"relative p-8 md:p-12",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[s.jsx(yM,{className:"w-8 h-8 text-builder-accent-cyan"}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-foreground font-semibold",children:""}),s.jsx("p",{className:"text-muted-foreground text-sm mt-1 font-mono",children:"World Definition Constraint Method for Artificial Intelligence Reasoning"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-foreground font-semibold",children:"AI + SEO "}),s.jsx("p",{className:"text-muted-foreground text-sm mt-1 font-mono",children:"Artificial Intelligence Search Engine Optimization"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-foreground font-bold font-mono text-lg",children:"115100981"})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-foreground font-bold",children:"202619"})]})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-muted/50 border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-foreground font-semibold",children:""})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-builder-primary/10 to-builder-accent-cyan/10 border border-builder-primary/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-foreground font-semibold",children:""})]}),s.jsx("div",{className:"space-y-3",children:$He.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3+t*.1},className:"flex items-start gap-3",children:[s.jsx(St,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-foreground",children:e})]},t))})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-amber-500/10 border border-amber-500/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(mu,{className:"w-5 h-5 text-amber-500"}),s.jsx("span",{className:"text-amber-500 font-semibold",children:"Legal Protection"})]}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:"This technology is protected under R.O.C. Patent Law"}),s.jsx("p",{className:"text-sm text-amber-500 font-semibold mt-2",children:" World's First AI-SEO Patented Technology"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[s.jsxs("span",{className:"px-4 py-2 rounded-full bg-green-500/10 text-green-500 text-sm font-medium flex items-center gap-2",children:[s.jsx(sn,{className:"w-4 h-4"}),""]}),s.jsxs("span",{className:"px-4 py-2 rounded-full bg-builder-primary/10 text-builder-primary text-sm font-medium flex items-center gap-2",children:[s.jsx(c_,{className:"w-4 h-4"}),"Google 2026 Ready"]}),s.jsxs("span",{className:"px-4 py-2 rounded-full bg-builder-accent-cyan/10 text-builder-accent-cyan text-sm font-medium flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4"}),""]})]})]})]})}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass rounded-2xl p-8 md:p-12 mb-16 text-center max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground mb-6",children:""}),s.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:"SEO  2020  SEO   AI  SEO   1,000  300%"}),s.jsxs("p",{className:"text-muted-foreground text-sm mt-4",children:["",s.jsx("strong",{className:"text-foreground",children:""}),""]})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"glass rounded-2xl p-8 md:p-12 mb-16 max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-8 text-center",children:""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ya,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{className:"text-foreground font-medium",children:""})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Ur,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{className:"text-foreground font-medium",children:"60475510"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Mu,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{className:"text-foreground font-medium",children:""})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(xu,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{className:"text-foreground font-medium",children:"671"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Ya,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{className:"text-foreground font-medium",children:"04-7776342 / 0980-434-242"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Ri,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{className:"text-foreground font-medium",children:"seobaike@aiforseo.vip"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(mu,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{className:"text-foreground font-medium",children:"115100981"})]})]})]})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-8 text-center",children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:LHe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+t*.1},className:"glass rounded-xl p-6 text-center hover:border-primary/30 transition-all",children:[s.jsx("div",{className:"w-12 h-12 mx-auto rounded-xl bg-primary/10 flex items-center justify-center mb-4",children:s.jsx(e.icon,{className:"w-6 h-6 text-primary"})}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.title))})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass rounded-2xl p-8 md:p-12 max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-8 text-center",children:""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Ya,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{className:"text-foreground font-medium",children:"04-7776342 / 0980-434-242"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Ri,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("div",{className:"text-foreground font-medium",children:"seobaike@aiforseo.vip"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(xu,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{className:"text-foreground font-medium",children:"671"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(Pn,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{className:"text-foreground font-medium",children:" 09:00-18:00"})]})]})]}),s.jsx("div",{className:"rounded-xl overflow-hidden h-64 md:h-auto",children:s.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3636.8!2d120.4!3d24.0!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMjTCsDAzJzAwLjAiTiAxMjDCsDI0JzAwLjAiRQ!5e0!3m2!1szh-TW!2stw!4v1234567890",width:"100%",height:"100%",style:{border:0,minHeight:"250px"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"",className:"grayscale opacity-80 hover:grayscale-0 hover:opacity-100 transition-all"})})]}),s.jsx("div",{className:"text-center",children:s.jsx(ye,{to:"/builder",children:s.jsx(B,{variant:"hero",size:"lg",children:""})})})]})]})})})),xx=({links:e,title:t="",className:n="",variant:r="default"})=>r==="compact"?s.jsx("nav",{className:`flex flex-wrap gap-4 ${n}`,"aria-label":"",children:e.map(i=>s.jsx(ye,{to:i.href,className:"text-primary hover:text-primary/80 underline underline-offset-4 transition-colors",children:i.label},i.href))}):r==="card"?s.jsxs("section",{className:n,"aria-label":t,children:[t&&s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:t}),s.jsx("nav",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(i=>s.jsxs(ye,{to:i.href,className:"group glass rounded-xl p-4 hover:bg-primary/5 transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-foreground group-hover:text-primary transition-colors",children:i.label}),s.jsx(mt,{className:"w-4 h-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all"})]}),i.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.description})]},i.href))})]}):s.jsxs("section",{className:n,"aria-label":t,children:[t&&s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:t}),s.jsx("nav",{className:"space-y-2",children:e.map(i=>s.jsxs(ye,{to:i.href,className:"flex items-center gap-2 text-primary hover:text-primary/80 transition-colors",children:[s.jsx(mt,{className:"w-4 h-4"}),s.jsx("span",{children:i.label})]},i.href))})]}),hC=[{href:"/",label:"",description:"AI "},{href:"/builder",label:"AI ",description:""},{href:"/pricing",label:"",description:""},{href:"/cases",label:"",description:""},{href:"/about",label:"",description:""}],hce=[{href:"/terms",label:""},{href:"/privacy",label:""},{href:"/about",label:""},{href:"/pricing",label:""},{href:"/cases",label:""}],Y=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:G("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Y.displayName="Card";const ue=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:G("flex flex-col space-y-1.5 p-6",e),...t}));ue.displayName="CardHeader";const me=x.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:G("text-2xl font-semibold leading-none tracking-tight",e),...t}));me.displayName="CardTitle";const dt=x.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:G("text-sm text-muted-foreground",e),...t}));dt.displayName="CardDescription";const Z=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:G("p-6 pt-0",e),...t}));Z.displayName="CardContent";const BHe=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:G("flex items-center p-6 pt-0",e),...t}));BHe.displayName="CardFooter";const UHe=()=>(yn({title:"SEOBAIKE  - AI ",description:" SEOBAIKE AI  No.115100981",keywords:"SEOBAIKE , AI, SEO, , ",canonical:"https://seobaike.com/terms",ogType:"website",schema:[In([{name:"",url:"https://seobaike.com/"},{name:"",url:"https://seobaike.com/terms"}]),{"@context":"https://schema.org","@type":"WebPage",name:"SEOBAIKE ",description:"SEOBAIKE AI ",publisher:{"@type":"Organization",name:"",logo:"https://seobaike.com/logo.png"}}]}),s.jsx(Ho,{children:s.jsx("article",{className:"py-16 md:py-24",children:s.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass rounded-2xl p-8 md:p-12",children:[s.jsxs("header",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2",children:"SEOBAIKE "}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"2026125"})]}),s.jsxs("div",{className:"prose prose-invert max-w-none space-y-8",children:[s.jsxs("section",{"aria-labelledby":"section-ip",children:[s.jsx("h2",{id:"section-ip",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed mb-4",children:[" SEO ",s.jsx("strong",{className:"text-foreground",children:""}),"60475510"]}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:[" AI-SEO ",s.jsx("strong",{className:"text-foreground",children:"115100981"})," 96 "]})]}),s.jsxs("section",{"aria-labelledby":"section-prohibited",children:[s.jsx("h2",{id:"section-prohibited",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:""}),s.jsxs("ul",{className:"list-decimal list-inside text-muted-foreground space-y-2",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{"aria-labelledby":"section-liability",children:[s.jsx("h2",{id:"section-liability",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:""})]}),s.jsxs("section",{"aria-labelledby":"section-service",children:[s.jsx("h2",{id:"section-service",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:" AI  AI-SEO  Google Lighthouse  90 "})]}),s.jsxs("section",{"aria-labelledby":"section-payment",children:[s.jsx("h2",{id:"section-payment",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:""})]}),s.jsxs("section",{"aria-labelledby":"section-disclaimer",children:[s.jsx("h2",{id:"section-disclaimer",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:" SEO "})]}),s.jsxs("section",{"aria-labelledby":"section-court",children:[s.jsx("h2",{id:"section-court",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:""})]}),s.jsxs("section",{"aria-labelledby":"section-amendment",children:[s.jsx("h2",{id:"section-amendment",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:""})]}),s.jsx("footer",{className:"pt-8 border-t border-border",children:s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("p",{className:"font-semibold text-foreground",children:""}),s.jsx("p",{children:"60475510"}),s.jsx("p",{children:"115100981"}),s.jsx("p",{children:"67"}),s.jsx("p",{children:"04-7776342 / 0980-434-242"}),s.jsx("p",{children:"Emailseobaike@aiforseo.vip"})]})})]}),s.jsxs("nav",{className:"mt-12 pt-8 border-t border-border","aria-label":"",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:""}),s.jsx(xx,{links:hce})]})]})})})})),zHe=()=>(yn({title:"SEOBAIKE  - ",description:" SEOBAIKE  SSL 256-bit ",keywords:"SEOBAIKE , , , Cookie, SSL, ",canonical:"https://seobaike.com/privacy",ogType:"website",schema:[In([{name:"",url:"https://seobaike.com/"},{name:"",url:"https://seobaike.com/privacy"}]),{"@context":"https://schema.org","@type":"WebPage",name:"SEOBAIKE ",description:"SEOBAIKE ",publisher:{"@type":"Organization",name:"",logo:"https://seobaike.com/logo.png"}}]}),s.jsx(Ho,{children:s.jsx("article",{className:"py-16 md:py-24",children:s.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass rounded-2xl p-8 md:p-12",children:[s.jsxs("header",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2",children:"SEOBAIKE "}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"2026125"})]}),s.jsxs("div",{className:"prose prose-invert max-w-none space-y-8",children:[s.jsxs("section",{"aria-labelledby":"section-collection",children:[s.jsx("h2",{id:"section-collection",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:""}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{className:"text-foreground",children:""}),"Email"]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-foreground",children:""}),""]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-foreground",children:""}),""]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-foreground",children:""}),"IP "]})]})]}),s.jsxs("section",{"aria-labelledby":"section-purpose",children:[s.jsx("h2",{id:"section-purpose",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{"aria-labelledby":"section-protection",children:[s.jsx("h2",{id:"section-protection",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[s.jsx("li",{children:"SSL 256-bit "}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{"aria-labelledby":"section-sharing",children:[s.jsx("h2",{id:"section-sharing",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:""}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{"aria-labelledby":"section-cookie",children:[s.jsx("h2",{id:"section-cookie",className:"text-xl font-semibold text-foreground mb-4",children:"Cookie "}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:" Cookie "}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{className:"text-foreground",children:" Cookie"}),""]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-foreground",children:" Cookie"}),""]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-foreground",children:" Cookie"}),""]})]})]}),s.jsxs("section",{"aria-labelledby":"section-rights",children:[s.jsx("h2",{id:"section-rights",className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:""}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]}),s.jsxs("p",{className:"text-muted-foreground leading-relaxed mt-4",children:["",s.jsx("strong",{className:"text-primary",children:"seobaike@aiforseo.vip"})]})]}),s.jsx("footer",{className:"pt-8 border-t border-border",children:s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("p",{className:"font-semibold text-foreground",children:""}),s.jsx("p",{children:"60475510"}),s.jsx("p",{children:"115100981"}),s.jsx("p",{children:"67"}),s.jsx("p",{children:"04-7776342 / 0980-434-242"})]})})]}),s.jsxs("nav",{className:"mt-12 pt-8 border-t border-border","aria-label":"",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:""}),s.jsx(xx,{links:hce})]})]})})})})),VHe="modulepreload",qHe=function(e){return"/"+e},L7={},mce=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=qHe(c),c in L7)return;L7[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":VHe,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},WHe=Fb("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ls=x.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:G(WHe({variant:t}),e),...n}));Ls.displayName="Alert";const xN=x.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:G("mb-1 font-medium leading-none tracking-tight",e),...t}));xN.displayName="AlertTitle";const $s=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:G("text-sm [&_p]:leading-relaxed",e),...t}));$s.displayName="AlertDescription";function HHe(){const[e,t]=x.useState(!1),[n,r]=x.useState(null),i=x.useCallback(async d=>{t(!0);try{const{data:u,error:h}=await ee.rpc("check_login_lockout",{p_email:d});if(h)return console.error("[SEOBAIKE-Auth] Lockout check failed:",h),{locked:!1};const m=u,f={locked:!!((m==null?void 0:m.locked)??!1),lockedUntil:m!=null&&m.locked_until?new Date(String(m.locked_until)):void 0,failedAttempts:Number((m==null?void 0:m.failed_attempts)??0),remainingSeconds:Number((m==null?void 0:m.remaining_seconds)??0),remainingAttempts:Number((m==null?void 0:m.remaining_attempts)??5)};if(r(f),f.locked){const p=Math.ceil((f.remainingSeconds||0)/60);q.error(` ${p} `)}return f}catch(u){return console.error("[SEOBAIKE-Auth] Lockout check error:",u),{locked:!1}}finally{t(!1)}},[]),a=x.useCallback(async(d,u)=>{try{const{data:h,error:m}=await ee.rpc("record_login_attempt",{p_email:d,p_success:u,p_ip_address:null,p_user_agent:navigator.userAgent});if(m)return console.error("[SEOBAIKE-Auth] Record login attempt failed:",m),{success:u,locked:!1};const f=h,p={success:!!((f==null?void 0:f.success)??u),locked:!!((f==null?void 0:f.locked)??!1),lockedUntil:f!=null&&f.locked_until?new Date(String(f.locked_until)):void 0,lockoutMinutes:Number((f==null?void 0:f.lockout_minutes)??0),remainingAttempts:Number((f==null?void 0:f.remaining_attempts)??5)};return p.locked?(r({locked:!0,lockedUntil:p.lockedUntil,remainingSeconds:(p.lockoutMinutes||0)*60}),p.lockoutMinutes===15?await o(d,5):p.lockoutMinutes===60&&await o(d,10)):!u&&p.remainingAttempts!==void 0&&p.remainingAttempts<=2&&q.warning(` ${p.remainingAttempts} `),p}catch(h){return console.error("[SEOBAIKE-Auth] Record login attempt error:",h),{success:u,locked:!1}}},[]),o=async(d,u)=>{try{await ee.functions.invoke("send-telegram",{body:{type:"security_alert",message:` 

: ${d.substring(0,3)}***
: ${u}
`}})}catch(h){console.error("[SEOBAIKE-Auth] Failed to send security alert:",h)}},l=x.useCallback(d=>d<60?`${d} `:`${Math.ceil(d/60)} `,[]),c=x.useCallback(()=>{r(null)},[]);return{checkLockout:i,recordLoginAttempt:a,lockoutStatus:n,isChecking:e,formatLockoutTime:l,clearLockout:c}}function fce(){const[e,t]=x.useState(!1),[n,r]=x.useState(!1);x.useEffect(()=>{{console.warn("[SEOBAIKE-Security] reCAPTCHA Site Key ");return}},[]);const i=x.useCallback(async a=>{const{action:o,minScore:l=.5}=a;return console.warn("[SEOBAIKE-Security] reCAPTCHA  Key"),{success:!0,score:1,action:o}},[e]);return{isLoaded:e,isLoading:n,executeRecaptcha:i}}const ry="seobaike_csrf_token",$7=30*60*1e3;function pce(){const{session:e}=Jt(),[t,n]=x.useState(null),[r,i]=x.useState(!1),a=x.useCallback(()=>{var m;const d=new Uint8Array(32);crypto.getRandomValues(d);const u=Array.from(d,f=>f.toString(16).padStart(2,"0")).join(""),h={token:u,createdAt:Date.now(),sessionId:((m=e==null?void 0:e.access_token)==null?void 0:m.substring(0,16))||"anonymous"};return sessionStorage.setItem(ry,JSON.stringify(h)),n(u),i(!0),u},[e==null?void 0:e.access_token]),o=x.useCallback(d=>{var u;try{const h=sessionStorage.getItem(ry);if(!h)return console.warn("[SEOBAIKE-Security] CSRF Token "),!1;const m=JSON.parse(h);if(Date.now()-m.createdAt>$7)return console.warn("[SEOBAIKE-Security] CSRF Token "),sessionStorage.removeItem(ry),i(!1),!1;const f=((u=e==null?void 0:e.access_token)==null?void 0:u.substring(0,16))||"anonymous";if(m.sessionId!==f)return console.warn("[SEOBAIKE-Security] CSRF Session "),!1;const p=m.token===d;return p||console.warn("[SEOBAIKE-Security] CSRF Token "),p}catch(h){return console.error("[SEOBAIKE-Security] CSRF :",h),!1}},[e==null?void 0:e.access_token]);x.useEffect(()=>{var u;const d=sessionStorage.getItem(ry);if(d)try{const h=JSON.parse(d),m=Date.now()-h.createdAt>$7,f=((u=e==null?void 0:e.access_token)==null?void 0:u.substring(0,16))||"anonymous",p=h.sessionId===f;if(!m&&p){n(h.token),i(!0);return}}catch{}a()},[e==null?void 0:e.access_token,a]);const l=x.useCallback(()=>(sessionStorage.removeItem(ry),a()),[a]),c=x.useCallback(()=>({"X-CSRF-Token":t||""}),[t]);return{token:t,isValid:r,validateToken:o,refreshToken:l,getTokenHeader:c}}function gce({token:e}){return e?s.jsx("input",{type:"hidden",name:"_csrf",value:e,autoComplete:"off"}):null}const KHe=x.lazy(()=>mce(()=>import("./LoginBackground-kFvKt6ME.js"),[])),GHe=x.lazy(()=>mce(()=>import("./MobileDevicePrompt-Bi45IbsQ.js"),[])),YHe=({texts:e,className:t})=>{const[n,r]=x.useState(0),[i,a]=x.useState(""),[o,l]=x.useState(!1);return x.useEffect(()=>{const c=e[n],d=setTimeout(()=>{o?i.length>0?a(i.slice(0,-1)):(l(!1),r(u=>(u+1)%e.length)):i.length<c.length?a(c.slice(0,i.length+1)):setTimeout(()=>l(!0),2e3)},o?50:100);return()=>clearTimeout(d)},[i,o,n,e]),s.jsxs("span",{className:t,children:[i,s.jsx(E.span,{animate:{opacity:[1,0]},transition:{duration:.5,repeat:1/0},className:"text-primary",children:"|"})]})},XHe=({children:e,delay:t=0,index:n=0})=>{const i=[{from:"from-cyan-400",via:"via-blue-500",to:"to-purple-600",glow:"cyan"},{from:"from-purple-400",via:"via-pink-500",to:"to-red-500",glow:"purple"},{from:"from-emerald-400",via:"via-teal-500",to:"to-cyan-600",glow:"emerald"},{from:"from-amber-400",via:"via-orange-500",to:"to-red-500",glow:"amber"}][n%4];return s.jsxs(E.div,{initial:{opacity:0,y:40,scale:.8,rotateX:-15},animate:{opacity:1,y:0,scale:1,rotateX:0},transition:{duration:.8,delay:t,type:"spring",stiffness:100,damping:15},whileHover:{scale:1.05,rotateY:5,z:50},className:"relative group perspective-1000",style:{transformStyle:"preserve-3d"},children:[s.jsx(E.div,{className:`absolute -inset-1 bg-gradient-to-r ${i.from} ${i.via} ${i.to} rounded-2xl opacity-0 group-hover:opacity-70 blur-xl transition-all duration-500`,animate:{scale:[1,1.1,1],opacity:[.3,.5,.3]},transition:{duration:3,repeat:1/0,delay:n*.5}}),s.jsx("div",{className:"absolute -inset-[2px] rounded-2xl overflow-hidden",children:s.jsx(E.div,{className:`absolute inset-0 bg-gradient-conic from-transparent via-${i.glow}-500 to-transparent`,animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},style:{background:`conic-gradient(from 0deg, transparent, ${i.glow==="cyan"?"#06b6d4":i.glow==="purple"?"#a855f7":i.glow==="emerald"?"#10b981":"#f59e0b"}, transparent)`}})}),s.jsx(E.div,{className:"absolute inset-0 rounded-2xl overflow-hidden pointer-events-none",initial:{opacity:0},whileHover:{opacity:1},children:s.jsx(E.div,{className:"absolute w-full h-[2px] bg-gradient-to-r from-transparent via-white to-transparent",animate:{top:["-10%","110%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})}),s.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-primary/60 rounded-tl-lg"}),s.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-primary/60 rounded-tr-lg"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-primary/60 rounded-bl-lg"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-primary/60 rounded-br-lg"}),s.jsxs("div",{className:"relative bg-card/90 backdrop-blur-2xl border border-white/10 rounded-2xl p-6 hover:border-primary/50 transition-all duration-500 overflow-hidden",children:[s.jsx(E.div,{className:`absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br ${i.from} ${i.to} rounded-full blur-3xl opacity-20 group-hover:opacity-40 transition-opacity duration-500`,animate:{scale:[1,1.2,1],x:[0,10,0],y:[0,-10,0]},transition:{duration:4,repeat:1/0}}),e]})]})},C2=({value:e,label:t,delay:n})=>s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n,duration:.5},className:"text-center",children:[s.jsx(E.div,{className:"text-3xl font-bold bg-gradient-to-r from-primary via-purple-400 to-pink-400 bg-clip-text text-transparent",animate:{textShadow:["0 0 10px hsl(var(--primary) / 0.5)","0 0 20px hsl(var(--primary) / 0.8)","0 0 10px hsl(var(--primary) / 0.5)"]},transition:{duration:2,repeat:1/0},children:e}),s.jsx("span",{className:"text-sm text-muted-foreground",children:t})]}),JHe=()=>{var P,R;const[e,t]=x.useState(!0),[n,r]=x.useState(!1),[i,a]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(!1),u=fqe(),{user:h,signIn:m,signUp:f}=Jt(),{checkLockout:p,recordLoginAttempt:g,lockoutStatus:y,formatLockoutTime:v,clearLockout:b}=HHe(),{executeRecaptcha:w,isLoading:S}=fce(),{token:j}=pce(),N=xn(),_=((R=(P=fs().state)==null?void 0:P.from)==null?void 0:R.pathname)||"/";yn({title:e?" - SEOBAIKE AI ":" - SEOBAIKE AI ",description:e?" SEOBAIKE  AI  SEO  AI ":" SEOBAIKE  AI  Lighthouse 90+ ",keywords:"SEOBAIKE,AI,SEO,",canonical:"https://aiforseo.vip/login",noindex:!0,schema:[In([{name:"",url:"https://aiforseo.vip/"},{name:"",url:"https://aiforseo.vip/login"}])]}),x.useEffect(()=>{h&&N(_,{replace:!0})},[h,N,_]);const C=async D=>{if(D.preventDefault(),!i||!o){q.error("");return}if(o.length<6){q.error("6");return}d(!0);try{const $=await w({action:e?"login":"register",minScore:.5});if(!$.success){q.error($.error||""),d(!1);return}if(e&&(await p(i)).locked){d(!1);return}if(e){const{error:M}=await m(i,o);if(M){const F=await g(i,!1);F.locked?q.error(` ${F.lockoutMinutes} `):M.message.includes("Invalid login credentials")?q.error(""):q.error(M.message)}else await g(i,!0),b(),q.success(""),N(_,{replace:!0})}else{const{error:M}=await f(i,o);M?M.message.includes("User already registered")?q.error(""):q.error(M.message):(q.success(" SEOBAIKE 50  "),N(_,{replace:!0}))}}catch{q.error("")}finally{d(!1)}},T=[{icon:Pn,title:"30 ",desc:"AI "},{icon:fn,title:" SEO ",desc:"Lighthouse 90+ "},{icon:sn,title:"",desc:"SSL  + DDoS "},{icon:cr,title:"",desc:""}],A=["30 AI ","Lighthouse 90+ ","",""];return s.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row relative overflow-hidden bg-[#0a0a15]",children:[s.jsx(x.Suspense,{fallback:s.jsx("div",{className:"fixed inset-0 -z-10 bg-[#0a0a15]",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-purple-500/10"})}),children:s.jsx(KHe,{})}),u&&s.jsx(x.Suspense,{fallback:null,children:s.jsx(GHe,{})}),s.jsx("div",{className:"w-full lg:w-1/2 flex flex-col justify-center px-6 py-12 lg:px-16 xl:px-24 relative z-10",children:u?s.jsxs("div",{className:"max-w-xl mx-auto lg:mx-0",children:[s.jsxs(ye,{to:"/",className:"inline-flex items-center gap-3 mb-8",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary flex items-center justify-center shadow-lg shadow-primary/30",children:s.jsx("span",{className:"text-primary-foreground font-bold text-3xl",children:"S"})}),s.jsx("span",{className:"text-3xl font-bold text-foreground",children:"SEOBAIKE"})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold leading-tight",children:[s.jsx("span",{className:"bg-gradient-to-r from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"AI + SEO"}),s.jsx("br",{}),s.jsx("span",{className:"text-foreground",children:""})]}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/30",children:[s.jsx(mu,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-primary",children:" 115100981 "})]})]}),s.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/40 mb-8",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(cn,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-foreground",children:" "}),s.jsx("p",{className:"text-xl font-bold bg-gradient-to-r from-primary to-purple-500 bg-clip-text text-transparent",children:"50 "})]})]})})]}):s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"max-w-xl mx-auto lg:mx-0",children:[s.jsx(E.div,{initial:{opacity:0,scale:.5,rotateY:-90},animate:{opacity:1,scale:1,rotateY:0},transition:{duration:.8,type:"spring",stiffness:100},children:s.jsxs(ye,{to:"/",className:"inline-flex items-center gap-4 mb-10 group",children:[s.jsxs(E.div,{className:"relative w-16 h-16 rounded-2xl bg-gradient-to-br from-primary via-purple-500 to-pink-500 flex items-center justify-center shadow-2xl",whileHover:{scale:1.1,rotate:5},animate:{boxShadow:["0 0 20px hsl(var(--primary) / 0.5)","0 0 40px hsl(var(--primary) / 0.8)","0 0 20px hsl(var(--primary) / 0.5)"]},transition:{duration:2,repeat:1/0},children:[s.jsx("span",{className:"text-white font-black text-4xl",children:"S"}),s.jsx(E.div,{className:"absolute inset-0 rounded-2xl border-2 border-white/30",animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0}})]}),s.jsx(E.span,{className:"text-4xl font-black text-white tracking-wider",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:"SEOBAIKE"})]})}),s.jsxs("div",{className:"space-y-6 mb-10",children:[s.jsxs(E.h1,{className:"text-4xl md:text-5xl lg:text-6xl font-black leading-tight",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:[s.jsx(E.span,{className:"inline-block bg-gradient-to-r from-primary via-purple-400 to-pink-400 bg-clip-text text-transparent",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},style:{backgroundSize:"200% 200%"},transition:{duration:5,repeat:1/0},children:"AI + SEO"}),s.jsx("br",{}),s.jsx("span",{className:"text-white",children:""})]}),s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"h-8",children:s.jsx(YHe,{texts:A,className:"text-xl text-primary/80 font-medium"})}),s.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6},whileHover:{scale:1.05},className:"inline-flex items-center gap-3 px-5 py-3 rounded-full bg-primary/10 border border-primary/40 backdrop-blur-sm",children:[s.jsx(E.div,{animate:{rotate:360},transition:{duration:10,repeat:1/0,ease:"linear"},children:s.jsx(mu,{className:"w-6 h-6 text-primary"})}),s.jsx("span",{className:"text-base font-semibold text-primary",children:"  115100981 "})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4 mb-10",children:T.map((D,$)=>{const F=[{bg:"from-cyan-500/30 to-blue-600/30",text:"text-cyan-400",glow:"#06b6d4"},{bg:"from-purple-500/30 to-pink-600/30",text:"text-purple-400",glow:"#a855f7"},{bg:"from-emerald-500/30 to-teal-600/30",text:"text-emerald-400",glow:"#10b981"},{bg:"from-amber-500/30 to-orange-600/30",text:"text-amber-400",glow:"#f59e0b"}][$%4];return s.jsx(XHe,{delay:.8+$*.2,index:$,children:s.jsxs(E.div,{className:"flex flex-col gap-3 relative z-10",children:[s.jsxs(E.div,{className:`relative w-14 h-14 rounded-2xl bg-gradient-to-br ${F.bg} flex items-center justify-center overflow-hidden`,animate:{boxShadow:[`0 0 0 ${F.glow}00`,`0 0 30px ${F.glow}80`,`0 0 0 ${F.glow}00`]},transition:{duration:2,delay:$*.3,repeat:1/0},whileHover:{rotate:[0,-10,10,0],scale:1.1},children:[s.jsx(E.div,{className:"absolute inset-0 rounded-2xl",style:{background:`conic-gradient(from 0deg, transparent 0%, ${F.glow}40 25%, transparent 50%)`},animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"}}),s.jsx(E.div,{className:"absolute inset-0 rounded-2xl border-2",style:{borderColor:F.glow},initial:{scale:1,opacity:.5},animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,delay:$*.25}}),s.jsx(D.icon,{className:`w-7 h-7 ${F.text} relative z-10 drop-shadow-lg`})]}),s.jsx(E.h3,{className:"font-bold text-white text-lg tracking-wide",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:1+$*.15,duration:.5},children:s.jsx(E.span,{animate:{textShadow:["0 0 0 transparent",`0 0 10px ${F.glow}`,"0 0 0 transparent"]},transition:{duration:2,repeat:1/0,delay:$*.5},children:D.title})}),s.jsx(E.p,{className:"text-sm text-white/70 leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2+$*.15,duration:.5},children:D.desc}),s.jsx(E.div,{className:"h-[2px] rounded-full mt-2",style:{background:`linear-gradient(to right, ${F.glow}, transparent)`},initial:{width:0},animate:{width:"60%"},transition:{delay:1.3+$*.15,duration:.8}})]})},D.title)})}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.3},whileHover:{scale:1.02},className:"relative p-5 rounded-2xl overflow-hidden",children:[s.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-primary/30 via-purple-500/30 to-pink-500/30",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},style:{backgroundSize:"200% 200%"},transition:{duration:3,repeat:1/0}}),s.jsx("div",{className:"absolute inset-0 backdrop-blur-sm border border-primary/40 rounded-2xl"}),s.jsxs("div",{className:"relative flex items-center gap-4",children:[s.jsx(E.div,{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary to-purple-500 flex items-center justify-center",animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:s.jsx(cn,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-white text-lg",children:" "}),s.jsx(E.p,{className:"text-3xl font-black bg-gradient-to-r from-primary via-purple-400 to-pink-400 bg-clip-text text-transparent",animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0},children:"50 "})]})]})]}),s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"flex items-center justify-between mt-10 pt-8 border-t border-white/10",children:[s.jsx(C2,{value:"1,000+",label:"",delay:1.6}),s.jsx("div",{className:"w-px h-12 bg-gradient-to-b from-transparent via-primary/50 to-transparent"}),s.jsx(C2,{value:"35+",label:"",delay:1.7}),s.jsx("div",{className:"w-px h-12 bg-gradient-to-b from-transparent via-primary/50 to-transparent"}),s.jsx(C2,{value:"90+",label:"SEO ",delay:1.8})]})]})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center px-6 py-12 lg:px-16 relative z-10",children:s.jsx(E.div,{initial:{opacity:0,x:30,scale:.95},animate:{opacity:1,x:0,scale:1},transition:{duration:.6,delay:.3},className:"w-full max-w-md",children:s.jsxs("div",{className:"relative",children:[s.jsx(E.div,{className:"absolute -inset-1 bg-gradient-to-r from-primary via-purple-500 to-pink-500 rounded-3xl opacity-30 blur-xl",animate:{opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0}}),s.jsxs("div",{className:"relative bg-black/40 backdrop-blur-2xl border border-white/10 rounded-3xl p-8 shadow-2xl",children:[(y==null?void 0:y.locked)&&s.jsxs(Ls,{variant:"destructive",className:"mb-6",children:[s.jsx(Wr,{className:"h-4 w-4"}),s.jsxs($s,{children:[" ",v(y.remainingSeconds||0)," "]})]}),s.jsxs(E.div,{className:"flex gap-2 mb-8 p-1.5 bg-white/5 rounded-xl border border-white/10",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[s.jsx(E.button,{onClick:()=>t(!0),className:`flex-1 py-3 text-center rounded-lg font-semibold transition-all ${e?"bg-gradient-to-r from-primary to-purple-500 text-white shadow-lg shadow-primary/30":"text-white/60 hover:text-white"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:""}),s.jsx(E.button,{onClick:()=>t(!1),className:`flex-1 py-3 text-center rounded-lg font-semibold transition-all ${e?"text-white/60 hover:text-white":"bg-gradient-to-r from-primary to-purple-500 text-white shadow-lg shadow-primary/30"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:""})]}),s.jsxs("form",{onSubmit:C,className:"space-y-5",children:[s.jsx(gce,{token:j}),s.jsxs(E.div,{className:"space-y-2",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:[s.jsx(Ee,{htmlFor:"email-form",className:"text-white/80",children:""}),s.jsxs("div",{className:"relative group",children:[s.jsx(Ri,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40 group-focus-within:text-primary transition-colors"}),s.jsx(xe,{id:"email-form",type:"email",placeholder:"your@email.com",className:"pl-12 h-14 bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-primary/50 focus:ring-primary/20 rounded-xl",value:i,onChange:D=>a(D.target.value),disabled:c})]})]}),s.jsxs(E.div,{className:"space-y-2",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},children:[s.jsx(Ee,{htmlFor:"password-form",className:"text-white/80",children:""}),s.jsxs("div",{className:"relative group",children:[s.jsx(gu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40 group-focus-within:text-primary transition-colors"}),s.jsx(xe,{id:"password-form",type:n?"text":"password",placeholder:"",className:"pl-12 pr-12 h-14 bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-primary/50 focus:ring-primary/20 rounded-xl",value:o,onChange:D=>l(D.target.value),disabled:c}),s.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/40 hover:text-white transition-colors",children:n?s.jsx(xM,{className:"w-5 h-5"}):s.jsx(Ga,{className:"w-5 h-5"})})]})]}),e&&s.jsx(E.div,{className:"text-right",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:s.jsx("button",{type:"button",className:"text-sm text-primary hover:text-primary/80 transition-colors",children:""})}),s.jsx(E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},children:s.jsxs(B,{type:"submit",className:"relative w-full h-14 text-lg font-bold rounded-xl overflow-hidden group",disabled:c||(y==null?void 0:y.locked),children:[s.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-primary via-purple-500 to-pink-500",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},style:{backgroundSize:"200% 200%"},transition:{duration:3,repeat:1/0}}),s.jsx("span",{className:"relative flex items-center justify-center gap-2",children:c?s.jsx(Ge,{className:"w-6 h-6 animate-spin"}):s.jsxs(s.Fragment,{children:[e?"":"  50 ",s.jsx(E.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0},children:""})]})})]})})]}),s.jsxs(E.div,{className:"relative my-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-white/10"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-transparent text-white/40",children:""})})]}),s.jsx(E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1},children:s.jsx(pqe,{isLoading:c,onLoadingChange:d})}),s.jsxs(E.p,{className:"text-center text-sm text-white/50 mt-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},children:[e?"":"",s.jsx("button",{onClick:()=>t(!e),className:"text-primary hover:text-primary/80 ml-1 font-semibold transition-colors",children:e?"":""})]})]})]})})})]})};var on;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(on||(on={}));var F7;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(F7||(F7={}));const Ke=on.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pd=e=>{switch(typeof e){case"undefined":return Ke.undefined;case"string":return Ke.string;case"number":return Number.isNaN(e)?Ke.nan:Ke.number;case"boolean":return Ke.boolean;case"function":return Ke.function;case"bigint":return Ke.bigint;case"symbol":return Ke.symbol;case"object":return Array.isArray(e)?Ke.array:e===null?Ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ke.promise:typeof Map<"u"&&e instanceof Map?Ke.map:typeof Set<"u"&&e instanceof Set?Ke.set:typeof Date<"u"&&e instanceof Date?Ke.date:Ke.object;default:return Ke.unknown}},_e=on.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Mc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(t){if(!(t instanceof Mc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,on.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Mc.create=e=>new Mc(e);const qO=(e,t)=>{let n;switch(e.code){case _e.invalid_type:e.received===Ke.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case _e.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,on.jsonStringifyReplacer)}`;break;case _e.unrecognized_keys:n=`Unrecognized key(s) in object: ${on.joinValues(e.keys,", ")}`;break;case _e.invalid_union:n="Invalid input";break;case _e.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${on.joinValues(e.options)}`;break;case _e.invalid_enum_value:n=`Invalid enum value. Expected ${on.joinValues(e.options)}, received '${e.received}'`;break;case _e.invalid_arguments:n="Invalid function arguments";break;case _e.invalid_return_type:n="Invalid function return type";break;case _e.invalid_date:n="Invalid date";break;case _e.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:on.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case _e.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case _e.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case _e.custom:n="Invalid input";break;case _e.invalid_intersection_types:n="Intersection results could not be merged";break;case _e.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case _e.not_finite:n="Number must be finite";break;default:n=t.defaultError,on.assertNever(e)}return{message:n}};let QHe=qO;function ZHe(){return QHe}const eKe=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...i,path:a,message:l}};function $e(e,t){const n=ZHe(),r=eKe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===qO?void 0:qO].filter(i=>!!i)});e.common.issues.push(r)}class pa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return jt;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return pa.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return jt;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const jt=Object.freeze({status:"aborted"}),Ly=e=>({status:"dirty",value:e}),Qa=e=>({status:"valid",value:e}),B7=e=>e.status==="aborted",U7=e=>e.status==="dirty",ug=e=>e.status==="valid",yN=e=>typeof Promise<"u"&&e instanceof Promise;var Je;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Je||(Je={}));class ku{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const z7=(e,t)=>{if(ug(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Mc(e.common.issues);return this._error=n,this._error}}};function Ft(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class an{get description(){return this._def.description}_getType(t){return pd(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:pd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pa,ctx:{common:t.parent.common,data:t.data,parsedType:pd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(yN(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:pd(t)},i=this._parseSync({data:t,path:r.path,parent:r});return z7(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:pd(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return ug(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>ug(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:pd(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(yN(i)?i:Promise.resolve(i));return z7(r,a)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=t(i),l=()=>a.addIssue({code:_e.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new mg({schema:this,typeName:Nt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return iu.create(this,this._def)}nullable(){return fg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yl.create(this)}promise(){return jN.create(this,this._def)}or(t){return bN.create([this,t],this._def)}and(t){return wN.create(this,t,this._def)}transform(t){return new mg({...Ft(this._def),schema:this,typeName:Nt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new HO({...Ft(this._def),innerType:this,defaultValue:n,typeName:Nt.ZodDefault})}brand(){return new SKe({typeName:Nt.ZodBranded,type:this,...Ft(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new KO({...Ft(this._def),innerType:this,catchValue:n,typeName:Nt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return mL.create(this,t)}readonly(){return GO.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tKe=/^c[^\s-]{8,}$/i,nKe=/^[0-9a-z]+$/,rKe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sKe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iKe=/^[a-z0-9_-]{21}$/i,aKe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oKe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lKe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cKe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let E2;const dKe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uKe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,hKe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mKe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fKe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pKe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xce="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gKe=new RegExp(`^${xce}$`);function yce(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function xKe(e){return new RegExp(`^${yce(e)}$`)}function yKe(e){let t=`${xce}T${yce(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function vKe(e,t){return!!((t==="v4"||!t)&&dKe.test(e)||(t==="v6"||!t)&&hKe.test(e))}function bKe(e,t){if(!aKe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function wKe(e,t){return!!((t==="v4"||!t)&&uKe.test(e)||(t==="v6"||!t)&&mKe.test(e))}class Ld extends an{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ke.string){const a=this._getOrReturnCtx(t);return $e(a,{code:_e.invalid_type,expected:Ke.string,received:a.parsedType}),jt}const r=new pa;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:_e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:_e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?$e(i,{code:_e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&$e(i,{code:_e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")lKe.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"email",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")E2||(E2=new RegExp(cKe,"u")),E2.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"emoji",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")sKe.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"uuid",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")iKe.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"nanoid",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")tKe.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"cuid",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")nKe.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"cuid2",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")rKe.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"ulid",code:_e.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),$e(i,{validation:"url",code:_e.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"regex",code:_e.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),$e(i,{code:_e.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),$e(i,{code:_e.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),$e(i,{code:_e.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?yKe(a).test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{code:_e.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?gKe.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{code:_e.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?xKe(a).test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{code:_e.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?oKe.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"duration",code:_e.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?vKe(t.data,a.version)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"ip",code:_e.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?bKe(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"jwt",code:_e.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?wKe(t.data,a.version)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"cidr",code:_e.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?fKe.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"base64",code:_e.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?pKe.test(t.data)||(i=this._getOrReturnCtx(t,i),$e(i,{validation:"base64url",code:_e.invalid_string,message:a.message}),r.dirty()):on.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:_e.invalid_string,...Je.errToObj(r)})}_addCheck(t){return new Ld({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Je.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Je.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Je.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Je.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Je.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Je.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Je.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Je.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Je.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Je.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Je.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Je.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Je.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Je.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Je.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Je.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Je.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Je.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Je.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Je.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Je.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Je.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Je.errToObj(n)})}nonempty(t){return this.min(1,Je.errToObj(t))}trim(){return new Ld({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ld({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ld({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ld.create=e=>new Ld({checks:[],typeName:Nt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ft(e)});function jKe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class C0 extends an{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ke.number){const a=this._getOrReturnCtx(t);return $e(a,{code:_e.invalid_type,expected:Ke.number,received:a.parsedType}),jt}let r;const i=new pa;for(const a of this._def.checks)a.kind==="int"?on.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{code:_e.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),$e(r,{code:_e.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),$e(r,{code:_e.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?jKe(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),$e(r,{code:_e.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{code:_e.not_finite,message:a.message}),i.dirty()):on.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Je.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Je.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Je.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Je.toString(n))}setLimit(t,n,r,i){return new C0({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Je.toString(i)}]})}_addCheck(t){return new C0({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Je.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Je.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Je.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Je.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Je.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Je.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&on.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}C0.create=e=>new C0({checks:[],typeName:Nt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ft(e)});class E0 extends an{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ke.bigint)return this._getInvalidInput(t);let r;const i=new pa;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),$e(r,{code:_e.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),$e(r,{code:_e.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),$e(r,{code:_e.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):on.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return $e(n,{code:_e.invalid_type,expected:Ke.bigint,received:n.parsedType}),jt}gte(t,n){return this.setLimit("min",t,!0,Je.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Je.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Je.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Je.toString(n))}setLimit(t,n,r,i){return new E0({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Je.toString(i)}]})}_addCheck(t){return new E0({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Je.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Je.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Je.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Je.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Je.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}E0.create=e=>new E0({checks:[],typeName:Nt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ft(e)});class V7 extends an{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ke.boolean){const r=this._getOrReturnCtx(t);return $e(r,{code:_e.invalid_type,expected:Ke.boolean,received:r.parsedType}),jt}return Qa(t.data)}}V7.create=e=>new V7({typeName:Nt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ft(e)});class vN extends an{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ke.date){const a=this._getOrReturnCtx(t);return $e(a,{code:_e.invalid_type,expected:Ke.date,received:a.parsedType}),jt}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return $e(a,{code:_e.invalid_date}),jt}const r=new pa;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:_e.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),$e(i,{code:_e.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):on.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new vN({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Je.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Je.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}vN.create=e=>new vN({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Nt.ZodDate,...Ft(e)});class q7 extends an{_parse(t){if(this._getType(t)!==Ke.symbol){const r=this._getOrReturnCtx(t);return $e(r,{code:_e.invalid_type,expected:Ke.symbol,received:r.parsedType}),jt}return Qa(t.data)}}q7.create=e=>new q7({typeName:Nt.ZodSymbol,...Ft(e)});class W7 extends an{_parse(t){if(this._getType(t)!==Ke.undefined){const r=this._getOrReturnCtx(t);return $e(r,{code:_e.invalid_type,expected:Ke.undefined,received:r.parsedType}),jt}return Qa(t.data)}}W7.create=e=>new W7({typeName:Nt.ZodUndefined,...Ft(e)});class H7 extends an{_parse(t){if(this._getType(t)!==Ke.null){const r=this._getOrReturnCtx(t);return $e(r,{code:_e.invalid_type,expected:Ke.null,received:r.parsedType}),jt}return Qa(t.data)}}H7.create=e=>new H7({typeName:Nt.ZodNull,...Ft(e)});class K7 extends an{constructor(){super(...arguments),this._any=!0}_parse(t){return Qa(t.data)}}K7.create=e=>new K7({typeName:Nt.ZodAny,...Ft(e)});class G7 extends an{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Qa(t.data)}}G7.create=e=>new G7({typeName:Nt.ZodUnknown,...Ft(e)});class _u extends an{_parse(t){const n=this._getOrReturnCtx(t);return $e(n,{code:_e.invalid_type,expected:Ke.never,received:n.parsedType}),jt}}_u.create=e=>new _u({typeName:Nt.ZodNever,...Ft(e)});class Y7 extends an{_parse(t){if(this._getType(t)!==Ke.undefined){const r=this._getOrReturnCtx(t);return $e(r,{code:_e.invalid_type,expected:Ke.void,received:r.parsedType}),jt}return Qa(t.data)}}Y7.create=e=>new Y7({typeName:Nt.ZodVoid,...Ft(e)});class yl extends an{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==Ke.array)return $e(n,{code:_e.invalid_type,expected:Ke.array,received:n.parsedType}),jt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&($e(n,{code:o?_e.too_big:_e.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&($e(n,{code:_e.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&($e(n,{code:_e.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new ku(n,o,n.path,l)))).then(o=>pa.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new ku(n,o,n.path,l)));return pa.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new yl({...this._def,minLength:{value:t,message:Je.toString(n)}})}max(t,n){return new yl({...this._def,maxLength:{value:t,message:Je.toString(n)}})}length(t,n){return new yl({...this._def,exactLength:{value:t,message:Je.toString(n)}})}nonempty(t){return this.min(1,t)}}yl.create=(e,t)=>new yl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Nt.ZodArray,...Ft(t)});function xf(e){if(e instanceof yr){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=iu.create(xf(r))}return new yr({...e._def,shape:()=>t})}else return e instanceof yl?new yl({...e._def,type:xf(e.element)}):e instanceof iu?iu.create(xf(e.unwrap())):e instanceof fg?fg.create(xf(e.unwrap())):e instanceof xm?xm.create(e.items.map(t=>xf(t))):e}class yr extends an{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=on.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Ke.object){const d=this._getOrReturnCtx(t);return $e(d,{code:_e.invalid_type,expected:Ke.object,received:d.parsedType}),jt}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof _u&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ku(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof _u){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")l.length>0&&($e(i,{code:_e.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ku(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>pa.mergeObjectSync(r,d)):pa.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Je.errToObj,new yr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Je.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new yr({...this._def,unknownKeys:"strip"})}passthrough(){return new yr({...this._def,unknownKeys:"passthrough"})}extend(t){return new yr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new yr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Nt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new yr({...this._def,catchall:t})}pick(t){const n={};for(const r of on.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new yr({...this._def,shape:()=>n})}omit(t){const n={};for(const r of on.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new yr({...this._def,shape:()=>n})}deepPartial(){return xf(this)}partial(t){const n={};for(const r of on.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new yr({...this._def,shape:()=>n})}required(t){const n={};for(const r of on.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof iu;)a=a._def.innerType;n[r]=a}return new yr({...this._def,shape:()=>n})}keyof(){return vce(on.objectKeys(this.shape))}}yr.create=(e,t)=>new yr({shape:()=>e,unknownKeys:"strip",catchall:_u.create(),typeName:Nt.ZodObject,...Ft(t)});yr.strictCreate=(e,t)=>new yr({shape:()=>e,unknownKeys:"strict",catchall:_u.create(),typeName:Nt.ZodObject,...Ft(t)});yr.lazycreate=(e,t)=>new yr({shape:e,unknownKeys:"strip",catchall:_u.create(),typeName:Nt.ZodObject,...Ft(t)});class bN extends an{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Mc(l.ctx.common.issues));return $e(n,{code:_e.invalid_union,unionErrors:o}),jt}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Mc(c));return $e(n,{code:_e.invalid_union,unionErrors:l}),jt}}get options(){return this._def.options}}bN.create=(e,t)=>new bN({options:e,typeName:Nt.ZodUnion,...Ft(t)});function WO(e,t){const n=pd(e),r=pd(t);if(e===t)return{valid:!0,data:e};if(n===Ke.object&&r===Ke.object){const i=on.objectKeys(t),a=on.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=WO(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Ke.array&&r===Ke.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=WO(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Ke.date&&r===Ke.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class wN extends an{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(a,o)=>{if(B7(a)||B7(o))return jt;const l=WO(a.value,o.value);return l.valid?((U7(a)||U7(o))&&n.dirty(),{status:n.value,value:l.data}):($e(r,{code:_e.invalid_intersection_types}),jt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}wN.create=(e,t,n)=>new wN({left:e,right:t,typeName:Nt.ZodIntersection,...Ft(n)});class xm extends an{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ke.array)return $e(r,{code:_e.invalid_type,expected:Ke.array,received:r.parsedType}),jt;if(r.data.length<this._def.items.length)return $e(r,{code:_e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),jt;!this._def.rest&&r.data.length>this._def.items.length&&($e(r,{code:_e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ku(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>pa.mergeArray(n,o)):pa.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new xm({...this._def,rest:t})}}xm.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xm({items:e,typeName:Nt.ZodTuple,rest:null,...Ft(t)})};class X7 extends an{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ke.map)return $e(r,{code:_e.invalid_type,expected:Ke.map,received:r.parsedType}),jt;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new ku(r,l,r.path,[d,"key"])),value:a._parse(new ku(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return jt;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return jt;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}X7.create=(e,t,n)=>new X7({valueType:t,keyType:e,typeName:Nt.ZodMap,...Ft(n)});class T0 extends an{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ke.set)return $e(r,{code:_e.invalid_type,expected:Ke.set,received:r.parsedType}),jt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&($e(r,{code:_e.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&($e(r,{code:_e.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return jt;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new ku(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new T0({...this._def,minSize:{value:t,message:Je.toString(n)}})}max(t,n){return new T0({...this._def,maxSize:{value:t,message:Je.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}T0.create=(e,t)=>new T0({valueType:e,minSize:null,maxSize:null,typeName:Nt.ZodSet,...Ft(t)});class J7 extends an{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}J7.create=(e,t)=>new J7({getter:e,typeName:Nt.ZodLazy,...Ft(t)});class Q7 extends an{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return $e(n,{received:n.data,code:_e.invalid_literal,expected:this._def.value}),jt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Q7.create=(e,t)=>new Q7({value:e,typeName:Nt.ZodLiteral,...Ft(t)});function vce(e,t){return new hg({values:e,typeName:Nt.ZodEnum,...Ft(t)})}class hg extends an{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return $e(n,{expected:on.joinValues(r),received:n.parsedType,code:_e.invalid_type}),jt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return $e(n,{received:n.data,code:_e.invalid_enum_value,options:r}),jt}return Qa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return hg.create(t,{...this._def,...n})}exclude(t,n=this._def){return hg.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}hg.create=vce;class Z7 extends an{_parse(t){const n=on.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Ke.string&&r.parsedType!==Ke.number){const i=on.objectValues(n);return $e(r,{expected:on.joinValues(i),received:r.parsedType,code:_e.invalid_type}),jt}if(this._cache||(this._cache=new Set(on.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=on.objectValues(n);return $e(r,{received:r.data,code:_e.invalid_enum_value,options:i}),jt}return Qa(t.data)}get enum(){return this._def.values}}Z7.create=(e,t)=>new Z7({values:e,typeName:Nt.ZodNativeEnum,...Ft(t)});class jN extends an{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.promise&&n.common.async===!1)return $e(n,{code:_e.invalid_type,expected:Ke.promise,received:n.parsedType}),jt;const r=n.parsedType===Ke.promise?n.data:Promise.resolve(n.data);return Qa(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}jN.create=(e,t)=>new jN({type:e,typeName:Nt.ZodPromise,...Ft(t)});class mg extends an{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{$e(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return jt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?jt:c.status==="dirty"||n.value==="dirty"?Ly(c.value):c});{if(n.value==="aborted")return jt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?jt:l.status==="dirty"||n.value==="dirty"?Ly(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?jt:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?jt:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ug(o))return jt;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ug(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):jt);on.assertNever(i)}}mg.create=(e,t,n)=>new mg({schema:e,typeName:Nt.ZodEffects,effect:t,...Ft(n)});mg.createWithPreprocess=(e,t,n)=>new mg({schema:t,effect:{type:"preprocess",transform:e},typeName:Nt.ZodEffects,...Ft(n)});class iu extends an{_parse(t){return this._getType(t)===Ke.undefined?Qa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}iu.create=(e,t)=>new iu({innerType:e,typeName:Nt.ZodOptional,...Ft(t)});class fg extends an{_parse(t){return this._getType(t)===Ke.null?Qa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}fg.create=(e,t)=>new fg({innerType:e,typeName:Nt.ZodNullable,...Ft(t)});class HO extends an{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Ke.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}HO.create=(e,t)=>new HO({innerType:e,typeName:Nt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ft(t)});class KO extends an{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return yN(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Mc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Mc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}KO.create=(e,t)=>new KO({innerType:e,typeName:Nt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ft(t)});class eV extends an{_parse(t){if(this._getType(t)!==Ke.nan){const r=this._getOrReturnCtx(t);return $e(r,{code:_e.invalid_type,expected:Ke.nan,received:r.parsedType}),jt}return{status:"valid",value:t.data}}}eV.create=e=>new eV({typeName:Nt.ZodNaN,...Ft(e)});class SKe extends an{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class mL extends an{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?jt:a.status==="dirty"?(n.dirty(),Ly(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?jt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new mL({in:t,out:n,typeName:Nt.ZodPipeline})}}class GO extends an{_parse(t){const n=this._def.innerType._parse(t),r=i=>(ug(i)&&(i.value=Object.freeze(i.value)),i);return yN(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}GO.create=(e,t)=>new GO({innerType:e,typeName:Nt.ZodReadonly,...Ft(t)});yr.lazycreate;var Nt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Nt||(Nt={}));const tV=Ld.create;_u.create;yl.create;const NKe=yr.create;yr.strictCreate;bN.create;wN.create;xm.create;hg.create;jN.create;iu.create;fg.create;const kKe=NKe({email:tV().email(""),password:tV().min(6,"6")}),_Ke=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(""),[i,a]=x.useState(""),[o,l]=x.useState(!1),[c,d]=x.useState(null),u=xn();x.useEffect(()=>{const{data:{subscription:m}}=ee.auth.onAuthStateChange((f,p)=>{p!=null&&p.user&&u("/",{replace:!0})});return ee.auth.getSession().then(({data:{session:f}})=>{f!=null&&f.user&&u("/",{replace:!0})}),()=>m.unsubscribe()},[u]);const h=async m=>{m.preventDefault(),d(null);const f=kKe.safeParse({email:n,password:i});if(!f.success){d(f.error.errors[0].message);return}l(!0);try{const p=`${window.location.origin}/`,{data:g,error:y}=await ee.auth.signUp({email:n,password:i,options:{emailRedirectTo:p}});if(y){y.message.includes("User already registered")?d(""):d(y.message);return}g.user&&(q.success("  SEOBAIKE 50 "),u("/",{replace:!0}))}catch{d("")}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background px-4 py-12",children:[s.jsx("div",{className:"fixed inset-0 -z-10",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-purple-500/5"})}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs(ye,{to:"/",className:"inline-flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary flex items-center justify-center shadow-lg shadow-primary/30",children:s.jsx("span",{className:"text-primary-foreground font-bold text-2xl",children:"S"})}),s.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SEOBAIKE"})]})}),s.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8 shadow-xl",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:s.jsx(P8,{className:"w-8 h-8 text-primary"})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:""}),s.jsx("p",{className:"text-muted-foreground mt-2",children:" SEOBAIKE AI "})]}),s.jsxs(E.div,{initial:{scale:.95},animate:{scale:1},className:"flex items-center gap-3 p-4 rounded-xl bg-gradient-to-r from-primary/10 to-purple-500/10 border border-primary/20 mb-6",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:s.jsx(pu,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:""}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",s.jsx("span",{className:"text-primary font-bold",children:"50 "})]})]}),s.jsx(Ye,{className:"w-5 h-5 text-primary ml-auto"})]}),c&&s.jsx(Ls,{variant:"destructive",className:"mb-6",children:s.jsx($s,{children:c})}),s.jsxs("form",{onSubmit:h,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"email",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Ri,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(xe,{id:"email",type:"email",placeholder:"your@email.com",value:n,onChange:m=>r(m.target.value),className:"pl-10",required:!0,autoComplete:"email"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"password",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(gu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(xe,{id:"password",type:e?"text":"password",placeholder:" 6 ",value:i,onChange:m=>a(m.target.value),className:"pl-10 pr-10",required:!0,autoComplete:"new-password"}),s.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?s.jsx(xM,{className:"w-5 h-5"}):s.jsx(Ga,{className:"w-5 h-5"})})]})]}),s.jsx(B,{type:"submit",className:"w-full h-12 text-base font-semibold",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-5 h-5 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(P8,{className:"w-5 h-5 mr-2"}),""]})})]}),s.jsxs("p",{className:"text-center text-muted-foreground mt-6",children:[""," ",s.jsx(ye,{to:"/login",className:"text-primary font-medium hover:underline",children:""})]})]}),s.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:[""," ",s.jsx(ye,{to:"/terms",className:"text-primary hover:underline",children:""})," ",""," ",s.jsx(ye,{to:"/privacy",className:"text-primary hover:underline",children:""})]})]})]})};var mC="Checkbox",[CKe,o_t]=Ar(mC),[EKe,fL]=CKe(mC);function TKe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[m,f]=ua({prop:n,defaultProp:i??!1,onChange:c,caller:mC}),[p,g]=x.useState(null),[y,v]=x.useState(null),b=x.useRef(!1),w=p?!!o||!!p.closest("form"):!0,S={checked:m,disabled:a,setChecked:f,control:p,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:b,required:d,defaultChecked:au(i)?!1:i,isFormControl:w,bubbleInput:y,setBubbleInput:v};return s.jsx(EKe,{scope:t,...S,children:AKe(h)?h(S):r})}var bce="CheckboxTrigger",wce=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:f,bubbleInput:p}=fL(bce,e),g=ft(i,u),y=x.useRef(c);return x.useEffect(()=>{const v=a==null?void 0:a.form;if(v){const b=()=>h(y.current);return v.addEventListener("reset",b),()=>v.removeEventListener("reset",b)}},[a,h]),s.jsx(De.button,{type:"button",role:"checkbox","aria-checked":au(c)?"mixed":c,"aria-required":d,"data-state":_ce(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:ve(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:ve(n,v=>{h(b=>au(b)?!0:!b),p&&f&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})})});wce.displayName=bce;var pL=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return s.jsx(TKe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(wce,{...h,ref:t,__scopeCheckbox:n}),m&&s.jsx(kce,{__scopeCheckbox:n})]})})});pL.displayName=mC;var jce="CheckboxIndicator",Sce=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=fL(jce,n);return s.jsx(ms,{present:r||au(a.checked)||a.checked===!0,children:s.jsx(De.span,{"data-state":_ce(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});Sce.displayName=jce;var Nce="CheckboxBubbleInput",kce=x.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:f}=fL(Nce,e),p=ft(n,f),g=iC(a),y=y_(r);x.useEffect(()=>{const b=m;if(!b)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,N=!i.current;if(g!==a&&j){const k=new Event("click",{bubbles:N});b.indeterminate=au(a),j.call(b,au(a)?!1:a),b.dispatchEvent(k)}},[m,g,a,i]);const v=x.useRef(au(a)?!1:a);return s.jsx(De.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:p,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kce.displayName=Nce;function AKe(e){return typeof e=="function"}function au(e){return e==="indeterminate"}function _ce(e){return au(e)?"indeterminate":e?"checked":"unchecked"}const pg=x.forwardRef(({className:e,...t},n)=>s.jsx(pL,{ref:n,className:G("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Sce,{className:G("flex items-center justify-center text-current"),children:s.jsx(We,{className:"h-4 w-4"})})}));pg.displayName=pL.displayName;const nV=[{id:"article",name:"AI ",points:30,description:"SEO 1,500+ "},{id:"video",name:"AI ",points:50,description:"30 "},{id:"seo-check",name:"SEO ",points:10,description:" SEO "},{id:"image",name:"AI ",points:10,description:""},{id:"voice",name:"AI ",points:5,description:""}],PKe=()=>{const{formData:e}=sw(),[t,n]=x.useState([]),[r,i]=x.useState("credit"),a=8888,o=nV.filter(d=>t.includes(d.id)).reduce((d,u)=>d+u.points,0),l=a+o,c=d=>{n(u=>u.includes(d)?u.filter(h=>h!==d):[...u,d])};return s.jsx(Ho,{hideFooter:!0,children:s.jsx("div",{className:"min-h-screen bg-background py-8 md:py-16",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[s.jsxs("h1",{className:"text-2xl md:text-4xl font-bold text-foreground mb-4",children:["",s.jsx("span",{className:"text-gradient",children:""})]}),s.jsxs("p",{className:"text-muted-foreground text-sm md:text-base",children:[" ",e.companyNameCn||""," "]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"glass rounded-2xl p-4 md:p-6",children:[s.jsx("h2",{className:"text-lg md:text-xl font-semibold text-foreground mb-4",children:""}),s.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-border",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:" 7 "}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Lighthouse 90 "})]}),s.jsxs("div",{className:"text-lg font-semibold text-foreground",children:["NT$",a.toLocaleString(),""]})]})]}),s.jsxs("div",{className:"glass rounded-2xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ye,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg md:text-xl font-semibold text-foreground",children:""})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"1  = NT$1"}),s.jsx("div",{className:"space-y-3",children:nV.map(d=>s.jsxs("div",{className:`flex items-start gap-3 md:gap-4 p-3 md:p-4 rounded-xl border transition-all cursor-pointer ${t.includes(d.id)?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>c(d.id),children:[s.jsx(pg,{checked:t.includes(d.id),onCheckedChange:()=>c(d.id),className:"mt-1"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-foreground text-sm md:text-base",children:d.name}),s.jsx("div",{className:"text-xs md:text-sm text-muted-foreground",children:d.description})]}),s.jsxs("div",{className:"text-primary font-semibold text-sm md:text-base whitespace-nowrap",children:[d.points," "]})]},d.id))})]}),s.jsxs("div",{className:"glass rounded-2xl p-4 md:p-6",children:[s.jsx("h2",{className:"text-lg md:text-xl font-semibold text-foreground mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 md:gap-3",children:[s.jsxs("button",{onClick:()=>i("credit"),className:`flex flex-col items-center gap-2 p-3 md:p-4 rounded-xl border transition-all ${r==="credit"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx("span",{className:"text-xl md:text-2xl",children:""}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-foreground text-xs md:text-sm",children:""}),s.jsx("div",{className:"text-xs text-muted-foreground hidden md:block",children:"Visa/Master/JCB"})]}),r==="credit"&&s.jsx(We,{className:"w-4 h-4 text-primary"})]}),s.jsxs("button",{onClick:()=>i("atm"),className:`flex flex-col items-center gap-2 p-3 md:p-4 rounded-xl border transition-all ${r==="atm"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx("span",{className:"text-xl md:text-2xl",children:""}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-foreground text-xs md:text-sm",children:"ATM "}),s.jsx("div",{className:"text-xs text-muted-foreground hidden md:block",children:""})]}),r==="atm"&&s.jsx(We,{className:"w-4 h-4 text-primary"})]}),s.jsxs("button",{onClick:()=>i("cvs"),className:`flex flex-col items-center gap-2 p-3 md:p-4 rounded-xl border transition-all ${r==="cvs"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx("span",{className:"text-xl md:text-2xl",children:""}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-foreground text-xs md:text-sm",children:""}),s.jsx("div",{className:"text-xs text-muted-foreground hidden md:block",children:""})]}),r==="cvs"&&s.jsx(We,{className:"w-4 h-4 text-primary"})]}),s.jsxs("button",{onClick:()=>i("linepay"),className:`flex flex-col items-center gap-2 p-3 md:p-4 rounded-xl border transition-all ${r==="linepay"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx("span",{className:"text-xl md:text-2xl",children:""}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-foreground text-xs md:text-sm",children:"LINE Pay"}),s.jsx("div",{className:"text-xs text-muted-foreground hidden md:block",children:""})]}),r==="linepay"&&s.jsx(We,{className:"w-4 h-4 text-primary"})]}),s.jsxs("button",{onClick:()=>i("jkopay"),className:`flex flex-col items-center gap-2 p-3 md:p-4 rounded-xl border transition-all ${r==="jkopay"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx("span",{className:"text-xl md:text-2xl",children:""}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-foreground text-xs md:text-sm",children:""}),s.jsx("div",{className:"text-xs text-muted-foreground hidden md:block",children:""})]}),r==="jkopay"&&s.jsx(We,{className:"w-4 h-4 text-primary"})]})]}),r==="atm"&&s.jsx("div",{className:"mt-4 p-4 rounded-lg bg-muted/50 text-sm text-muted-foreground",children:s.jsx("p",{children:" ATM  24 "})}),r==="cvs"&&s.jsx("div",{className:"mt-4 p-4 rounded-lg bg-muted/50 text-sm text-muted-foreground",children:s.jsx("p",{children:" 7-11OK "})}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-xs text-muted-foreground",children:[s.jsx(sn,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:" ECPay "})]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"glass rounded-2xl p-4 md:p-6 sticky top-24",children:[s.jsx("h2",{className:"text-lg md:text-xl font-semibold text-foreground mb-4",children:""}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"text-foreground",children:["NT$",a.toLocaleString()]})]}),t.length>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"text-foreground",children:[o," "]})]}),s.jsx("div",{className:"border-t border-border pt-3",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-semibold text-foreground",children:""}),s.jsxs("span",{className:"text-xl md:text-2xl font-bold text-gradient",children:["NT$",l.toLocaleString()]})]})})]}),s.jsxs(B,{variant:"outline",size:"lg",className:"w-full gap-2 opacity-70",disabled:!0,children:[s.jsx(Pn,{className:"w-4 h-4"}),""]}),s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:""}),s.jsx("div",{className:"mt-6 pt-4 border-t border-border",children:s.jsxs("div",{className:"text-xs text-muted-foreground space-y-2",children:[s.jsx("p",{className:"font-medium text-foreground",children:""}),s.jsx("p",{children:""}),s.jsx("p",{children:"60475510"}),s.jsxs("div",{className:"mt-3 p-3 bg-primary/5 rounded-lg",children:[s.jsx("p",{className:"font-medium text-foreground flex items-center gap-1",children:" "}),s.jsx("p",{className:"text-muted-foreground mt-1",children:" 3  Email"})]})]})})]})})]})]})})})})},IKe=[{icon:Tt,title:"AI ",description:"30  Lighthouse 90  RWD  SEO ",points:"8,888 ",features:["30 ","Lighthouse 90+ ","RWD "," SSL"],color:"from-purple-500 to-indigo-600"},{icon:ma,title:"AI ",description:" AI ",points:"10 /",features:["","","",""],color:"from-pink-500 to-rose-600"},{icon:ng,title:"AI ",description:" SEO  YouTube ",points:"50 /",features:["","SEO ","YouTube ",""],color:"from-amber-500 to-orange-600"},{icon:fn,title:"SEO ",description:" SEO  SEO",points:"5 /",features:["10 ","","",""],color:"from-emerald-500 to-teal-600"},{icon:Mi,title:"",description:" CDN SSL DNS ",points:"",features:[" CDN"," SSL","DNS ","99.9% "],color:"from-blue-500 to-cyan-600"}],OKe=[{icon:cn,title:"",description:""},{icon:sn,title:"",description:"Lighthouse 90 "},{icon:Pn,title:"24/7 ",description:"AI "}],RKe=()=>(yn({title:"SEOBAIKE  - AI SEO ",description:"SEOBAIKE  AI AI AI SEO ",keywords:"AI , AI , AI , SEO , , SEOBAIKE ",canonical:"https://aiforseo.vip/services",ogType:"website",schema:[In([{name:"",url:"https://aiforseo.vip/"},{name:"",url:"https://aiforseo.vip/services"}])]}),s.jsx(Ho,{children:s.jsxs("div",{className:"min-h-screen",children:[s.jsx("section",{className:"py-16 md:py-24 bg-gradient-to-b from-primary/5 to-background",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-foreground mb-6",children:"SEOBAIKE "}),s.jsxs("p",{className:"text-lg text-muted-foreground mb-8",children:[" AI-SEO ",s.jsx("br",{}),""]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:OKe.map((e,t)=>s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10",children:[s.jsx(e.icon,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm font-medium",children:e.title})]},t))})]})})}),s.jsx("section",{className:"py-16 md:py-24",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid gap-8",children:IKe.map((e,t)=>s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.1},className:"glass rounded-2xl p-6 md:p-8 hover:shadow-xl transition-all",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${e.color} flex items-center justify-center flex-shrink-0`,children:s.jsx(e.icon,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-3",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-foreground",children:e.title}),s.jsx("span",{className:"inline-flex px-4 py-1 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:e.points})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:e.description}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.features.map(n=>s.jsxs("span",{className:"px-3 py-1 rounded-full bg-muted text-muted-foreground text-sm",children:[" ",n]},n))})]})]})},e.title))})})}),s.jsx("section",{className:"py-16 md:py-24 bg-gradient-to-b from-background to-primary/5",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground mb-8",children:""}),s.jsx(ye,{to:"/pricing",children:s.jsxs(B,{variant:"hero",size:"lg",className:"gap-2",children:["",s.jsx(mt,{className:"w-5 h-5"})]})})]}),s.jsx("div",{className:"mt-16",children:s.jsx(xx,{links:hC,title:"",variant:"card"})})]})})]})})),MKe=[{id:1,title:"2026  SEO AI ",excerpt:" AI  SEO ",date:"2026-01-20",readTime:"8 ",category:"SEO ",image:"/placeholder.svg"},{id:2,title:"Lighthouse  90  10 ",excerpt:" Lighthouse  SEO ",date:"2026-01-18",readTime:"12 ",category:" SEO",image:"/placeholder.svg"},{id:3,title:" AI ",excerpt:" AI ",date:"2026-01-15",readTime:"6 ",category:"",image:"/placeholder.svg"},{id:4,title:"Schema Markup  Google ",excerpt:"",date:"2026-01-12",readTime:"10 ",category:" SEO",image:"/placeholder.svg"},{id:5,title:"YouTube SEO ",excerpt:" YouTube  SEO ",date:"2026-01-10",readTime:"7 ",category:"",image:"/placeholder.svg"},{id:6,title:"Core Web Vitals 2026 ",excerpt:"Google  Core Web Vitals ",date:"2026-01-08",readTime:"9 ",category:" SEO",image:"/placeholder.svg"}],DKe=()=>(yn({title:"SEO  - SEOBAIKE ",description:" SEO AI SEOBAIKE ",keywords:"SEO , SEO , AI , Lighthouse ,  SEO",canonical:"https://aiforseo.vip/blog",ogType:"website",schema:[In([{name:"",url:"https://aiforseo.vip/"},{name:"",url:"https://aiforseo.vip/blog"}])]}),s.jsx(Ho,{children:s.jsxs("div",{className:"min-h-screen",children:[s.jsx("section",{className:"py-16 md:py-24 bg-gradient-to-b from-primary/5 to-background",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-foreground mb-6",children:"SEO "}),s.jsxs("p",{className:"text-lg text-muted-foreground",children:[" SEO ",s.jsx("br",{}),""]})]})})}),s.jsx("section",{className:"py-16 md:py-24",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:MKe.map((e,t)=>s.jsxs(E.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.1},className:"glass rounded-2xl overflow-hidden hover:shadow-xl transition-all group cursor-pointer",children:[s.jsxs("div",{className:"aspect-video bg-gradient-to-br from-primary/20 to-primary/5 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:"text-4xl opacity-50",children:""})}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("span",{className:"px-3 py-1 rounded-full bg-primary/90 text-primary-foreground text-xs font-medium",children:e.category})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-foreground mb-3 group-hover:text-primary transition-colors line-clamp-2",children:e.title}),s.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2",children:e.excerpt}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Tc,{className:"w-3 h-3"}),e.date]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pn,{className:"w-3 h-3"}),e.readTime]})]}),s.jsx(mt,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},e.id))}),s.jsx(E.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"mt-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:""})})]})}),s.jsx("section",{className:"py-16 bg-muted/30",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx(xx,{links:hC,title:"",variant:"card"})})})]})})),LKe=["script","iframe","object","embed","form","input","button","link","style","base","meta","svg","math"],$Ke=["onclick","onerror","onload","onmouseover","onfocus","onblur","onchange","onsubmit","onreset","onselect","onkeydown","onkeyup","onkeypress","onmousedown","onmouseup","javascript:","data:","vbscript:"];function rV(e){if(!e||typeof e!="string")return"";let t=e;return t=t.replace(/\0/g,""),LKe.forEach(n=>{const r=new RegExp(`<${n}[^>]*>.*?</${n}>|<${n}[^>]*/>|<${n}[^>]*>`,"gi");t=t.replace(r,"")}),$Ke.forEach(n=>{const r=new RegExp(`${n}\\s*=\\s*["'][^"']*["']|${n}\\s*=\\s*[^\\s>]+`,"gi");t=t.replace(r,"")}),t=t.replace(/javascript:/gi,""),t=t.replace(/data:text\/html/gi,""),t=t.replace(/vbscript:/gi,""),t.trim()}function FKe(e){return!(!e||typeof e!="string"||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||e.length>254||/[<>"']/.test(e))}const sV=[{value:"account",label:"//"},{value:"points",label:"//"},{value:"order",label:"//"},{value:"feature",label:"//"},{value:"consult",label:"//"},{value:"other",label:""}],BKe=[{icon:Ri,label:"Email",value:"seobaike@aiforseo.vip",href:"mailto:seobaike@aiforseo.vip",description:"24 "},{icon:ha,label:"LINE ",value:"@729zaaaq",href:"https://line.me/R/ti/p/@729zaaaq",description:""},{icon:xu,label:"",value:"67",href:"https://maps.google.com/?q=67",description:""}],UKe=()=>{const[e,t]=x.useState({name:"",email:"",issueType:"",message:""}),[n,r]=x.useState(!1),[i,a]=x.useState(!1),{executeRecaptcha:o}=fce(),{token:l}=pce(),{validateHoneypot:c}=ROe();yn({title:" SEOBAIKE - ",description:" SEOBAIKE Email: seobaike@aiforseo.vipLINE @729zaaaq24  AI SEO ",keywords:"SEOBAIKE , , LINE, Email, AI ",canonical:"https://aiforseo.vip/contact",ogType:"website",schema:[In([{name:"",url:"https://aiforseo.vip/"},{name:"",url:"https://aiforseo.vip/contact"}]),nC()]});const d=m=>{const f={how_to:["","","","","",""],why:["","","",""],error:["","","","","","","",""],suggestion:["","","","","",""]};for(const[p,g]of Object.entries(f))for(const y of g)if(m.includes(y))return p;return"other"},u=m=>["","","","","","","","","","","","","","","","","","",""].filter(p=>m.includes(p)).slice(0,10),h=async m=>{var g;m.preventDefault();const f=m.target,p={};if(["website","company","fax"].forEach(y=>{const v=f.elements.namedItem(y);v&&(p[y]=v.value)}),!c(p)){q.success(" 24 ");return}if(!e.name||!e.email||!e.issueType){q.error("");return}if(!FKe(e.email)){q.error(" Email ");return}r(!0);try{const y=await o({action:"contact",minScore:.5});if(!y.success){q.error(y.error||""),r(!1);return}const v=((g=sV.find(_=>_.value===e.issueType))==null?void 0:g.label)||e.issueType,b=rV(e.name),w=rV(e.message||""),S=d(w),j=u(w),[N,k]=await Promise.all([ee.functions.invoke("send-telegram",{body:{type:"contact_form",data:{name:b,email:e.email,issueType:v,message:w}}}),ee.from("customer_feedback").insert({category:e.issueType,question_type:S,email:e.email,name:b,description:w,from_ai_chat:!1,keywords:j,sentiment:"neutral",priority:"normal"})]);N.error&&console.error("Telegram error:",N.error),k.error&&console.error("Feedback save error:",k.error),q.success(" 24 "),t({name:"",email:"",issueType:"",message:""}),a(!1)}catch(y){console.error("[SEOBAIKE] :",y),q.error(" LINE ")}finally{r(!1)}};return s.jsx(Ho,{children:s.jsxs("div",{className:"min-h-screen",children:[s.jsx("section",{className:"py-16 md:py-24 bg-gradient-to-b from-primary/5 to-background",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-foreground mb-6",children:" SEOBAIKE"}),s.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:""}),s.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-primary/10 text-primary font-medium",children:[s.jsx(Pn,{className:"w-5 h-5"}),s.jsx("span",{children:"24 "})]})]})})}),s.jsx("section",{className:"py-16 md:py-24",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[s.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-8",children:""}),s.jsx("div",{className:"space-y-6",children:BKe.map((m,f)=>s.jsxs(E.a,{href:m.href,target:m.href.startsWith("http")?"_blank":void 0,rel:m.href.startsWith("http")?"noopener noreferrer":void 0,initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:f*.1},className:"flex items-start gap-4 p-4 rounded-xl glass hover:bg-primary/5 transition-all group",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0 group-hover:bg-primary/20 transition-colors",children:s.jsx(m.icon,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:m.label}),m.href.startsWith("http")&&s.jsx(Br,{className:"w-3 h-3 text-muted-foreground"})]}),s.jsx("div",{className:"text-foreground font-semibold",children:m.value}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:m.description})]})]},m.label))}),s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-8 p-6 rounded-xl glass",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ya,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold text-foreground",children:""})]}),s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-foreground",children:""}),""]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-foreground",children:""}),"60475510"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-foreground",children:""}),"115100981"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-foreground",children:""}),"67"]})]})]}),s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-6",children:s.jsxs("a",{href:"https://line.me/R/ti/p/@729zaaaq",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-[#06C755] text-white font-medium hover:bg-[#05b04c] transition-colors",children:[s.jsx(ha,{className:"w-5 h-5"})," LINE  @729zaaaq"]})})]}),s.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-8",children:""}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsx(MOe,{}),s.jsx(gce,{token:l}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:" *"}),s.jsx(xe,{id:"name",type:"text",value:e.name,onChange:m=>t({...e,name:m.target.value}),placeholder:"",required:!0,maxLength:50})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email *"}),s.jsx(xe,{id:"email",type:"email",value:e.email,onChange:m=>t({...e,email:m.target.value}),placeholder:" Email",required:!0,maxLength:100})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"issueType",className:"block text-sm font-medium text-foreground mb-2",children:" *"}),s.jsxs(Al,{value:e.issueType,onValueChange:m=>t({...e,issueType:m}),children:[s.jsx(Vo,{className:"w-full bg-background",children:s.jsx(Pl,{placeholder:""})}),s.jsx(qo,{className:"bg-background border border-border z-50",children:sV.map(m=>s.jsx(Zr,{value:m.value,children:m.label},m.value))})]})]}),s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>a(!i),className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[s.jsx(qr,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`}),""]}),s.jsx(He,{children:i&&s.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsx(Yn,{id:"message",value:e.message,onChange:m=>t({...e,message:m.target.value}),placeholder:"",rows:4,maxLength:1e3,className:"mt-3"})})})]}),s.jsx(B,{type:"submit",variant:"hero",size:"lg",className:"w-full gap-2",disabled:n,children:n?"SEOBAIKE ...":s.jsxs(s.Fragment,{children:[s.jsx(Bs,{className:"w-5 h-5"}),""]})}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:" 24 "})]})]})]})})}),s.jsx("section",{className:"py-16 bg-muted/30",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx(xx,{links:hC,title:"",variant:"card"})})})]})})},Cce=[{question:"SEOBAIKE  AI ",answer:" 30 AI  Lighthouse 90 "},{question:"",answer:" 1:1 1  = 1  1  SEOBAIKE "},{question:"",answer:"NT$8,888 AI RWD SSL  SEO 24/7 "},{question:"",answer:" AI AI  Logo "},{question:"Lighthouse 90 ",answer:"Lighthouse  Google  100 90 SEO Google "},{question:" AI-SEO ",answer:"SEOBAIKE  AI-SEO 115100981 AI  SEO  SEO "},{question:"",answer:" DNS "},{question:"",answer:"LINE  @729zaaaq24  04-7776342 / 0980-434-242 09:00-18:00Email seobaike@aiforseo.vip"},{question:"",answer:" SSL "},{question:" AI  SEO ",answer:"AI  YouTube  Google "}],zKe=()=>({"@context":"https://schema.org","@type":"FAQPage",mainEntity:Cce.map(e=>({"@type":"Question",name:e.question,acceptedAnswer:{"@type":"Answer",text:e.answer}}))}),VKe=()=>(yn({title:" FAQ - SEOBAIKE",description:"SEOBAIKE  AI ",keywords:"SEOBAIKE FAQ, , AI , , ",canonical:"https://aiforseo.vip/faq",ogType:"website",schema:[In([{name:"",url:"https://aiforseo.vip/"},{name:"",url:"https://aiforseo.vip/faq"}]),zKe()]}),s.jsx(Ho,{children:s.jsxs("div",{className:"min-h-screen",children:[s.jsx("section",{className:"py-16 md:py-24 bg-gradient-to-b from-primary/5 to-background",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-3xl mx-auto",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6",children:s.jsx(Bb,{className:"w-8 h-8 text-primary"})}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-foreground mb-6",children:""}),s.jsx("p",{className:"text-lg text-muted-foreground",children:""})]})})}),s.jsx("section",{className:"py-16 md:py-24",children:s.jsx("div",{className:"container mx-auto px-4 max-w-3xl",children:s.jsx(gN,{type:"single",collapsible:!0,className:"space-y-4",children:Cce.map((e,t)=>s.jsx(E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.05},children:s.jsxs(N0,{value:`item-${t}`,className:"glass rounded-xl px-6 border-none",children:[s.jsx(k0,{className:"text-left hover:no-underline py-5",children:s.jsx("span",{className:"text-foreground font-medium pr-4",children:e.question})}),s.jsx(_0,{className:"text-muted-foreground pb-5",children:e.answer})]})},t))})})}),s.jsx("section",{className:"py-16 md:py-24 bg-gradient-to-b from-background to-primary/5",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground mb-8",children:""}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsxs("a",{href:"https://line.me/R/ti/p/@729zaaaq",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-[#06C755] text-white font-medium hover:bg-[#05b04c] transition-colors",children:[s.jsx(ha,{className:"w-5 h-5"}),"LINE "]}),s.jsx(ye,{to:"/contact",children:s.jsxs(B,{variant:"outline",size:"lg",className:"gap-2",children:["",s.jsx(mt,{className:"w-5 h-5"})]})})]})]}),s.jsx("div",{className:"mt-16",children:s.jsx(xx,{links:hC,title:"",variant:"card"})})]})})]})})),qKe=[{href:"/dashboard",label:"",icon:Gv},{href:"/dashboard/websites",label:"",icon:Tt},{href:"/dashboard/seo",label:"SEO ",icon:bn},{href:"/merchant/health-check",label:" ",icon:sn,highlight:!0},{href:"/merchant/backlink-farm",label:" ",icon:iZ,highlight:!0},{href:"/dashboard/subscription",label:"",icon:Cs},{href:"/tools",label:"",icon:Sl},{href:"/topup",label:"",icon:cr},{href:"/dashboard/points",label:"",icon:Lo},{href:"/dashboard/settings",label:"",icon:fa}],WKe=()=>{var o;const e=fs(),{user:t,signOut:n}=Jt(),{profile:r}=zc(),i=(r==null?void 0:r.name)||((o=t==null?void 0:t.email)==null?void 0:o.split("@")[0])||"",a=(r==null?void 0:r.email)||(t==null?void 0:t.email)||"";return s.jsx("aside",{className:"fixed left-0 top-16 md:top-20 h-[calc(100vh-4rem)] md:h-[calc(100vh-5rem)] w-64 bg-card border-r border-border hidden lg:block",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-6 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-primary font-semibold",children:i.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:i}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:a})]})]}),s.jsx("div",{className:"mt-4 p-3 rounded-lg bg-primary/10 border border-primary/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-lg font-bold text-primary",children:(r==null?void 0:r.points)||0})]})})]}),s.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:qKe.map(l=>{const c=e.pathname===l.href||l.href!=="/dashboard"&&e.pathname.startsWith(l.href),d="highlight"in l&&l.highlight;return s.jsxs(ye,{to:l.href,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-all ${c?"bg-primary/10 text-primary font-medium":d?"text-primary bg-primary/5 hover:bg-primary/10 font-medium":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[s.jsx(l.icon,{className:"w-5 h-5"}),l.label]},l.href)})}),s.jsx("div",{className:"p-4 border-t border-border",children:s.jsxs("button",{onClick:n,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-muted-foreground hover:bg-muted hover:text-foreground transition-all w-full",children:[s.jsx(NS,{className:"w-5 h-5"}),""]})})]})})},HKe=[{href:"/dashboard",label:"",icon:Gv},{href:"/dashboard/websites",label:"",icon:Tt},{href:"/dashboard/seo",label:"",icon:bn},{href:"/tools",label:"",icon:Sl},{href:"/dashboard/points",label:"",icon:Lo}],KKe=()=>{const e=fs();return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden glass-strong border-t border-border",children:s.jsx("div",{className:"flex items-center justify-around py-2",children:HKe.map(t=>{const n=e.pathname===t.href||t.href!=="/dashboard"&&e.pathname.startsWith(t.href);return s.jsxs(ye,{to:t.href,className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg transition-all ${n?"text-primary":"text-muted-foreground"}`,children:[s.jsx(t.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:t.label})]},t.href)})})})},Yt=({children:e,title:t})=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(zoe,{}),s.jsx(WKe,{}),s.jsx(KKe,{}),s.jsx("main",{className:"lg:ml-64 pt-16 md:pt-20 pb-20 lg:pb-8",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 md:py-8",children:[t&&s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground mb-6",children:t}),e]})})]});function Es(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Cu(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function GKe(e,t){const n=Es(e);return isNaN(t)?Cu(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const Ece=6048e5,YKe=864e5;let XKe={};function fC(){return XKe}function ym(e,t){var l,c,d,u;const n=fC(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=Es(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function SN(e){return ym(e,{weekStartsOn:1})}function Tce(e){const t=Es(e),n=t.getFullYear(),r=Cu(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=SN(r),a=Cu(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=SN(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function NN(e){const t=Es(e);return t.setHours(0,0,0,0),t}function iV(e){const t=Es(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ace(e,t){const n=NN(e),r=NN(t),i=+n-iV(n),a=+r-iV(r);return Math.round((i-a)/YKe)}function JKe(e){const t=Tce(e),n=Cu(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),SN(n)}function QKe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ZKe(e){if(!QKe(e)&&typeof e!="number")return!1;const t=Es(e);return!isNaN(Number(t))}function YO(e,t){const n=Es(e),r=Es(t),i=aV(n,r),a=Math.abs(Ace(n,r));n.setDate(n.getDate()-i*a);const o=+(aV(n,r)===-i),l=i*(a-o);return l===0?0:l}function aV(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function oV(e){const t=Es(e);return t.setDate(1),t.setHours(0,0,0,0),t}function eGe(e){const t=Es(e),n=Cu(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const tGe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nGe=(e,t,n)=>{let r;const i=tGe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vp(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const rGe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sGe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iGe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aGe={date:vp({formats:rGe,defaultWidth:"full"}),time:vp({formats:sGe,defaultWidth:"full"}),dateTime:vp({formats:iGe,defaultWidth:"full"})},oGe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lGe=(e,t,n,r)=>oGe[e];function al(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const cGe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dGe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uGe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hGe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pGe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gGe={ordinalNumber:pGe,era:al({values:cGe,defaultWidth:"wide"}),quarter:al({values:dGe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:al({values:uGe,defaultWidth:"wide"}),day:al({values:hGe,defaultWidth:"wide"}),dayPeriod:al({values:mGe,defaultWidth:"wide",formattingValues:fGe,defaultFormattingWidth:"wide"})};function ol(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?yGe(l,h=>h.test(o)):xGe(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function xGe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function yGe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Pce(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const vGe=/^(\d+)(th|st|nd|rd)?/i,bGe=/\d+/i,wGe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jGe={any:[/^b/i,/^(a|c)/i]},SGe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NGe={any:[/1/i,/2/i,/3/i,/4/i]},kGe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_Ge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CGe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EGe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TGe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AGe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PGe={ordinalNumber:Pce({matchPattern:vGe,parsePattern:bGe,valueCallback:e=>parseInt(e,10)}),era:ol({matchPatterns:wGe,defaultMatchWidth:"wide",parsePatterns:jGe,defaultParseWidth:"any"}),quarter:ol({matchPatterns:SGe,defaultMatchWidth:"wide",parsePatterns:NGe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ol({matchPatterns:kGe,defaultMatchWidth:"wide",parsePatterns:_Ge,defaultParseWidth:"any"}),day:ol({matchPatterns:CGe,defaultMatchWidth:"wide",parsePatterns:EGe,defaultParseWidth:"any"}),dayPeriod:ol({matchPatterns:TGe,defaultMatchWidth:"any",parsePatterns:AGe,defaultParseWidth:"any"})},IGe={code:"en-US",formatDistance:nGe,formatLong:aGe,formatRelative:lGe,localize:gGe,match:PGe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OGe(e){const t=Es(e);return Ace(t,eGe(t))+1}function RGe(e){const t=Es(e),n=+SN(t)-+JKe(t);return Math.round(n/Ece)+1}function Ice(e,t){var u,h,m,f;const n=Es(e),r=n.getFullYear(),i=fC(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(m=i.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=Cu(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=ym(o,t),c=Cu(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=ym(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function MGe(e,t){var l,c,d,u;const n=fC(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=Ice(e,t),a=Cu(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),ym(a,t)}function DGe(e,t){const n=Es(e),r=+ym(n,t)-+MGe(n,t);return Math.round(r/Ece)+1}function vn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const id={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return vn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):vn(n+1,2)},d(e,t){return vn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return vn(e.getHours()%12||12,t.length)},H(e,t){return vn(e.getHours(),t.length)},m(e,t){return vn(e.getMinutes(),t.length)},s(e,t){return vn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return vn(i,t.length)}},af={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lV={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return id.y(e,t)},Y:function(e,t,n,r){const i=Ice(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return vn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):vn(a,t.length)},R:function(e,t){const n=Tce(e);return vn(n,t.length)},u:function(e,t){const n=e.getFullYear();return vn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return vn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return vn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return id.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return vn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=DGe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):vn(i,t.length)},I:function(e,t,n){const r=RGe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):vn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):id.d(e,t)},D:function(e,t,n){const r=OGe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):vn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return vn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return vn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return vn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=af.noon:r===0?i=af.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=af.evening:r>=12?i=af.afternoon:r>=4?i=af.morning:i=af.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return id.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):id.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):vn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):vn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):id.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):id.s(e,t)},S:function(e,t){return id.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return dV(r);case"XXXX":case"XX":return ch(r);case"XXXXX":case"XXX":default:return ch(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return dV(r);case"xxxx":case"xx":return ch(r);case"xxxxx":case"xxx":default:return ch(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+cV(r,":");case"OOOO":default:return"GMT"+ch(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+cV(r,":");case"zzzz":default:return"GMT"+ch(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return vn(r,t.length)},T:function(e,t,n){const r=e.getTime();return vn(r,t.length)}};function cV(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+vn(a,2)}function dV(e,t){return e%60===0?(e>0?"-":"+")+vn(Math.abs(e)/60,2):ch(e,t)}function ch(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=vn(Math.trunc(r/60),2),a=vn(r%60,2);return n+i+t+a}const uV=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Oce=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},LGe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return uV(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",uV(r,t)).replace("{{time}}",Oce(i,t))},$Ge={p:Oce,P:LGe},FGe=/^D+$/,BGe=/^Y+$/,UGe=["D","DD","YY","YYYY"];function zGe(e){return FGe.test(e)}function VGe(e){return BGe.test(e)}function qGe(e,t,n){const r=WGe(e,t,n);if(console.warn(r),UGe.includes(e))throw new RangeError(r)}function WGe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HGe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KGe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GGe=/^'([^]*?)'?$/,YGe=/''/g,XGe=/[a-zA-Z]/;function Oa(e,t,n){var u,h,m,f,p,g,y,v;const r=fC(),i=(n==null?void 0:n.locale)??r.locale??IGe,a=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(m=r.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,l=Es(e);if(!ZKe(l))throw new RangeError("Invalid time value");let c=t.match(KGe).map(b=>{const w=b[0];if(w==="p"||w==="P"){const S=$Ge[w];return S(b,i.formatLong)}return b}).join("").match(HGe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:JGe(b)};if(lV[w])return{isToken:!0,value:b};if(w.match(XGe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&VGe(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&zGe(w))&&qGe(w,t,String(e));const S=lV[w[0]];return S(l,w,i.localize,d)}).join("")}function JGe(e){const t=e.match(GGe);return t?t[1].replace(YGe,"'"):e}function Hl(e,t){const n=Es(e),r=Es(t);return n.getTime()>r.getTime()}function y1(e,t){return GKe(e,-t)}const QGe=()=>{const e=xn(),{user:t}=Jt(),[n,r]=x.useState(null),[i,a]=x.useState(!1);x.useEffect(()=>{t&&o()},[t]);const o=async()=>{if(!t)return;const l=new Date;l.setDate(l.getDate()+7);const{data:c}=await ee.from("point_transactions").select("amount, expires_at").eq("user_id",t.id).eq("is_expired",!1).not("expires_at","is",null).lt("expires_at",l.toISOString()).gt("expires_at",new Date().toISOString()).gt("amount",0);if(c&&c.length>0){const d=c.reduce((h,m)=>h+m.amount,0),u=c.reduce((h,m)=>{const f=new Date(m.expires_at);return f<h?f:h},new Date(c[0].expires_at));r({amount:d,daysLeft:Math.max(1,YO(u,new Date))})}};return!n||i||n.amount<=0?null:s.jsx(He,{children:s.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6",children:s.jsx("div",{className:"bg-gradient-to-r from-amber-500/20 to-orange-500/20 border border-amber-500/30 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Wr,{className:"w-5 h-5 text-amber-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-amber-600 dark:text-amber-400",children:""}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[" ",s.jsx("span",{className:"font-bold text-amber-500",children:n.amount})," ",s.jsxs("span",{className:"font-bold text-amber-500",children:[" ",n.daysLeft," "]})," "]}),s.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[s.jsxs(B,{size:"sm",onClick:()=>e("/tools"),className:"bg-amber-500 hover:bg-amber-600 text-white",children:[s.jsx(Pn,{className:"w-4 h-4 mr-2"}),""]}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>e("/dashboard/points"),children:""})]})]}),s.jsx("button",{onClick:()=>a(!0),className:"p-1 rounded-lg hover:bg-muted transition-colors",children:s.jsx(nr,{className:"w-4 h-4 text-muted-foreground"})})]})})})})};var ZGe="Separator",hV="horizontal",eYe=["horizontal","vertical"],Rce=x.forwardRef((e,t)=>{const{decorative:n,orientation:r=hV,...i}=e,a=tYe(r)?r:hV,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(De.div,{"data-orientation":a,...l,...i,ref:t})});Rce.displayName=ZGe;function tYe(e){return eYe.includes(e)}var Mce=Rce;const mv=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>s.jsx(Mce,{ref:i,decorative:n,orientation:t,className:G("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));mv.displayName=Mce.displayName;const zs={physical:{openChrome:" Chrome ",openVSCode:" VS Code",screenshot:"",lockScreen:"",volumeUp:"",volumeDown:"",volumeMute:"",switchWindow:"",minimize:"",maximize:"",closeWindow:"",newTab:"",closeTab:"",refresh:"",save:"",undo:"",redo:"",copy:"",paste:"",cut:"",selectAll:"",find:""},browser:{googleSearch:e=>` Google ${e}`,openUrl:e=>` ${e}`,openYouTube:" YouTube",openGmail:" Gmail",openGoogleDrive:" Google Drive",openNotion:" Notion",openLinkedin:" LinkedIn",openTwitter:" Twitter",openFacebook:" Facebook",openInstagram:" Instagram"},seo:{analyze:e=>` ${e}  SEO `,keywordResearch:e=>`${e}`,competitorAnalysis:e=>`: ${e.join(", ")}`,generateMeta:e=>` Meta : ${e}`},content:{writeArticle:e=>`${e}`,writeAdCopy:e=>`${e}`,writeSocialPost:e=>`${e}`,translate:(e,t)=>`${t}: ${e}`,summarize:e=>`: ${e}`},website:{generateTemplate:(e,t)=>`${e}${t}`,generateHero:e=>` Hero : ${e}`,generateAbout:e=>`: ${e}`,generateServices:e=>`: ${e.join(", ")}`},lovable:{createComponent:(e,t)=>`${e} React : ${t}`,createPage:(e,t)=>`: ${e}: ${t}`,fixBug:e=>`: ${e}`,addFeature:e=>`: ${e}`,refactor:e=>`: ${e}`},task:{create:e=>`: ${e}`,list:"",complete:e=>` ${e}`,remind:""},automation:{dailyReport:"",weeklyReport:"",backup:"",monitor:e=>` ${e} `}};function nYe(){const{user:e}=Jt(),[t,n]=x.useState(!1),[r,i]=x.useState([]),[a,o]=x.useState(null),[l,c]=x.useState(null),[d,u]=x.useState([]),[h,m]=x.useState({totalCommands:0,physicalCommands:0,webCommands:0,successRate:100}),f=x.useRef(`grok-${Date.now()}-${Math.random().toString(36).slice(2)}`);x.useEffect(()=>{if(!l)return;const _=ee.channel(`physical-commands-${l}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"remote_commands",filter:`session_id=eq.${l}`},A=>{const P=A.new;u(R=>R.map(D=>D.id===P.id?P:D)),P.status==="completed"?(q.success(" ",{description:`ID: ${P.id.slice(0,8)}`}),m(R=>({...R,successRate:Math.round(R.totalCommands/(R.totalCommands+1)*100)}))):P.status==="failed"&&q.error(" ",{description:P.error_message})}).subscribe(),C=ee.channel(`physical-ai-${l}`).on("broadcast",{event:"physical_command"},A=>{console.log("[Grok Commander] Received physical command:",A);const P=A.payload;u(R=>[...R,{id:P.id,status:"pending"}]),m(R=>({...R,totalCommands:R.totalCommands+1,physicalCommands:R.physicalCommands+1})),q.info(` : ${P.type}`,{description:"..."})}).subscribe(),T=ee.channel(`web-remote-${l}`).on("broadcast",{event:"web_command"},A=>{var P;console.log("[Grok Commander] Received web command:",A),m(R=>({...R,totalCommands:R.totalCommands+1,webCommands:R.webCommands+1})),q.info(" ",{description:(P=A.payload)==null?void 0:P.type})}).subscribe();return()=>{ee.removeChannel(_),ee.removeChannel(C),ee.removeChannel(T)}},[l]);const p=x.useCallback(async(_,C)=>{const T=C||l;if(!T)return q.error(" Session ID"),null;try{const A=rYe(_),{data:P,error:R}=await ee.from("remote_commands").insert([{session_id:T,command_type:A,payload:_.params,status:"pending",user_id:(e==null?void 0:e.id)||null,boss_isolation_id:(e==null?void 0:e.id)||"system"}]).select().single();return R?(console.error("[Grok Commander] :",R),q.error(""),null):(u(D=>[...D,{id:P.id,status:"pending"}]),P.id)}catch(A){return console.error("[Grok Commander] :",A),null}},[l,e==null?void 0:e.id]),g=x.useCallback(async(_,C)=>{var A,P,R;if(!_.trim())return q.error(""),{success:!1,type:"error",error:""};n(!0);const T={role:"user",content:_,timestamp:new Date};i(D=>[...D,T]);try{const D=r.slice(-10).map(L=>{var I;return{role:L.role,content:L.role==="assistant"&&((I=L.response)!=null&&I.message)?L.response.message:L.content}}),{data:$,error:M}=await ee.functions.invoke("grok-command",{body:{command:_,context:C,history:D,userId:e==null?void 0:e.id,sessionId:f.current,physicalSessionId:l}});if(M){console.error("[Grok Commander] Function error:",M),q.error(`: ${M.message}`);const L={success:!1,type:"error",error:M.message};return o(L),L}const F=$,O={role:"assistant",content:F.message||JSON.stringify(F.data,null,2),timestamp:new Date,response:F};if(i(L=>[...L,O]),o(F),(A=F.actions)!=null&&A.length)for(const L of F.actions)switch(L.action){case"physical":console.log("[Grok Commander]  AI :",L);break;case"web":console.log("[Grok Commander] :",L);break;case"lovable":console.log("[Grok Commander] Lovable :",L),q.info(` Lovable : ${L.type}`,{description:" Lovable ",duration:1e4});break;case"seo":console.log("[Grok Commander] SEO :",L),q.info(" SEO ",{description:L.type});break;case"content":console.log("[Grok Commander] :",L),q.info(" ...",{description:L.type});break;default:console.log("[Grok Commander] :",L)}if(F.success){const L=((P=F._meta)==null?void 0:P.physicalActionsBroadcasted)||0,I=((R=F._meta)==null?void 0:R.webActionsBroadcasted)||0;L>0||I>0?q.success(`  ${L+I} `):q.success(" ")}else F.error&&q.error(F.error);return F}catch(D){console.error("[Grok Commander] Unexpected error:",D);const $=D instanceof Error?D.message:"";q.error(`: ${$}`);const M={success:!1,type:"error",error:$};return o(M),M}finally{n(!1)}},[e==null?void 0:e.id,r,l,p]),y=x.useCallback(_=>{c(_),q.success("  Session ",{description:`ID: ${_.slice(0,12)}...`})},[]),v=x.useCallback(async(_,C,T)=>g(zs.website.generateTemplate(_,C)+(T?`
: ${JSON.stringify(T)}`:""),""),[g]),b=x.useCallback(async(_,C)=>g(zs.seo.analyze(_)+(C!=null&&C.length?`
: ${C.join(", ")}`:""),"SEO "),[g]),w=x.useCallback(async _=>g(_," AI "),[g]),S=x.useCallback(async(_,C,T)=>{let A="";switch(_){case"article":A=zs.content.writeArticle(C);break;case"ad":A=zs.content.writeAdCopy(C);break;case"social":A=zs.content.writeSocialPost(C);break;case"email":A=`${C}`;break}return g(A+(T?`
: ${JSON.stringify(T)}`:""),"")},[g]),j=x.useCallback(async(_,C)=>{let T="";switch(_){case"component":T=zs.lovable.createComponent(C.name,C.description);break;case"page":T=zs.lovable.createPage(C.route,C.title);break;case"feature":T=zs.lovable.addFeature(C.feature);break;case"fix":T=zs.lovable.fixBug(C.error);break;case"refactor":T=zs.lovable.refactor(C.target);break}return g(T,"Lovable ")},[g]),N=x.useCallback(async(_,C)=>{let T="";switch(_){case"create":T=zs.task.create(C==null?void 0:C.title);break;case"list":T=zs.task.list;break;case"complete":T=zs.task.complete(C==null?void 0:C.taskId);break;case"remind":T=zs.task.remind;break}return g(T,"")},[g]),k=x.useCallback(()=>{i([]),o(null),u([]),m({totalCommands:0,physicalCommands:0,webCommands:0,successRate:100}),f.current=`grok-${Date.now()}-${Math.random().toString(36).slice(2)}`,q.success(" ")},[]);return{isLoading:t,messages:r,lastResponse:a,sessionId:f.current,activeSessionId:l,pendingCommands:d,commandStats:h,sendCommand:g,clearHistory:k,setDesktopSession:y,sendPhysicalCommand:p,generateTemplate:v,analyzeSEO:b,executePhysicalCommand:w,generateContent:S,executeLovableCommand:j,manageTask:N,QUICK_COMMANDS:zs}}function rYe(e){return{mouse_move:"mouse_move",mouse_click:"mouse_click",mouse_drag:"mouse_drag",mouse_scroll:"scroll",keyboard_type:"keyboard_type",keyboard_hotkey:"keyboard_hotkey",keyboard_press:"keyboard_press",window_minimize:"keyboard_hotkey",window_maximize:"keyboard_hotkey",window_close:"keyboard_hotkey",window_switch:"keyboard_hotkey",app_open:"keyboard_hotkey",app_close:"keyboard_hotkey",browser_open_url:"keyboard_hotkey",browser_new_tab:"keyboard_hotkey",browser_close_tab:"keyboard_hotkey",browser_refresh:"keyboard_hotkey",browser_search:"keyboard_type",screenshot:"keyboard_hotkey",file_save:"keyboard_hotkey",file_copy:"keyboard_hotkey",file_paste:"keyboard_hotkey",file_undo:"keyboard_hotkey",file_redo:"keyboard_hotkey",system_lock:"keyboard_hotkey",system_volume_up:"keyboard_hotkey",system_volume_down:"keyboard_hotkey",system_volume_mute:"keyboard_hotkey"}[e.type]||e.type}const sYe=[{label:"",icon:Tt,command:" AI-SEO "},{label:"SEO ",icon:fn,command:" seobaike.com  SEO "},{label:" AI ",icon:UP,command:" Chrome "},{label:"",icon:Xv,command:" SEOBAIKE "}];function iYe(){const{isBossMode:e}=tw(),{isLoading:t,messages:n,lastResponse:r,activeSessionId:i,pendingCommands:a,sendCommand:o,clearHistory:l,setDesktopSession:c,executePhysicalCommand:d}=nYe(),[u,h]=x.useState(""),[m,f]=x.useState(null),[p,g]=x.useState(""),[y,v]=x.useState(!1),b=x.useRef(null);x.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[n]);const w=async()=>{if(!u.trim()||t)return;const _=u;h(""),await o(_)},S=async _=>{await o(_)},j=(_,C)=>{navigator.clipboard.writeText(_),f(C),setTimeout(()=>f(null),2e3),q.success("")},N=()=>{p.trim()&&(c(p.trim()),g(""),v(!1))},k=async()=>{const _=prompt(" Chrome ");_&&await d(_)};return e?s.jsxs(Y,{className:"h-full flex flex-col max-h-[85vh] md:max-h-none",children:[s.jsxs(ue,{className:"pb-2 px-3 md:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ye,{className:"h-4 w-4 md:h-5 md:w-5 text-primary animate-pulse"}),s.jsx("div",{className:"absolute -top-1 -right-1 h-1.5 w-1.5 bg-emerald-500 rounded-full animate-ping"})]}),s.jsx(me,{className:"text-sm md:text-lg",children:"Grok "}),s.jsx(ae,{variant:"secondary",className:"text-[10px] hidden sm:inline-flex",children:"v3.1.0"})]}),s.jsx(B,{variant:"ghost",size:"sm",onClick:l,disabled:n.length===0,className:"h-8 w-8 p-0",children:s.jsx(Vb,{className:"h-4 w-4"})})]}),s.jsx(dt,{className:"text-xs",children:""}),s.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-muted/30 border border-border/50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Dl,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-[10px] font-medium",children:""}),s.jsx(ae,{variant:i?"default":"secondary",className:"text-[10px] h-4 px-1",children:i?"":""})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[!i&&s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 text-[10px] px-2",onClick:()=>v(!y),children:s.jsx(Qd,{className:"h-3 w-3"})}),s.jsx(B,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:k,disabled:!i||t,children:s.jsx(ma,{className:"h-3 w-3"})})]})]}),y&&s.jsxs("div",{className:"mt-2 flex gap-1",children:[s.jsx(xe,{placeholder:"Session ID",value:p,onChange:_=>g(_.target.value),className:"h-7 text-[10px]"}),s.jsx(B,{size:"sm",className:"h-7 text-[10px]",onClick:N,disabled:!p.trim(),children:"OK"})]}),a.length>0&&s.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1",children:a.slice(-3).map(_=>s.jsx(ae,{variant:"outline",className:G("text-[9px] h-4",_.status==="pending"&&"border-amber-500/50",_.status==="completed"&&"border-emerald-500/50",_.status==="failed"&&"border-destructive/50"),children:_.id.slice(0,6)},_.id))})]})]}),s.jsx(mv,{}),s.jsx("div",{className:"px-3 py-2 overflow-x-auto flex gap-1.5 min-w-0",style:{WebkitOverflowScrolling:"touch"},children:sYe.map((_,C)=>s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>S(_.command),disabled:t,className:"text-[10px] h-7 px-2 whitespace-nowrap flex-shrink-0",children:[s.jsx(_.icon,{className:"h-3 w-3 mr-1"}),_.label]},C))}),s.jsx(mv,{}),s.jsx(Z,{className:"flex-1 p-0 overflow-hidden",children:s.jsx("div",{ref:b,className:"h-[300px] md:h-[400px] overflow-y-auto p-4 scroll-smooth",style:{WebkitOverflowScrolling:"touch"},children:n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[s.jsx(Do,{className:"h-10 w-10 md:h-12 md:w-12 mb-3 opacity-50"}),s.jsx("p",{className:"text-sm text-center",children:""})]}):s.jsxs("div",{className:"space-y-3",children:[n.map((_,C)=>s.jsx(aYe,{message:_,onCopy:()=>j(JSON.stringify(_.response,null,2)||_.content,C),isCopied:m===C},C)),t&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground p-2 bg-muted/30 rounded-lg",children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{className:"text-xs",children:"..."})]}),s.jsx("div",{className:"h-1"})]})})}),s.jsx(mv,{}),s.jsxs("div",{className:"p-2 md:p-4 border-t safe-area-bottom",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Yn,{placeholder:"...",value:u,onChange:_=>h(_.target.value),onKeyDown:_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),w())},className:"min-h-[44px] max-h-[80px] text-sm resize-none",disabled:t}),s.jsx(B,{onClick:w,disabled:!u.trim()||t,className:"px-4 h-[44px]",children:t?s.jsx(Ge,{className:"h-4 w-4 animate-spin"}):s.jsx(Bs,{className:"h-4 w-4"})})]}),(r==null?void 0:r._meta)&&s.jsxs("div",{className:"mt-1.5 flex items-center gap-3 text-[10px] text-muted-foreground",children:[s.jsxs("span",{children:[s.jsx(cn,{className:"h-2.5 w-2.5 inline mr-0.5"}),r._meta.executionTime,"ms"]}),s.jsxs("span",{children:[r._meta.tokensUsed," tok"]})]})]})]}):s.jsx(Y,{className:"border-destructive/50",children:s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Do,{className:"h-5 w-5"}),"Grok "]}),s.jsx(dt,{children:" Boss "})]})})}function aYe({message:e,onCopy:t,isCopied:n}){var a,o;const r=e.role==="user",i=e.response;return s.jsx("div",{className:G("flex gap-2",r?"justify-end":"justify-start"),children:s.jsxs("div",{className:G("max-w-[90%] rounded-lg p-2 md:p-3",r?"bg-primary text-primary-foreground":"bg-muted/80"),children:[r?s.jsx("p",{className:"text-xs md:text-sm",children:e.content}):i?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(ae,{variant:i.success?"default":"destructive",className:"text-[10px]",children:i.type}),(a=i.actions)!=null&&a.length?s.jsxs(ae,{variant:"outline",className:"text-[10px]",children:[i.actions.length," "]}):null]}),s.jsx("p",{className:"text-xs md:text-sm whitespace-pre-wrap",children:i.message}),(o=i.actions)!=null&&o.length?s.jsx("div",{className:"bg-background/60 rounded p-2 text-[10px] font-mono",children:i.actions.map((l,c)=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ae,{variant:"secondary",className:"text-[9px] h-4",children:l.action}),s.jsx("span",{className:"text-muted-foreground",children:l.type})]},c))}):null,s.jsx(B,{variant:"ghost",size:"sm",onClick:t,className:"h-6 text-[10px] w-full",children:n?s.jsxs(s.Fragment,{children:[s.jsx(We,{className:"h-3 w-3 mr-1"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(An,{className:"h-3 w-3 mr-1"}),""]})})]}):s.jsx("p",{className:"text-xs md:text-sm whitespace-pre-wrap",children:e.content}),s.jsx("p",{className:"text-[10px] opacity-50 mt-1",children:e.timestamp.toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"})})]})})}const oYe=[{id:1,action:"SEO ",date:"2026-01-22",icon:Ur},{id:2,action:"SEO",date:"2026-01-21",icon:dr},{id:3,action:"",date:"2026-01-20",icon:Tt},{id:4,action:"AI ",date:"2026-01-19",icon:Ur}],lYe=[{keyword:" SEO ",current:3,previous:7,change:4},{keyword:"SEO ",current:5,previous:8,change:3},{keyword:"",current:12,previous:15,change:3},{keyword:"AI ",current:8,previous:6,change:-2}],cYe=()=>{var a;const{user:e}=Jt(),{profile:t}=zc(),{isBossMode:n}=tw(),{formData:r}=sw(),i=r.companyNameCn||(t==null?void 0:t.name)||((a=e==null?void 0:e.email)==null?void 0:a.split("@")[0])||"";return yn({title:" - SEOBAIKE ",description:" SEO  SEOBAIKE ",keywords:", SEO, , , SEOBAIKE",canonical:"https://seobaike.com/dashboard",noindex:!0,schema:In([{name:"",url:"https://seobaike.com/"},{name:"",url:"https://seobaike.com/dashboard"}])}),s.jsx(Yt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(QGe,{}),s.jsx("header",{children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:["",s.jsx("span",{className:"text-gradient",children:i})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:" SEO "})]})}),s.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4","aria-label":"",children:[s.jsxs(E.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:""}),s.jsx(Tt,{className:"w-5 h-5 text-primary","aria-hidden":"true"})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground",children:""}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse","aria-hidden":"true"}),s.jsx("span",{className:"text-xs text-green-500",children:""})]})]}),s.jsxs(E.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:" SEO "}),s.jsx(bn,{className:"w-5 h-5 text-primary","aria-hidden":"true"})]}),s.jsx("div",{className:"text-2xl font-bold text-gradient",children:"92"}),s.jsxs("div",{className:"flex items-center gap-1 mt-1 text-green-500",children:[s.jsx(dr,{className:"w-3 h-3","aria-hidden":"true"}),s.jsx("span",{className:"text-xs",children:" +3"})]})]}),s.jsxs(E.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:""}),s.jsx(dr,{className:"w-5 h-5 text-primary","aria-hidden":"true"})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground",children:"#3"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:" SEO "})]}),s.jsxs(E.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-primary","aria-hidden":"true",children:""})]}),s.jsx("div",{className:"text-2xl font-bold text-primary",children:(t==null?void 0:t.points)||0}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(ye,{to:"/topup",className:"text-xs text-primary hover:underline",children:""}),s.jsx("span",{className:"text-muted-foreground","aria-hidden":"true",children:""}),s.jsxs(ye,{to:"/dashboard/points",className:"text-xs text-muted-foreground hover:text-primary flex items-center gap-1",children:[s.jsx(Lo,{className:"w-3 h-3","aria-hidden":"true"}),""]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"glass rounded-xl p-6","aria-labelledby":"keyword-changes-title",children:[s.jsx("h2",{id:"keyword-changes-title",className:"text-lg font-semibold text-foreground mb-4",children:""}),s.jsx("ul",{className:"space-y-3",children:lYe.map(o=>s.jsxs("li",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0",children:[s.jsx("span",{className:"text-sm text-foreground",children:o.keyword}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["#",o.previous,"  #",o.current]}),s.jsxs("span",{className:`flex items-center gap-1 text-sm ${o.change>0?"text-green-500":"text-red-500"}`,children:[o.change>0?s.jsx(dr,{className:"w-3 h-3","aria-hidden":"true"}):s.jsx(tp,{className:"w-3 h-3","aria-hidden":"true"}),Math.abs(o.change)]})]})]},o.keyword))}),s.jsx(ye,{to:"/dashboard/seo",children:s.jsx(B,{variant:"ghost",size:"sm",className:"w-full mt-4",children:""})})]}),s.jsxs(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"glass rounded-xl p-6","aria-labelledby":"recent-activities-title",children:[s.jsx("h2",{id:"recent-activities-title",className:"text-lg font-semibold text-foreground mb-4",children:""}),s.jsx("ul",{className:"space-y-3",children:oYe.map(o=>s.jsxs("li",{className:"flex items-center gap-3 py-2 border-b border-border/50 last:border-0",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(o.icon,{className:"w-4 h-4 text-primary","aria-hidden":"true"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-foreground",children:o.action}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Tc,{className:"w-3 h-3","aria-hidden":"true"}),s.jsx("time",{dateTime:o.date,children:o.date})]})]})]},o.id))})]})]}),n&&s.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},"aria-labelledby":"grok-commander-title",children:s.jsx(iYe,{})}),s.jsxs(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"glass rounded-xl p-6","aria-labelledby":"quick-actions-title",children:[s.jsx("h2",{id:"quick-actions-title",className:"text-lg font-semibold text-foreground mb-4",children:""}),s.jsxs("nav",{className:"grid grid-cols-2 md:grid-cols-4 gap-4","aria-label":"",children:[s.jsx(ye,{to:"/tools",children:s.jsxs(B,{variant:"outline",className:"w-full h-20 flex-col gap-2",children:[s.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),s.jsx("span",{className:"text-sm",children:""})]})}),s.jsx(ye,{to:"/dashboard/seo",children:s.jsxs(B,{variant:"outline",className:"w-full h-20 flex-col gap-2",children:[s.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),s.jsx("span",{className:"text-sm",children:"SEO "})]})}),s.jsx(ye,{to:"/dashboard/websites",children:s.jsxs(B,{variant:"outline",className:"w-full h-20 flex-col gap-2",children:[s.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),s.jsx("span",{className:"text-sm",children:""})]})}),s.jsx(ye,{to:"/topup",children:s.jsxs(B,{variant:"outline",className:"w-full h-20 flex-col gap-2",children:[s.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),s.jsx("span",{className:"text-sm",children:""})]})})]})]})]})})},dYe=()=>{const{formData:e}=sw(),t={name:e.companyNameCn||"",url:"https://demo.seobaike.com",status:"online",lighthouse:92,lastUpdated:"2026-01-22",screenshot:"/placeholder.svg"};return s.jsx(Yt,{title:"",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass rounded-2xl overflow-hidden",children:[s.jsxs("div",{className:"aspect-video bg-muted relative group",children:[s.jsx("img",{src:t.screenshot,alt:"Website preview",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-background/80 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:s.jsxs(B,{variant:"hero",size:"lg",className:"gap-2",children:[s.jsx(Ga,{className:"w-5 h-5"}),""]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-1",children:t.name}),s.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:[t.url,s.jsx(Br,{className:"w-3 h-3"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),s.jsx("span",{className:"text-sm text-green-500",children:""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gradient",children:t.lighthouse}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Lighthouse "})]}),s.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:"7"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:""})]}),s.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:"100%"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:""})]}),s.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-sm font-medium text-foreground",children:t.lastUpdated}),s.jsx("div",{className:"text-xs text-muted-foreground",children:""})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(B,{variant:"hero",className:"gap-2",children:[s.jsx(sCe,{className:"w-4 h-4"}),""]}),s.jsxs(B,{variant:"heroOutline",className:"gap-2",children:[s.jsx(fu,{className:"w-4 h-4"}),""]}),s.jsxs(B,{variant:"outline",className:"gap-2",children:[s.jsx(Tt,{className:"w-4 h-4"}),""]})]})]})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:""}),s.jsx("div",{className:"space-y-2",children:[{name:"",path:"/"},{name:"",path:"/about"},{name:"",path:"/services"},{name:"",path:"/cases"},{name:"",path:"/blog"},{name:"",path:"/contact"},{name:"",path:"/privacy"}].map(n=>s.jsxs("div",{className:"flex items-center justify-between py-3 px-4 rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Tt,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-foreground",children:n.name})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:n.path})]},n.path))})]})]})})},uYe=[{keyword:" SEO ",current:3,previous:7,change:4,volume:1200},{keyword:"SEO ",current:5,previous:8,change:3,volume:890},{keyword:" ",current:12,previous:15,change:3,volume:720},{keyword:"AI ",current:8,previous:6,change:-2,volume:450},{keyword:"",current:18,previous:22,change:4,volume:1500},{keyword:"SEO ",current:25,previous:30,change:5,volume:680}],hYe=[{name:"LCP",value:"1.8s",status:"good",description:""},{name:"FID",value:"45ms",status:"good",description:""},{name:"CLS",value:"0.05",status:"good",description:""},{name:"FCP",value:"1.2s",status:"good",description:""},{name:"TTFB",value:"0.4s",status:"good",description:""},{name:"TTI",value:"2.1s",status:"good",description:""}],mYe=[{category:"SEO",score:92,color:"text-green-500"},{category:"",score:88,color:"text-green-500"},{category:"",score:95,color:"text-green-500"},{category:"",score:91,color:"text-green-500"}],fYe=()=>s.jsx(Yt,{title:"SEO ",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Tc,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs(Al,{defaultValue:"30days",children:[s.jsx(Vo,{className:"w-40",children:s.jsx(Pl,{})}),s.jsxs(qo,{children:[s.jsx(Zr,{value:"7days",children:" 7 "}),s.jsx(Zr,{value:"30days",children:" 30 "}),s.jsx(Zr,{value:"90days",children:" 90 "})]})]})]}),s.jsxs(B,{variant:"hero",className:"gap-2",children:[s.jsx(fu,{className:"w-4 h-4"})," PDF "]})]}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:mYe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2+t*.1},className:"glass rounded-xl p-5 text-center",children:[s.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-3",children:[s.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[s.jsx("circle",{cx:"40",cy:"40",r:"35",fill:"none",stroke:"currentColor",strokeWidth:"6",className:"text-muted"}),s.jsx("circle",{cx:"40",cy:"40",r:"35",fill:"none",stroke:"currentColor",strokeWidth:"6",strokeDasharray:`${e.score*2.2} 220`,className:e.color})]}),s.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-xl font-bold",children:e.score})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e.category})]},e.category))}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(bn,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Core Web Vitals"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:hYe.map(e=>s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/30",children:[s.jsx("div",{className:"text-2xl font-bold text-green-500 mb-1",children:e.value}),s.jsx("div",{className:"text-sm font-medium text-foreground",children:e.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:e.description})]},e.name))})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass rounded-xl p-6 overflow-x-auto",children:[s.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:""}),s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:""})]})}),s.jsx("tbody",{children:uYe.map(e=>s.jsxs("tr",{className:"border-b border-border/50",children:[s.jsx("td",{className:"py-4 px-4 text-foreground",children:e.keyword}),s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsxs("span",{className:"text-lg font-bold text-primary",children:["#",e.current]})}),s.jsxs("td",{className:"py-4 px-4 text-center text-muted-foreground",children:["#",e.previous]}),s.jsx("td",{className:"py-4 px-4 text-center",children:s.jsxs("span",{className:`inline-flex items-center gap-1 ${e.change>0?"text-green-500":"text-red-500"}`,children:[e.change>0?s.jsx(dr,{className:"w-4 h-4"}):s.jsx(tp,{className:"w-4 h-4"}),Math.abs(e.change)]})}),s.jsx("td",{className:"py-4 px-4 text-right text-muted-foreground",children:e.volume.toLocaleString()})]},e.keyword))})]})]})]})}),pYe=[{id:1,date:"2026-01-15",item:"AI ",amount:"NT$8,888",status:"",invoice:"INV-2026-001"},{id:2,date:"2026-01-10",item:" 500 ",amount:"NT$500",status:"",invoice:"INV-2026-002"},{id:3,date:"2026-01-05",item:" 100 ",amount:"NT$100",status:"",invoice:"INV-2026-003"}],gYe=[{points:100,price:100,label:""},{points:500,price:500,label:""},{points:1500,price:1500,label:""},{points:5e3,price:5e3,label:""}],xYe=()=>s.jsx(Yt,{title:"",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"gradient-border rounded-2xl p-4 md:p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-foreground mb-2",children:"SEOBAIKE "}),s.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs("div",{className:"glass rounded-xl p-4 md:p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ye,{className:"w-6 h-6 md:w-8 md:h-8 text-primary"})}),s.jsx("h3",{className:"text-lg md:text-xl font-semibold text-foreground mb-2",children:"AI "}),s.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gradient mb-2",children:"NT$8,888"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsxs("ul",{className:"text-sm text-muted-foreground mt-4 space-y-1 text-left",children:[s.jsx("li",{children:"  7 "}),s.jsx("li",{children:" Lighthouse 90+ "}),s.jsx("li",{children:" RWD "}),s.jsx("li",{children:" SSL "})]})]}),s.jsxs("div",{className:"glass rounded-xl p-4 md:p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(pu,{className:"w-6 h-6 md:w-8 md:h-8 text-primary"})}),s.jsx("h3",{className:"text-lg md:text-xl font-semibold text-foreground mb-2",children:""}),s.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gradient mb-2",children:"1  = NT$1"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" 50 "}),s.jsxs("ul",{className:"text-sm text-muted-foreground mt-4 space-y-1 text-left",children:[s.jsx("li",{children:" AI  30 "}),s.jsx("li",{children:" AI  50 "}),s.jsx("li",{children:" SEO  10 "}),s.jsx("li",{children:" AI  10 /"})]})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(ye,{to:"/merchant/topup",children:s.jsxs(B,{variant:"hero",size:"lg",className:"gap-2",children:["",s.jsx(mt,{className:"w-4 h-4"})]})})})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[s.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:""}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:gYe.map((e,t)=>s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+t*.05},className:"glass rounded-xl p-4 text-center hover:border-primary/50 transition-all",children:[s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full",children:e.label}),s.jsxs("div",{className:"text-xl md:text-2xl font-bold text-foreground mt-3 mb-1",children:[e.points.toLocaleString()," "]}),s.jsxs("div",{className:"text-primary font-semibold",children:["NT$",e.price.toLocaleString()]})]},e.points))})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass rounded-xl p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Cs,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:""})]}),s.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:s.jsxs("table",{className:"w-full min-w-[500px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:""})]})}),s.jsx("tbody",{children:pYe.map(e=>s.jsxs("tr",{className:"border-b border-border/50",children:[s.jsx("td",{className:"py-4 px-4 text-foreground text-sm",children:e.date}),s.jsx("td",{className:"py-4 px-4 text-foreground text-sm",children:e.item}),s.jsx("td",{className:"py-4 px-4 text-foreground text-sm",children:e.amount}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-green-500 text-sm",children:e.status})}),s.jsx("td",{className:"py-4 px-4 text-right",children:s.jsx(B,{variant:"ghost",size:"sm",className:"text-xs md:text-sm",children:e.invoice})})]},e.id))})]})})]})]})});var pC="Switch",[yYe,l_t]=Ar(pC),[vYe,bYe]=yYe(pC),Dce=x.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,f]=x.useState(null),p=ft(t,w=>f(w)),g=x.useRef(!1),y=m?u||!!m.closest("form"):!0,[v,b]=ua({prop:i,defaultProp:a??!1,onChange:d,caller:pC});return s.jsxs(vYe,{scope:n,checked:v,disabled:l,children:[s.jsx(De.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":Bce(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:p,onClick:ve(e.onClick,w=>{b(S=>!S),y&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),y&&s.jsx(Fce,{control:m,bubbles:!g.current,name:r,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Dce.displayName=pC;var Lce="SwitchThumb",$ce=x.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=bYe(Lce,n);return s.jsx(De.span,{"data-state":Bce(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});$ce.displayName=Lce;var wYe="SwitchBubbleInput",Fce=x.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=x.useRef(null),l=ft(o,a),c=iC(n),d=y_(t);return x.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&f){const p=new Event("click",{bubbles:r});f.call(u,n),u.dispatchEvent(p)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Fce.displayName=wYe;function Bce(e){return e?"checked":"unchecked"}var Uce=Dce,jYe=$ce;const Ai=x.forwardRef(({className:e,...t},n)=>s.jsx(Uce,{className:G("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:s.jsx(jYe,{className:G("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ai.displayName=Uce.displayName;const gL=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:G("w-full caption-bottom text-sm",e),...t})}));gL.displayName="Table";const xL=x.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:G("[&_tr]:border-b",e),...t}));xL.displayName="TableHeader";const yL=x.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:G("[&_tr:last-child]:border-0",e),...t}));yL.displayName="TableBody";const SYe=x.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:G("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));SYe.displayName="TableFooter";const A0=x.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:G("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));A0.displayName="TableRow";const Hi=x.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:G("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Hi.displayName="TableHead";const Ki=x.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:G("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ki.displayName="TableCell";const NYe=x.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:G("mt-4 text-sm text-muted-foreground",e),...t}));NYe.displayName="TableCaption";const kYe=()=>{const{user:e}=Jt(),[t,n]=x.useState(null),[r,i]=x.useState(null),[a,o]=x.useState([]),[l,c]=x.useState([]),[d,u]=x.useState(0),[h,m]=x.useState(!0);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{if(e){m(!0);try{const{data:b}=await ee.from("profiles").select("points").eq("id",e.id).single();b&&u(b.points||0);const{data:w}=await ee.from("customer_subscriptions").select("*").eq("user_id",e.id).eq("is_active",!0).maybeSingle();n(w);const{data:S}=await ee.from("auto_payment_settings").select("*").eq("user_id",e.id).maybeSingle();i(S);const{data:j}=await ee.from("point_transactions").select("id, created_at, description, amount, balance_after").eq("user_id",e.id).eq("type","consumption").order("created_at",{ascending:!1}).limit(10),N=(j||[]).map(_=>({id:_.id,created_at:_.created_at,action_name_zh:_.description||"",points_used:Math.abs(_.amount),balance_after:_.balance_after}));o(N);const{data:k}=await ee.from("subscription_notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);c(k||[])}catch(b){console.error(":",b),q.error("")}m(!1)}},p=async(b,w)=>{if(e)try{if(r){const{error:S}=await ee.from("auto_payment_settings").update({[b]:w}).eq("user_id",e.id);if(S)throw S;q.success(""),f()}else{const{error:S}=await ee.from("auto_payment_settings").insert({user_id:e.id,[b]:w});if(S)throw S;q.success(""),f()}}catch(S){console.error(":",S),q.error("")}},g=async b=>{c(w=>w.filter(S=>S.id!==b))},v=(()=>{if(!t)return null;const b=new Date,w=new Date(t.expire_date);return Math.ceil((w.getTime()-b.getTime())/(1e3*60*60*24))})();return h?s.jsxs("div",{className:"flex items-center justify-center min-h-[400px]",children:[s.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),l.length>0&&s.jsxs(Y,{className:"border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950",children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(me,{className:"flex items-center gap-2 text-amber-700 dark:text-amber-300 text-base",children:[s.jsx(Da,{className:"h-4 w-4"})," (",l.length,")"]})}),s.jsx(Z,{className:"space-y-2",children:l.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-background rounded-lg",children:[s.jsx("span",{className:"text-sm",children:b.message}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>g(b.id),children:""})]},b.id))})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(me,{className:"flex items-center gap-2 text-base",children:[s.jsx(cn,{className:"h-4 w-4 text-yellow-500"}),""]})}),s.jsxs(Z,{children:[s.jsxs("p",{className:"text-3xl font-bold text-primary",children:[d," "]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"1  = NT$1"}),d<100&&s.jsx(ae,{variant:"destructive",className:"mt-2",children:""})]})]}),s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(me,{className:"flex items-center gap-2 text-base",children:[s.jsx(E_e,{className:"h-4 w-4 text-blue-500"}),""]})}),s.jsx(Z,{children:t?s.jsxs(s.Fragment,{children:[s.jsx(ae,{variant:t.is_active?"default":"secondary",children:t.is_active?"":""}),s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",t.expire_date]}),v!==null&&s.jsxs("p",{className:`text-sm font-medium ${v<=7?"text-destructive":v<=30?"text-amber-600":"text-green-600"}`,children:[" ",v," "]})]})]}):s.jsx("p",{className:"text-muted-foreground",children:""})})]}),s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(me,{className:"flex items-center gap-2 text-base",children:[s.jsx(Cs,{className:"h-4 w-4 text-green-500"}),""]})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:""}),s.jsx(Ai,{checked:(r==null?void 0:r.auto_renew_enabled)??!1,onCheckedChange:b=>p("auto_renew_enabled",b)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:""}),s.jsx(Ai,{checked:(r==null?void 0:r.auto_recharge_enabled)??!1,onCheckedChange:b=>p("auto_recharge_enabled",b)})]}),(r==null?void 0:r.auto_recharge_enabled)&&s.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{children:""}),s.jsx(xe,{type:"number",className:"w-20 h-8",value:r.auto_recharge_threshold??50,onChange:b=>p("auto_recharge_threshold",parseInt(b.target.value)||50)}),s.jsx("span",{children:""})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{children:""}),s.jsx(xe,{type:"number",className:"w-24 h-8",value:r.auto_recharge_amount??500,onChange:b=>p("auto_recharge_amount",parseInt(b.target.value)||500)}),s.jsx("span",{children:""})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" 300  5,000 "})]})]})]})]}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs(me,{className:"flex items-center gap-2 text-base",children:[s.jsx(tp,{className:"h-4 w-4 text-red-500"}),""]})}),s.jsx(Z,{children:a.length>0?s.jsxs(gL,{children:[s.jsx(xL,{children:s.jsxs(A0,{children:[s.jsx(Hi,{children:""}),s.jsx(Hi,{children:""}),s.jsx(Hi,{className:"text-right",children:""}),s.jsx(Hi,{className:"text-right",children:""})]})}),s.jsx(yL,{children:a.map(b=>s.jsxs(A0,{children:[s.jsx(Ki,{className:"text-muted-foreground",children:new Date(b.created_at).toLocaleString("zh-TW")}),s.jsx(Ki,{children:b.action_name_zh}),s.jsxs(Ki,{className:"text-right text-destructive",children:["-",b.points_used]}),s.jsx(Ki,{className:"text-right",children:b.balance_after})]},b.id))})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:""})})]})]})},_Ye=()=>s.jsx(Yt,{title:"",children:s.jsx(kYe,{})}),CYe=()=>{const{user:e}=Jt(),[t,n]=x.useState([]),[r,i]=x.useState(0),[a,o]=x.useState(null),[l,c]=x.useState(!0);x.useEffect(()=>{if(!e){n([]),i(0),o(null),c(!1);return}d(),u();const p=ee.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},g=>{n(y=>[g.new,...y]),i(y=>y+1)}).subscribe();return()=>{ee.removeChannel(p)}},[e]);const d=async()=>{if(!e)return;const{data:p,error:g}=await ee.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50);!g&&p&&(n(p),i(p.filter(y=>!y.is_read).length)),c(!1)},u=async()=>{if(!e)return;const{data:p,error:g}=await ee.from("notification_settings").select("*").eq("user_id",e.id).single();if(!g&&p)o({email_enabled:p.email_enabled,line_enabled:p.line_enabled,line_user_id:p.line_user_id,in_app_enabled:p.in_app_enabled});else{const{data:y}=await ee.from("notification_settings").insert({user_id:e.id,email_enabled:!0,line_enabled:!1,in_app_enabled:!0}).select().single();y&&o({email_enabled:y.email_enabled,line_enabled:y.line_enabled,line_user_id:y.line_user_id,in_app_enabled:y.in_app_enabled})}};return{notifications:t,unreadCount:r,settings:a,loading:l,markAsRead:async p=>{if(!e)return;const{error:g}=await ee.from("notifications").update({is_read:!0}).eq("id",p).eq("user_id",e.id);g||(n(y=>y.map(v=>v.id===p?{...v,is_read:!0}:v)),i(y=>Math.max(0,y-1)))},markAllAsRead:async()=>{if(!e)return;const{error:p}=await ee.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1);p||(n(g=>g.map(y=>({...y,is_read:!0}))),i(0))},updateSettings:async p=>{if(!e)return{success:!1};const{error:g}=await ee.from("notification_settings").update(p).eq("user_id",e.id);return g?{success:!1,error:g.message}:(o(y=>y?{...y,...p}:null),{success:!0})},refetch:d}},EYe=[{id:"all",label:""},{id:"expiration_warning",label:""},{id:"payment_success",label:""},{id:"payment_failed",label:""},{id:"system",label:""}],TYe=()=>{const{notifications:e,settings:t,markAsRead:n,markAllAsRead:r,updateSettings:i}=CYe(),[a,o]=x.useState("all"),[l,c]=x.useState(!1),d=e.filter(f=>a==="all"||f.type===a),u=async(f,p)=>{(await i({[f]:p})).success?q.success(""):q.error("")},h=f=>new Date(f).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),m=f=>{switch(f){case"expiration_warning":return"";case"payment_success":return"";case"payment_failed":return"";default:return""}};return s.jsx(Yt,{title:"",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(u_,{className:"w-4 h-4 text-muted-foreground"}),EYe.map(f=>s.jsx("button",{onClick:()=>o(f.id),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${a===f.id?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:f.label},f.id))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:r,className:"gap-1",children:[s.jsx(T_e,{className:"w-4 h-4"}),""]}),s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>c(!l),className:"gap-1",children:[s.jsx(fa,{className:"w-4 h-4"}),""]})]})]}),l&&t&&s.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"glass rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:""}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Da,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]}),s.jsx(Ai,{checked:t.in_app_enabled,onCheckedChange:f=>u("in_app_enabled",f)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:s.jsx(Ri,{className:"w-5 h-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"Email "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]}),s.jsx(Ai,{checked:t.email_enabled,onCheckedChange:f=>u("email_enabled",f)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:s.jsx(Vr,{className:"w-5 h-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"LINE "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" LINE "}),!t.line_user_id&&s.jsx("p",{className:"text-xs text-orange-500 mt-1",children:" LINE "})]})]}),s.jsx(Ai,{checked:t.line_enabled,onCheckedChange:f=>u("line_enabled",f),disabled:!t.line_user_id})]})]})]}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass rounded-xl overflow-hidden",children:d.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Da,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:""})]}):s.jsx("div",{className:"divide-y divide-border",children:d.map((f,p)=>s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.03},className:`p-4 md:p-5 cursor-pointer hover:bg-muted/30 transition-colors ${f.is_read?"":"bg-primary/5"}`,onClick:()=>n(f.id),children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("span",{className:"text-2xl flex-shrink-0",children:m(f.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsx("p",{className:`font-medium ${f.is_read?"text-muted-foreground":"text-foreground"}`,children:f.title}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!f.is_read&&s.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:h(f.created_at)})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.message})]})]})},f.id))})})]})})},AYe={id:"demo-user-123",email:"demo@seobaike.com",name:"",avatar:void 0,points:150,createdAt:"2026-01-01"},PYe=_le((e,t)=>({user:AYe,isAuthenticated:!0,setUser:n=>e({user:n,isAuthenticated:!!n}),updatePoints:n=>e(r=>({user:r.user?{...r.user,points:n}:null})),deductPoints:n=>{const{user:r}=t();return!r||r.points<n?!1:(e({user:{...r,points:r.points-n}}),!0)},addPoints:n=>{const{user:r}=t();r&&e({user:{...r,points:r.points+n}})},logout:()=>e({user:null,isAuthenticated:!1})})),IYe=()=>{var n;const{user:e}=PYe(),{formData:t}=sw();return s.jsx(Yt,{title:"",children:s.jsxs("div",{className:"space-y-6 max-w-2xl",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(Mu,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-primary",children:((n=e==null?void 0:e.name)==null?void 0:n.charAt(0))||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:(e==null?void 0:e.name)||""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"name",children:""}),s.jsx(xe,{id:"name",defaultValue:t.contactName||(e==null?void 0:e.name)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"email",children:"Email"}),s.jsx(xe,{id:"email",type:"email",defaultValue:e==null?void 0:e.email,disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"phone",children:""}),s.jsx(xe,{id:"phone",defaultValue:t.phone})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"line",children:"LINE ID"}),s.jsx(xe,{id:"line",defaultValue:t.lineId})]})]})]})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(ya,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"company",children:""}),s.jsx(xe,{id:"company",defaultValue:t.companyNameCn})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"companyEn",children:""}),s.jsx(xe,{id:"companyEn",defaultValue:t.companyNameEn})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"address",children:""}),s.jsx(xe,{id:"address",defaultValue:t.address})]})]})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(Da,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:"Email "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" SEO "})]}),s.jsx(Ai,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),s.jsx(Ai,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),s.jsx(Ai,{})]})]})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(sn,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(B,{variant:"outline",className:"w-full justify-start gap-2",children:[s.jsx(Ri,{className:"w-4 h-4"})," Email"]}),s.jsxs(B,{variant:"outline",className:"w-full justify-start gap-2",children:[s.jsx(sn,{className:"w-4 h-4"}),""]})]})]}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:s.jsxs(B,{variant:"hero",size:"lg",className:"w-full gap-2",children:[s.jsx(zb,{className:"w-5 h-5"}),""]})})]})})},OYe={ECPAY_MERCHANT_ID:{name:"",getUrl:"https://www.ecpay.com.tw/",purpose:""},ECPAY_HASH_KEY:{name:" HashKey",getUrl:"https://www.ecpay.com.tw/",purpose:""},ECPAY_HASH_IV:{name:" HashIV",getUrl:"https://www.ecpay.com.tw/",purpose:""},TELEGRAM_BOT_TOKEN:{name:"Telegram Bot Token",getUrl:"https://t.me/BotFather",purpose:""},TELEGRAM_CHAT_ID:{name:"Telegram Chat ID",getUrl:"https://t.me/userinfobot",purpose:"/"},GITHUB_TOKEN:{name:"SEOBAIKE  Token",getUrl:"https://github.com/settings/tokens",purpose:" Fork "},VERCEL_TOKEN:{name:"SEOBAIKE  Token",getUrl:"https://vercel.com/account/tokens",purpose:""},VERCEL_TEAM_ID:{name:"SEOBAIKE  Team ID",getUrl:"https://vercel.com/dashboard",purpose:" Team"},CLOUDFLARE_API_TOKEN:{name:"SEOBAIKE CDN  Token",getUrl:"https://dash.cloudflare.com/profile/api-tokens",purpose:" DNS "},CLOUDFLARE_ZONE_ID:{name:"SEOBAIKE CDN Zone ID",getUrl:"https://dash.cloudflare.com/",purpose:" DNS Zone"},GOOGLE_PAGESPEED_API_KEY:{name:"SEOBAIKE  Key",getUrl:"https://console.cloud.google.com/apis/credentials",purpose:" Lighthouse "}},RYe=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState(null),[o,l]=x.useState(null),[c,d]=x.useState(!1),[u,h]=x.useState({}),[m,f]=x.useState({});x.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:S,error:j}=await ee.from("system_settings").select("*").order("key");if(j)throw j;t(S||[]);const N={};S==null||S.forEach(k=>{N[k.key]=k.value||""}),f(N)}catch(S){console.error("Error fetching settings:",S),q.error("")}finally{r(!1)}},g=async S=>{a(S);try{const{error:j}=await ee.from("system_settings").update({value:m[S]||null,updated_at:new Date().toISOString()}).eq("key",S);if(j)throw j;q.success(""),p()}catch(j){console.error("Error saving:",j),q.error("")}finally{a(null)}},y=async S=>{l(S);try{if(await new Promise(N=>setTimeout(N,1500)),!m[S]){q.error("");return}q.success("")}catch{q.error("")}finally{l(null)}},v=async()=>{d(!0);try{const S=new Date().toLocaleString("zh-TW",{timeZone:"Asia/Taipei",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),{data:j,error:N}=await ee.functions.invoke("send-telegram",{body:{message:` SEOBAIKE 

 ${S}
 `,parse_mode:"HTML"}});if(N){console.error("Notify test error:",N),q.error(`${N.message}`);return}j!=null&&j.success?q.success(" Telegram  Telegram"):q.error(`${(j==null?void 0:j.error)||""}`)}catch(S){console.error("Notify test error:",S);const j=S instanceof Error?S.message:"";q.error(`${j}`)}finally{d(!1)}},b=S=>{h(j=>({...j,[S]:!j[S]}))},w=()=>e.filter(S=>S.value).length;return n?s.jsx(Yt,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(rn,{className:"w-8 h-8 animate-spin text-muted-foreground"})})}):s.jsx(Yt,{children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"API Key "}),s.jsx("p",{className:"text-muted-foreground mt-1",children:" API "})]}),s.jsxs(ae,{variant:w()===e.length?"default":"secondary",children:[w()," / ",e.length," "]})]}),s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs(me,{className:"text-lg flex items-center gap-2",children:[s.jsx(gu,{className:"w-5 h-5"}),""]})}),s.jsxs(Z,{children:[s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${w()/e.length*100}%`}})}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:w()===e.length?" API Key ":` ${e.length-w()}  API Key `})]})]}),s.jsxs(Y,{className:"border-primary/20 bg-primary/5",children:[s.jsx(ue,{className:"pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Da,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-base",children:""}),s.jsx(dt,{children:" Telegram "})]})]})})}),s.jsxs(Z,{children:[s.jsx(B,{onClick:v,disabled:c,className:"w-full gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx(rn,{className:"w-4 h-4 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bs,{className:"w-4 h-4"}),""]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:" Telegram "})]})]}),s.jsx("div",{className:"grid gap-4",children:e.map(S=>{const j=OYe[S.key]||{name:S.key,getUrl:"#",purpose:S.description||""},N=!!S.value;return s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${N?"bg-green-500/10":"bg-muted"}`,children:s.jsx(vM,{className:`w-5 h-5 ${N?"text-green-500":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-base",children:j.name}),s.jsx(dt,{children:j.purpose})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:N?s.jsxs(ae,{variant:"default",className:"bg-green-500/10 text-green-500 hover:bg-green-500/20",children:[s.jsx(St,{className:"w-3 h-3 mr-1"}),""]}):s.jsxs(ae,{variant:"secondary",children:[s.jsx(Oi,{className:"w-3 h-3 mr-1"}),""]})})]})}),s.jsxs(Z,{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(xe,{type:u[S.key]?"text":"password",value:m[S.key]||"",onChange:k=>f(_=>({..._,[S.key]:k.target.value})),placeholder:` ${j.name}`,className:"pr-10"}),s.jsx("button",{type:"button",onClick:()=>b(S.key),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:u[S.key]?s.jsx(xM,{className:"w-4 h-4"}):s.jsx(Ga,{className:"w-4 h-4"})})]}),s.jsx(B,{variant:"outline",size:"icon",onClick:()=>g(S.key),disabled:i===S.key,children:i===S.key?s.jsx(rn,{className:"w-4 h-4 animate-spin"}):s.jsx(zb,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("a",{href:j.getUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:[" ",s.jsx(Br,{className:"w-3 h-3"})]}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>y(S.key),disabled:o===S.key||!m[S.key],children:o===S.key?s.jsxs(s.Fragment,{children:[s.jsx(rn,{className:"w-3 h-3 mr-1 animate-spin"}),"..."]}):""})]})]})]},S.id)})})]})})},MYe=[{id:"credit",name:"",icon:Cs,description:""},{id:"apple-pay",name:"Apple Pay",icon:hZ,description:""},{id:"google-pay",name:"Google Pay",icon:ii,description:""},{id:"atm",name:"ATM ",icon:ya,description:""},{id:"cvs",name:"",icon:_M,description:""}],DYe=({open:e,onOpenChange:t,requiredPoints:n,serviceName:r,onSuccess:i})=>{const{profile:a,deductPoints:o}=zc(),[l,c]=x.useState("credit"),[d,u]=x.useState(!1),h=(a==null?void 0:a.points)||0,m=h>=n,f=n,p=async()=>{if(!m){q.error("");return}u(!0);const y=await o(n,`${r}`);u(!1),y.success?(q.success(` ${n} `),i(),t(!1)):q.error(y.error||"")},g=async()=>{u(!0);try{if(!(await fetch("https://anuslwdkfstrfffsrgvk.supabase.co/functions/v1/payment-single",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFudXNsd2RrZnN0cmZmZnNyZ3ZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkxODcwNzksImV4cCI6MjA4NDc2MzA3OX0.oubQLUS0ZLRpqzRHcKLmDgb8kSaXKY0ObZKDOdP7W7I"},body:JSON.stringify({amount:f,serviceName:r,paymentMethod:l})})).ok)throw new Error("Payment failed");q.success(""),i(),t(!1)}catch{q.info("SEOBAIKE ")}u(!1)};return s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsxs(zn,{className:"sm:max-w-md",children:[s.jsxs(Di,{children:[s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5 text-primary"}),""]}),s.jsxs(Tl,{children:[" ",s.jsxs("span",{className:"text-primary font-semibold",children:[n," "]})]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-xl border-2 transition-all cursor-pointer ${m?"border-primary bg-primary/5 hover:bg-primary/10":"border-muted bg-muted/30 opacity-50"}`,onClick:()=>m&&p(),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(cr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-foreground",children:""}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",h," "]})]})]}),m&&s.jsx(B,{variant:"hero",size:"sm",onClick:y=>{y.stopPropagation(),p()},disabled:d,children:d?"SEOBAIKE ...":""})]}),!m&&s.jsxs("p",{className:"text-sm text-destructive mt-2",children:[" ",n-h," "]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-muted"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:""})})]}),s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"p-4 rounded-xl border border-border bg-card",children:[s.jsxs("p",{className:"font-semibold text-foreground mb-3",children:[" NT$",f]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:MYe.map(y=>s.jsxs("button",{onClick:()=>c(y.id),className:`p-3 rounded-lg border text-left transition-all ${l===y.id?"border-primary bg-primary/5":"border-border hover:border-primary/30"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(y.icon,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-sm font-medium",children:y.name})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:y.description})]},y.id))}),s.jsx(B,{variant:"glow",className:"w-full",onClick:g,disabled:d,children:d?"SEOBAIKE ...":` NT$${f}`})]})]})]})})},LYe=[{id:"seo",label:"SEO ",icon:fn},{id:"image",label:"AI ",icon:Zp},{id:"writing",label:"AI ",icon:Ur},{id:"social",label:"AI ",icon:NM},{id:"translate",label:"",icon:sZ},{id:"other",label:"",icon:D_e},{id:"advanced",label:"",icon:Ye}],$Ye=[{id:"df-domain-rating",name:" DR/UR ",description:"DataForSEO ",icon:fn,points:10,category:"seo",inputType:"url",placeholder:""},{id:"df-backlink-analysis",name:" ",description:"DataForSEO ",icon:Qd,points:30,category:"seo",inputType:"url",placeholder:""},{id:"df-keyword-metrics",name:" ",description:"DataForSEO KD + ",icon:dr,points:20,category:"seo",inputType:"text",placeholder:""},{id:"df-keyword-suggestions",name:" ",description:"DataForSEO ",icon:aT,points:25,category:"seo",inputType:"text",placeholder:""},{id:"df-serp-analysis",name:" SERP ",description:"DataForSEO  10 ",icon:bn,points:15,category:"seo",inputType:"text",placeholder:""},{id:"df-competitor-analysis",name:" ",description:"DataForSEO  SEO ",icon:bn,points:80,category:"seo",inputType:"url",placeholder:""},{id:"keyword-search",name:"",description:"AI ",icon:fn,points:5,category:"seo",inputType:"text",placeholder:" SEO"},{id:"backlink-check",name:"",description:"AI ",icon:Qd,points:5,category:"seo",inputType:"url",placeholder:""},{id:"competitor",name:"",description:"AI ",icon:bn,points:5,category:"seo",inputType:"url",placeholder:""},{id:"related-keywords",name:"",description:"AI ",icon:aT,points:5,category:"seo",inputType:"text",placeholder:""},{id:"keyword-difficulty",name:"",description:"AI ",icon:dr,points:5,category:"seo",inputType:"text",placeholder:""},{id:"domain-check",name:"",description:"",icon:Tt,points:5,category:"seo",inputType:"text",placeholder:"example.com"},{id:"lighthouse",name:"Lighthouse ",description:" SEO/",icon:cn,points:5,category:"seo",inputType:"url",placeholder:""},{id:"index-now",name:"",description:" Google/Bing ",icon:rn,points:5,category:"seo",inputType:"url",placeholder:""},{id:"traffic-estimate",name:"",description:"AI ",icon:bn,points:5,category:"seo",inputType:"url",placeholder:""},{id:"generate-image",name:"AI ",description:"AI Banner",icon:z_e,points:5,category:"image",inputType:"textarea",placeholder:""},{id:"generate-logo",name:"AI  Logo",description:" Logo ",icon:Ac,points:5,category:"image",inputType:"textarea",placeholder:" Logo  S  Logo"},{id:"remove-bg",name:"",description:"AI ",icon:L_e,points:5,category:"image",inputType:"url",placeholder:""},{id:"upscale",name:"",description:"AI  4K",icon:aZ,points:5,category:"image",inputType:"url",placeholder:""},{id:"generate-copy",name:"AI ",description:"",icon:T8,points:5,category:"writing",inputType:"textarea",placeholder:""},{id:"generate-titles",name:"AI ",description:" 10  SEO ",icon:FP,points:5,category:"writing",inputType:"textarea",placeholder:""},{id:"generate-meta",name:"AI Meta Description",description:" SEO Meta ",icon:Ur,points:5,category:"writing",inputType:"textarea",placeholder:""},{id:"generate-about",name:"AI ",description:"",icon:ya,points:5,category:"writing",inputType:"textarea",placeholder:""},{id:"generate-faq",name:"AI  FAQ",description:" 10  Q&A",icon:Bb,points:5,category:"writing",inputType:"textarea",placeholder:""},{id:"rewrite",name:"AI ",description:"",icon:rn,points:5,category:"writing",inputType:"textarea",placeholder:""},{id:"proofread",name:"AI ",description:"+",icon:F_e,points:5,category:"writing",inputType:"textarea",placeholder:""},{id:"generate-ad",name:"AI ",description:" Google ",icon:Ye,points:5,category:"writing",inputType:"textarea",placeholder:""},{id:"generate-product",name:"AI ",description:"",icon:T8,points:5,category:"writing",inputType:"textarea",placeholder:""},{id:"generate-outline",name:"AI ",description:"",icon:aT,points:5,category:"writing",inputType:"text",placeholder:""},{id:"generate-privacy",name:"AI ",description:"",icon:sn,points:5,category:"writing",inputType:"text",placeholder:"/"},{id:"generate-terms",name:"AI ",description:"",icon:Ur,points:5,category:"writing",inputType:"text",placeholder:"/"},{id:"generate-social",name:"AI ",description:"FB/IG ",icon:Vr,points:5,category:"social",inputType:"textarea",placeholder:""},{id:"generate-hashtags",name:"AI Hashtag",description:" 20  Hashtag",icon:FP,points:5,category:"social",inputType:"text",placeholder:""},{id:"generate-email",name:"AI Email ",description:" Email",icon:Ri,points:5,category:"social",inputType:"textarea",placeholder:" Email "},{id:"translate",name:"AI ",description:"//",icon:sZ,points:5,category:"translate",inputType:"textarea",placeholder:""},{id:"screenshot",name:"",description:"",icon:eZ,points:5,category:"other",inputType:"url",placeholder:""},{id:"short-url",name:"",description:"",icon:Qd,points:5,category:"other",inputType:"url",placeholder:""},{id:"qr-code",name:"QR Code ",description:" QR Code",icon:yu,points:5,category:"other",inputType:"url",placeholder:""},{id:"color-palette",name:"AI ",description:" 5 ",icon:Ac,points:5,category:"other",inputType:"text",placeholder:""},{id:"email-verify",name:"Email ",description:" Email ",icon:Ri,points:5,category:"other",inputType:"text",placeholder:" Email "},{id:"security-check",name:"",description:"",icon:kM,points:5,category:"other",inputType:"url",placeholder:""},{id:"generate-video",name:"AI ",description:"30 ",icon:Ye,points:10,category:"advanced",inputType:"textarea",placeholder:""},{id:"text-to-speech",name:"AI ",description:" 500 ",icon:Ye,points:10,category:"advanced",inputType:"textarea",placeholder:" 500 "},{id:"export-pdf",name:"PDF ",description:" PDF ",icon:Ur,points:10,category:"advanced",inputType:"url",placeholder:""}],FYe=()=>{const{user:e}=Jt(),{profile:t,deductPoints:n}=zc(),r=xn(),[i,a]=x.useState("seo"),[o,l]=x.useState(null),[c,d]=x.useState(""),[u,h]=x.useState(!1),[m,f]=x.useState(null),[p,g]=x.useState(!1),[y,v]=x.useState(null);yn({title:"40+ AI SEO  - SEOBAIKE",description:" 40  AI AI  NT$5 ",keywords:"AI , SEO , , , ",canonical:"https://seobaike.com/tools",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/tools"}])}),x.useEffect(()=>{e||r("/login")},[e,r]);const b=$Ye.filter(_=>_.category===i),w=(t==null?void 0:t.points)||0,S=_=>{if(w<_.points){v(_),g(!0);return}l(_),d(""),f(null)},j=async()=>{if(!o||!c.trim()){q.error("");return}if(h(!0),!(await n(o.points,`${o.name}`)).success){h(!1),v(o),g(!0);return}setTimeout(()=>{h(!1),f(` ${o.name}

 API 

${c}`),q.success(` ${o.points} `)},2e3)},N=()=>{l(null),d(""),f(null)},k=()=>{y&&(l(y),v(null),d(""),f(null))};return s.jsx(Yt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:["",s.jsx("span",{className:"text-gradient",children:""})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:" 40  AI  NT$5 "})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary/10 border border-primary/20",children:[s.jsx(cr,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"font-bold text-primary",children:w}),s.jsx(ye,{to:"/topup",children:s.jsx(B,{variant:"ghost",size:"sm",className:"text-xs",children:""})})]})]}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-wrap gap-2",children:LYe.map(_=>s.jsxs("button",{onClick:()=>a(_.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${i===_.id?"bg-primary text-primary-foreground":"glass text-muted-foreground hover:text-foreground"}`,children:[s.jsx(_.icon,{className:"w-4 h-4"}),_.label]},_.id))}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((_,C)=>s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+C*.05},className:"glass rounded-xl p-5 hover:border-primary/30 transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(_.icon,{className:"w-5 h-5 text-primary"})}),s.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${_.points>=49?"bg-amber-500/20 text-amber-500":_.points>=10?"bg-purple-500/20 text-purple-500":"bg-primary/20 text-primary"}`,children:[_.points," "]})]}),s.jsx("h3",{className:"font-semibold text-foreground mb-1",children:_.name}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:_.description}),s.jsx(B,{variant:"hero",size:"sm",className:"w-full",onClick:()=>S(_),children:""})]},_.id))}),s.jsx(He,{children:o&&s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-background/80 backdrop-blur-sm",onClick:N,children:s.jsxs(E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"glass rounded-2xl p-6 md:p-8 max-w-lg w-full max-h-[80vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(o.icon,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:o.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",o.points," "]})]})]}),s.jsx("button",{onClick:N,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:s.jsx(nr,{className:"w-5 h-5"})})]}),m?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 rounded-xl bg-muted/50 whitespace-pre-wrap text-sm",children:m}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",className:"flex-1",onClick:()=>{navigator.clipboard.writeText(m),q.success("")},children:""}),s.jsx(B,{variant:"hero",className:"flex-1",onClick:()=>{d(""),f(null)},children:""})]})]}):s.jsxs("div",{className:"space-y-4",children:[o.inputType==="textarea"?s.jsx(Yn,{placeholder:o.placeholder,value:c,onChange:_=>d(_.target.value),rows:5}):s.jsx(xe,{type:o.inputType==="url"?"url":"text",placeholder:o.placeholder,value:c,onChange:_=>d(_.target.value)}),s.jsx(B,{variant:"glow",className:"w-full",onClick:j,disabled:u||!c.trim(),children:u?s.jsxs(s.Fragment,{children:[s.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:s.jsx(Ye,{className:"w-4 h-4"})}),"SEOBAIKE ..."]}):s.jsxs(s.Fragment,{children:[" ",o.points," "]})})]})]})})}),y&&s.jsx(DYe,{open:p,onOpenChange:g,requiredPoints:y.points,serviceName:y.name,onSuccess:k})]})})},BYe=[{id:"trial",name:"",amount:100,points:100,bonus:0,total:100,badge:" ",badgeColor:"bg-orange-500"},{id:"value",name:"",amount:500,points:500,bonus:50,total:550,badge:"  50 ",badgeColor:"bg-green-500"},{id:"business",name:"",amount:1e3,points:1e3,bonus:150,total:1150,popular:!0,badge:" ",badgeColor:"bg-primary"},{id:"pro",name:"",amount:3e3,points:3e3,bonus:600,total:3600,badge:" ",badgeColor:"bg-purple-500"}],UYe=[{id:"credit",name:"",icon:Cs},{id:"apple-pay",name:"Apple Pay",icon:hZ},{id:"google-pay",name:"Google Pay",icon:ii},{id:"atm",name:"ATM ",icon:ya},{id:"cvs",name:"",icon:_M}],zYe=()=>{const{user:e}=Jt(),{profile:t}=zc(),n=xn(),[r,i]=x.useState(null),[a,o]=x.useState("credit"),[l,c]=x.useState([]);x.useEffect(()=>{if(!e){n("/login");return}(async()=>{const{data:m,error:f}=await ee.from("point_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);!f&&m&&c(m)})()},[e,n]);const d=h=>new Date(h).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}),u=h=>({topup:"",deduct:"",bonus:"",refund:""})[h]||h;return s.jsx(Yt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:["",s.jsx("span",{className:"text-gradient",children:""})]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:" AI "})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"gradient-border rounded-2xl p-6 md:p-8 text-center",children:[s.jsx(cr,{className:"w-12 h-12 text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:""}),s.jsx("p",{className:"text-5xl md:text-6xl font-bold text-gradient",children:(t==null?void 0:t.points)||0}),s.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"1  = NT$1   1 "})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:""}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:BYe.map((h,m)=>s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+m*.1},onClick:()=>i(h.id),className:`relative rounded-xl p-5 cursor-pointer transition-all ${r===h.id?"gradient-border bg-primary/5":"glass hover:border-primary/30"} ${h.popular?"ring-2 ring-primary":""}`,children:[h.badge&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx("span",{className:`${h.badgeColor} text-white text-xs px-3 py-1 rounded-full font-medium whitespace-nowrap`,children:h.badge})}),r===h.id&&s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(We,{className:"w-5 h-5 text-primary"})}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:h.name}),s.jsxs("div",{className:"text-2xl font-bold text-foreground mb-1",children:["NT$",h.amount.toLocaleString()]}),s.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:[h.points.toLocaleString()," ",h.bonus>0&&s.jsxs("span",{className:"text-primary",children:[" +",h.bonus," "]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-1 text-primary font-semibold",children:[s.jsx(Ye,{className:"w-4 h-4"})," ",h.total.toLocaleString()," "]})]},h.id))})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"glass rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:""}),s.jsx("div",{className:"flex flex-wrap gap-3",children:UYe.map(h=>s.jsxs("button",{onClick:()=>o(h.id),className:`flex items-center gap-2 px-4 py-3 rounded-lg border transition-all ${a===h.id?"border-primary bg-primary/5 text-foreground":"border-border hover:border-primary/30 text-muted-foreground"}`,children:[s.jsx(h.icon,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:h.name})]},h.id))})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex flex-col items-center gap-4",children:[s.jsxs(B,{variant:"outline",size:"xl",disabled:!0,className:"w-full max-w-md gap-2 opacity-70",children:[s.jsx(Pn,{className:"w-5 h-5"}),""]}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:""})]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Lo,{className:"w-5 h-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground",children:""})]}),l.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:""}):s.jsx("div",{className:"space-y-3",children:l.map(h=>s.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border/50 last:border-0",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-foreground",children:[u(h.type),h.description&&s.jsxs("span",{className:"text-muted-foreground",children:[" - ",h.description]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d(h.created_at)})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-semibold ${h.amount>0?"text-green-500":"text-foreground"}`,children:[h.amount>0?"+":"",h.amount," "]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",h.balance_after]})]})]},h.id))})]})]})})},VYe={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},qYe=(e,t,n)=>{let r;const i=VYe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+"":r+"":r},WYe={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},HYe={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},KYe={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},GYe={date:vp({formats:WYe,defaultWidth:"full"}),time:vp({formats:HYe,defaultWidth:"full"}),dateTime:vp({formats:KYe,defaultWidth:"full"})},YYe={lastWeek:"''eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"''eeee p",other:"P"},XYe=(e,t,n,r)=>YYe[e],JYe={narrow:["",""],abbreviated:["",""],wide:["",""]},QYe={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},ZYe={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},eXe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},tXe={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},nXe={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},rXe=(e,t)=>{const n=Number(e);switch(t==null?void 0:t.unit){case"date":return n+"";case"hour":return n+"";case"minute":return n+"";case"second":return n+"";default:return" "+n}},sXe={ordinalNumber:rXe,era:al({values:JYe,defaultWidth:"wide"}),quarter:al({values:QYe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:al({values:ZYe,defaultWidth:"wide"}),day:al({values:eXe,defaultWidth:"wide"}),dayPeriod:al({values:tXe,defaultWidth:"wide",formattingValues:nXe,defaultFormattingWidth:"wide"})},iXe=/^(\s*)?\d+(|||)?/i,aXe=/\d+/i,oXe={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},lXe={any:[/^()/i,/^()/i]},cXe={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},dXe={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},uXe={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},hXe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},mXe={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},fXe={any:[//i,//i,//i,//i,//i,//i,//i]},pXe={any:/^(?|?||[]|?||?|)/i},gXe={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},xXe={ordinalNumber:Pce({matchPattern:iXe,parsePattern:aXe,valueCallback:e=>parseInt(e,10)}),era:ol({matchPatterns:oXe,defaultMatchWidth:"wide",parsePatterns:lXe,defaultParseWidth:"any"}),quarter:ol({matchPatterns:cXe,defaultMatchWidth:"wide",parsePatterns:dXe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ol({matchPatterns:uXe,defaultMatchWidth:"wide",parsePatterns:hXe,defaultParseWidth:"any"}),day:ol({matchPatterns:mXe,defaultMatchWidth:"wide",parsePatterns:fXe,defaultParseWidth:"any"}),dayPeriod:ol({matchPatterns:pXe,defaultMatchWidth:"any",parsePatterns:gXe,defaultParseWidth:"any"})},kN={code:"zh-TW",formatDistance:qYe,formatLong:GYe,formatRelative:XYe,localize:sXe,match:xXe,options:{weekStartsOn:1,firstWeekContainsDate:4}},T2=10,yXe=()=>{const e=xn(),{user:t,loading:n}=Jt(),{profile:r}=zc(),[i,a]=x.useState([]),[o,l]=x.useState(!0),[c,d]=x.useState(1),[u,h]=x.useState(0),[m,f]=x.useState("all"),[p,g]=x.useState(null);x.useEffect(()=>{!n&&!t&&e("/login")},[t,n,e]),x.useEffect(()=>{t&&(y(),v())},[t,c,m]);const y=async()=>{if(!t)return;l(!0);let N=ee.from("point_transactions").select("*",{count:"exact"}).eq("user_id",t.id).order("created_at",{ascending:!1});m!=="all"&&(N=N.eq("type",m));const k=(c-1)*T2,_=k+T2-1;N=N.range(k,_);const{data:C,error:T,count:A}=await N;T?console.error("Error fetching transactions:",T):(a(C||[]),h(A||0)),l(!1)},v=async()=>{if(!t)return;const N=new Date;N.setDate(N.getDate()+7);const{data:k}=await ee.from("point_transactions").select("amount, expires_at").eq("user_id",t.id).eq("is_expired",!1).not("expires_at","is",null).lt("expires_at",N.toISOString()).gt("expires_at",new Date().toISOString()).gt("amount",0);if(k&&k.length>0){const _=k.reduce((T,A)=>T+A.amount,0),C=k.reduce((T,A)=>{const P=new Date(A.expires_at);return P<T?P:T},new Date(k[0].expires_at));g({amount:_,daysLeft:YO(C,new Date)})}},b=N=>{switch(N){case"topup":return s.jsx(iT,{className:"w-5 h-5 text-green-500"});case"deduct":return s.jsx(P_e,{className:"w-5 h-5 text-red-500"});case"bonus":return s.jsx(pu,{className:"w-5 h-5 text-primary"});case"refund":return s.jsx(iT,{className:"w-5 h-5 text-blue-500"});default:return s.jsx(Pn,{className:"w-5 h-5 text-muted-foreground"})}},w=N=>({topup:"",deduct:"",bonus:"",refund:""})[N]||N,S=N=>Oa(new Date(N),"yyyy/MM/dd HH:mm",{locale:kN}),j=Math.ceil(u/T2);return n?s.jsx(Yt,{title:"",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(Yt,{title:"",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:(r==null?void 0:r.points)||0})]})]})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center",children:s.jsx(iT,{className:"w-6 h-6 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u})]})]})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:s.jsx(Lo,{className:"w-6 h-6 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:i[0]?S(i[0].created_at):"-"})]})]})})]}),s.jsx(He,{children:p&&p.amount>0&&s.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wr,{className:"w-5 h-5 text-amber-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:[" ",s.jsx("span",{className:"font-bold",children:p.amount})," ",s.jsxs("span",{className:"font-bold",children:[" ",p.daysLeft," "]}),""]}),s.jsx("p",{className:"text-xs text-amber-500/80 mt-1",children:""})]}),s.jsx(B,{variant:"outline",size:"sm",className:"border-amber-500/50 text-amber-600 hover:bg-amber-500/10",onClick:()=>e("/tools"),children:""})]})})}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[s.jsx(Lo,{className:"w-5 h-5"}),""]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u_,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs(Al,{value:m,onValueChange:N=>{f(N),d(1)},children:[s.jsx(Vo,{className:"w-32",children:s.jsx(Pl,{})}),s.jsxs(qo,{children:[s.jsx(Zr,{value:"all",children:""}),s.jsx(Zr,{value:"topup",children:""}),s.jsx(Zr,{value:"deduct",children:""}),s.jsx(Zr,{value:"bonus",children:""}),s.jsx(Zr,{value:"refund",children:""})]})]})]})]}),o?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Lo,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:""})]}):s.jsx("div",{className:"space-y-2",children:i.map(N=>s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:`flex items-center justify-between p-4 rounded-lg border transition-colors ${N.is_expired?"border-muted bg-muted/30 opacity-60":"border-border hover:bg-muted/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center",children:b(N.type)}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium text-foreground",children:N.description||w(N.type)}),N.is_expired&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-muted text-muted-foreground",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[s.jsx(Tc,{className:"w-3 h-3"}),s.jsx("span",{children:S(N.created_at)}),N.expires_at&&!N.is_expired&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"text-amber-500",children:[YO(new Date(N.expires_at),new Date)," "]})]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-bold ${N.amount>0?"text-green-500":"text-red-500"}`,children:[N.amount>0?"+":"",N.amount]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",N.balance_after]})]})]},N.id))}),j>1&&s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>d(N=>Math.max(1,N-1)),disabled:c===1,children:s.jsx(pM,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm text-muted-foreground px-4",children:[" ",c," / ",j," "]}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>d(N=>Math.min(j,N+1)),disabled:c===j,children:s.jsx(Ml,{className:"w-4 h-4"})})]})]})]})})};var vL="Radio",[vXe,zce]=Ar(vL),[bXe,wXe]=vXe(vL),Vce=x.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[h,m]=x.useState(null),f=ft(t,y=>m(y)),p=x.useRef(!1),g=h?d||!!h.closest("form"):!0;return s.jsxs(bXe,{scope:n,checked:i,disabled:o,children:[s.jsx(De.button,{type:"button",role:"radio","aria-checked":i,"data-state":Kce(i),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:f,onClick:ve(e.onClick,y=>{i||c==null||c(),g&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})}),g&&s.jsx(Hce,{control:h,bubbles:!p.current,name:r,value:l,checked:i,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Vce.displayName=vL;var qce="RadioIndicator",Wce=x.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,a=wXe(qce,n);return s.jsx(ms,{present:r||a.checked,children:s.jsx(De.span,{"data-state":Kce(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});Wce.displayName=qce;var jXe="RadioBubbleInput",Hce=x.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=x.useRef(null),l=ft(o,a),c=iC(n),d=y_(t);return x.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&f){const p=new Event("click",{bubbles:r});f.call(u,n),u.dispatchEvent(p)}},[c,n,r]),s.jsx(De.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Hce.displayName=jXe;function Kce(e){return e?"checked":"unchecked"}var SXe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],gC="RadioGroup",[NXe,c_t]=Ar(gC,[mx,zce]),Gce=mx(),Yce=zce(),[kXe,_Xe]=NXe(gC),Xce=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...m}=e,f=Gce(n),p=Rm(d),[g,y]=ua({prop:a,defaultProp:i??null,onChange:h,caller:gC});return s.jsx(kXe,{scope:n,name:r,required:o,disabled:l,value:g,onValueChange:y,children:s.jsx(aD,{asChild:!0,...f,orientation:c,dir:p,loop:u,children:s.jsx(De.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:p,...m,ref:t})})})});Xce.displayName=gC;var Jce="RadioGroupItem",Qce=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,a=_Xe(Jce,n),o=a.disabled||r,l=Gce(n),c=Yce(n),d=x.useRef(null),u=ft(t,d),h=a.value===i.value,m=x.useRef(!1);return x.useEffect(()=>{const f=g=>{SXe.includes(g.key)&&(m.current=!0)},p=()=>m.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",p)}},[]),s.jsx(oD,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(Vce,{disabled:o,required:a.required,checked:h,...c,...i,name:a.name,ref:u,onCheck:()=>a.onValueChange(i.value),onKeyDown:ve(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:ve(i.onFocus,()=>{var f;m.current&&((f=d.current)==null||f.click())})})})});Qce.displayName=Jce;var CXe="RadioGroupIndicator",Zce=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=Yce(n);return s.jsx(Wce,{...i,...r,ref:t})});Zce.displayName=CXe;var ede=Xce,tde=Qce,EXe=Zce;const nde=x.forwardRef(({className:e,...t},n)=>s.jsx(ede,{className:G("grid gap-2",e),...t,ref:n}));nde.displayName=ede.displayName;const rde=x.forwardRef(({className:e,...t},n)=>s.jsx(tde,{ref:n,className:G("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(EXe,{className:"flex items-center justify-center",children:s.jsx(gM,{className:"h-2.5 w-2.5 fill-current text-current"})})}));rde.displayName=tde.displayName;const TXe=[{value:"text_error",label:"",icon:Ur,description:""},{value:"image_issue",label:"",icon:Zp,description:""},{value:"layout_issue",label:"",icon:eCe,description:""},{value:"function_issue",label:"",icon:R_e,description:""},{value:"test_failed",label:"",icon:Oi,description:""},{value:"other",label:"",icon:Bb,description:""}],AXe=({open:e,onOpenChange:t,testLinkId:n,websiteId:r})=>{const[i,a]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(""),[u,h]=x.useState(!1),[m,f]=x.useState(!1),p=async()=>{if(!i||!o){q.error("");return}h(!0);try{const{error:y}=await ee.from("issue_reports").insert({website_id:r,test_link_id:n,issue_type:i,description:o,screenshot_url:c||null});if(y)throw y;f(!0),q.success("");try{await ee.functions.invoke("notify-admin",{body:{type:"issue_report",websiteId:r,issueType:i,description:o}})}catch(v){console.error("Failed to notify admin:",v)}}catch(y){console.error("Error submitting report:",y),q.error("")}finally{h(!1)}},g=()=>{t(!1),setTimeout(()=>{a(""),l(""),d(""),f(!1)},300)};return m?s.jsx(Xn,{open:e,onOpenChange:g,children:s.jsx(zn,{className:"sm:max-w-md",children:s.jsxs("div",{className:"flex flex-col items-center py-8 text-center",children:[s.jsx(St,{className:"w-16 h-16 text-green-500 mb-4"}),s.jsx(hr,{className:"text-xl mb-2",children:""}),s.jsx(Tl,{children:" "}),s.jsx(B,{className:"mt-6",onClick:g,children:""})]})})}):s.jsx(Xn,{open:e,onOpenChange:g,children:s.jsxs(zn,{className:"sm:max-w-lg",children:[s.jsxs(Di,{children:[s.jsx(hr,{children:""}),s.jsx(Tl,{children:""})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ee,{children:""}),s.jsx(nde,{value:i,onValueChange:a,children:s.jsx("div",{className:"grid grid-cols-2 gap-3",children:TXe.map(y=>s.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-all ${i===y.value?"border-primary bg-primary/5":"border-border hover:border-muted-foreground"}`,children:[s.jsx(rde,{value:y.value,className:"mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(y.icon,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium text-sm",children:y.label})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:y.description})]})]},y.value))})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"description",children:""}),s.jsx(Yn,{id:"description",placeholder:"...",value:o,onChange:y=>l(y.target.value),rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"screenshot",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xe,{id:"screenshot",placeholder:" imgur ",value:c,onChange:y=>d(y.target.value)}),s.jsx(B,{variant:"outline",size:"icon",type:"button",children:s.jsx(uZ,{className:"w-4 h-4"})})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",s.jsx("a",{href:"https://imgur.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"imgur.com"})," "]})]})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(B,{variant:"outline",onClick:g,children:""}),s.jsx(B,{onClick:p,disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin mr-2",children:""}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bs,{className:"w-4 h-4 mr-2"}),""]})})]})]})})},PXe=({open:e,onOpenChange:t,websiteId:n,companyName:r})=>{const[i,a]=x.useState(""),[o,l]=x.useState(!1),[c,d]=x.useState(!1),[u,h]=x.useState(!1),m=async()=>{if(i!==r){q.error("");return}if(!o){q.error("");return}d(!0);try{const{error:p}=await ee.from("websites").update({status:"live",confirmed_at:new Date().toISOString(),confirmed_by:i,published_at:new Date().toISOString()}).eq("id",n);if(p)throw p;h(!0),q.success("");try{await ee.functions.invoke("notify-admin",{body:{type:"website_launched",websiteId:n,companyName:r}})}catch(g){console.error("Failed to notify admin:",g)}}catch(p){console.error("Error confirming launch:",p),q.error("")}finally{d(!1)}},f=()=>{t(!1),setTimeout(()=>{a(""),l(!1),h(!1)},300)};return u?s.jsx(Xn,{open:e,onOpenChange:f,children:s.jsx(zn,{className:"sm:max-w-md",children:s.jsxs("div",{className:"flex flex-col items-center py-8 text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx(jM,{className:"w-20 h-20 text-primary mb-4"}),s.jsx(St,{className:"w-8 h-8 text-green-500 absolute -right-2 -bottom-1"})]}),s.jsx(hr,{className:"text-2xl mb-2",children:" "}),s.jsxs(Tl,{className:"text-base",children:[s.jsx("strong",{children:r})," ",s.jsx("br",{}),""]}),s.jsx(B,{className:"mt-6",onClick:f,children:""})]})})}):s.jsx(Xn,{open:e,onOpenChange:f,children:s.jsxs(zn,{className:"sm:max-w-md",children:[s.jsxs(Di,{children:[s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(Mi,{className:"w-5 h-5"}),""]}),s.jsx(Tl,{children:""})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-3",children:[s.jsx("p",{className:"font-medium text-sm",children:""}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-green-500"}),""]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-green-500"}),""]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-green-500"}),""]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-green-500"}),""]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ee,{htmlFor:"confirmName",children:["",s.jsx("strong",{children:r})]}),s.jsx(xe,{id:"confirmName",placeholder:"",value:i,onChange:p=>a(p.target.value)})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(pg,{id:"agreedTerms",checked:o,onCheckedChange:p=>l(p===!0)}),s.jsx("label",{htmlFor:"agreedTerms",className:"text-sm cursor-pointer",children:""})]})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(B,{variant:"outline",onClick:f,children:""}),s.jsx(B,{onClick:m,disabled:c||i!==r||!o,children:c?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin mr-2",children:""}),"SEOBAIKE ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Mi,{className:"w-4 h-4 mr-2"}),""]})})]})]})})},A2=[{id:"pagespeed",name:"PageSpeed Insights",description:"Google ",icon:Tt,getUrl:e=>`https://pagespeed.web.dev/analysis?url=https://${e}`,color:"text-blue-500"},{id:"gtmetrix",name:"GTmetrix",description:"",icon:Pn,getUrl:e=>`https://gtmetrix.com/?url=https://${e}`,color:"text-green-500"},{id:"mobile",name:"Mobile-Friendly Test",description:"Google ",icon:ii,getUrl:e=>`https://search.google.com/test/mobile-friendly?url=https://${e}`,color:"text-purple-500"},{id:"rich-results",name:"Rich Results Test",description:"Schema ",icon:Jd,getUrl:e=>`https://search.google.com/test/rich-results?url=https://${e}`,color:"text-orange-500"},{id:"metatags",name:"Meta Tags ",description:"SEO Meta ",icon:Jd,getUrl:e=>`https://metatags.io/?url=https://${e}`,color:"text-pink-500"},{id:"broken-links",name:"Broken Link Checker",description:"",icon:Qd,getUrl:e=>`https://www.brokenlinkcheck.com/broken-links.php?url=https://${e}`,color:"text-red-500"},{id:"w3c",name:"W3C Validator",description:"HTML ",icon:Jd,getUrl:e=>`https://validator.w3.org/nu/?doc=https://${e}`,color:"text-cyan-500"},{id:"wave",name:"WAVE",description:"",icon:S_e,getUrl:e=>`https://wave.webaim.org/report#/https://${e}`,color:"text-yellow-500"},{id:"ssl",name:"SSL Checker",description:"SSL ",icon:sn,getUrl:e=>`https://www.sslshopper.com/ssl-checker.html#hostname=${e}`,color:"text-emerald-500"},{id:"qrcode",name:" QR Code",description:"",icon:yu,getUrl:e=>`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=https://${e}`,color:"text-indigo-500",isQR:!0}],IXe=()=>{const{token:e}=xAe(),[t,n]=x.useState(null),[r,i]=x.useState(!0),[a,o]=x.useState(!1),[l,c]=x.useState(!1),[d,u]=x.useState(!1),[h,m]=x.useState(new Set);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{const{data:v,error:b}=await ee.from("test_links").select(`
          *,
          websites (
            company_name_cn,
            domain,
            status
          )
        `).eq("token",e).single();if(b)throw b;if(!v){q.error("");return}new Date(v.expires_at)<new Date&&o(!0),n(v)}catch(v){console.error("Error fetching test link:",v),q.error("")}finally{i(!1)}},p=(v,b)=>{m(w=>new Set([...w,v])),window.open(b,"_blank")},g=()=>{if(!t)return"";const v=new Date(t.expires_at),b=new Date,w=v.getTime()-b.getTime(),S=Math.floor(w/(1e3*60*60)),j=Math.floor(w%(1e3*60*60)/(1e3*60));return`${S}  ${j} `};if(r)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!t||a)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(Y,{className:"max-w-md w-full",children:s.jsxs(ue,{className:"text-center",children:[s.jsx(Wr,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx(me,{children:""}),s.jsx(dt,{children:""})]})})});const y=t.websites.domain||"example.com";return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b bg-card",children:s.jsx("div",{className:"container mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground",children:[t.websites.company_name_cn," - "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:""})]}),s.jsxs(ae,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"w-4 h-4"})," ",g()]})]})})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5"}),""]})}),s.jsx(Z,{children:s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["https://",y]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),s.jsxs(B,{onClick:()=>window.open(`https://${y}`,"_blank"),children:[" ",s.jsx(Br,{className:"w-4 h-4 ml-2"})]})]})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"10 "}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:A2.map(v=>{const b=h.has(v.id),w=v.getUrl(y);return v.isQR?s.jsxs(Y,{className:"overflow-hidden",children:[s.jsx(ue,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted",children:s.jsx(v.icon,{className:`w-5 h-5 ${v.color}`})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-base",children:v.name}),s.jsx(dt,{className:"text-xs",children:v.description})]})]})}),s.jsx(Z,{className:"flex justify-center",children:s.jsx("img",{src:w,alt:"QR Code",className:"w-32 h-32 rounded-lg"})})]},v.id):s.jsxs(Y,{className:`cursor-pointer transition-all hover:shadow-md ${b?"ring-2 ring-green-500/50":""}`,onClick:()=>p(v.id,w),children:[s.jsx(ue,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted",children:s.jsx(v.icon,{className:`w-5 h-5 ${v.color}`})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-base",children:v.name}),s.jsx(dt,{className:"text-xs",children:v.description})]})]}),b&&s.jsx(St,{className:"w-5 h-5 text-green-500"})]})}),s.jsx(Z,{children:s.jsxs(B,{variant:"outline",className:"w-full",size:"sm",children:[" ",s.jsx(Br,{className:"w-3 h-3 ml-2"})]})})]},v.id)})})]}),s.jsx(Y,{children:s.jsxs(Z,{className:"py-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:""}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.size," / ",A2.length-1," "]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${h.size/(A2.length-1)*100}%`}})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(B,{variant:"outline",className:"flex-1",onClick:()=>c(!0),children:[s.jsx(Y_e,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(B,{className:"flex-1",onClick:()=>u(!0),children:[s.jsx(Mi,{className:"w-4 h-4 mr-2"}),""]})]})]})}),s.jsx(AXe,{open:l,onOpenChange:c,testLinkId:t.id,websiteId:t.website_id}),s.jsx(PXe,{open:d,onOpenChange:u,websiteId:t.website_id,companyName:t.websites.company_name_cn})]})},OXe=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium mb-4",children:[s.jsx(Sl,{className:"w-4 h-4"}),""]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2",children:" SEOBAIKE SaaS "}),s.jsx("p",{className:"text-muted-foreground",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Y,{className:"hover:border-primary/50 transition-colors cursor-pointer group",children:s.jsx(ye,{to:"/dev/status",children:s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(LP,{className:"w-6 h-6 text-green-500"})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-lg",children:"[1]  "}),s.jsx(dt,{children:"API Secrets "})]})]}),s.jsx(mt,{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors"})]})})})}),s.jsx(Y,{className:"hover:border-primary/50 transition-colors cursor-pointer group",children:s.jsx(ye,{to:"/dev/next-steps",children:s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:s.jsx(mt,{className:"w-6 h-6 text-orange-500"})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-lg",children:"[2]  "}),s.jsx(dt,{children:" Prompt "})]})]}),s.jsx(mt,{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors"})]})})})}),s.jsx(Y,{className:"hover:border-primary/50 transition-colors cursor-pointer group",children:s.jsx(ye,{to:"/dev/recovery",children:s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsx(C8,{className:"w-6 h-6 text-blue-500"})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-lg",children:"[3]  "}),s.jsx(dt,{children:" 3 "})]})]}),s.jsx(mt,{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors"})]})})})}),s.jsx(Y,{className:"hover:border-primary/50 transition-colors cursor-pointer group",children:s.jsx(ye,{to:"/",children:s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(C8,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-lg",children:"[4]   SaaS "}),s.jsx(dt,{children:""})]})]}),s.jsx(mt,{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors"})]})})})})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"SEOBAIKE SaaS v1.0   2026-01-24"})})]})}),P2=[{name:"NOTIFY_ENGINE_TOKEN",displayName:" Token",filled:!0},{name:"NOTIFY_ENGINE_TARGET",displayName:"",filled:!0},{name:"DEPLOY_ENGINE_TOKEN",displayName:" Token",filled:!1},{name:"CLOUD_ENGINE_TOKEN",displayName:" Token",filled:!1},{name:"DNS_ENGINE_TOKEN",displayName:"DNS  Token",filled:!1},{name:"DNS_ENGINE_ZONE",displayName:"DNS ",filled:!1},{name:"PAYMENT_MERCHANT_ID",displayName:" ID",filled:!1},{name:"PAYMENT_HASH_KEY",displayName:" Hash Key",filled:!1},{name:"PAYMENT_HASH_IV",displayName:" Hash IV",filled:!1},{name:"SEO_ENGINE_LOGIN",displayName:"SEO ",filled:!1},{name:"SEO_ENGINE_PASSWORD",displayName:"SEO ",filled:!1},{name:"AI_ENGINE_KEY",displayName:"AI  Key",filled:!1}],RXe=()=>{const{data:e,isLoading:t,refetch:n}=z2e({queryKey:["dev-progress"],queryFn:async()=>{const{data:f,error:p}=await ee.from("dev_progress").select("*").order("status",{ascending:!0}).order("feature_name",{ascending:!0});if(p)throw p;return f}}),r=(e==null?void 0:e.filter(f=>f.status==="completed"))||[],i=(e==null?void 0:e.filter(f=>f.status==="in_progress"))||[],a=(e==null?void 0:e.filter(f=>f.status==="pending"))||[],o=r.length,l=i.length,c=a.length,d=o+l+c,u=d>0?Math.round(o/d*100):0,h=P2.filter(f=>f.filled).length,m=P2.length;return s.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx(ye,{to:"/dev",children:s.jsxs(B,{variant:"ghost",size:"sm",className:"gap-2",children:[s.jsx(ks,{className:"w-4 h-4"}),""]})}),s.jsxs(B,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>n(),children:[s.jsx(rn,{className:"w-4 h-4"}),""]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:"SEOBAIKE SaaS "})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(Y,{children:s.jsxs(Z,{className:"p-4 text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-primary",children:[u,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:""})]})}),s.jsx(Y,{children:s.jsxs(Z,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-500",children:o}),s.jsx("div",{className:"text-sm text-muted-foreground",children:""})]})}),s.jsx(Y,{children:s.jsxs(Z,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-500",children:l}),s.jsx("div",{className:"text-sm text-muted-foreground",children:""})]})}),s.jsx(Y,{children:s.jsxs(Z,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-muted-foreground",children:c}),s.jsx("div",{className:"text-sm text-muted-foreground",children:""})]})})]}),t?s.jsx(Y,{className:"mb-6",children:s.jsxs(Z,{className:"p-8 flex items-center justify-center",children:[s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2",children:"SEOBAIKE ..."})]})}):s.jsxs(s.Fragment,{children:[s.jsxs(Y,{className:"mb-6",children:[s.jsx(ue,{children:s.jsxs(me,{className:"flex items-center gap-2 text-green-500",children:[s.jsx(St,{className:"w-5 h-5"}),"  (",o,")"]})}),s.jsx(Z,{children:s.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:r.map(f=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[s.jsx(St,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("span",{children:f.feature_name}),s.jsx(ae,{variant:"outline",className:"ml-auto text-xs",children:f.category})]},f.id))})})]}),s.jsxs(Y,{className:"mb-6",children:[s.jsx(ue,{children:s.jsxs(me,{className:"flex items-center gap-2 text-yellow-500",children:[s.jsx(Ge,{className:"w-5 h-5"}),"  (",l,")"]})}),s.jsx(Z,{children:s.jsx("div",{className:"space-y-2",children:i.map(f=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[s.jsx(Ge,{className:"w-4 h-4 text-yellow-500 animate-spin flex-shrink-0"}),s.jsx("span",{children:f.feature_name}),s.jsx(ae,{variant:"outline",className:"ml-auto text-xs",children:f.category})]},f.id))})})]}),s.jsxs(Y,{className:"mb-6",children:[s.jsx(ue,{children:s.jsxs(me,{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Pn,{className:"w-5 h-5"}),"  (",c,")"]})}),s.jsx(Z,{children:s.jsx("div",{className:"space-y-2",children:a.map(f=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Pn,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:f.feature_name}),s.jsx(ae,{variant:"outline",className:"ml-auto text-xs",children:f.category})]},f.id))})})]})]}),s.jsxs(Y,{className:"mb-6",children:[s.jsx(ue,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(vM,{className:"w-5 h-5 text-primary"}),"API Secrets  (",h,"/",m,")"]})}),s.jsxs(Z,{children:[s.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:P2.map((f,p)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.filled?s.jsx(ae,{variant:"default",className:"bg-green-500 hover:bg-green-600",children:" "}):s.jsx(ae,{variant:"outline",className:"text-muted-foreground",children:" "}),s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:f.name})]},p))}),s.jsx("div",{className:"mt-4",children:s.jsx(ye,{to:"/dashboard/settings/api-keys",children:s.jsxs(B,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(Br,{className:"w-4 h-4"})," API Key "]})})})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(ye,{to:"/dev/next-steps",children:s.jsx(B,{className:"gap-2",children:" "})}),s.jsx(ye,{to:"/dev/recovery",children:s.jsx(B,{variant:"outline",className:"gap-2",children:" "})}),s.jsx(ye,{to:"/",children:s.jsx(B,{variant:"outline",className:"gap-2",children:" "})})]})]})})},sde=Qle,ide=aL,ade=lL,MXe=[{id:1,title:"",description:"10 + ",prompt:`

1.  visitor-report SEOBAIKE 10
   - 
   - 
   - 

2.  useTracking Hook
   - 
   - 40
   -  SEOBAIKE 

3. 
   -  10310
   -   NT$500
   -  -5`},{id:2,title:" ECPay ",description:"Apple PayGoogle Pay ",prompt:` ECPay 

1.  payment-credit SEOBAIKE 
   - 
   -  Apple Pay
   -  Google Pay
   - 

2. 
   - payment-callback SEOBAIKE 
   - 
   - 
   -  SEOBAIKE 

3. 
   - PaymentModal 
   - 
   - /

API Secrets 
- ECPAY_MERCHANT_ID
- ECPAY_HASH_KEY  
- ECPAY_HASH_IV`},{id:3,title:"",description:" NT$5/NT$10/NT$49",prompt:`

1.  payment-single SEOBAIKE 
   -  NT$5NT$10NT$49 
   - 
   - 

2. 
   -   
   -   
   -  NT$5
   - 
   -   

3. SEOBAIKE 
   -   NT$5
   -   NT$5  xxx`},{id:4,title:"",description:" Fork    CDN ",prompt:`

1.  auto-deploy SEOBAIKE 
   - Fork  repo
   -  config.json
   - 
   -  CDN  DNS

2. 
   -   
   - Fork  repo
   - 
   - 
   -  DNS 
   -  websites 

3. SEOBAIKE 
   -  xxx
   -  xxx.90.tw
   -  xxx...

API Secrets 
- CODE_REPO_TOKEN
- CLOUD_DEPLOY_TOKEN
- CDN_API_TOKEN
- CDN_ZONE_ID`},{id:5,title:" QA ",description:"10Lighthouse SEO  90",prompt:` QA 

1.  qa-check SEOBAIKE 
   -  SEOBAIKE 
   -  10 
   - Lighthouse SEO   90 

2. 10
   - SEO 
   - 
   - 
   - 
   - 
   - HTTPS 
   - robots.txt
   - sitemap.xml
   - meta tags
   - 

3. 
   - 
   -  qa_results 
   -  qa_failed
   -  SEOBAIKE 

4. SEOBAIKE 
   -  QAxxx.comSEO: 95
   -  QAxxx.comSEO: 85`},{id:6,title:" 90 ",description:"SEO 90",prompt:` 90 

1. 
   - Lighthouse SEO  90 
   -  meta tags
   -  Schema.org
   -  Core Web Vitals
   - 

2. 
   - config.json 
   - /
   - 
   - Logo
   - 
   - 

3. 
   - 
   - 
   - 
   - 
   - 

4. SEO 
   -  HTML
   - 
   - alt 
   - 
   - sitemap.xml
   - robots.txt`},{id:7,title:" 40  API",description:"SEOAI API",prompt:` 40  API

SEO  - 10 5 
1.  - SEOBAIKE SEO 
2.  - SEOBAIKE SEO 
3.  - SEOBAIKE SEO 
4.  - SEOBAIKE SEO 
5.  - SEOBAIKE 
6.  - SEOBAIKE AI 
7.  - SEOBAIKE AI 
8. meta  - SEOBAIKE AI 
9.  - SEOBAIKE AI 
10.  - SEOBAIKE AI 

AI  - 10 5 
11.  - SEOBAIKE AI 
12.  - SEOBAIKE AI 
13.  - SEOBAIKE AI 
14.  - SEOBAIKE AI 
15. FAQ  - SEOBAIKE AI 
16.  - SEOBAIKE AI 
17.  - SEOBAIKE AI 
18.  - SEOBAIKE AI 
19.  - SEOBAIKE AI 
20.  - SEOBAIKE AI 

 - 10
21-25.  - 5
26-28.  - 10
29-30.  - 49

 - 10 5 
31-40. 

API Secrets 
- SEO_ENGINE_LOGIN
- SEO_ENGINE_PASSWORD
- AI_ENGINE_KEY`}],DXe=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(null),i=o=>{t(l=>l.includes(o)?l.filter(c=>c!==o):[...l,o])},a=async(o,l)=>{await navigator.clipboard.writeText(l),r(o),setTimeout(()=>r(null),2e3)};return s.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsx(ye,{to:"/dev",children:s.jsxs(B,{variant:"ghost",size:"sm",className:"gap-2",children:[s.jsx(ks,{className:"w-4 h-4"}),""]})})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:"     prompt"})]}),s.jsx(Y,{className:"mb-6 bg-primary/5 border-primary/20",children:s.jsx(Z,{className:"p-4",children:s.jsxs("p",{className:"text-sm text-foreground",children:[" ",s.jsx("strong",{children:""})," prompt "]})})}),s.jsx("div",{className:"space-y-4",children:MXe.map((o,l)=>s.jsx(Y,{className:"overflow-hidden",children:s.jsxs(sde,{open:e.includes(o.id),onOpenChange:()=>i(o.id),children:[s.jsx(ide,{asChild:!0,children:s.jsx(ue,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:l+1}),s.jsxs("div",{className:"text-left",children:[s.jsx(me,{className:"text-lg",children:o.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o.description})]})]}),e.includes(o.id)?s.jsx(qr,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(Ml,{className:"w-5 h-5 text-muted-foreground"})]})})}),s.jsx(ade,{children:s.jsx(Z,{className:"pt-0",children:s.jsxs("div",{className:"bg-muted rounded-lg p-4 relative",children:[s.jsx(B,{size:"sm",variant:"outline",className:"absolute top-2 right-2 gap-2",onClick:()=>a(o.id,o.prompt),children:n===o.id?s.jsxs(s.Fragment,{children:[s.jsx(We,{className:"w-4 h-4 text-green-500"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(An,{className:"w-4 h-4"})," Prompt"]})}),s.jsx("pre",{className:"text-sm text-foreground whitespace-pre-wrap font-mono pr-24",children:o.prompt})]})})})]})},o.id))}),s.jsxs("div",{className:"mt-8 flex flex-wrap gap-4",children:[s.jsx(ye,{to:"/dev/status",children:s.jsx(B,{variant:"outline",className:"gap-2",children:" "})}),s.jsx(ye,{to:"/dashboard/settings/api-keys",children:s.jsx(B,{variant:"outline",className:"gap-2",children:" API Key "})}),s.jsx(ye,{to:"/",children:s.jsx(B,{className:"gap-2",children:" "})})]})]})})},mV=`# SEOBAIKE SaaS 

## 
- 10 
- 40 35NT$5 + 3NT$10 + 2NT$49
- NT$100/500/1000/3000
- SEOBAIKE 
- QA Lighthouse SEO 90 
- 10 + 

## 
-  SEOBAIKE  Secrets

## 
-  ECPay
- SEOBAIKE 
- SEOBAIKE DNS
- SEOBAIKE SEO 
- SEOBAIKE AI 

## 
### 
- 
- NT$8,888
- NT$999
- NT$499
- NT$2,999/

### 1:1 
- NT$100  100 
- NT$500  500 
- NT$1,500  1,500 
- NT$5,000  5,000 
-  50 

## 40
### SEO10 x 5
1. 
2. 
3. 
4. 
5. 
6. 
7. 
8. meta 
9. 
10. 

### AI10 x 5
11. 
12. 
13. 
14. 
15. FAQ 
16. 
17. 
18. 
19. 
20. 

### 10
21-25. 5
26-28. 10
29-30. 49

### 10 x 5
31-40. `,LXe=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(!1),i=async()=>{await navigator.clipboard.writeText(mV),r(!0),setTimeout(()=>r(!1),2e3)},a=[{number:1,title:"",icon:Jp,content:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("p",{className:"font-medium",children:" SEOBAIKE SaaS "}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[s.jsx("li",{children:" AI NT$8,888"}),s.jsx("li",{children:" 40+ NT$5/"}),s.jsx("li",{children:" "}),s.jsx("li",{children:" "})]})]})},{number:2,title:"",icon:bn,content:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx(ye,{to:"/dev/status",children:s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2",children:[s.jsx(Br,{className:"w-4 h-4"})," /dev/status"]})})]})},{number:3,title:" API ",icon:vM,content:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:" Key "}),s.jsx(ye,{to:"/dashboard/settings/api-keys",children:s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2",children:[s.jsx(Br,{className:"w-4 h-4"})," API Key "]})})]})},{number:4,title:"",icon:SM,content:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("p",{className:"font-medium",children:""}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"  "}),s.jsx("li",{children:"  "})]}),s.jsx(ye,{to:"/dev/next-steps",children:s.jsx(B,{size:"sm",className:"gap-2 mt-2",children:""})})]})},{number:5,title:" Prompt ",icon:Ur,content:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsxs(sde,{open:e,onOpenChange:t,children:[s.jsx(ide,{asChild:!0,children:s.jsxs(B,{size:"sm",variant:"outline",className:"gap-2",children:[e?s.jsx(qr,{className:"w-4 h-4"}):s.jsx(Ml,{className:"w-4 h-4"}),e?"":""]})}),s.jsx(ade,{children:s.jsxs("div",{className:"mt-3 bg-muted rounded-lg p-4 relative",children:[s.jsx(B,{size:"sm",variant:"outline",className:"absolute top-2 right-2 gap-2",onClick:i,children:n?s.jsxs(s.Fragment,{children:[s.jsx(We,{className:"w-4 h-4 text-green-500"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(An,{className:"w-4 h-4"}),""]})}),s.jsx("pre",{className:"text-xs text-foreground whitespace-pre-wrap font-mono pr-20 max-h-96 overflow-y-auto",children:mV})]})})]})]})},{number:6,title:"",icon:Ya,content:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{variant:"outline",children:"Email"}),s.jsx("a",{href:"mailto:seobaike@aiforseo.vip",className:"text-primary hover:underline",children:"seobaike@aiforseo.vip"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{variant:"outline",children:"LINE"}),s.jsx("span",{className:"text-foreground",children:"@729zaaaq"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{variant:"outline",children:""}),s.jsx("a",{href:"tel:047776342",className:"text-primary hover:underline",children:"04-7776342"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{variant:"outline",children:""}),s.jsx("a",{href:"tel:0980434242",className:"text-primary hover:underline",children:"0980-434-242"})]})]})}];return s.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsx(ye,{to:"/dev",children:s.jsxs(B,{variant:"ghost",size:"sm",className:"gap-2",children:[s.jsx(ks,{className:"w-4 h-4"}),""]})})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium mb-4",children:" 3 "}),s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:" "}),s.jsx("p",{className:"text-muted-foreground",children:" /  / "})]}),s.jsx(Y,{className:"mb-6 bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("span",{children:"SaaS "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("span",{children:"40+ "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("span",{children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("span",{children:"Telegram "})]})]})})}),s.jsx("div",{className:"space-y-4",children:a.map(o=>s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(me,{className:"flex items-center gap-3 text-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-sm",children:o.number}),s.jsx(o.icon,{className:"w-5 h-5 text-primary"}),s.jsxs("span",{children:["Step ",o.number,"",o.title]})]})}),s.jsx(Z,{className:"pl-14",children:o.content})]},o.number))}),s.jsxs("div",{className:"mt-8 flex flex-wrap gap-4",children:[s.jsx(ye,{to:"/dev/status",children:s.jsx(B,{variant:"outline",className:"gap-2",children:" "})}),s.jsx(ye,{to:"/dev/next-steps",children:s.jsx(B,{variant:"outline",className:"gap-2",children:" "})}),s.jsx(ye,{to:"/",children:s.jsx(B,{className:"gap-2",children:" "})})]}),s.jsx("div",{className:"mt-8 text-center text-xs text-muted-foreground",children:"SEOBAIKE SaaS  2026-01-24  v1.0"})]})})};function Za(){const{user:e}=Jt(),[t,n]=x.useState(null),[r,i]=x.useState(null),[a,o]=x.useState(!0),[l,c]=x.useState(null),d=x.useCallback(async()=>{if(!e){n(null),o(!1);return}try{o(!0);const{data:p,error:g}=await ee.from("merchants").select("*").eq("user_id",e.id).single();if(g)if(g.code==="PGRST116")await u();else throw g;else n(p),await h(p.id)}catch(p){console.error("Error fetching merchant:",p),c(p instanceof Error?p.message:"")}finally{o(!1)}},[e]),u=async()=>{var p;if(e)try{const{data:g,error:y}=await ee.from("merchants").insert({user_id:e.id,business_name:((p=e.email)==null?void 0:p.split("@")[0])||"",plan:"free",points_balance:50}).select().single();if(y)throw y;n(g),await Promise.all([ee.from("website_settings").insert({merchant_id:g.id}),ee.from("payment_settings").insert({merchant_id:g.id}),ee.from("customer_service_settings").insert({merchant_id:g.id})]),await h(g.id)}catch(g){console.error("Error creating merchant:",g),c("")}},h=async p=>{const[g,y,v]=await Promise.all([ee.from("website_settings").select("*").eq("merchant_id",p).single(),ee.from("payment_settings").select("*").eq("merchant_id",p).single(),ee.from("customer_service_settings").select("*").eq("merchant_id",p).single()]);i({website_settings:g.data,payment_settings:y.data,customer_service_settings:v.data})},m=async p=>{if(t)try{const{data:g,error:y}=await ee.from("merchants").update(p).eq("id",t.id).select().single();if(y)throw y;n(g)}catch(g){throw console.error("Error updating merchant:",g),g}},f=async()=>{if(!t)return;const{data:p}=await ee.from("merchants").select("points_balance").eq("id",t.id).single();p&&n(g=>g?{...g,points_balance:p.points_balance}:null)};return x.useEffect(()=>{d()},[d]),{merchant:t,settings:r,loading:a,error:l,updateMerchant:m,refreshPoints:f,refetch:d}}function $Xe(){const{merchant:e,loading:t}=Za();if(yn({title:" - SEOBAIKE ",description:" SEO  AI  SEO ",keywords:", , SEO, AI, ",canonical:"https://seobaike.com/merchant",noindex:!0,schema:In([{name:"",url:"https://seobaike.com/"},{name:"",url:"https://seobaike.com/merchant"}])}),t)return s.jsx(Yt,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const n=[{title:"AI ",description:"",icon:Zd,href:"/merchant/editor",points:5},{title:"SEO ",description:" SEO ",icon:bn,href:"/merchant/seo",points:5},{title:"",description:"",icon:fa,href:"/merchant/settings",points:0}];return s.jsx(Yt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:(e==null?void 0:e.business_name)||""}),s.jsx("p",{className:"text-muted-foreground",children:" SEO "})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary/10",children:[s.jsx(cr,{className:"w-5 h-5 text-primary"}),s.jsxs("span",{className:"font-semibold text-primary",children:[(e==null?void 0:e.points_balance)||0," "]})]}),s.jsx(ye,{to:"/topup",children:s.jsx(B,{variant:"outline",size:"sm",children:""})})]})]}),s.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},"aria-labelledby":"website-preview-title",children:s.jsxs(Y,{className:"overflow-hidden",children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Tt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(me,{id:"website-preview-title",className:"text-lg",children:""}),s.jsx(dt,{children:(e==null?void 0:e.business_name)||""})]})]}),s.jsx(ae,{variant:"secondary",children:""})]})}),s.jsx(Z,{children:s.jsxs("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-primary/10 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tt,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-2","aria-hidden":"true"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:""})]})}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsxs(B,{variant:"secondary",size:"sm",className:"gap-2",children:[s.jsx(Br,{className:"w-4 h-4","aria-hidden":"true"}),""]})})]})})]})}),s.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.15},"aria-labelledby":"health-check-title",children:s.jsx(ye,{to:"/merchant/health-check",children:s.jsx(Y,{className:"hover:shadow-md transition-all hover:border-primary/50 cursor-pointer group border-primary/20 bg-gradient-to-r from-primary/5 to-transparent",children:s.jsx(Z,{className:"p-5",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-primary/10 group-hover:bg-primary/20 transition-colors",children:s.jsx(sn,{className:"w-7 h-7 text-primary","aria-hidden":"true"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{id:"health-check-title",className:"font-semibold text-foreground mb-1 group-hover:text-primary transition-colors",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),s.jsxs(B,{className:"min-h-[44px] gap-2",children:[s.jsx(fn,{className:"w-4 h-4"}),""]})]})})})})}),s.jsxs("section",{"aria-labelledby":"quick-actions-title",children:[s.jsx("h2",{id:"quick-actions-title",className:"text-lg font-semibold text-foreground mb-4",children:""}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map((r,i)=>s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2+i*.1},children:s.jsx(ye,{to:r.href,children:s.jsx(Y,{className:"h-full hover:shadow-md transition-all hover:border-primary/50 cursor-pointer group",children:s.jsxs(Z,{className:"p-5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-lg bg-muted",children:s.jsx(r.icon,{className:"w-5 h-5 text-primary","aria-hidden":"true"})}),r.points>0&&s.jsxs(ae,{variant:"outline",className:"text-xs",children:[r.points," /"]})]}),s.jsx("h3",{className:"font-semibold text-foreground mb-1 group-hover:text-primary transition-colors",children:r.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]})})})},r.title))})]}),s.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4","aria-label":"",children:[s.jsx(Y,{children:s.jsx(Z,{className:"p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted",children:s.jsx(dr,{className:"w-5 h-5 text-primary","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:"--"})]})]})})}),s.jsx(Y,{children:s.jsx(Z,{className:"p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted",children:s.jsx(bn,{className:"w-5 h-5 text-primary","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"SEO "}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:"--"})]})]})})}),s.jsx(Y,{children:s.jsx(Z,{className:"p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted",children:s.jsx(Zd,{className:"w-5 h-5 text-primary","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"AI "}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:"--"})]})]})})})]}),s.jsx(Y,{className:"border-primary/20",children:s.jsx(Z,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"AI "})]}),s.jsx(ye,{to:"/pricing",children:s.jsx(B,{children:""})})]})})})]})})}const FXe=e=>{const t=e.toLowerCase(),n=[];return t.includes("line")?n.push({id:"add_fb",label:" FB ",instruction:" Facebook "},{id:"add_ig",label:" IG ",instruction:" Instagram "},{id:"add_email",label:" Email ",instruction:" Email "},{id:"adjust_pos",label:"",instruction:""}):t.includes("fb")||t.includes("facebook")?n.push({id:"add_line",label:" LINE ",instruction:" LINE "},{id:"add_ig",label:" IG ",instruction:" Instagram "},{id:"adjust_size",label:"",instruction:" 1.5 "}):t.includes("")||t.includes("")||t.includes("")?n.push({id:"adjust_size",label:"",instruction:""},{id:"change_color",label:"",instruction:""},{id:"add_animation",label:"",instruction:""}):t.includes("")||t.includes("")||t.includes("")?n.push({id:"change_color",label:"",instruction:""},{id:"adjust_pos",label:"",instruction:""},{id:"add_shadow",label:"",instruction:""}):t.includes("")||t.includes("")||t.includes("")?n.push({id:"unify_color",label:"",instruction:""},{id:"change_font",label:"",instruction:""},{id:"dark_mode",label:"",instruction:""}):t.includes("")||t.includes("title")?n.push({id:"edit_subtitle",label:"",instruction:""},{id:"edit_btn",label:"",instruction:""},{id:"seo_analyze",label:"SEO ",link:"/merchant/seo?action=analyze"},{id:"meta_optimize",label:" Meta",link:"/merchant/editor?task=meta&auto=1"}):t.includes("")||t.includes("image")||t.includes("photo")?n.push({id:"resize_img",label:"",instruction:""},{id:"add_caption",label:"",instruction:""},{id:"add_link",label:"",instruction:""},{id:"optimize_img",label:"",instruction:""}):t.includes("")||t.includes("section")||t.includes("")?n.push({id:"add_title",label:"",instruction:""},{id:"add_content",label:"",instruction:""},{id:"adjust_order",label:"",instruction:""},{id:"add_bg",label:"",instruction:""}):t.includes("")||t.includes("price")||t.includes("$")?n.push({id:"add_promo",label:"",instruction:""},{id:"add_countdown",label:"",instruction:""},{id:"compare_price",label:"",instruction:""}):t.includes("")||t.includes("product")||t.includes("")?n.push({id:"write_desc",label:"",instruction:""},{id:"add_photos",label:"",instruction:""},{id:"add_tags",label:"",instruction:""},{id:"seo_product",label:" SEO",link:"/merchant/seo?action=analyze"}):n.push({id:"competitor_spy",label:" ",link:"/merchant/seo?action=competitor"},{id:"youtube_video",label:" ",link:"/merchant/youtube"},{id:"seo_analyze",label:" SEO ",link:"/merchant/seo?action=analyze"},{id:"ai_chatbot",label:"  AI ",link:"/merchant/aibot"}),n.slice(0,4)};function BXe({lastInstruction:e,onExecute:t,isProcessing:n}){const r=FXe(e);return r.length===0?null:s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-4 rounded-lg border border-primary/20 bg-primary/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ye,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium text-sm",children:" "})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>i.link?s.jsx(ye,{to:i.link,children:s.jsxs(B,{variant:"outline",size:"sm",className:"gap-1.5 hover:bg-primary hover:text-primary-foreground transition-colors",children:[i.label,s.jsx(mt,{className:"w-3 h-3"})]})},i.id):s.jsxs(B,{variant:"outline",size:"sm",className:"gap-1.5 hover:bg-primary hover:text-primary-foreground transition-colors",onClick:()=>i.instruction&&(t==null?void 0:t(i.instruction)),disabled:n,children:[n?s.jsx(Ge,{className:"w-3 h-3 animate-spin"}):null,i.label]},i.id))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" "})]})}const UXe=({points:e})=>{const t=e<=0;return s.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium ${t?"bg-muted text-muted-foreground":"bg-primary/10 text-primary"}`,children:[s.jsx(cr,{className:"w-4 h-4"}),s.jsxs("span",{children:[e," "]})]})},fV={title:"",meta:" Meta ",add_fb:" Facebook ",add_line:" LINE ",add_ig:" Instagram ",add_email:" Email ",add_wechat:" WeChat ",add_social:"",color:"",font:"",layout:"",hero:" Hero ",section:"",price:"",promo:"",image:"",banner:" Banner "},zXe=["","2015"," 02-1234-5678","",""];function VXe(){const{merchant:e,refetch:t}=Za(),[n,r]=Im(),i=xn(),[a,o]=x.useState(""),[l,c]=x.useState(!1),[d,u]=x.useState([]),[h,m]=x.useState(null),[f,p]=x.useState(!1),[g,y]=x.useState(!1),[v,b]=x.useState(""),[w,S]=x.useState(!1);yn({title:"AI  - SEOBAIKE",description:"3 AI ",keywords:"AI , , , ",canonical:"https://seobaike.com/merchant/editor",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/merchant"},{name:"AI ",url:"https://seobaike.com/merchant/editor"}])}),x.useEffect(()=>{const P=n.get("task"),R=n.get("value"),D=n.get("type"),$=n.get("auto");if(P&&fV[P]){let M=fV[P];R&&(M=`${M}${R}`),D&&(M=`${M} (${D})`),o(M),$==="1"&&e&&(b(M),y(!0),S(!0)),r({})}},[n,e,r]);const j=x.useCallback(async P=>{if(!P.trim()){q.error("");return}if(!e){q.error("");return}if((e.points_balance||0)<5){q.error("",{action:{label:"",onClick:()=>i("/merchant/topup")}});return}c(!0),p(!1),y(!1);try{const{data:R,error:D}=await ee.functions.invoke("ai-website-editor",{body:{merchantId:e.id,instruction:P.trim()}});if(D)throw D;if(R.success)q.success(" "),o(""),await t(),u($=>[{id:R.changeId||Date.now().toString(),instruction:P.trim(),status:"completed",created_at:new Date().toISOString(),points_used:5},...$]),m(P.trim()),p(!0);else throw new Error(R.error||"")}catch(R){console.error("Edit error:",R),q.error(R.message||""),u(D=>[{id:Date.now().toString(),instruction:P.trim(),status:"failed",created_at:new Date().toISOString(),points_used:0},...D])}finally{c(!1)}},[e,t,i]),N=()=>{j(a)},k=()=>{v&&(j(v),b(""))},_=()=>{y(!1),b("")},C=P=>{j(P)},T=(e==null?void 0:e.points_balance)||0,A=()=>{q.success("")};return s.jsxs(Yt,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Zd,{className:"w-6 h-6 text-primary"}),"AI "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"3 "})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(UXe,{points:T}),s.jsxs(B,{size:"sm",variant:"outline",onClick:A,className:"gap-1",children:[s.jsx(zb,{className:"w-4 h-4"}),""]}),s.jsx(ye,{to:"/merchant/domain",children:s.jsxs(B,{size:"sm",className:"gap-1",children:[s.jsx(Mi,{className:"w-4 h-4"}),""]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsx(me,{className:"text-lg",children:""}),s.jsx(dt,{children:" XXX"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsx(Yn,{placeholder:"...",value:a,onChange:P=>o(P.target.value),className:"min-h-[120px] resize-none",disabled:l}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ae,{variant:"outline",className:"gap-1",children:[s.jsx(cn,{className:"w-3 h-3"}),"5 /"]}),s.jsx(B,{onClick:N,disabled:l||!a.trim(),className:"gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"SEOBAIKE ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bs,{className:"w-4 h-4"}),""]})})]}),f&&h&&s.jsx(BXe,{lastInstruction:h,onExecute:C,isProcessing:l})]})]}),s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(BP,{className:"w-4 h-4 text-primary"}),""]})}),s.jsx(Z,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:zXe.map((P,R)=>s.jsx(B,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>o(P),disabled:l,children:P},R))})})]})]}),s.jsx("div",{children:s.jsxs(Y,{className:"h-fit",children:[s.jsx(ue,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Lo,{className:"w-4 h-4"}),""]})}),s.jsx(Z,{children:d.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:""}):s.jsx("div",{className:"space-y-3",children:d.map(P=>s.jsxs(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"p-3 rounded-lg bg-muted/50 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("p",{className:"text-sm text-foreground line-clamp-2",children:P.instruction}),P.status==="completed"?s.jsx(Ct,{className:"w-4 h-4 text-primary flex-shrink-0"}):P.status==="failed"?s.jsx(rs,{className:"w-4 h-4 text-destructive flex-shrink-0"}):s.jsx(Ge,{className:"w-4 h-4 animate-spin text-primary flex-shrink-0"})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:new Date(P.created_at).toLocaleString("zh-TW",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),P.points_used>0&&s.jsxs(ae,{variant:"secondary",className:"text-xs",children:["-",P.points_used," "]})]})]},P.id))})})]})})]})]}),s.jsx(Xn,{open:g,onOpenChange:y,children:s.jsxs(zn,{children:[s.jsxs(Di,{children:[s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(Zd,{className:"w-5 h-5 text-primary"}),""]}),s.jsx(Tl,{children:""})]}),s.jsxs("div",{className:"py-4",children:[s.jsx("div",{className:"p-4 rounded-lg bg-muted",children:s.jsx("p",{className:"font-medium",children:v})}),s.jsxs("div",{className:"flex items-center gap-2 mt-4 text-sm",children:[s.jsxs(ae,{variant:"outline",className:"gap-1",children:[s.jsx(cn,{className:"w-3 h-3"})," 5 "]}),s.jsxs("span",{className:"text-muted-foreground",children:["",((e==null?void 0:e.points_balance)||0)-5," "]})]})]}),s.jsxs(sC,{children:[s.jsx(B,{variant:"outline",onClick:_,children:""}),s.jsx(B,{onClick:k,disabled:l,className:"gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"SEOBAIKE ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(We,{className:"w-4 h-4"}),""]})})]})]})})]})}const pV=e=>({title:{label:"",link:"/merchant/editor?task=title&auto=1",points:5},meta:{label:" Meta",link:"/merchant/editor?task=meta&auto=1",points:5},headings:{label:"",link:"/merchant/editor?task=layout&auto=1",points:5},images:{label:"",link:"/merchant/editor?task=image&auto=1",points:5},social:{label:"",link:"/merchant/editor?task=add_social&auto=1",points:5},schema:{label:"",link:"/merchant/content?type=schema",points:10}})[e]||null,qXe=e=>{switch(e){case"A+":case"A":return"text-green-500";case"B+":case"B":return"text-blue-500";case"C+":case"C":return"text-yellow-500";default:return"text-red-500"}},WXe=e=>e>=8?s.jsx(Ct,{className:"w-4 h-4 text-green-500","aria-hidden":"true"}):e>=5?s.jsx(Wr,{className:"w-4 h-4 text-yellow-500","aria-hidden":"true"}):s.jsx(Oi,{className:"w-4 h-4 text-red-500","aria-hidden":"true"});function HXe(){const{merchant:e,refetch:t}=Za(),[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,l]=x.useState(null);yn({title:"SEO  -  | SEOBAIKE",description:" AI  SEO  10  Google ",keywords:"SEO, , SEO, Lighthouse, , SEO",canonical:"https://seobaike.com/merchant/seo",noindex:!0,schema:In([{name:"",url:"https://seobaike.com/"},{name:"",url:"https://seobaike.com/merchant"},{name:"SEO ",url:"https://seobaike.com/merchant/seo"}])});const c=async()=>{if(!n.trim()){q.error("");return}if(!e){q.error("");return}if((e.points_balance||0)<5){q.error("");return}a(!0),l(null);try{const{data:u,error:h}=await ee.functions.invoke("seo-analyze",{body:{merchantId:e.id,url:n.trim()}});if(h)throw h;if(u.success)l(u.analysis),await t(),q.success("SEO ");else throw new Error(u.error||"")}catch(u){console.error("SEO analysis error:",u),q.error(u.message||"")}finally{a(!1)}},d={title:"",meta:"Meta ",headings:"",images:"",links:"",mobile:"",speed:"",ssl:"SSL ",schema:"",social:""};return s.jsx(Yt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(bn,{className:"w-6 h-6 text-primary","aria-hidden":"true"}),"SEO "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:" SEO "})]}),s.jsx(Y,{children:s.jsxs(Z,{className:"pt-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground","aria-hidden":"true"}),s.jsx(xe,{placeholder:"https://example.com",value:n,onChange:u=>r(u.target.value),className:"pl-10",disabled:i,"aria-label":""})]}),s.jsx(B,{onClick:c,disabled:i||!n.trim(),className:"gap-2 whitespace-nowrap",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin","aria-hidden":"true"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dr,{className:"w-4 h-4","aria-hidden":"true"}),""]})})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-3 text-sm text-muted-foreground",children:[s.jsx(ae,{variant:"outline",children:"5 /"}),s.jsxs("span",{children:["",(e==null?void 0:e.points_balance)||0," "]})]})]})}),o&&s.jsxs(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6","aria-labelledby":"seo-results-title",children:[s.jsx("h2",{id:"seo-results-title",className:"sr-only",children:"SEO "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Y,{className:"md:col-span-1",children:s.jsxs(Z,{className:"pt-6 text-center",children:[s.jsx("div",{className:`text-6xl font-bold ${qXe(o.grade)}`,children:o.grade}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"SEO "}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-3xl font-semibold text-foreground",children:o.totalScore}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"/ 100 "})]})]})}),s.jsxs(Y,{className:"md:col-span-2",children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg",children:""})}),s.jsx(Z,{children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.entries(o.details).map(([u,h])=>{const m=pV(u),f=h.score<7;return s.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg ${f?"bg-destructive/5":""}`,children:[WXe(h.score),s.jsx("span",{className:"text-sm text-foreground flex-1",children:d[u]||u}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[h.score,"/10"]}),f&&m&&s.jsx(ye,{to:m.link,children:s.jsxs(B,{size:"sm",variant:"ghost",className:"h-7 px-2 gap-1 text-xs",children:[m.label,s.jsxs(ae,{variant:"secondary",className:"text-xs px-1",children:[m.points,""]})]})})]},u)})})})]})]}),Object.entries(o.details).filter(([u,h])=>h.score<7).length>0&&s.jsxs(Y,{className:"border-primary/20 bg-primary/5",children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4 text-primary","aria-hidden":"true"})," "]})}),s.jsx(Z,{children:s.jsx("nav",{className:"flex flex-wrap gap-2","aria-label":"",children:Object.entries(o.details).filter(([u,h])=>h.score<7).map(([u,h])=>{const m=pV(u);return m?s.jsx(ye,{to:m.link,children:s.jsxs(B,{variant:"outline",size:"sm",className:"gap-1.5",children:[m.label,s.jsxs(ae,{variant:"secondary",className:"text-xs px-1.5",children:[m.points,""]}),s.jsx(mt,{className:"w-3 h-3","aria-hidden":"true"})]})},u):null})})})]}),s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsx(me,{className:"text-lg",children:""}),s.jsx(dt,{children:" SEO "})]}),s.jsx(Z,{children:s.jsx("ol",{className:"space-y-3 list-none",children:o.recommendations.map((u,h)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center flex-shrink-0 text-sm font-medium",children:h+1}),s.jsx("span",{className:"text-muted-foreground",children:u})]},h))})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(B,{variant:"outline",onClick:()=>l(null),className:"gap-2",children:[s.jsx(rn,{className:"w-4 h-4","aria-hidden":"true"}),""]}),s.jsx(ye,{to:"/merchant/editor",children:s.jsxs(B,{className:"gap-2",children:[s.jsx(Ye,{className:"w-4 h-4","aria-hidden":"true"}),"AI "]})})]})]}),!o&&!i&&s.jsx(Y,{className:"border-dashed",children:s.jsxs(Z,{className:"py-12 text-center",children:[s.jsx(bn,{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4","aria-hidden":"true"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:" SEO "}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:" 10  SEO "})]})})]})})}function KXe(){const{merchant:e}=Za(),[t,n]=x.useState(!1),[r,i]=x.useState({site_name:"",seo_title:"",seo_description:"",primary_color:"#667eea",secondary_color:"#764ba2",logo_url:"",favicon_url:""});yn({title:" SEO  - SEOBAIKE",description:"SEO  Logo",keywords:", SEO , , Logo ",canonical:"https://seobaike.com/merchant/settings",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/merchant"},{name:"",url:"https://seobaike.com/merchant/settings"}])}),x.useEffect(()=>{e!=null&&e.id&&a()},[e==null?void 0:e.id]);const a=async()=>{if(!(e!=null&&e.id))return;const{data:c,error:d}=await ee.from("website_settings").select("*").eq("merchant_id",e.id).single();c&&i({site_name:c.site_name||"",seo_title:c.seo_title||"",seo_description:c.seo_description||"",primary_color:c.primary_color||"#6366f1",secondary_color:c.secondary_color||"#8b5cf6",logo_url:c.logo_url||"",favicon_url:c.favicon_url||""})},o=async()=>{if(!(e!=null&&e.id)){q.error("");return}n(!0);try{const{error:c}=await ee.from("website_settings").upsert({merchant_id:e.id,...r,updated_at:new Date().toISOString()},{onConflict:"merchant_id"});if(c)throw c;q.success("")}catch(c){console.error("Save error:",c),q.error("")}finally{n(!1)}},l=(c,d)=>{i(u=>({...u,[c]:d}))};return s.jsx(Yt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(fa,{className:"w-6 h-6 text-primary"}),""]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:""})]}),s.jsx(B,{onClick:o,disabled:t,className:"gap-2",children:t?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zb,{className:"w-4 h-4"}),""]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"text-lg flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5"}),""]}),s.jsx(dt,{children:" SEO "})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"site_name",children:""}),s.jsx(xe,{id:"site_name",value:r.site_name,onChange:c=>l("site_name",c.target.value),placeholder:""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"seo_title",children:"SEO "}),s.jsx(xe,{id:"seo_title",value:r.seo_title,onChange:c=>l("seo_title",c.target.value),placeholder:" | "}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" 60 "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"seo_description",children:"SEO "}),s.jsx(Yn,{id:"seo_description",value:r.seo_description,onChange:c=>l("seo_description",c.target.value),placeholder:"...",className:"resize-none",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" 160 "})]})]})]})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ac,{className:"w-5 h-5"}),""]}),s.jsx(dt,{children:""})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"primary_color",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xe,{type:"color",id:"primary_color",value:r.primary_color,onChange:c=>l("primary_color",c.target.value),className:"w-12 h-10 p-1 cursor-pointer"}),s.jsx(xe,{value:r.primary_color,onChange:c=>l("primary_color",c.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"secondary_color",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xe,{type:"color",id:"secondary_color",value:r.secondary_color,onChange:c=>l("secondary_color",c.target.value),className:"w-12 h-10 p-1 cursor-pointer"}),s.jsx(xe,{value:r.secondary_color,onChange:c=>l("secondary_color",c.target.value),className:"flex-1"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"logo_url",children:"Logo "}),s.jsx(xe,{id:"logo_url",value:r.logo_url,onChange:c=>l("logo_url",c.target.value),placeholder:"https://example.com/logo.png"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"favicon_url",children:"Favicon "}),s.jsx(xe,{id:"favicon_url",value:r.favicon_url,onChange:c=>l("favicon_url",c.target.value),placeholder:"https://example.com/favicon.ico"})]})]})]})})]}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg",children:""})}),s.jsx(Z,{children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-24 h-24 rounded-lg shadow-inner flex items-center justify-center text-white font-medium",style:{backgroundColor:r.primary_color},children:""}),s.jsx("div",{className:"w-24 h-24 rounded-lg shadow-inner flex items-center justify-center text-white font-medium",style:{backgroundColor:r.secondary_color},children:""})]})})]})]})})}function GXe(){const{merchant:e,refetch:t}=Za(),[n,r]=x.useState((e==null?void 0:e.telegram_chat_id)||""),[i,a]=x.useState(null),[o,l]=x.useState(!1),[c,d]=x.useState(!!(e!=null&&e.telegram_chat_id));yn({title:"Telegram  - SEOBAIKE",description:" Telegram ",keywords:", Telegram , , ",canonical:"https://seobaike.com/merchant/tracking",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/merchant"},{name:"",url:"https://seobaike.com/merchant/tracking"}])});const u=`<!-- SEOBAIKE  -->
<script>
(function(w,d,s,l,i){
  w[l]=w[l]||[];
  w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
  var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';
  j.async=true;
  j.src='https://seobaike.com/tracking.js?id='+i+dl;
  f.parentNode.insertBefore(j,f);
})(window,document,'script','sbLayer','${(e==null?void 0:e.id)||"YOUR_MERCHANT_ID"}');
<\/script>`,h=async()=>{if(!e||(e.points_balance||0)<99){q.error("");return}a("tracking");try{await new Promise(p=>setTimeout(p,1500)),l(!0),q.success(""),await t()}catch{q.error("")}finally{a(null)}},m=async()=>{if(!e||(e.points_balance||0)<99){q.error("");return}if(!n.trim()){q.error(" Telegram Chat ID");return}a("telegram");try{const{error:p}=await ee.from("merchants").update({telegram_chat_id:n.trim()}).eq("id",e.id);if(p)throw p;d(!0),q.success("Telegram "),await t()}catch{q.error("")}finally{a(null)}},f=()=>{navigator.clipboard.writeText(u),q.success("")};return s.jsx(Yt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Kv,{className:"w-6 h-6 text-primary"}),""]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted",children:[s.jsx(cr,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""}),s.jsxs("span",{className:"font-semibold text-foreground",children:[(e==null?void 0:e.points_balance)||0," "]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(Y,{className:"h-full",children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(tZ,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-lg",children:""}),s.jsx(dt,{children:""})]})]}),s.jsx(ae,{variant:"outline",className:"text-primary border-primary",children:"NT$99"})]})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"w-4 h-4 text-primary"}),"GoogleFacebook "]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"w-4 h-4 text-primary"}),""]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"w-4 h-4 text-primary"}),""]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"w-4 h-4 text-primary"}),""]})]}),o?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ae,{className:"bg-primary/10 text-primary",children:""}),s.jsxs(B,{variant:"ghost",size:"sm",onClick:f,className:"gap-2",children:[s.jsx(An,{className:"w-4 h-4"}),""]})]}),s.jsx("pre",{className:"p-3 rounded-lg bg-muted text-xs overflow-x-auto",children:s.jsx("code",{children:u})})]}):s.jsx(B,{onClick:h,disabled:i==="tracking",className:"w-full gap-2",children:i==="tracking"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"SEOBAIKE ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cr,{className:"w-4 h-4"}),"99 "]})})]})]})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:s.jsxs(Y,{className:"h-full",children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Bs,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-lg",children:"Telegram "}),s.jsx(dt,{children:""})]})]}),s.jsx(ae,{variant:"outline",className:"text-primary border-primary",children:"NT$99"})]})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"w-4 h-4 text-primary"}),""]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"w-4 h-4 text-primary"}),""]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"w-4 h-4 text-primary"}),""]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"w-4 h-4 text-primary"}),""]})]}),c?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ae,{className:"bg-primary/10 text-primary",children:""}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Chat ID: ",e==null?void 0:e.telegram_chat_id]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted",children:[s.jsx("span",{className:"text-sm",children:""}),s.jsx(Ai,{checked:c,onCheckedChange:d})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"chatId",children:"Telegram Chat ID"}),s.jsx(xe,{id:"chatId",placeholder:" Chat ID",value:n,onChange:p=>r(p.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:" @userinfobot  Chat ID"})]}),s.jsx(B,{onClick:m,disabled:i==="telegram"||!n.trim(),className:"w-full gap-2",children:i==="telegram"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"SEOBAIKE ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cr,{className:"w-4 h-4"}),"99 "]})})]})]})]})})]}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Da,{className:"w-4 h-4"})," Telegram "]})}),s.jsx(Z,{children:s.jsxs("ol",{className:"space-y-2 text-sm text-muted-foreground list-decimal list-inside",children:[s.jsx("li",{children:" Telegram @userinfobot"}),s.jsx("li",{children:"Bot  Chat ID"}),s.jsx("li",{children:" Chat ID "}),s.jsx("li",{children:""})]})})]})]})})}const YXe={health_check:50,keyword_plan:30,copywrite:10,audience:20},XXe=[{id:"health_check",title:"",description:"AI ",icon:Kv,points:50,color:"bg-red-500"},{id:"keyword_plan",title:"",description:"AI ",icon:fn,points:30,color:"bg-blue-500"},{id:"copywrite",title:"",description:"AI ",icon:Ur,points:10,color:"bg-green-500"},{id:"audience",title:"",description:"AI ",icon:ai,points:20,color:"bg-purple-500"}];function JXe(){const{merchant:e,refreshPoints:t}=Za(),[n]=Im(),[r,i]=x.useState(n.get("action")||"health_check"),[a,o]=x.useState(null),[l,c]=x.useState({}),[d,u]=x.useState(""),[h,m]=x.useState(""),[f,p]=x.useState(""),[g,y]=x.useState("");yn({title:"Google Ads AI  - SEOBAIKE",description:"AI  Google Ads  10 ",keywords:"Google Ads, , AI , , ",canonical:"https://seobaike.com/merchant/ads",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/merchant"},{name:"Google Ads ",url:"https://seobaike.com/merchant/ads"}])});const v=async(w,S)=>{if(!e){q.error("");return}const j=YXe[w];if(e.points_balance<j){q.error(` ${j} `);return}o(w);try{const{data:N,error:k}=await ee.functions.invoke("ads-optimizer",{body:{merchantId:e.id,toolId:w,input:S}});if(k)throw k;if(!N.success)throw new Error(N.error);c(_=>({..._,[w]:N.result})),await t(),q.success(` ${j} `)}catch(N){console.error("Analysis error:",N),q.error("")}finally{o(null)}},b=w=>{const S=l[w];return S?s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-4",children:[S.issues&&S.issues.length>0&&s.jsx("div",{className:"space-y-3",children:S.issues.map((j,N)=>s.jsx("div",{className:`p-4 rounded-lg border ${j.level==="error"?"bg-red-50 border-red-200":j.level==="warning"?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[j.level==="error"?s.jsx(rs,{className:"w-5 h-5 text-red-500 mt-0.5"}):j.level==="warning"?s.jsx(rs,{className:"w-5 h-5 text-yellow-500 mt-0.5"}):s.jsx(Ct,{className:"w-5 h-5 text-blue-500 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:j.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.description}),j.action&&s.jsx(ye,{to:j.action.link,children:s.jsxs(B,{size:"sm",variant:"outline",className:"mt-2",children:[j.action.label,j.action.points&&s.jsxs(ae,{variant:"secondary",className:"ml-2",children:[j.action.points,""]}),s.jsx(mt,{className:"w-4 h-4 ml-1"})]})})]})]})},N))}),S.content&&s.jsx(Y,{children:s.jsx(Z,{className:"pt-4",children:s.jsx("div",{className:"prose prose-sm max-w-none whitespace-pre-wrap",children:S.content})})}),S.suggestions&&S.suggestions.length>0&&s.jsxs(Y,{className:"border-primary/20 bg-primary/5",children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4 text-primary"})," "]})}),s.jsx(Z,{className:"space-y-2",children:S.suggestions.map((j,N)=>s.jsx(ye,{to:j.link,className:"block",children:s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background hover:bg-accent transition-colors",children:[s.jsx("span",{children:j.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ae,{variant:"secondary",children:[j.points,""]}),s.jsx(mt,{className:"w-4 h-4 text-muted-foreground"})]})]})},N))})]})]}):null};return s.jsx(Yt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(bn,{className:"w-6 h-6 text-primary"}),"Google Ads "]}),s.jsx("p",{className:"text-muted-foreground",children:"AI "})]}),s.jsxs(ae,{variant:"outline",className:"text-lg px-4 py-2",children:[s.jsx(cn,{className:"w-4 h-4 mr-1"}),(e==null?void 0:e.points_balance)||0," "]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs(Y,{className:"border-red-200 bg-red-50/50",children:[s.jsx(ue,{className:"pb-2",children:s.jsx(me,{className:"text-base text-red-600",children:" "})}),s.jsxs(Z,{className:"text-sm space-y-1 text-red-700",children:[s.jsx("p",{children:"  NT$5,000"}),s.jsx("p",{children:"  12 "}),s.jsx("p",{children:"  15%"}),s.jsx("p",{className:"font-bold pt-2",children:" NT$9,500"})]})]}),s.jsxs(Y,{className:"border-green-200 bg-green-50/50",children:[s.jsx(ue,{className:"pb-2",children:s.jsx(me,{className:"text-base text-green-600",children:" SEOBAIKE AI"})}),s.jsxs(Z,{className:"text-sm space-y-1 text-green-700",children:[s.jsx("p",{children:" "}),s.jsx("p",{children:" "}),s.jsx("p",{children:" AI "}),s.jsx("p",{className:"font-bold pt-2",children:" NT$897 "})]})]})]}),s.jsx(Y,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-primary/10",children:s.jsx(Z,{className:"py-4",children:s.jsxs("p",{className:"text-center font-medium",children:["  ",s.jsx("span",{className:"text-2xl text-primary font-bold",children:"NT$103,236"}),"",s.jsx("span",{className:"text-muted-foreground ml-2",children:""})]})})}),s.jsxs(va,{value:r,onValueChange:i,children:[s.jsx($i,{className:"grid grid-cols-4 w-full",children:XXe.map(w=>s.jsxs(Dt,{value:w.id,className:"flex items-center gap-1",children:[s.jsx(w.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:w.title}),s.jsx(ae,{variant:"secondary",className:"ml-1 text-xs",children:w.points})]},w.id))}),s.jsx(Ut,{value:"health_check",children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Kv,{className:"w-5 h-5 text-red-500"}),"",s.jsx(ae,{children:"50 "})]}),s.jsx(dt,{children:"AI "})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:""}),s.jsx(xe,{placeholder:" Google Ads ...",value:d,onChange:w=>u(w.target.value),className:"mt-1"})]}),s.jsx(B,{onClick:()=>v("health_check",{url:d}),disabled:a==="health_check"||!d,className:"w-full",children:a==="health_check"?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(tg,{className:"w-4 h-4"}),"50"]})}),b("health_check")]})]})}),s.jsx(Ut,{value:"keyword_plan",children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(fn,{className:"w-5 h-5 text-blue-500"}),"",s.jsx(ae,{children:"30 "})]}),s.jsx(dt,{children:"AI "})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:""}),s.jsx(Yn,{placeholder:"...",value:h,onChange:w=>m(w.target.value),className:"mt-1",rows:3})]}),s.jsx(B,{onClick:()=>v("keyword_plan",{keywords:h}),disabled:a==="keyword_plan"||!h,className:"w-full",children:a==="keyword_plan"?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"w-4 h-4"}),"30"]})}),b("keyword_plan")]})]})}),s.jsx(Ut,{value:"copywrite",children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-5 h-5 text-green-500"}),"",s.jsx(ae,{children:"10 "})]}),s.jsx(dt,{children:"AI "})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"/"}),s.jsx(Yn,{placeholder:"...",value:f,onChange:w=>p(w.target.value),className:"mt-1",rows:3})]}),s.jsx(B,{onClick:()=>v("copywrite",{product:f}),disabled:a==="copywrite"||!f,className:"w-full",children:a==="copywrite"?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"w-4 h-4"}),"10"]})}),b("copywrite")]})]})}),s.jsx(Ut,{value:"audience",children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(ai,{className:"w-5 h-5 text-purple-500"}),"",s.jsx(ae,{children:"20 "})]}),s.jsx(dt,{children:"AI "})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"/"}),s.jsx(Yn,{placeholder:"...",value:g,onChange:w=>y(w.target.value),className:"mt-1",rows:3})]}),s.jsx(B,{onClick:()=>v("audience",{description:g}),disabled:a==="audience"||!g,className:"w-full",children:a==="audience"?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(tg,{className:"w-4 h-4"}),"20"]})}),b("audience")]})]})})]}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsx(me,{className:"text-base",children:"  AI "})}),s.jsxs(Z,{className:"grid sm:grid-cols-3 gap-3",children:[s.jsx(ye,{to:"/merchant/seo?action=analyze",children:s.jsxs(B,{variant:"outline",className:"w-full justify-between",children:["SEO ",s.jsx(ae,{variant:"secondary",children:"5"})]})}),s.jsx(ye,{to:"/merchant/editor?task=meta",children:s.jsxs(B,{variant:"outline",className:"w-full justify-between",children:["Meta ",s.jsx(ae,{variant:"secondary",children:"5"})]})}),s.jsx(ye,{to:"/merchant/editor",children:s.jsxs(B,{variant:"outline",className:"w-full justify-between",children:["AI ",s.jsx(ae,{variant:"secondary",children:"5"})]})})]})]})]})})}const I2=[{id:"starter",points:100,price:100,bonus:0,label:"",badge:" ",popular:!0,persuasion:"100  20 "},{id:"basic",points:500,price:450,bonus:50,label:"",badge:"  50 ",popular:!1,persuasion:" NT$0.9"},{id:"pro",points:1e3,price:800,bonus:200,label:"",badge:" ",popular:!1,persuasion:""},{id:"enterprise",points:3e3,price:2100,bonus:900,label:"",badge:" ",popular:!1,persuasion:" NT$0.7"}],QXe=[{action:"",points:5,example:""},{action:"",points:5,example:""},{action:"",points:5,example:" LINE/FB "},{action:"SEO ",points:5,example:"10  SEO "},{action:"",points:5,example:""},{action:"",points:10,example:"AI "}];function ZXe(){const{merchant:e}=Za(),[t]=Im();fs(),xn();const[n,r]=x.useState(t.get("plan")||"starter"),[i,a]=x.useState(!1),o=(e==null?void 0:e.points_balance)||0,l=o<20,c=o<5,d=t.get("from")==="editor";yn({title:" - SEOBAIKE",description:" AI  NT$0.7 ",keywords:", , AI , ",canonical:"https://seobaike.com/merchant/topup",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/merchant"},{name:"",url:"https://seobaike.com/merchant/topup"}])});const u=async()=>{if(!n){q.error("");return}const m=I2.find(f=>f.id===n);m&&(a(!0),q.success(` ${m.label} SEOBAIKE `),a(!1))},h=I2.find(m=>m.id===n);return s.jsx(Yt,{children:s.jsxs("div",{className:"space-y-6",children:[d&&c&&s.jsxs(Ls,{className:"border-primary/30 bg-primary/5",children:[s.jsx(Mi,{className:"h-4 w-4 text-primary"}),s.jsx($s,{className:"font-medium text-primary",children:"  NT$100 "})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(cn,{className:"w-6 h-6 text-primary"}),""]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:l?"":""})]}),s.jsxs(ae,{variant:"outline",className:`text-lg px-4 py-2 ${c?"border-destructive text-destructive":l?"border-amber-500 text-amber-600":""}`,children:["",o," ",c&&s.jsx("span",{className:"ml-1 animate-pulse",children:""})]})]}),l&&s.jsxs(Ls,{variant:c?"destructive":"default",className:c?"bg-destructive/10 border-destructive/30":"bg-amber-500/10 border-amber-500/30",children:[s.jsx(Wr,{className:"h-4 w-4"}),s.jsx($s,{children:c?" ":`  ${o} `})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:I2.map((m,f)=>s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(Y,{className:`cursor-pointer transition-all relative h-full ${n===m.id?"border-primary ring-2 ring-primary/20":"hover:border-primary/50"}`,onClick:()=>r(m.id),children:[m.badge&&s.jsx(ae,{className:`absolute -top-2 left-1/2 -translate-x-1/2 text-xs whitespace-nowrap ${m.popular?"bg-primary":"bg-secondary text-secondary-foreground"}`,children:m.badge}),s.jsxs(Z,{className:"pt-6 text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:m.label}),s.jsx("div",{className:"text-3xl font-bold text-foreground mt-2",children:m.points.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"text-2xl font-bold text-primary",children:["NT$",m.price.toLocaleString()]}),m.bonus>0&&s.jsxs(ae,{variant:"secondary",className:"mt-2 gap-1",children:[s.jsx(pu,{className:"w-3 h-3"})," ",m.bonus," "]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:m.persuasion})]}),n===m.id&&s.jsx("div",{className:"mt-3 flex justify-center",children:s.jsx(We,{className:"w-5 h-5 text-primary"})})]})]})},m.id))}),h&&s.jsx(Y,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-primary/10",children:s.jsx(Z,{className:"py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"text-center md:text-left",children:[s.jsxs("p",{className:"text-lg font-medium",children:[h.label,"",s.jsxs("span",{className:"text-primary font-bold ml-2",children:[h.points.toLocaleString()," "]}),h.bonus>0&&s.jsxs("span",{className:"text-muted-foreground ml-1",children:["+ ",h.bonus," "]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[" ",(h.points+h.bonus).toLocaleString(),"   ",Math.floor((h.points+h.bonus)/5)," "]})]}),s.jsxs(B,{size:"lg",onClick:u,disabled:i,className:"gap-2 min-w-[200px]",children:[s.jsx(Cs,{className:"w-5 h-5"})," NT$",h.price.toLocaleString()]})]})})}),s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ye,{className:"w-5 h-5 text-primary"}),""]}),s.jsx(dt,{children:" 5 "})]}),s.jsx(Z,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:QXe.map((m,f)=>s.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-sm",children:m.action}),s.jsxs(ae,{variant:"outline",className:"text-xs",children:[m.points," "]})]},f))})})]}),l&&s.jsx(Y,{className:"bg-gradient-to-r from-primary/10 to-amber-500/10 border-primary/30",children:s.jsx(Z,{className:"py-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(Mi,{className:"w-7 h-7 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:""}),s.jsxs("p",{className:"text-muted-foreground",children:[o,"  ",Math.floor(o/5),"   NT$100  20 "]})]})]})})})]})})}const sy={bankName:"",bankCode:"013",accountNumber:"123-456-789-012",accountName:""};function eJe(){const e=xn(),{merchant:t}=Za(),[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,l]=x.useState([]),[c,d]=x.useState(!1),[u,h]=x.useState(null),[m,f]=x.useState(!1),[p,g]=x.useState(!1),[y,v]=x.useState(!1),[b,w]=x.useState(!1);yn({title:" - SEOBAIKE",description:" DNS  SSL ",keywords:", , DNS , SSL ",canonical:"https://seobaike.com/merchant/domain",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/merchant"},{name:"",url:"https://seobaike.com/merchant/domain"}])});const S=async()=>{if(!n.trim()){q.error("");return}a(!0),d(!0);try{const{data:C,error:T}=await ee.functions.invoke("domain-search",{body:{keyword:n.trim()}});if(T)throw T;C.results&&(l(C.results),C.results.length===0&&q.info(""))}catch(C){console.error("Search error:",C),q.error("")}finally{a(!1)}},j=C=>{if(!C.available){q.error("");return}h(C),f(!0)},N=()=>{f(!1),g(!0)},k=()=>{navigator.clipboard.writeText(sy.accountNumber),w(!0),setTimeout(()=>w(!1),2e3),q.success("")},_=async()=>{if(!(!u||!t)){v(!0);try{const{data:C,error:T}=await ee.from("domains").insert({merchant_id:t.id,domain_name:u.domain,registrar:"seobaike",status:"pending",purchase_price:u.costUSD,sell_price:u.sellPriceNTD,payment_status:"pending"}).select().single();if(T)throw T;const{error:A}=await ee.from("merchant_purchases").insert({merchant_id:t.id,purchase_type:"domain",item_name:u.domain,amount:u.sellPriceNTD,payment_status:"pending",payment_method:"bank_transfer",reference_id:C.id});if(A)throw A;await ee.functions.invoke("purchase-notify",{body:{purchaseType:"domain",itemName:u.domain,amount:u.sellPriceNTD,customerName:t.business_name,domain:u.domain}}),q.success(""),g(!1),e("/merchant/hosting",{state:{domain:u.domain,domainId:C.id}})}catch(C){console.error("Purchase error:",C),q.error("")}finally{v(!1)}}};return s.jsx(Yt,{children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:s.jsx(Tt,{className:"h-8 w-8 text-primary"})}),s.jsx("h1",{className:"text-3xl font-bold",children:""}),s.jsx("p",{className:"text-muted-foreground",children:""})]}),s.jsx(Y,{children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"relative flex-1",children:s.jsx(xe,{placeholder:"myshop",value:n,onChange:C=>r(C.target.value),onKeyDown:C=>C.key==="Enter"&&S(),className:"pr-10"})}),s.jsx(B,{onClick:S,disabled:i,className:"min-w-[100px]",children:i?s.jsx(Ge,{className:"h-4 w-4 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),""]})})]})})}),s.jsx(He,{mode:"wait",children:c&&s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg",children:""})}),s.jsx(Z,{className:"space-y-3",children:i?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Ge,{className:"h-8 w-8 animate-spin text-primary"})}):o.length>0?o.map((C,T)=>s.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:`flex items-center justify-between p-4 rounded-lg border ${C.available?"bg-background hover:bg-muted/50 cursor-pointer":"bg-muted/30 opacity-60"}`,onClick:()=>j(C),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[C.available?s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(We,{className:"h-4 w-4 text-green-600"})}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(nr,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:C.domain}),s.jsx("p",{className:"text-sm text-muted-foreground",children:C.available?"":""})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:C.available&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"font-bold text-lg",children:["NT$",C.sellPriceNTD.toLocaleString(),"/"]}),s.jsx(B,{size:"sm",children:""})]})})]},C.domain)):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:""})})]}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs(Ls,{children:[s.jsx(rs,{className:"h-4 w-4"}),s.jsxs($s,{children:[" ",s.jsx("strong",{children:".com"})," "]})]}),s.jsxs(Ls,{variant:"default",children:[s.jsx(rs,{className:"h-4 w-4"}),s.jsxs($s,{children:[" ",s.jsx("strong",{children:".tw / .com.tw"})," LINE@seobaike"]})]})]})]})}),s.jsx(Xn,{open:m,onOpenChange:f,children:s.jsxs(zn,{className:"max-w-md",children:[s.jsx(Di,{children:s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-5 text-primary"}),""]})}),u&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"font-bold",children:u.domain})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"font-bold text-primary",children:["NT$",u.sellPriceNTD.toLocaleString(),"/"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"font-medium flex items-center gap-2",children:[s.jsx(We,{className:"h-4 w-4 text-green-600"}),""]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 pl-6",children:[s.jsx("li",{children:"  DNS "}),s.jsx("li",{children:" SSL "}),s.jsx("li",{children:" 24-48 "}),s.jsx("li",{children:"  30 "})]})]}),t&&s.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg text-sm",children:[" ",s.jsx("strong",{children:t.business_name})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx(B,{variant:"outline",onClick:()=>f(!1),className:"flex-1",children:""}),s.jsxs(B,{onClick:N,className:"flex-1",children:[" NT$",u.sellPriceNTD.toLocaleString()]})]})]})]})}),s.jsx(Xn,{open:p,onOpenChange:g,children:s.jsxs(zn,{className:"max-w-md",children:[s.jsxs(Di,{children:[s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-5 w-5 text-primary"}),""]}),s.jsx(Tl,{children:""})]}),u&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ya,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:""})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{children:[sy.bankName," (",sy.bankCode,")"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono",children:sy.accountNumber}),s.jsx(B,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:k,children:b?s.jsx(Ct,{className:"h-4 w-4 text-green-600"}):s.jsx(An,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:sy.accountName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"font-bold text-primary text-lg",children:["NT$",u.sellPriceNTD.toLocaleString()]})]})]})]}),s.jsxs(Ls,{children:[s.jsx(rs,{className:"h-4 w-4"}),s.jsx($s,{children:""})]}),s.jsxs(B,{onClick:_,disabled:y,className:"w-full",size:"lg",children:[y?s.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}):null,""]}),s.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["  LINE ",s.jsx("strong",{children:"@seobaike"})]})]})]})})]})})}const iy=2999,ode=699,ay={bankName:"",bankCode:"013",accountNumber:"123-456-789-012",accountName:""},tJe=[{icon:cn,text:" SSD ",description:" 3 "},{icon:sn,text:"SSL ",description:" HTTPS "},{icon:Tt,text:" CDN ",description:""},{icon:Pn,text:"",description:""},{icon:We,text:"99.9% ",description:""},{icon:Pm,text:"24H ",description:""}],nJe=[{name:"91APP",price:"15,000",popular:!1},{name:"Shopline",price:"12,000",popular:!1},{name:"Cyberbiz",price:"9,600",popular:!1},{name:"",price:"6,000-10,000",popular:!1},{name:"SEOBAIKE",price:"2,999",popular:!0}],rJe=["",` NT$${ode.toLocaleString()} `,"",""];function sJe(){var p,g,y;const e=xn(),t=fs(),{merchant:n}=Za(),r=((p=t.state)==null?void 0:p.domain)||"",i=(g=t.state)==null?void 0:g.domainId,a=((y=t.state)==null?void 0:y.domainPrice)||ode,[o,l]=x.useState(!1),[c,d]=x.useState(!1),[u,h]=x.useState(!1);yn({title:" SSD  - SEOBAIKE",description:" SSD  SSL  CDN 99.9%  NT$2,999",keywords:", , SSD , CDN , SSL",canonical:"https://seobaike.com/merchant/hosting",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/merchant"},{name:"",url:"https://seobaike.com/merchant/hosting"}])});const m=()=>{navigator.clipboard.writeText(ay.accountNumber),h(!0),setTimeout(()=>h(!1),2e3),q.success("")},f=async()=>{if(n){d(!0);try{const v=new Date;v.setFullYear(v.getFullYear()+1);const{error:b}=await ee.from("merchant_purchases").insert({merchant_id:n.id,purchase_type:"hosting",item_name:"SEOBAIKE ",amount:iy,payment_status:"pending",payment_method:"bank_transfer",reference_id:i,notes:`: ${r}`});if(b)throw b;const{error:w}=await ee.from("subscriptions").insert({user_id:n.user_id,type:"hosting",name:"SEOBAIKE ",status:"active",expires_at:v.toISOString(),auto_renew:!1,renewal_price:iy,payment_method:"bank_transfer"});w&&console.error("Subscription creation error:",w),await ee.functions.invoke("purchase-notify",{body:{purchaseType:"hosting",itemName:"SEOBAIKE ",amount:iy,customerName:n.business_name,domain:r}}),q.success(""),l(!1),e("/merchant/addons",{state:{domain:r,domainId:i,domainPrice:a,hostingPrice:iy}})}catch(v){console.error("Purchase error:",v),q.error("")}finally{d(!1)}}};return s.jsx(Yt,{children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:s.jsx(We,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800 dark:text-green-300",children:" "}),s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:["",s.jsx("strong",{children:r})]})]})]})}),s.jsxs(Ls,{variant:"destructive",className:"border-destructive/50 bg-destructive/10",children:[s.jsx(Wr,{className:"h-5 w-5"}),s.jsxs($s,{className:"space-y-3",children:[s.jsx("p",{className:"font-bold text-base",children:" "}),s.jsx("div",{className:"space-y-1",children:rJe.map((v,b)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Oi,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:v})]},b))})]})]}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(Y,{className:"border-2 border-primary",children:[s.jsxs(ue,{className:"text-center pb-2",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mx-auto mb-4",children:s.jsx(Pm,{className:"h-8 w-8 text-primary"})}),s.jsx(me,{className:"text-2xl",children:" SEOBAIKE "}),s.jsxs("div",{className:"flex items-baseline justify-center gap-1 mt-2",children:[s.jsx("span",{className:"text-4xl font-bold text-primary",children:"NT$2,999"}),s.jsx("span",{className:"text-muted-foreground",children:"/"})]})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsx("div",{className:"p-4 bg-primary/10 border border-primary/30 rounded-xl text-center",children:s.jsxs("p",{className:"font-medium text-primary",children:["  NT$",a.toLocaleString()," "]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:tJe.map((v,b)=>s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3+b*.1},className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(v.icon,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:v.text}),s.jsx("p",{className:"text-xs text-muted-foreground",children:v.description})]})]},v.text))})]})]})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg flex items-center gap-2",children:" "})}),s.jsx(Z,{children:s.jsx("div",{className:"space-y-2",children:nJe.map(v=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${v.popular?"bg-primary text-primary-foreground":"bg-muted/50"}`,children:[s.jsx("span",{className:"font-medium",children:v.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{children:["NT$",v.price,"/"]}),v.popular&&s.jsx(ae,{variant:"secondary",className:"bg-yellow-400 text-yellow-900",children:" "})]})]},v.name))})})]})}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-4",children:[s.jsxs(B,{size:"lg",className:"w-full text-lg h-14",onClick:()=>l(!0),children:[" NT$2,999",s.jsx(mt,{className:"ml-2 h-5 w-5"})]}),s.jsx(Y,{className:"border-dashed border-destructive/50 bg-destructive/5",children:s.jsxs(Z,{className:"py-4",children:[s.jsx("p",{className:"text-sm font-semibold text-destructive",children:" "}),s.jsxs("ul",{className:"text-sm text-muted-foreground mt-2 space-y-1",children:[s.jsxs("li",{children:["  ",s.jsx("strong",{children:r})," "]}),s.jsxs("li",{children:["  NT$",a.toLocaleString()," "]}),s.jsx("li",{children:"  "})]})]})})]}),s.jsx(Xn,{open:o,onOpenChange:l,children:s.jsxs(zn,{className:"max-w-md",children:[s.jsxs(Di,{children:[s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-5 w-5 text-primary"}),""]}),s.jsx(Tl,{children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ya,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:""})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{children:[ay.bankName," (",ay.bankCode,")"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono",children:ay.accountNumber}),s.jsx(B,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:m,children:u?s.jsx(Ct,{className:"h-4 w-4 text-green-600"}):s.jsx(An,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:ay.accountName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"font-bold text-primary text-lg",children:["NT$",iy.toLocaleString()]})]})]})]}),s.jsxs(Ls,{children:[s.jsx(rs,{className:"h-4 w-4"}),s.jsx($s,{children:""})]}),s.jsxs(B,{onClick:f,disabled:c,className:"w-full",size:"lg",children:[c?s.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}):null,""]}),s.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["  LINE ",s.jsx("strong",{children:"@seobaike"})]})]})]})})]})})}const iJe=699,aJe=2999,oy={bankName:"",bankCode:"013",accountNumber:"123-456-789-012",accountName:""},Qu=[{id:"analytics",name:"",price:999,description:"",icon:bn,features:["","","",""],persuasion:" {spent}  999 "},{id:"seo_report",name:"SEO ",price:1999,description:"",icon:dr,features:["","","",""],persuasion:""},{id:"ai_service",name:"AI 24H ",price:2999,description:"",icon:Vr,features:["24 ","LINE ","",""],persuasion:"AI  24 "},{id:"cart",name:"",price:3999,description:"",icon:cZ,features:["","","",""],persuasion:""},{id:"crm",name:" CRM ",price:4999,description:"",icon:ai,features:["","","",""],persuasion:""}];function oJe(){var _,C,T,A;const e=xn(),t=fs(),{merchant:n}=Za(),r=((_=t.state)==null?void 0:_.domain)||"",i=(C=t.state)==null?void 0:C.domainId,a=((T=t.state)==null?void 0:T.domainPrice)||iJe,o=((A=t.state)==null?void 0:A.hostingPrice)||aJe,l=a+o,[c,d]=x.useState([]),[u,h]=x.useState(!1),[m,f]=x.useState(!1),[p,g]=x.useState(!1);yn({title:"CRMAI  - SEOBAIKE",description:"SEO AI CRM",keywords:", , CRM, AI , SEO ",canonical:"https://seobaike.com/merchant/addons",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/merchant"},{name:"",url:"https://seobaike.com/merchant/addons"}])});const y=P=>{d(R=>R.includes(P)?R.filter(D=>D!==P):[...R,P])},v=c.reduce((P,R)=>{const D=Qu.find($=>$.id===R);return P+((D==null?void 0:D.price)||0)},0),b=l+v,w=P=>P.persuasion.replace("{spent}",`NT$${b.toLocaleString()}`),S=x.useMemo(()=>Qu.filter(R=>!c.includes(R.id))[0]||null,[c]),j=()=>{navigator.clipboard.writeText(oy.accountNumber),g(!0),setTimeout(()=>g(!1),2e3),q.success("")},N=()=>{q.success(" 24-48 "),e("/merchant")},k=async()=>{if(!(!n||c.length===0)){f(!0);try{const P=new Date;P.setFullYear(P.getFullYear()+1);const R=c.map(O=>{const L=Qu.find(I=>I.id===O);return{merchant_id:n.id,purchase_type:"addon",item_name:L.name,amount:L.price,payment_status:"pending",payment_method:"bank_transfer",reference_id:i,notes:`: ${r}`}}),{error:D}=await ee.from("merchant_purchases").insert(R);if(D)throw D;const $=c.map(O=>{const L=Qu.find(I=>I.id===O);return{user_id:n.user_id,type:L.id,name:L.name,status:"active",expires_at:P.toISOString(),auto_renew:!1,renewal_price:L.price,payment_method:"bank_transfer"}}),{error:M}=await ee.from("subscriptions").insert($);M&&console.error("Subscription creation error:",M);const F=c.map(O=>{var L;return(L=Qu.find(I=>I.id===O))==null?void 0:L.name}).join(", ");await ee.functions.invoke("purchase-notify",{body:{purchaseType:"addon",itemName:F,amount:v,customerName:n.business_name,domain:r}}),q.success(""),h(!1),e("/merchant")}catch(P){console.error("Purchase error:",P),q.error("")}finally{f(!1)}}};return s.jsx(Yt,{children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 border border-green-200 dark:border-green-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:s.jsx(Ye,{className:"h-7 w-7 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-green-800 dark:text-green-300",children:" "}),s.jsx("p",{className:"text-green-600 dark:text-green-400 mt-1",children:"  24-48 "})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[s.jsxs(ae,{variant:"secondary",className:"gap-1 px-3 py-1",children:[s.jsx(We,{className:"w-3 h-3"}),"  NT$",a.toLocaleString()]}),s.jsxs(ae,{variant:"secondary",className:"gap-1 px-3 py-1",children:[s.jsx(We,{className:"w-3 h-3"}),"  NT$",o.toLocaleString()]})]}),s.jsx("div",{className:"mt-4 p-3 bg-primary/10 border border-primary/30 rounded-lg",children:s.jsxs("p",{className:"text-sm font-medium text-primary",children:["  NT$",b.toLocaleString(),""]})})]}),s.jsx(He,{mode:"wait",children:c.length>0&&S&&s.jsx(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900 rounded-full flex items-center justify-center",children:s.jsx(S.icon,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-amber-700 dark:text-amber-300",children:[" ",w(S)]}),s.jsxs("p",{className:"text-xs text-amber-600/80 dark:text-amber-400/80 mt-1",children:[" NT$",S.price.toLocaleString()," ",S.name]})]}),s.jsx(B,{size:"sm",variant:"outline",className:"border-amber-500 text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-900",onClick:()=>y(S.id),children:""})]})},S.id)}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(pu,{className:"h-5 w-5 text-primary"})," "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),s.jsxs(Z,{className:"space-y-4",children:[Qu.map((P,R)=>{const D=c.includes(P.id);return s.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+R*.1},className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${D?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>y(P.id),children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(pg,{checked:D,className:"mt-1"}),s.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(P.icon,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("h3",{className:"font-semibold",children:P.name}),R===0&&s.jsx(ae,{className:"bg-green-500 hover:bg-green-600 text-white text-xs",children:""})]}),s.jsxs("span",{className:"font-bold text-primary whitespace-nowrap",children:["NT$",P.price.toLocaleString(),"/"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:P.description}),s.jsxs("p",{className:"text-xs text-primary/80 mt-1 font-medium",children:[" ",P.persuasion.replace("{spent}",`NT$${b.toLocaleString()}`)]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:P.features.map($=>s.jsx(ae,{variant:"secondary",className:"text-xs",children:$},$))})]})]})},P.id)}),c.length>0&&s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-muted/50 rounded-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",c.length," "]}),s.jsxs("p",{className:"font-semibold",children:["NT$",v.toLocaleString(),"/"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:""}),s.jsxs("p",{className:"text-lg font-bold text-primary",children:["NT$",b.toLocaleString()]})]})]})})]})]})}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(B,{variant:"outline",size:"lg",className:"flex-1",onClick:N,children:""}),s.jsxs(B,{size:"lg",className:"flex-1",disabled:c.length===0,onClick:()=>h(!0),children:["",v>0&&s.jsxs(ae,{variant:"secondary",className:"ml-2",children:["NT$",v.toLocaleString()]}),s.jsx(mt,{className:"ml-2 h-4 w-4"})]})]}),s.jsx(Xn,{open:u,onOpenChange:h,children:s.jsxs(zn,{className:"max-w-md",children:[s.jsxs(Di,{children:[s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-5 w-5 text-primary"}),""]}),s.jsx(Tl,{children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg space-y-2",children:[s.jsx("p",{className:"font-medium text-sm",children:""}),c.map(P=>{const R=Qu.find(D=>D.id===P);return R?s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:R.name}),s.jsxs("span",{children:["NT$",R.price.toLocaleString()]})]},P):null}),s.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between font-bold",children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"text-primary",children:["NT$",v.toLocaleString()]})]})]}),s.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ya,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:""})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{children:[oy.bankName," (",oy.bankCode,")"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono",children:oy.accountNumber}),s.jsx(B,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:j,children:p?s.jsx(Ct,{className:"h-4 w-4 text-green-600"}):s.jsx(An,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:oy.accountName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"font-bold text-primary text-lg",children:["NT$",v.toLocaleString()]})]})]})]}),s.jsxs(Ls,{children:[s.jsx(rs,{className:"h-4 w-4"}),s.jsx($s,{children:""})]}),s.jsxs(B,{onClick:k,disabled:m,className:"w-full",size:"lg",children:[m?s.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}):null,""]}),s.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["  LINE ",s.jsx("strong",{children:"@seobaike"})]})]})]})})]})})}const ly=[{id:"1",author:"",avatar:"W",rating:5,date:"2026-01-22",content:"",replied:!0,reply:"",repliedAt:"2026-01-22"},{id:"2",author:"",avatar:"L",rating:4,date:"2026-01-20",content:"",replied:!1,reply:null,repliedAt:null},{id:"3",author:"",avatar:"Z",rating:2,date:"2026-01-18",content:"",replied:!1,reply:null,repliedAt:null,urgent:!0},{id:"4",author:"",avatar:"C",rating:5,date:"2026-01-15",content:"",replied:!0,reply:"",repliedAt:"2026-01-16"},{id:"5",author:"",avatar:"H",rating:3,date:"2026-01-12",content:"",replied:!1,reply:null,repliedAt:null}],lJe=(e,t)=>e>=5?"":e>=4?"":e>=3?"":"",cJe=[{stars:5,count:45,percentage:60},{stars:4,count:18,percentage:24},{stars:3,count:8,percentage:11},{stars:2,count:3,percentage:4},{stars:1,count:1,percentage:1}],dJe=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,l]=x.useState("all"),[c,d]=x.useState({newReview:!0,negativeReview:!0,weeklyReport:!1});yn({title:"Google GMB  - SEOBAIKE",description:" Google AI  SEO ",keywords:"Google , GMB , ,  SEO, ",canonical:"https://seobaike.com/merchant/gmb",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/merchant"},{name:"Google ",url:"https://seobaike.com/merchant/gmb"}])});const u={averageRating:4.3,totalReviews:75,pendingReplies:3,thisMonth:12},h=ly.filter(y=>o==="pending"?!y.replied:o==="replied"?y.replied:o==="urgent"?y.rating<=2:!0),m=y=>{a(!0),t(y.id),setTimeout(()=>{const v=lJe(y.rating,y.content);r(v),a(!1),q.success("AI ",{description:" 5 "})},1500)},f=y=>{q.success("",{description:""}),t(null),r("")},p=()=>{navigator.clipboard.writeText(n),q.success("")},g=y=>s.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(v=>s.jsx(Js,{className:G("w-4 h-4",v<=y?"fill-yellow-400 text-yellow-400":"text-gray-300")},v))});return s.jsx(Yt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(xu,{className:"w-6 h-6 text-primary"}),"Google "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:" Google "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{variant:"outline",size:"sm",children:[s.jsx(Br,{className:"w-4 h-4 mr-2"})," GMB"]}),s.jsxs(B,{variant:"outline",size:"sm",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),""]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0},children:s.jsx(Y,{className:"hover-lift",children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"text-3xl font-bold text-foreground",children:u.averageRating}),s.jsx(Js,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"})]})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(Js,{className:"w-6 h-6 text-yellow-600"})})]})})})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsx(Y,{className:"hover-lift",children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-3xl font-bold text-foreground",children:u.totalReviews})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Vr,{className:"w-6 h-6 text-blue-600"})})]})})})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsx(Y,{className:"hover-lift border-orange-200 bg-orange-50/50",children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-3xl font-bold text-orange-600",children:u.pendingReplies})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center",children:s.jsx(Pn,{className:"w-6 h-6 text-orange-600"})})]})})})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:s.jsx(Y,{className:"hover-lift",children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"text-3xl font-bold text-foreground",children:u.thisMonth})]}),s.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(dr,{className:"w-6 h-6 text-green-600"})})]})})})})]}),s.jsxs(va,{defaultValue:"reviews",className:"space-y-4",children:[s.jsxs($i,{className:"bg-muted/50",children:[s.jsxs(Dt,{value:"reviews",className:"data-[state=active]:bg-background",children:[s.jsx(Vr,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Dt,{value:"analytics",className:"data-[state=active]:bg-background",children:[s.jsx(bn,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Dt,{value:"settings",className:"data-[state=active]:bg-background",children:[s.jsx(fa,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsxs(Ut,{value:"reviews",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:""}),[{key:"all",label:"",count:ly.length},{key:"pending",label:"",count:ly.filter(y=>!y.replied).length},{key:"replied",label:"",count:ly.filter(y=>y.replied).length},{key:"urgent",label:"",count:ly.filter(y=>y.rating<=2).length}].map(y=>s.jsxs(B,{variant:o===y.key?"default":"outline",size:"sm",onClick:()=>l(y.key),className:G(y.key==="urgent"&&o!=="urgent"&&"border-red-200 text-red-600 hover:bg-red-50"),children:[y.label,s.jsx(ae,{variant:"secondary",className:"ml-2 text-xs",children:y.count})]},y.key))]}),s.jsx("div",{className:"space-y-4",children:h.map((y,v)=>s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.05},children:s.jsx(Y,{className:G("transition-all",y.urgent&&"border-red-300 bg-red-50/30",e===y.id&&"ring-2 ring-primary"),children:s.jsxs(Z,{className:"pt-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:G("w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold",y.rating>=4?"bg-green-500":y.rating>=3?"bg-yellow-500":"bg-red-500"),children:y.avatar}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-foreground",children:y.author}),y.urgent&&s.jsxs(ae,{variant:"destructive",className:"text-xs",children:[s.jsx(Wr,{className:"w-3 h-3 mr-1"}),""]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[g(y.rating),s.jsx("span",{children:""}),s.jsx("span",{children:y.date})]})]})]}),y.replied?s.jsxs(ae,{variant:"secondary",className:"bg-green-100 text-green-700",children:[s.jsx(We,{className:"w-3 h-3 mr-1"}),""]}):s.jsx(ae,{variant:"outline",className:"text-orange-600 border-orange-300",children:""})]}),s.jsx("p",{className:"text-foreground",children:y.content}),y.replied&&y.reply&&s.jsxs("div",{className:"mt-3 p-3 bg-muted/50 rounded-lg border-l-4 border-primary",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[s.jsx("span",{className:"font-medium text-foreground",children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:y.repliedAt})]}),s.jsx("p",{className:"text-sm text-foreground",children:y.reply})]}),!y.replied&&s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>m(y),disabled:i&&e===y.id,className:"gap-2",children:i&&e===y.id?s.jsxs(s.Fragment,{children:[s.jsx(rn,{className:"w-4 h-4 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-4 h-4"}),"AI ",s.jsx(ae,{variant:"secondary",className:"text-xs",children:"5"})]})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>{t(y.id),r("")},children:""})]})]})}),e===y.id&&!y.replied&&s.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 pt-4 border-t space-y-3",children:[s.jsx(Yn,{value:n,onChange:b=>r(b.target.value),placeholder:"...",rows:4,className:"resize-none"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{size:"sm",variant:"ghost",onClick:p,disabled:!n,children:[s.jsx(An,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(B,{size:"sm",variant:"ghost",onClick:()=>m(y),children:[s.jsx(rn,{className:"w-4 h-4 mr-1"}),""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>{t(null),r("")},children:""}),s.jsxs(B,{size:"sm",onClick:()=>f(y.id),disabled:!n.trim(),children:[s.jsx(Bs,{className:"w-4 h-4 mr-2"}),""]})]})]})]})]})})},y.id))})]}),s.jsx(Ut,{value:"analytics",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsx(me,{className:"text-lg",children:""}),s.jsx(dt,{children:" 30 "})]}),s.jsx(Z,{className:"space-y-4",children:cJe.map(y=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1 w-16",children:[s.jsx("span",{className:"text-sm font-medium",children:y.stars}),s.jsx(Js,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"})]}),s.jsx("div",{className:"flex-1",children:s.jsx(Uu,{value:y.percentage,className:"h-2"})}),s.jsxs("span",{className:"text-sm text-muted-foreground w-12 text-right",children:[y.count," "]})]},y.stars))})]}),s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsx(me,{className:"text-lg",children:""}),s.jsx(dt,{children:""})]}),s.jsx(Z,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:[{word:"",count:28,positive:!0},{word:"",count:22,positive:!0},{word:"",count:18,positive:!0},{word:"",count:15,positive:!0},{word:"",count:12,positive:!0},{word:"",count:8,positive:!1},{word:"",count:6,positive:!0},{word:"",count:4,positive:!1}].map(y=>s.jsxs(ae,{variant:"outline",className:G("px-3 py-1",y.positive?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"),children:[y.positive?s.jsx(dZ,{className:"w-3 h-3 mr-1"}):s.jsx(lCe,{className:"w-3 h-3 mr-1"}),y.word,s.jsxs("span",{className:"ml-1 text-xs opacity-70",children:["(",y.count,")"]})]},y.word))})})]}),s.jsxs(Y,{className:"md:col-span-2",children:[s.jsxs(ue,{children:[s.jsx(me,{className:"text-lg",children:""}),s.jsx(dt,{children:" 6 "})]}),s.jsx(Z,{children:s.jsx("div",{className:"grid grid-cols-6 gap-4",children:[{month:"8",reviews:10,rating:4.1},{month:"9",reviews:12,rating:4.2},{month:"10",reviews:15,rating:4},{month:"11",reviews:11,rating:4.3},{month:"12",reviews:14,rating:4.4},{month:"1",reviews:12,rating:4.3}].map((y,v)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-primary/20 rounded-t-lg mx-auto w-full",style:{height:`${y.reviews*8}px`}}),s.jsx("div",{className:"bg-primary rounded-b-lg h-2 mx-auto w-full"}),s.jsx("p",{className:"text-sm font-medium mt-2",children:y.month}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.reviews," "]}),s.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[s.jsx(Js,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-xs",children:y.rating})]})]},y.month))})})]})]})}),s.jsxs(Ut,{value:"settings",className:"space-y-6",children:[s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"text-lg flex items-center gap-2",children:[s.jsx(Da,{className:"w-5 h-5 text-primary"}),""]}),s.jsx(dt,{children:" Telegram "})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),s.jsx(Ai,{checked:c.newReview,onCheckedChange:y=>d(v=>({...v,newReview:y}))})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-red-200 bg-red-50/30",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs("p",{className:"font-medium flex items-center gap-2",children:["",s.jsx(ae,{variant:"destructive",className:"text-xs",children:""})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" 1-2 "})]}),s.jsx(Ai,{checked:c.negativeReview,onCheckedChange:y=>d(v=>({...v,negativeReview:y}))})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),s.jsx(Ai,{checked:c.weeklyReport,onCheckedChange:y=>d(v=>({...v,weeklyReport:y}))})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(B,{className:"w-full md:w-auto",children:""})})]})]}),s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ye,{className:"w-5 h-5 text-primary"}),"AI "]}),s.jsx(dt,{children:" AI "})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"AI "}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-green-50 border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g(5),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"5 "})]}),s.jsx("p",{className:"text-sm text-green-800",children:""})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-yellow-50 border border-yellow-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g(3),s.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"3-4 "})]}),s.jsx("p",{className:"text-sm text-yellow-800",children:""})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g(1),s.jsx("span",{className:"text-sm font-medium text-red-700",children:"1-2 "})]}),s.jsx("p",{className:"text-sm text-red-800",children:""})]})]})]})]})]})]})]})})},gV=[{value:"15",label:"15 TikTokIG ReelsYouTube Shorts",points:15},{value:"30",label:"30 IG StoriesFB Stories",points:30},{value:"60",label:"60 YouTube Shorts",points:50}],xV=[{value:"tiktok",label:"TikTok"},{value:"instagram-reels",label:"Instagram Reels"},{value:"instagram-stories",label:"Instagram Stories"},{value:"youtube-shorts",label:"YouTube Shorts"},{value:"facebook",label:"Facebook"},{value:"xiaohongshu",label:""},{value:"linkedin",label:"LinkedIn"},{value:"other",label:""}],uJe=()=>{const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(""),[o,l]=x.useState("15"),[c,d]=x.useState(""),[u,h]=x.useState("input"),[m,f]=x.useState(!1),[p,g]=x.useState(!1),[y,v]=x.useState(""),[b,w]=x.useState(""),[S,j]=x.useState(""),[N,k]=x.useState(!1),[_,C]=x.useState(null),[T,A]=x.useState(null),[P,R]=x.useState(""),D=gV.find(X=>X.value===o),$=(D==null?void 0:D.points)||15,M=xV.find(X=>X.value===c),F=()=>{const X=(M==null?void 0:M.label)||"",le=`${e} | ${n}  | ${X} `,de=` ${e}  ${n} 

 
 
 

 ${i||""}

#${e.replace(/\s+/g,"")} #${n} #${X.replace(/\s+/g,"")}`,Ne=[...e.split(/[,\s]+/).filter(Boolean),n,X.replace(/\s+/g,""),"","","2024"].map(K=>`#${K}`).join(" ");return{title:le,description:de,tags:Ne}},O=async()=>{if(!e||!n){q.error("");return}if(!c){q.error("");return}f(!0),await new Promise(le=>setTimeout(le,500));const X=F();v(X.title),w(X.description),j(X.tags),f(!1),h("preview"),q.success("")},L=()=>{g(!0)},I=async()=>{g(!1),h("generating"),k(!0),A(null),C(null),R("...");try{const{data:X,error:le}=await ee.functions.invoke("generate-seo-video",{body:{keyword:e,brandName:n,contactInfo:i,duration:parseInt(o),platform:c,customSeoData:{title:y,description:b,tags:S}}});if(le)throw le;if(X.success)C(X.renderId),R(X.message),q.success("");else throw new Error(X.error)}catch(X){console.error("Generate error:",X),q.error(X.message||""),k(!1),h("preview")}};x.useEffect(()=>{if(!_||T)return;const le=setInterval(async()=>{try{const{data:de,error:oe}=await ee.functions.invoke("check-video-status",{body:{renderId:_}});if(oe)throw oe;R(de.message),de.status==="done"&&de.url?(A(de.url),k(!1),h("complete"),q.success(" ")):de.status==="failed"&&(k(!1),h("preview"),q.error(""))}catch(de){console.error("Check status error:",de)}},5e3);return()=>clearInterval(le)},[_,T]);const z=()=>{h("input")},H=()=>{t(""),v(""),w(""),j(""),A(null),C(null),R(""),h("input")},U=(X,le)=>{navigator.clipboard.writeText(X),q.success(`${le} `)};return u==="input"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(ng,{className:"h-5 w-5"}),"AI SEO "]}),s.jsx(dt,{children:" 1/3"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"keyword",children:" *"}),s.jsx(xe,{id:"keyword",placeholder:"",value:e,onChange:X=>t(X.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"brandName",children:" *"}),s.jsx(xe,{id:"brandName",placeholder:"SEOBAIKE",value:n,onChange:X=>r(X.target.value)})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:" *"}),s.jsxs(Al,{value:o,onValueChange:l,children:[s.jsx(Vo,{children:s.jsx(Pl,{placeholder:""})}),s.jsx(qo,{children:gV.map(X=>s.jsxs(Zr,{value:X.value,children:[X.label," - ",X.points," "]},X.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:" *"}),s.jsxs(Al,{value:c,onValueChange:d,children:[s.jsx(Vo,{children:s.jsx(Pl,{placeholder:""})}),s.jsx(qo,{children:xV.map(X=>s.jsx(Zr,{value:X.value,children:X.label},X.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"contactInfo",children:""}),s.jsx(xe,{id:"contactInfo",placeholder:" 02-1234-5678 / Line: @seobaike",value:i,onChange:X=>a(X.target.value)})]}),s.jsx(B,{onClick:O,disabled:m,className:"w-full",size:"lg",children:m?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ga,{className:"mr-2 h-4 w-4"}),""]})})]})]}),s.jsx(Y,{className:"bg-accent/50 border-accent",children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-semibold",children:[s.jsx(E8,{className:"h-5 w-5"}),"SEO "]}),s.jsx("p",{className:"text-foreground",children:"Google "}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"2-3  SEO "}),s.jsx("li",{children:"3-5 "}),s.jsx("li",{children:"1  LinkedIn "})]}),s.jsx("p",{className:"text-sm text-primary font-medium",children:" AI 10 "})]})})})]}):u==="preview"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(B,{variant:"ghost",onClick:z,className:"gap-2",children:[s.jsx(ks,{className:"h-4 w-4"}),""]}),s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Ga,{className:"h-5 w-5"}),""]}),s.jsx(dt,{children:" 2/3"})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(SM,{className:"h-4 w-4"}),""]}),s.jsxs("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden border-2 border-dashed border-muted-foreground/30",children:[s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-muted-foreground",children:[s.jsx(ng,{className:"h-16 w-16 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:n}),s.jsx("p",{className:"text-sm",children:e}),s.jsxs("p",{className:"text-xs mt-2",children:[o,"  | ",M==null?void 0:M.label]})]}),s.jsx("div",{className:"absolute top-3 right-3 bg-primary/90 text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:""})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(Zp,{className:"h-4 w-4"}),""]}),s.jsx("div",{className:"w-40 h-24 bg-muted rounded-lg border-2 border-dashed border-muted-foreground/30 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-muted-foreground text-xs",children:[s.jsx(Zp,{className:"h-8 w-8 mx-auto mb-1 opacity-50"}),""]})})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(m_,{className:"h-4 w-4"}),""]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"previewTitle",children:""}),s.jsx(xe,{id:"previewTitle",value:y,onChange:X=>v(X.target.value),className:"font-medium"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"previewDescription",children:""}),s.jsx(Yn,{id:"previewDescription",value:b,onChange:X=>w(X.target.value),rows:6})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"previewTags",children:"Hashtag "}),s.jsx(xe,{id:"previewTags",value:S,onChange:X=>j(X.target.value)})]})]}),s.jsxs("div",{className:"pt-4 space-y-3",children:[s.jsxs(B,{onClick:L,className:"w-full",size:"lg",children:[s.jsx(Ye,{className:"mr-2 h-4 w-4"}),"",$," "]}),s.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[" ",$," "]})]})]})]}),s.jsx(Hle,{open:p,onOpenChange:g,children:s.jsxs(QD,{children:[s.jsxs(ZD,{children:[s.jsx(tL,{children:""}),s.jsxs(nL,{className:"space-y-2",children:[s.jsxs("p",{children:[" ",s.jsxs("span",{className:"font-bold text-primary",children:[$," "]}),""]}),s.jsxs("div",{className:"bg-muted p-3 rounded-lg text-sm mt-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:""}),e]}),s.jsxs("p",{children:[s.jsx("strong",{children:""}),o," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:""}),M==null?void 0:M.label]})]})]})]}),s.jsxs(eL,{children:[s.jsx(sL,{children:""}),s.jsx(rL,{onClick:I,children:""})]})]})})]}):u==="generating"?s.jsx("div",{className:"space-y-6",children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Ge,{className:"h-5 w-5 animate-spin"}),"SEOBAIKE "]}),s.jsx(dt,{children:" 3/3SEOBAIKE ..."})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ge,{className:"h-16 w-16 animate-spin mx-auto text-primary mb-6"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:P}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" 1-3 "})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y})]})]})]})}):u==="complete"?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y,{className:"border-primary/50 bg-primary/5",children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary",children:[s.jsx(Ct,{className:"h-8 w-8"}),s.jsx("span",{className:"text-2xl font-bold",children:" "})]}),s.jsx("p",{className:"text-muted-foreground",children:" 3-5  SEO "})]})})}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs(me,{className:"flex items-center gap-2 text-primary",children:[s.jsx(Ct,{className:"h-5 w-5"}),""]})}),s.jsxs(Z,{className:"space-y-4",children:[T&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xe,{value:T,readOnly:!0,className:"flex-1 text-sm"}),s.jsx(B,{asChild:!0,size:"lg",children:s.jsxs("a",{href:T,target:"_blank",rel:"noopener noreferrer",download:!0,children:[s.jsx(fu,{className:"mr-2 h-4 w-4"}),""]})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xe,{value:y,readOnly:!0,className:"flex-1"}),s.jsxs(B,{variant:"outline",onClick:()=>U(y,""),children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),""]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Yn,{value:b,readOnly:!0,className:"flex-1",rows:4}),s.jsxs(B,{variant:"outline",onClick:()=>U(b,""),className:"self-start",children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),""]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:"Hashtag "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xe,{value:S,readOnly:!0,className:"flex-1"}),s.jsxs(B,{variant:"outline",onClick:()=>U(S,""),children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),""]})]})]})]})]}),s.jsx(Y,{className:"bg-gradient-to-r from-primary/10 to-primary/5 border-primary/30",children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-lg font-medium",children:" SEO "}),s.jsxs(B,{onClick:H,size:"lg",className:"text-lg px-8 py-6",children:[s.jsx(lZ,{className:"mr-2 h-5 w-5"}),""]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" 3-5 "})]})})}),s.jsx(Y,{className:"bg-accent/50 border-accent",children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-semibold",children:[s.jsx(E8,{className:"h-5 w-5"}),"SEO "]}),s.jsx("p",{className:"text-foreground",children:"Google "}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"2-3  SEO "}),s.jsx("li",{children:"3-5 "}),s.jsx("li",{children:"1  LinkedIn "})]}),s.jsx("p",{className:"text-sm text-primary font-medium",children:" AI 10 "})]})})})]}):null},yV=[{value:"15",label:"15 ",points:35},{value:"30",label:"30 ",points:55},{value:"60",label:"60 ",points:80}],hJe=[{value:"EXAVITQu4vr4xnSDxMaL",label:"Sarah"},{value:"JBFqnCBsd6RMkjVDRZzb",label:"George"},{value:"TX3LPaxmHKxFdv7VOQHJ",label:"Liam"},{value:"pFZP5JQG7iQjIQuC4Bku",label:"Lily"}],mJe=()=>{var O,L,I;const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(""),[o,l]=x.useState("15"),[c,d]=x.useState("EXAVITQu4vr4xnSDxMaL"),[u,h]=x.useState(!1),[m,f]=x.useState(-1),[p,g]=x.useState(null),[y,v]=x.useState(null),[b,w]=x.useState([{id:"keywords",label:"",icon:fn,status:"pending",description:"AI "},{id:"script",label:"",icon:Zd,status:"pending",description:""},{id:"video",label:"",icon:ng,status:"pending",description:" SEO "},{id:"voice",label:"AI ",icon:ma,status:"pending",description:"ElevenLabs "},{id:"subtitle",label:"",icon:k8,status:"pending",description:" SRT "}]),S=yV.find(z=>z.value===o),j=(S==null?void 0:S.points)||35,N=m>=0?(m+1)/b.length*100:0,k=x.useCallback((z,H)=>{w(U=>U.map(X=>X.id===z?{...X,status:H}:X))},[]),_=async z=>{var H,U;k("keywords","processing");try{const{data:X,error:le}=await ee.functions.invoke("unified-api",{body:{category:"seo",operation:"seo.keyword_research",data:{keyword:z,language:"zh-TW",limit:5}}});if(le)throw le;const de=((U=(H=X==null?void 0:X.data)==null?void 0:H.keywords)==null?void 0:U.map(oe=>oe.keyword))||[z];return k("keywords","complete"),de.slice(0,5)}catch(X){console.error("Keyword research error:",X);const le=[z,`${z} `,`${z} `,`${z} `,`${z} `];return k("keywords","complete"),le}},C=async(z,H,U)=>{var X;k("script","processing");try{const{data:le,error:de}=await ee.functions.invoke("unified-api",{body:{category:"content",operation:"content.article",data:{keyword:z.join(""),style:"",length:U*3,language:""}}});if(de)throw de;const oe=((X=le==null?void 0:le.data)==null?void 0:X.content)||T(z,H,U);return k("script","complete"),oe}catch(le){console.error("Script generation error:",le);const de=T(z,H,U);return k("script","complete"),de}},T=(z,H,U)=>{const X=z[0];return U<=15?`${X}${H}`:U<=30?`${X}

${H}
 
 
 

`:`${H}

${X}


 ${z[1]||""}
 ${z[2]||""}
 ${z[3]||""}



`},A=async(z,H)=>{k("video","processing");try{const{data:U,error:X}=await ee.functions.invoke("generate-seo-video",{body:{keyword:z,brandName:H,contactInfo:i,duration:parseInt(o)}});if(X)throw X;if(!(U!=null&&U.success))throw new Error((U==null?void 0:U.error)||"");return k("video","complete"),U.renderId}catch(U){throw console.error("Video generation error:",U),k("video","error"),U}},P=async z=>{var H;k("voice","processing");try{const{data:U,error:X}=await ee.functions.invoke("unified-api",{body:{category:"content",operation:"content.voice",data:{text:z.substring(0,5e3),voiceId:c,language:"zh-TW"}}});if(X)throw X;if(!(U!=null&&U.success))throw new Error((U==null?void 0:U.error)||"");return k("voice","complete"),((H=U.data)==null?void 0:H.audioBase64)||""}catch(U){throw console.error("Voice generation error:",U),k("voice","error"),U}},R=async(z,H)=>{k("subtitle","processing");const U=z.split(/[\n]+/).filter(oe=>oe.trim()),X=H/U.length,le=U.map((oe,Ne)=>({start:Ne*X,end:(Ne+1)*X,text:oe.trim()})),de=le.map((oe,Ne)=>{const K=he=>{const re=Math.floor(he/3600),Q=Math.floor(he%3600/60),ge=Math.floor(he%60),Oe=Math.floor(he%1*1e3);return`${re.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}:${ge.toString().padStart(2,"0")},${Oe.toString().padStart(3,"0")}`};return`${Ne+1}
${K(oe.start)} --> ${K(oe.end)}
${oe.text}
`}).join(`
`);return k("subtitle","complete"),{subtitles:le,srtContent:de}},D=async()=>{if(!e||!n){q.error("");return}h(!0),v(null),g(null),w(z=>z.map(H=>({...H,status:"pending"})));try{f(0);const z=await _(e);f(1);const H=await C(z,n,parseInt(o));f(2);const U=await A(e,n);f(3);let X="";try{X=await P(H)}catch(oe){console.warn("Voice generation skipped:",oe),k("voice","error")}f(4);const{subtitles:le,srtContent:de}=await R(H,parseInt(o));g({keywords:z,script:H,videoRenderId:U,audioBase64:X,subtitles:le,srtContent:de}),q.success(" ...")}catch(z){console.error("Process error:",z),v(z.message||""),q.error(z.message||"")}finally{h(!1)}},$=()=>{t(""),r(""),a(""),l("15"),f(-1),g(null),v(null),w(z=>z.map(H=>({...H,status:"pending"})))},M=(z,H)=>{navigator.clipboard.writeText(z),q.success(`${H} `)},F=()=>{if(!(p!=null&&p.srtContent))return;const z=new Blob([p.srtContent],{type:"text/plain"}),H=URL.createObjectURL(z),U=document.createElement("a");U.href=H,U.download=`${e}-${n}.srt`,U.click(),URL.revokeObjectURL(H),q.success("")};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y,{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/20",children:s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/20 flex items-center justify-center",children:s.jsx(cn,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsxs(me,{className:"flex items-center gap-2",children:["",s.jsxs(ae,{variant:"secondary",className:"ml-2",children:[s.jsx(Ye,{className:"w-3 h-3 mr-1"}),"AI "]})]}),s.jsx(dt,{children:"    AI   "})]})]})})}),!p&&s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs(me,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Zd,{className:"w-5 h-5"}),""]})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:" *"}),s.jsx(xe,{placeholder:"",value:e,onChange:z=>t(z.target.value),disabled:u})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:" *"}),s.jsx(xe,{placeholder:"SEOBAIKE",value:n,onChange:z=>r(z.target.value),disabled:u})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:""}),s.jsxs(Al,{value:o,onValueChange:l,disabled:u,children:[s.jsx(Vo,{children:s.jsx(Pl,{})}),s.jsx(qo,{children:yV.map(z=>s.jsx(Zr,{value:z.value,children:z.label},z.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:"AI "}),s.jsxs(Al,{value:c,onValueChange:d,disabled:u,children:[s.jsx(Vo,{children:s.jsx(Pl,{})}),s.jsx(qo,{children:hJe.map(z=>s.jsx(Zr,{value:z.value,children:z.label},z.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:""}),s.jsx(xe,{placeholder:" 02-1234-5678 / Line: @seobaike",value:i,onChange:z=>a(z.target.value),disabled:u})]}),s.jsx(mv,{className:"my-4"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ee,{className:"text-muted-foreground",children:""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((z,H)=>s.jsxs(ae,{variant:z.status==="complete"?"default":z.status==="processing"?"secondary":"outline",className:G("gap-1 py-1.5",z.status==="processing"&&"animate-pulse"),children:[z.status==="complete"?s.jsx(St,{className:"w-3 h-3"}):z.status==="processing"?s.jsx(Ge,{className:"w-3 h-3 animate-spin"}):s.jsx(z.icon,{className:"w-3 h-3"}),z.label,H<b.length-1&&s.jsx(mt,{className:"w-3 h-3 ml-1"})]},z.id))})]}),u&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"font-medium",children:[Math.round(N),"%"]})]}),s.jsx(Uu,{value:N,className:"h-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["",((O=b[m])==null?void 0:O.description)||"","..."]})]}),y&&s.jsx("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:s.jsx("p",{className:"text-sm text-destructive",children:y})}),s.jsx(B,{onClick:D,disabled:u||!e||!n,size:"lg",className:"w-full",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),"AI ..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4"})," ",j," "]})}),s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[s.jsx(Pn,{className:"w-3 h-3 inline mr-1"}),"2-5 "]})]})]}),p&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs(me,{className:"flex items-center gap-2 text-lg",children:[s.jsx(fn,{className:"w-5 h-5 text-primary"}),"",s.jsxs(ae,{variant:"secondary",className:"ml-auto",children:[p.keywords.length," "]})]})}),s.jsx(Z,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:p.keywords.map((z,H)=>s.jsx(ae,{variant:"outline",className:"py-1.5",children:z},H))})})]}),s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(me,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Zd,{className:"w-5 h-5 text-primary"}),""]}),s.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>M(p.script,""),children:[s.jsx(An,{className:"w-4 h-4 mr-1"}),""]})]})}),s.jsx(Z,{children:s.jsx(Yn,{value:p.script,readOnly:!0,rows:6,className:"bg-muted/50"})})]}),s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs(me,{className:"flex items-center gap-2 text-lg",children:[s.jsx(ng,{className:"w-5 h-5 text-primary"}),""]})}),s.jsx(Z,{children:p.videoUrl?s.jsxs("div",{className:"space-y-3",children:[s.jsx("video",{src:p.videoUrl,controls:!0,className:"w-full rounded-lg"}),s.jsx(B,{asChild:!0,className:"w-full",children:s.jsxs("a",{href:p.videoUrl,download:!0,children:[s.jsx(fu,{className:"w-4 h-4 mr-2"}),""]})})]}):s.jsxs("div",{className:"text-center py-6 bg-muted/50 rounded-lg",children:[s.jsx(Ge,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"..."}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Render ID: ",p.videoRenderId]})]})})]}),p.audioBase64&&s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs(me,{className:"flex items-center gap-2 text-lg",children:[s.jsx(ma,{className:"w-5 h-5 text-primary"}),"AI "]})}),s.jsx(Z,{children:s.jsx("audio",{controls:!0,className:"w-full",src:`data:audio/mpeg;base64,${p.audioBase64}`})})]}),s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(me,{className:"flex items-center gap-2 text-lg",children:[s.jsx(k8,{className:"w-5 h-5 text-primary"}),"",s.jsxs(ae,{variant:"secondary",children:[((L=p.subtitles)==null?void 0:L.length)||0," "]})]}),s.jsxs(B,{variant:"outline",size:"sm",onClick:F,children:[s.jsx(fu,{className:"w-4 h-4 mr-1"})," SRT"]})]})}),s.jsx(Z,{children:s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(I=p.subtitles)==null?void 0:I.map((z,H)=>s.jsxs("div",{className:"flex items-start gap-3 text-sm p-2 bg-muted/50 rounded",children:[s.jsxs(ae,{variant:"outline",className:"shrink-0",children:[z.start.toFixed(1),"s"]}),s.jsx("span",{children:z.text})]},H))})})]}),s.jsxs(B,{variant:"outline",onClick:$,className:"w-full",children:[s.jsx(lZ,{className:"w-4 h-4 mr-2"}),""]})]})]})},fJe=[{id:"youtube",icon:mZ,title:" YouTube ",description:"",tips:[""," 3 ","",""]},{id:"article",icon:oZ,title:" SEO ",description:" SEOBAIKE ",tips:[" YouTube "," 2-3 "," 1500 "," alt "]},{id:"linkedin",icon:uj,title:"LinkedIn ",description:" LinkedIn ",tips:["","",""," hashtag "]},{id:"social",icon:NM,title:"",description:"",tips:["Facebook ","Twitter +","Pinterest ",""]}],pJe=[{id:"how-to",title:"",template:`# [] 

## 
...

##  []
...

##  [] 
-  1
-  2
-  3

## 

### []
...

### []
...

### []
...

## 
 [ YouTube ]

## 

### Q1: []
A: []

### Q2: []
A: []

## 
...

---
 []
 []
`},{id:"list",title:"",template:`# []  [] 

## 
...

## 1. []
...
 [YouTube ]

## 2. []
...

## 3. []
...

[...]

## 
|  |  |  |
|------|------|------|
|  1 |  |  |
|  2 |  |  |

## 
...

---
  []
`},{id:"comparison",title:"",template:`# [A] vs [B]2024 

## 
...

## 
|  | [A] | [B] |
|------|-----|-----|
|  | $ | $$ |
|  |  |  |
|  |  |  |

## [A] 

### 
-  1
-  2

### 
-  1

## [B] 

### 
-  1
-  2

### 
-  1

## 
 [ YouTube ]

## 
...

## 
...

---
 []
`}],gJe=[{id:"insight",title:"",template:` []

...

[2-3 ]


  1
  2
  3

 

# # #

---
 []
 [YouTube ]`},{id:"how-i",title:"",template:`  []  []

[]

 3 

1 []
 []

2 []
 []

3 []
 []

[]

 
 []

# # #`},{id:"question",title:"",template:` 

[]


[2-3 ]

 [A]  [B]



A) [ A]
B) [ B]
C) 



# # #[]`}];function xJe(){const[e,t]=x.useState("oneclick"),[n,r]=x.useState(null);yn({title:"SEO YouTube SEO  - SEOBAIKE",description:" AI  SEO  YouTube  Google ",keywords:", YouTube SEO, AI , , Backlink, SEO ",canonical:"https://seobaike.com/merchant/youtube",noindex:!0,schema:In([{name:"",url:"https://seobaike.com"},{name:"",url:"https://seobaike.com/merchant"},{name:"SEO ",url:"https://seobaike.com/merchant/youtube"}])});const i=(a,o)=>{navigator.clipboard.writeText(a),r(o),q.success(""),setTimeout(()=>r(null),2e3)};return s.jsx(Yt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(dr,{className:"w-6 h-6 text-primary"}),"SEO "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Google  "})]})}),s.jsx(Y,{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border-primary/20",children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center shrink-0",children:s.jsx(fn,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-bold text-lg text-foreground",children:" Google "}),s.jsx("p",{className:"text-muted-foreground",children:"Google  Google "}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[s.jsxs(ae,{variant:"secondary",className:"gap-1",children:[s.jsx(cn,{className:"w-3 h-3"}),""]}),s.jsxs(ae,{variant:"secondary",className:"gap-1",children:[s.jsx(tg,{className:"w-3 h-3"}),""]}),s.jsxs(ae,{variant:"secondary",className:"gap-1",children:[s.jsx(Tt,{className:"w-3 h-3"}),""]})]})]})]})})}),s.jsxs(va,{value:e,onValueChange:t,className:"space-y-6",children:[s.jsxs($i,{className:"grid grid-cols-6 w-full max-w-4xl",children:[s.jsxs(Dt,{value:"oneclick",className:"gap-1",children:[s.jsx(cn,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(Dt,{value:"generate",className:"gap-1",children:[s.jsx(ng,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"AI "})]}),s.jsxs(Dt,{value:"strategy",className:"gap-1",children:[s.jsx(Mi,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(Dt,{value:"article",className:"gap-1",children:[s.jsx(Ur,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(Dt,{value:"linkedin",className:"gap-1",children:[s.jsx(uj,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"LinkedIn"})]}),s.jsxs(Dt,{value:"tips",className:"gap-1",children:[s.jsx(BP,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:""})]})]}),s.jsx(Ut,{value:"oneclick",children:s.jsx(mJe,{})}),s.jsx(Ut,{value:"generate",children:s.jsx(uJe,{})}),s.jsxs(Ut,{value:"strategy",className:"space-y-6",children:[s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(H_e,{className:"w-5 h-5 text-primary"}),""]}),s.jsx(dt,{children:""})]}),s.jsx(Z,{children:s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:fJe.map((a,o)=>s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},children:s.jsx(Y,{className:"h-full hover:shadow-md transition-shadow",children:s.jsxs(Z,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(a.icon,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs(ae,{variant:"outline",className:"mb-1",children:["Step ",o+1]}),s.jsx("h3",{className:"font-semibold text-foreground",children:a.title})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:a.description}),s.jsx("ul",{className:"space-y-2",children:a.tips.map((l,c)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(St,{className:"w-4 h-4 text-primary shrink-0 mt-0.5"}),s.jsx("span",{children:l})]},c))})]})})},a.id))})})]}),s.jsxs(Y,{className:"border-dashed border-primary/30 bg-primary/5",children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg",children:" "})}),s.jsx(Z,{children:s.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-background",children:[s.jsx("p",{className:"text-3xl font-bold text-primary",children:"4+"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"YouTube "})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-background",children:[s.jsx("p",{className:"text-3xl font-bold text-primary",children:"8+"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-background",children:[s.jsx("p",{className:"text-3xl font-bold text-primary",children:"12+"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"LinkedIn "})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-background",children:[s.jsx("p",{className:"text-3xl font-bold text-primary",children:"20+"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})})]})]}),s.jsxs(Ut,{value:"article",className:"space-y-6",children:[s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-5 h-5 text-primary"}),"SEO "]}),s.jsx(dt,{children:" SEO "})]}),s.jsx(Z,{children:s.jsx(gN,{type:"single",collapsible:!0,className:"w-full",children:pJe.map(a=>s.jsxs(N0,{value:a.id,children:[s.jsx(k0,{className:"hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jp,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:a.title})]})}),s.jsx(_0,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>i(a.template,a.id),className:"gap-2",children:[n===a.id?s.jsx(St,{className:"w-4 h-4 text-primary"}):s.jsx(An,{className:"w-4 h-4"}),""]})}),s.jsx("pre",{className:"p-4 bg-muted rounded-lg text-sm overflow-x-auto whitespace-pre-wrap font-mono",children:a.template})]})})]},a.id))})})]}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg",children:" "})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[s.jsxs("h4",{className:"font-medium text-foreground flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-primary"})," "]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:"  2-3 "}),s.jsx("li",{children:" "})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg space-y-2 border-destructive/30 bg-destructive/5",children:[s.jsxs("h4",{className:"font-medium text-foreground flex items-center gap-2",children:[s.jsx("span",{className:"text-destructive",children:""})," "]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:" "})]})]})]}),s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:" "}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",s.jsx("span",{className:"text-destructive underline",children:""}),"",s.jsx("br",{})," ",s.jsx("span",{className:"text-primary underline",children:""}),""]})]})]})]})]}),s.jsx(Ut,{value:"linkedin",className:"space-y-6",children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(uj,{className:"w-5 h-5 text-[#0A66C2]"}),"LinkedIn "]}),s.jsx(dt,{children:"LinkedIn "})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[s.jsx("h4",{className:"font-medium text-foreground",children:" LinkedIn "}),s.jsxs("ol",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold shrink-0",children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"/"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold shrink-0",children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold shrink-0",children:"3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"LinkedIn  =  Google "})]})]})]}),s.jsx(B,{className:"w-full gap-2",asChild:!0,children:s.jsxs("a",{href:"https://www.linkedin.com",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Br,{className:"w-4 h-4"})," LinkedIn "]})})]}),s.jsx(gN,{type:"single",collapsible:!0,className:"w-full",children:gJe.map(a=>s.jsxs(N0,{value:a.id,children:[s.jsx(k0,{className:"hover:no-underline",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uj,{className:"w-4 h-4 text-[#0A66C2]"}),s.jsx("span",{children:a.title})]})}),s.jsx(_0,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>i(a.template,`linkedin-${a.id}`),className:"gap-2",children:[n===`linkedin-${a.id}`?s.jsx(St,{className:"w-4 h-4 text-primary"}):s.jsx(An,{className:"w-4 h-4"}),""]})}),s.jsx("pre",{className:"p-4 bg-muted rounded-lg text-sm overflow-x-auto whitespace-pre-wrap",children:a.template})]})})]},a.id))})]})]})}),s.jsxs(Ut,{value:"tips",className:"space-y-6",children:[s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(BP,{className:"w-5 h-5 text-yellow-500"})," SEO "]})}),s.jsx(Z,{className:"space-y-6",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsx(Y,{className:"bg-muted/50",children:s.jsxs(Z,{className:"pt-6",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(tg,{className:"w-4 h-4 text-primary"}),"1. "]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:""}),s.jsxs("div",{className:"bg-background p-3 rounded-md text-sm font-mono",children:[s.jsx("p",{children:" /services/web-design (40%)"}),s.jsx("p",{children:" /pricing (30%)"}),s.jsx("p",{children:" /portfolio (30%)"})]})]})}),s.jsx(Y,{className:"bg-muted/50",children:s.jsxs(Z,{className:"pt-6",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(Tt,{className:"w-4 h-4 text-primary"}),"2. "]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:""}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(ae,{variant:"outline",children:"LinkedIn"}),s.jsx(ae,{variant:"outline",children:"Medium"}),s.jsx(ae,{variant:"outline",children:"YouTube"}),s.jsx(ae,{variant:"outline",children:"SlideShare"}),s.jsx(ae,{variant:"outline",children:"Quora"}),s.jsx(ae,{variant:"outline",children:"Pinterest"}),s.jsx(ae,{variant:"outline",children:"Tumblr"}),s.jsx(ae,{variant:"outline",children:"Reddit"})]})]})}),s.jsx(Y,{className:"bg-muted/50",children:s.jsxs(Z,{className:"pt-6",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(cn,{className:"w-4 h-4 text-primary"}),"3. "]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:" YouTube "}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"YouTube   "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"   + "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"LinkedIn    + "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"  "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"w-4 h-4 text-primary"}),s.jsx("span",{children:"Pinterest   "})]})]})]})}),s.jsx(Y,{className:"bg-muted/50",children:s.jsxs(Z,{className:"pt-6",children:[s.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(Jp,{className:"w-4 h-4 text-primary"}),"4.  SEOBAIKE "]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:" dofollow "}),s.jsxs(B,{className:"gap-2",children:[s.jsx(oZ,{className:"w-4 h-4"}),"",s.jsx(mt,{className:"w-4 h-4"})]})]})})]})})]}),s.jsx(Y,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:s.jsxs(Z,{className:"pt-6 text-center space-y-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:" "}),s.jsx("p",{className:"text-primary-foreground/90",children:" SEO "}),s.jsxs(B,{variant:"secondary",size:"lg",className:"gap-2",children:[" SEO ",s.jsx(mt,{className:"w-4 h-4"})]})]})})]})]})]})})}const yJe=()=>{const{user:e}=Jt(),[t,n]=x.useState(null),[r,i]=x.useState([]),[a,o]=x.useState([]),[l,c]=x.useState(!0),d=x.useCallback(async()=>{if(!e){n(null),c(!1);return}try{const{data:y,error:v}=await ee.from("ai_bot_subscriptions").select("*").eq("user_id",e.id).eq("status","active").maybeSingle();if(v)throw v;n(y)}catch(y){console.error("Error fetching AI bot subscription:",y)}finally{c(!1)}},[e]),u=x.useCallback(async(y=50)=>{if(t)try{const{data:v,error:b}=await ee.from("ai_bot_messages").select("*").eq("subscription_id",t.id).order("created_at",{ascending:!1}).limit(y);if(b)throw b;i(v||[])}catch(v){console.error("Error fetching AI bot messages:",v)}},[t]),h=x.useCallback(async()=>{if(t)try{const{data:y,error:v}=await ee.from("weekly_seo_reports").select("*").eq("subscription_id",t.id).order("created_at",{ascending:!1}).limit(10);if(v)throw v;o(y||[])}catch(y){console.error("Error fetching SEO reports:",y)}},[t]);return x.useEffect(()=>{d()},[d]),x.useEffect(()=>{t&&(u(),h())},[t,u,h]),{subscription:t,messages:r,reports:a,loading:l,createSubscription:async(y,v)=>{if(!e)return{success:!1,error:""};try{const b='<script src="https://aiforseo.vip/widget/chat.js" data-subscription-id="SUBSCRIPTION_ID"><\/script>',{data:w,error:S}=await ee.from("ai_bot_subscriptions").insert({user_id:e.id,website_domain:y,bot_name:v||"AI ",embed_code:b,status:"trial"}).select().single();if(S)throw S;const j=b.replace("SUBSCRIPTION_ID",w.id);return await ee.from("ai_bot_subscriptions").update({embed_code:j}).eq("id",w.id),n({...w,embed_code:j}),q.success("AI "),{success:!0,subscription:w}}catch(b){return console.error("Error creating subscription:",b),q.error(""),{success:!1,error:b.message}}},updateSettings:async y=>{if(!t)return{success:!1};try{const{error:v}=await ee.from("ai_bot_subscriptions").update(y).eq("id",t.id);if(v)throw v;return n({...t,...y}),q.success(""),{success:!0}}catch(v){return q.error(""),{success:!1,error:v.message}}},cancelSubscription:async()=>{if(!t)return{success:!1};try{const{error:y}=await ee.from("ai_bot_subscriptions").update({status:"cancelled"}).eq("id",t.id);if(y)throw y;return n(null),q.success(""),{success:!0}}catch(y){return q.error(""),{success:!1,error:y.message}}},getStats:()=>t?{messagesThisMonth:t.messages_count_this_month,totalMessages:t.total_messages_count,pointsSpentThisMonth:t.points_spent_this_month,monthlyFee:t.monthly_fee,estimatedMonthlyCost:t.monthly_fee+t.messages_count_this_month,daysUntilBilling:Math.ceil((new Date(t.next_billing_date).getTime()-Date.now())/(1e3*60*60*24))}:null,refetch:d,refetchMessages:u,refetchReports:h}},vJe=()=>{const{subscription:e,messages:t,reports:n,loading:r,createSubscription:i,updateSettings:a,getStats:o}=yJe(),[l,c]=x.useState(""),[d,u]=x.useState("AI "),[h,m]=x.useState(" AI "),[f,p]=x.useState(!1),g=o(),y=async()=>{if(!l){q.error("");return}p(!0),await i(l,d),p(!1)},v=()=>{e!=null&&e.embed_code&&(navigator.clipboard.writeText(e.embed_code),q.success(""))};return r?s.jsx(Yt,{title:"AI ",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):e?s.jsx(Yt,{title:"AI ",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Y,{children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"text-2xl font-bold",children:(g==null?void 0:g.messagesThisMonth)||0})]}),s.jsx(Vr,{className:"h-8 w-8 text-primary/20"})]})})}),s.jsx(Y,{children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsxs("p",{className:"text-2xl font-bold",children:["NT$",(g==null?void 0:g.pointsSpentThisMonth)||0]})]}),s.jsx(cn,{className:"h-8 w-8 text-yellow-500/20"})]})})}),s.jsx(Y,{children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"text-2xl font-bold",children:(g==null?void 0:g.totalMessages)||0})]}),s.jsx(bn,{className:"h-8 w-8 text-green-500/20"})]})})}),s.jsx(Y,{children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsxs("p",{className:"text-2xl font-bold",children:[(g==null?void 0:g.daysUntilBilling)||0," "]})]}),s.jsx(Qp,{className:"h-8 w-8 text-purple-500/20"})]})})})]}),s.jsxs(va,{defaultValue:"embed",className:"space-y-4",children:[s.jsxs($i,{children:[s.jsx(Dt,{value:"embed",children:""}),s.jsx(Dt,{value:"messages",children:""}),s.jsx(Dt,{value:"reports",children:"SEO "}),s.jsx(Dt,{value:"settings",children:""})]}),s.jsx(Ut,{value:"embed",children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsx(me,{children:""}),s.jsx(dt,{children:" </body> "})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("pre",{className:"bg-muted p-4 rounded-lg text-sm overflow-x-auto",children:e.embed_code}),s.jsxs(B,{size:"sm",variant:"secondary",className:"absolute top-2 right-2",onClick:v,children:[s.jsx(An,{className:"h-4 w-4 mr-1"}),""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{variant:e.status==="active"?"default":"secondary",children:e.status==="active"?"":""}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["",e.website_domain]})]})]})]})}),s.jsx(Ut,{value:"messages",children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsx(me,{children:""}),s.jsx(dt,{children:" AI "})]}),s.jsx(Z,{children:t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:""}):s.jsx("div",{className:"space-y-4",children:t.map(b=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ae,{variant:"outline",children:b.visitor_id.slice(0,8)}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(b.created_at).toLocaleString("zh-TW")})]}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium",children:""}),s.jsx("p",{className:"text-sm",children:b.visitor_question})]}),s.jsxs("div",{className:"bg-primary/5 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium",children:"AI"}),s.jsx("p",{className:"text-sm",children:b.bot_response})]}),b.upsell_shown&&b.upsell_shown.length>0&&s.jsx("div",{className:"flex gap-1",children:b.upsell_shown.map(w=>s.jsxs(ae,{variant:"secondary",className:"text-xs",children:["",w]},w))})]},b.id))})})]})}),s.jsx(Ut,{value:"reports",children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsx(me,{children:"SEO "}),s.jsx(dt,{children:" SEO "})]}),s.jsx(Z,{children:n.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:""}):s.jsx("div",{className:"space-y-4",children:n.map(b=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"font-medium",children:[" - ",b.report_week]}),b.sent_at&&s.jsx(ae,{variant:"secondary",children:""})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:b.seo_score||"--"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"SEO "})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:b.page_views||"--"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:b.competitor_new_articles}),s.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})]},b.id))})})]})}),s.jsx(Ut,{value:"settings",children:s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsx(me,{children:""})}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:""}),s.jsx(xe,{value:h,onChange:b=>m(b.target.value),placeholder:e.bot_name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:""}),s.jsx(Yn,{value:e.welcome_message,placeholder:" AI ...",rows:3})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" SEO "})]}),s.jsx(Ai,{checked:e.auto_upsell_enabled,onCheckedChange:b=>a({auto_upsell_enabled:b})})]}),s.jsxs(B,{onClick:()=>a({welcome_message:h}),children:[s.jsx(fa,{className:"h-4 w-4 mr-2"}),""]})]})]})})]})]})}):s.jsx(Yt,{title:"AI ",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs(Y,{className:"border-2 border-primary/20",children:[s.jsxs(ue,{className:"text-center pb-2",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary to-purple-600 rounded-2xl flex items-center justify-center mb-4",children:s.jsx(Do,{className:"h-8 w-8 text-white"})}),s.jsx(me,{className:"text-2xl",children:"AI "}),s.jsx(dt,{children:" AI 24 "})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-purple-500/10 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:""}),s.jsx("span",{className:"text-2xl font-bold text-primary",children:"NT$299/"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"NT$1/"})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{icon:Vr,text:"24 "},{icon:dr,text:" SEO "},{icon:bn,text:" SEO "},{icon:ai,text:""}].map((b,w)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg",children:[s.jsx(b.icon,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm",children:b.text})]},w))}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ee,{children:""}),s.jsx(xe,{placeholder:"example.com",value:l,onChange:b=>c(b.target.value)})]}),s.jsxs("div",{children:[s.jsx(Ee,{children:""}),s.jsx(xe,{placeholder:"AI ",value:d,onChange:b=>u(b.target.value)})]})]}),s.jsx(B,{className:"w-full",size:"lg",onClick:y,disabled:f,children:f?"...":" "}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:""})]})]})})})})},v1=[{key:"companyName",icon:ya,question:"/",placeholder:"",required:!0},{key:"phone",icon:Ya,question:"",placeholder:"02-1234-5678",required:!0},{key:"address",icon:xu,question:"",placeholder:"123",required:!0},{key:"services",icon:C_e,question:"/",placeholder:"",required:!0,multiline:!0},{key:"slogan",icon:Vr,question:" slogan ",placeholder:"",required:!1}],bJe=({template:e,onComplete:t,onBack:n})=>{const[r,i]=x.useState(0),[a,o]=x.useState({companyName:"",phone:"",address:"",services:"",slogan:""}),l=v1[r],c=r===v1.length-1,d=()=>{const p=a[l.key];return!l.required||p.trim().length>0},u=()=>{c?t(a):i(p=>p+1)},h=()=>{r===0?n():i(p=>p-1)},m=p=>{p.key==="Enter"&&!p.shiftKey&&d()&&(p.preventDefault(),u())},f=l.icon;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5 flex items-center justify-center p-4",children:s.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["",e.name]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[r+1," / ",v1.length]})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx(E.div,{className:"h-full bg-primary",initial:{width:0},animate:{width:`${(r+1)/v1.length*100}%`},transition:{duration:.3}})})]}),s.jsx(Y,{className:"border-2 border-primary/20 shadow-xl",children:s.jsx(Z,{className:"p-8",children:s.jsx(He,{mode:"wait",children:s.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(f,{className:"w-6 h-6 text-primary"})}),s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:l.question})]}),l.multiline?s.jsx(Yn,{value:a[l.key],onChange:p=>o(g=>({...g,[l.key]:p.target.value})),placeholder:l.placeholder,className:"text-lg h-32 resize-none",onKeyDown:m,autoFocus:!0}):s.jsx(xe,{value:a[l.key],onChange:p=>o(g=>({...g,[l.key]:p.target.value})),placeholder:l.placeholder,className:"text-lg h-14",onKeyDown:m,autoFocus:!0}),!l.required&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:""})]},r)})})}),s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs(B,{variant:"outline",onClick:h,className:"gap-2",children:[s.jsx(ks,{className:"w-4 h-4"}),r===0?"":""]}),s.jsx(B,{onClick:u,disabled:!d(),className:"gap-2 bg-primary hover:bg-primary/90",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-4 h-4"}),"AI "]}):s.jsxs(s.Fragment,{children:["",s.jsx(mt,{className:"w-4 h-4"})]})})]}),s.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:" Enter "})]})})};var bL="ContextMenu",[wJe,d_t]=Ar(bL,[H_]),hi=H_(),[jJe,lde]=wJe(bL),cde=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:i,modal:a=!0}=e,[o,l]=x.useState(!1),c=hi(t),d=ar(r),u=x.useCallback(h=>{l(h),d(h)},[d]);return s.jsx(jJe,{scope:t,open:o,onOpenChange:u,modal:a,children:s.jsx(jie,{...c,dir:i,open:o,onOpenChange:u,modal:a,children:n})})};cde.displayName=bL;var dde="ContextMenuTrigger",ude=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=e,a=lde(dde,n),o=hi(n),l=x.useRef({x:0,y:0}),c=x.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),d=x.useRef(0),u=x.useCallback(()=>window.clearTimeout(d.current),[]),h=m=>{l.current={x:m.clientX,y:m.clientY},a.onOpenChange(!0)};return x.useEffect(()=>u,[u]),x.useEffect(()=>void(r&&u()),[r,u]),s.jsxs(s.Fragment,{children:[s.jsx(Sie,{...o,virtualRef:c}),s.jsx(De.span,{"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,...i,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:ve(e.onContextMenu,m=>{u(),h(m),m.preventDefault()}),onPointerDown:r?e.onPointerDown:ve(e.onPointerDown,b1(m=>{u(),d.current=window.setTimeout(()=>h(m),700)})),onPointerMove:r?e.onPointerMove:ve(e.onPointerMove,b1(u)),onPointerCancel:r?e.onPointerCancel:ve(e.onPointerCancel,b1(u)),onPointerUp:r?e.onPointerUp:ve(e.onPointerUp,b1(u))})]})});ude.displayName=dde;var SJe="ContextMenuPortal",hde=e=>{const{__scopeContextMenu:t,...n}=e,r=hi(t);return s.jsx(Nie,{...r,...n})};hde.displayName=SJe;var mde="ContextMenuContent",fde=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=lde(mde,n),a=hi(n),o=x.useRef(!1);return s.jsx(kie,{...a,...r,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&o.current&&l.preventDefault(),o.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!i.modal&&(o.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fde.displayName=mde;var NJe="ContextMenuGroup",kJe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=hi(n);return s.jsx(_ie,{...i,...r,ref:t})});kJe.displayName=NJe;var _Je="ContextMenuLabel",pde=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=hi(n);return s.jsx(Cie,{...i,...r,ref:t})});pde.displayName=_Je;var CJe="ContextMenuItem",gde=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=hi(n);return s.jsx(Eie,{...i,...r,ref:t})});gde.displayName=CJe;var EJe="ContextMenuCheckboxItem",xde=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=hi(n);return s.jsx(Tie,{...i,...r,ref:t})});xde.displayName=EJe;var TJe="ContextMenuRadioGroup",AJe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=hi(n);return s.jsx(Aie,{...i,...r,ref:t})});AJe.displayName=TJe;var PJe="ContextMenuRadioItem",yde=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=hi(n);return s.jsx(Pie,{...i,...r,ref:t})});yde.displayName=PJe;var IJe="ContextMenuItemIndicator",vde=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=hi(n);return s.jsx(Iie,{...i,...r,ref:t})});vde.displayName=IJe;var OJe="ContextMenuSeparator",bde=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=hi(n);return s.jsx(Oie,{...i,...r,ref:t})});bde.displayName=OJe;var RJe="ContextMenuArrow",MJe=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=hi(n);return s.jsx(Rie,{...i,...r,ref:t})});MJe.displayName=RJe;var DJe="ContextMenuSubTrigger",wde=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=hi(n);return s.jsx(Mie,{...i,...r,ref:t})});wde.displayName=DJe;var LJe="ContextMenuSubContent",jde=x.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=hi(n);return s.jsx(Die,{...i,...r,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jde.displayName=LJe;function b1(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var $Je=cde,FJe=ude,BJe=hde,Sde=fde,Nde=pde,kde=gde,_de=xde,Cde=yde,Ede=vde,Tde=bde,Ade=wde,Pde=jde;const UJe=$Je,zJe=FJe,VJe=x.forwardRef(({className:e,inset:t,children:n,...r},i)=>s.jsxs(Ade,{ref:i,className:G("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r,children:[n,s.jsx(Ml,{className:"ml-auto h-4 w-4"})]}));VJe.displayName=Ade.displayName;const qJe=x.forwardRef(({className:e,...t},n)=>s.jsx(Pde,{ref:n,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));qJe.displayName=Pde.displayName;const Ide=x.forwardRef(({className:e,...t},n)=>s.jsx(BJe,{children:s.jsx(Sde,{ref:n,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Ide.displayName=Sde.displayName;const XO=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(kde,{ref:r,className:G("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));XO.displayName=kde.displayName;const WJe=x.forwardRef(({className:e,children:t,checked:n,...r},i)=>s.jsxs(_de,{ref:i,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Ede,{children:s.jsx(We,{className:"h-4 w-4"})})}),t]}));WJe.displayName=_de.displayName;const HJe=x.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Cde,{ref:r,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Ede,{children:s.jsx(gM,{className:"h-2 w-2 fill-current"})})}),t]}));HJe.displayName=Cde.displayName;const KJe=x.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(Nde,{ref:r,className:G("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...n}));KJe.displayName=Nde.displayName;const Ode=x.forwardRef(({className:e,...t},n)=>s.jsx(Tde,{ref:n,className:G("-mx-1 my-1 h-px bg-border",e),...t}));Ode.displayName=Tde.displayName;const GJe=[{ext:".com.tw",price:699},{ext:".tw",price:799},{ext:".com",price:599},{ext:".net",price:499},{ext:".org",price:549}],YJe=({isOpen:e,onClose:t,onComplete:n,websiteName:r=""})=>{const[i,a]=x.useState("search"),[o,l]=x.useState(r.toLowerCase().replace(/\s+/g,"")),[c,d]=x.useState(!1),[u,h]=x.useState([]),[m,f]=x.useState(null),[p,g]=x.useState(0),y=[{icon:Tt,label:"...",description:""},{icon:Pm,label:" DNS...",description:" DNS "},{icon:sn,label:" SSL ...",description:" HTTPS "},{icon:Mi,label:"...",description:""}];x.useEffect(()=>{r&&l(r.toLowerCase().replace(/[^a-z0-9]/g,""))},[r]);const v=async()=>{if(!o.trim()){q.error("");return}d(!0),await new Promise(N=>setTimeout(N,1500));const j=GJe.map((N,k)=>({domain:`${o}${N.ext}`,available:Math.random()>.3,price:N.price,popular:k===0}));j.some(N=>N.available)||(j[0].available=!0),h(j),d(!1),a("results")},b=async()=>{if(m){a("processing");for(let j=0;j<y.length;j++)g(j),await new Promise(N=>setTimeout(N,2e3));a("complete")}},w=()=>{m&&n(m.domain),t()},S=()=>{a("search"),h([]),f(null),g(0)};return s.jsx(Xn,{open:e,onOpenChange:j=>!j&&t(),children:s.jsxs(zn,{className:"max-w-lg",children:[s.jsx(Di,{children:s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5 text-primary"}),i==="search"&&"",i==="results"&&"",i==="processing"&&"...",i==="complete"&&""]})}),s.jsxs(He,{mode:"wait",children:[i==="search"&&s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(xe,{value:o,onChange:j=>l(j.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),placeholder:"",className:"pr-20",onKeyDown:j=>j.key==="Enter"&&v()}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:".com.tw"})]}),s.jsx(B,{onClick:v,disabled:c,children:c?s.jsx(Ge,{className:"w-4 h-4 animate-spin"}):""})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:" "}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:" .com.tw "})]})]})]},"search"),i==="results"&&s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:u.map(j=>s.jsxs("div",{onClick:()=>j.available&&f(j),className:`
                      flex items-center justify-between p-3 rounded-lg border transition-all
                      ${j.available?"cursor-pointer hover:border-primary/50":"opacity-50 cursor-not-allowed"}
                      ${(m==null?void 0:m.domain)===j.domain?"border-primary bg-primary/5":"border-border"}
                    `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[j.available?s.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(We,{className:"w-4 h-4 text-green-600"})}):s.jsx("div",{className:"w-6 h-6 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(nr,{className:"w-4 h-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:j.domain}),j.popular&&j.available&&s.jsx("span",{className:"text-xs text-primary",children:" "})]})]}),s.jsx("div",{className:"text-right",children:j.available?s.jsxs("p",{className:"font-bold text-primary",children:["NT$",j.price,"/"]}):s.jsx("p",{className:"text-muted-foreground text-sm",children:""})})]},j.domain))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",onClick:S,className:"flex-1",children:""}),s.jsxs(B,{onClick:b,disabled:!m,className:"flex-1 gap-2",children:["",s.jsx(mt,{className:"w-4 h-4"})]})]}),m&&s.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:""}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(We,{className:"w-4 h-4 text-green-600"})," DNS "]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(We,{className:"w-4 h-4 text-green-600"})," SSL "]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(We,{className:"w-4 h-4 text-green-600"}),"2 "]})]})]})]},"results"),i==="processing"&&s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"py-8",children:s.jsx("div",{className:"space-y-4",children:y.map((j,N)=>{const k=j.icon,_=N===p,C=N<p;return s.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg transition-all ${_?"bg-primary/5 border border-primary/20":""}`,children:[s.jsx("div",{className:`
                        w-10 h-10 rounded-full flex items-center justify-center
                        ${C?"bg-green-100":_?"bg-primary/10":"bg-muted"}
                      `,children:C?s.jsx(We,{className:"w-5 h-5 text-green-600"}):_?s.jsx(Ge,{className:"w-5 h-5 text-primary animate-spin"}):s.jsx(k,{className:"w-5 h-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:`font-medium ${_?"text-primary":C?"text-green-600":"text-muted-foreground"}`,children:j.label}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j.description})]})]},N)})})},"processing"),i==="complete"&&s.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"py-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-6",children:s.jsx(Ye,{className:"w-10 h-10 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground mb-6",children:" 2 "}),s.jsx(Y,{className:"mb-6",children:s.jsxs(Z,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"font-bold text-primary",children:m==null?void 0:m.domain})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Pn,{className:"w-4 h-4"}),"2 "]})]})]})}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["",s.jsx("br",{})," Email "]}),s.jsxs(B,{onClick:w,className:"w-full gap-2",children:[s.jsx(We,{className:"w-4 h-4"}),""]})]},"complete")]})]})})};function XJe({selectedElement:e,lastAction:t,onEdit:n,onStyleChange:r,onDelete:i,onCancel:a,isListening:o=!1,lastVoiceTranscript:l}){const[c,d]=x.useState(""),[u,h]=x.useState(!1);if(x.useEffect(()=>{e&&d(e.currentContent)},[e]),!e)return null;const m=()=>{n(c),h(!1)},f=[{name:"",value:"#ef4444"},{name:"",value:"#3b82f6"},{name:"",value:"#22c55e"},{name:"",value:"#a855f7"},{name:"",value:"#f97316"},{name:"",value:"#000000"}];return s.jsxs(He,{children:[s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed pointer-events-none z-40",style:{left:e.rect.left-4,top:e.rect.top-4,width:e.rect.width+8,height:e.rect.height+8,border:"3px solid hsl(var(--primary))",borderRadius:"8px",boxShadow:"0 0 20px hsl(var(--primary) / 0.3)"},children:s.jsxs("div",{className:"absolute -top-7 left-0 bg-primary text-primary-foreground px-2 py-0.5 rounded text-xs font-medium",children:[e.type==="text"&&"",e.type==="image"&&"",e.type==="button"&&"",e.type==="section"&&""]})}),s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"fixed z-50",style:{left:Math.max(16,e.rect.left),top:Math.min(e.rect.bottom+12,window.innerHeight-200)},children:s.jsxs(Y,{className:"p-3 shadow-xl border-primary/30 w-72",children:[o&&s.jsxs("div",{className:"flex items-center gap-2 mb-3 p-2 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[s.jsx(ma,{className:"w-4 h-4 text-red-500 animate-pulse"}),s.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"..."})]}),l&&s.jsxs("div",{className:"flex items-center gap-2 mb-3 p-2 bg-muted rounded-lg",children:[s.jsx(Hh,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm text-muted-foreground truncate",children:['"',l,'"']})]}),u?s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:":"}),s.jsx(xe,{value:c,onChange:p=>d(p.target.value),className:"text-sm",autoFocus:!0,onKeyDown:p=>{p.key==="Enter"&&m(),p.key==="Escape"&&h(!1)}})]}):s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:":"}),s.jsx("p",{className:"text-sm font-medium line-clamp-2 bg-muted p-2 rounded",children:e.currentContent||"()"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[u?s.jsxs(s.Fragment,{children:[s.jsxs(B,{size:"sm",className:"gap-1",onClick:m,children:[s.jsx(We,{className:"w-3 h-3"}),""]}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>h(!1),children:s.jsx(nr,{className:"w-3 h-3"})})]}):s.jsxs(B,{size:"sm",variant:"outline",className:"gap-1",onClick:()=>h(!0),children:[s.jsx(m_,{className:"w-3 h-3"}),""]}),s.jsxs(B,{size:"sm",variant:"outline",className:"gap-1 text-destructive hover:text-destructive",onClick:i,children:[s.jsx(Vb,{className:"w-3 h-3"}),""]}),s.jsx(B,{size:"sm",variant:"ghost",onClick:a,children:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:":"}),s.jsx("div",{className:"flex gap-1.5",children:f.map(p=>s.jsx("button",{className:"w-6 h-6 rounded-full border-2 border-white shadow-md transition-transform hover:scale-110",style:{backgroundColor:p.value},onClick:()=>r({color:p.value}),title:p.name},p.value))})]}),s.jsx("div",{className:"mt-3 pt-3 border-t",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"  xxx"})})]})})]})}function JJe(e={}){const[t,n]=x.useState({selectedElement:null,pendingEdits:[],lastAction:null,highlightedElements:[]}),r=x.useRef(null);x.useRef([]);const i=x.useCallback(m=>{r.current=m},[]),a=x.useCallback(()=>{if(!r.current)return[];const m=["h1, h2, h3, h4, h5, h6","p","span[data-editable]","button","a","img",'[data-editable="true"]'],f=[];return r.current.querySelectorAll(m.join(", ")).forEach((g,y)=>{const v=g,b=v.getBoundingClientRect();let w="text";g.tagName==="IMG"&&(w="image"),(g.tagName==="BUTTON"||g.tagName==="A")&&(w="button"),(g.tagName==="SECTION"||g.tagName==="DIV")&&(w="section"),f.push({id:v.id||`editable-${y}`,selector:o(v),type:w,currentContent:v.innerText||v.getAttribute("src")||"",rect:b})}),f},[]);function o(m){if(m.id)return`#${m.id}`;const f=[];let p=m;for(;p&&p!==document.body;){let g=p.tagName.toLowerCase();if(p.className){const y=p.className.split(" ").filter(v=>v&&!v.startsWith("hover:"));y.length>0&&(g+=`.${y.slice(0,2).join(".")}`)}f.unshift(g),p=p.parentElement}return f.join(" > ")}const l=x.useCallback(m=>{const f=m.toLowerCase();if(f.includes("")||f.includes("")||f.includes("")){const p=m.match(/(?:||)[]?(.+?)[]?$/);if(p)return{type:"edit",payload:{newContent:p[1].trim()}}}if(f.includes("")&&(f.includes("")||f.includes(""))){const p=m.match(/(?:||)[]?(.+?)[]?$/);if(p)return{type:"edit",elementId:"title",payload:{newContent:p[1].trim(),targetType:"title"}}}if(f.includes("")||f.includes("")){const p={:"#ef4444",:"#3b82f6",:"#22c55e",:"#eab308",:"#a855f7",:"#000000",:"#ffffff",:"#6b7280",:"#f97316",:"#ec4899"};for(const[g,y]of Object.entries(p))if(f.includes(g))return{type:"style",payload:{[f.includes("")?"backgroundColor":"color"]:y}}}if(f.includes("")||f.includes(""))return{type:"save"};if(f.includes("")||f.includes("")||f.includes("undo"))return{type:"undo"};if(f.includes("")||f.includes("redo"))return{type:"redo"};if(f.includes("")||f.includes("")){if(f.includes(""))return{type:"select",elementId:"title"};if(f.includes(""))return{type:"select",elementId:"button"};if(f.includes(""))return{type:"select",elementId:"image"}}return f.includes("")||f.includes("")?{type:"delete"}:null},[]),c=x.useCallback(m=>{var p;const f=m.payload;switch(m.command_type){case"voice_command":{const g=f.transcript;if(!g)return;const y=l(g);y?d(y):q.info(`: "${g}"`,{description:""});break}case"edit_element":{const g=f.selector,y=f.action,v=f.value;if(y==="input"&&g&&v){const w=a().find(S=>S.selector.includes(g));w&&e.onEdit&&(e.onEdit(w,v),q.success(`: ${v.substring(0,20)}...`))}break}case"keyboard_hotkey":{const g=f.keys;g!=null&&g.includes("ctrl")&&(g!=null&&g.includes("s"))?d({type:"save"}):g!=null&&g.includes("ctrl")&&(g!=null&&g.includes("z"))?d({type:"undo"}):g!=null&&g.includes("ctrl")&&(g!=null&&g.includes("y"))&&d({type:"redo"});break}case"mouse_click":{const g=f.x,y=f.y;if(g!==void 0&&y!==void 0){const v=document.elementFromPoint(g,y);if(v){const w=a().find(S=>document.querySelector(S.selector)===v);w&&(n(S=>({...S,selectedElement:w})),(p=e.onSelect)==null||p.call(e,w),q.info(`: ${w.currentContent.substring(0,20)}...`))}}break}}},[l,a,e]),d=x.useCallback(m=>{var f,p,g,y,v,b,w,S,j;switch(n(N=>({...N,lastAction:m,pendingEdits:[...N.pendingEdits,m]})),m.type){case"save":(f=e.onSave)==null||f.call(e),q.success("");break;case"undo":(p=e.onUndo)==null||p.call(e),q.info("");break;case"redo":(g=e.onRedo)==null||g.call(e),q.info("");break;case"edit":if(t.selectedElement&&((y=m.payload)!=null&&y.newContent))(v=e.onEdit)==null||v.call(e,t.selectedElement,m.payload.newContent),q.success("");else if(((b=m.payload)==null?void 0:b.targetType)==="title"){const k=a().find(_=>_.selector.includes("h1")||_.selector.includes("h2"));k&&m.payload.newContent&&((w=e.onEdit)==null||w.call(e,k,m.payload.newContent),q.success(""))}break;case"style":t.selectedElement&&m.payload&&((S=e.onStyleChange)==null||S.call(e,t.selectedElement,m.payload),q.success(""));break;case"select":if(m.elementId){const N=a();let k;m.elementId==="title"?k=N.find(_=>_.selector.includes("h1")||_.selector.includes("h2")):m.elementId==="button"?k=N.find(_=>_.type==="button"):m.elementId==="image"&&(k=N.find(_=>_.type==="image")),k&&(n(_=>({..._,selectedElement:k||null})),(j=e.onSelect)==null||j.call(e,k),u(k.selector))}break;case"delete":if(t.selectedElement){const N=document.querySelector(t.selectedElement.selector);N&&(N.remove(),n(k=>({...k,selectedElement:null})),q.success(""))}break}},[t.selectedElement,e,a]),u=x.useCallback(m=>{const f=document.querySelector(m);f&&(f.style.outline="3px solid hsl(var(--primary))",f.style.outlineOffset="2px",f.style.transition="outline 0.2s ease",n(p=>({...p,highlightedElements:[...p.highlightedElements,m]})),setTimeout(()=>{f.style.outline="",f.style.outlineOffset="",n(p=>({...p,highlightedElements:p.highlightedElements.filter(g=>g!==m)}))},3e3))},[]),h=x.useCallback(()=>{n(m=>({...m,selectedElement:null,highlightedElements:[]}))},[]);return{state:t,selectedElement:t.selectedElement,lastAction:t.lastAction,setEditorContainer:i,scanEditableElements:a,processRemoteCommand:c,executeAction:d,parseVoiceIntent:l,highlightElement:u,clearSelection:h}}const vV=[{type:"text",points:5,label:"",icon:m_},{type:"color",points:3,label:"",icon:Ac},{type:"move",points:5,label:"",icon:Z_e},{type:"delete",points:3,label:"",icon:Vb},{type:"add",points:5,label:"",icon:lm},{type:"link",points:3,label:"",icon:Qd}],QJe=({websiteContent:e,onSave:t,pointsBalance:n,onDeductPoints:r,websiteName:i=""})=>{var M,F;const[a,o]=x.useState(null),[l,c]=x.useState(!1),[d,u]=x.useState(""),[h,m]=x.useState(""),[f,p]=x.useState(!1),[g,y]=x.useState(!1),[v,b]=x.useState(!1),[w,S]=x.useState(""),j=x.useRef(null),{sessionId:N,subscribeToCommands:k}=z_(),{state:_,setEditorContainer:C,processRemoteCommand:T,clearSelection:A}=JJe({onEdit:async(O,L)=>{if(await r(5,`: ${L.substring(0,20)}...`)){const z=document.querySelector(O.selector);z&&(z.innerText=L)}},onStyleChange:async(O,L)=>{if(await r(3,"")){const z=document.querySelector(O.selector);z&&Object.assign(z.style,L)}},onSave:t});x.useEffect(()=>{j.current&&C(j.current)},[C]),x.useEffect(()=>{if(!N)return;const O=k(L=>{if(T(L),L.command_type==="voice_command"){const I=L.payload;I.transcript&&S(I.transcript)}});return()=>{O&&O()}},[N,k,T]);const P=x.useCallback(()=>{const O=window.getSelection();if(O&&O.toString().trim()){const L=O.toString(),z=O.getRangeAt(0).getBoundingClientRect();o({text:L,rect:z}),u(L),c(!0)}},[]);x.useEffect(()=>{const O=L=>{L.ctrlKey&&L.key==="s"&&(L.preventDefault(),t(),q.success("")),L.key==="Escape"&&(c(!1),o(null),p(!1)),L.ctrlKey&&L.key==="v"&&a&&(L.preventDefault(),navigator.clipboard.readText().then(I=>{u(I)}))};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[t,a]);const R=async O=>{if(n<O.points){q.error(` ${O.points}  ${n} `);return}y(!0);try{await r(O.points,`${O.label}${d.substring(0,20)}...`)&&(q.success(`${O.label} ${O.points} `),c(!1),o(null))}catch{q.error("")}finally{y(!1)}},D=async()=>{if(!h.trim())return;const O=5;if(n<O){q.error(` ${O} `);return}y(!0);try{await r(O,`AI ${h.substring(0,30)}...`)&&(q.success("AI "),p(!1),m(""))}catch{q.error("")}finally{y(!1)}},$=O=>{q.success(` ${O} 2 `),b(!1)};return s.jsxs("div",{className:"relative min-h-screen bg-muted/30",children:[s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-background border-b shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-14 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),s.jsx("span",{className:"font-medium",children:" "})]}),s.jsx("div",{className:"h-6 w-px bg-border"}),s.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-muted rounded-full",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:""}),s.jsx("span",{className:"font-bold text-primary",children:n})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{variant:"ghost",size:"sm",className:"gap-1",children:[s.jsx(Ga,{className:"w-4 h-4"}),""]}),s.jsxs(B,{variant:"outline",size:"sm",onClick:t,className:"gap-1",children:[s.jsx(zb,{className:"w-4 h-4"}),""]}),s.jsx(B,{size:"sm",className:"gap-1 bg-gradient-to-r from-primary to-primary/80",onClick:()=>b(!0),children:" NT$8,888"})]})]})}),s.jsx("div",{className:"pt-14 pb-28",children:s.jsxs(UJe,{children:[s.jsx(zJe,{asChild:!0,children:s.jsx("div",{ref:j,className:"max-w-4xl mx-auto p-6",onMouseUp:P,children:s.jsxs("div",{className:"bg-background rounded-2xl shadow-xl border overflow-hidden",children:[s.jsxs("div",{className:"bg-muted/50 border-b px-4 py-2 flex items-center gap-2",children:[s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),s.jsx("div",{className:"flex-1 mx-4",children:s.jsx("div",{className:"bg-background rounded-md px-3 py-1 text-sm text-muted-foreground text-center",children:"preview.seobaike.com"})})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"text-center mb-8 p-4 rounded-lg hover:bg-muted/50 hover:ring-2 hover:ring-primary/30 transition-all cursor-text group relative",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1 opacity-0 group-hover:opacity-100 transition-opacity",children:" "}),s.jsx("h1",{className:"text-2xl font-bold",children:" "})]}),s.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/80 rounded-xl p-12 mb-8 text-white text-center hover:ring-2 hover:ring-primary/50 hover:ring-offset-2 transition-all cursor-text group relative",children:[s.jsx("p",{className:"text-xs opacity-0 group-hover:opacity-75 transition-opacity mb-2",children:" "}),s.jsx("h2",{className:"text-3xl font-bold mb-4",children:""}),s.jsx("p",{className:"text-lg opacity-90",children:""})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:["","",""].map((O,L)=>s.jsxs("div",{className:"bg-card border rounded-xl p-6 hover:ring-2 hover:ring-primary/30 hover:ring-offset-2 transition-all cursor-text group",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2 opacity-0 group-hover:opacity-100 transition-opacity",children:" "}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:O}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:["",O,""]})]},L))}),s.jsxs("div",{className:"bg-muted rounded-xl p-8 text-center hover:ring-2 hover:ring-primary/30 transition-all cursor-text group",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2 opacity-0 group-hover:opacity-100 transition-opacity",children:" "}),s.jsx("h3",{className:"text-xl font-bold mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground",children:" 02-1234-5678"}),s.jsx("p",{className:"text-muted-foreground",children:"  123 "})]})]})]})})}),s.jsxs(Ide,{className:"w-56",children:[vV.map(O=>s.jsxs(XO,{onClick:()=>R(O),className:"gap-2 cursor-pointer",children:[s.jsx(O.icon,{className:"w-4 h-4"}),O.label,s.jsxs("span",{className:"ml-auto text-xs text-muted-foreground",children:[O.points,""]})]},O.type)),s.jsx(Ode,{}),s.jsxs(XO,{onClick:()=>p(!0),className:"gap-2 cursor-pointer",children:[s.jsx(Vr,{className:"w-4 h-4"})," AI ..."]})]})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t shadow-lg z-50",children:s.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vr,{className:"w-5 h-5 text-primary shrink-0"}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(xe,{value:h,onChange:O=>m(O.target.value),placeholder:"  AI...",className:"pr-24",onKeyDown:O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),D())}}),s.jsxs(B,{size:"sm",onClick:D,disabled:!h.trim()||g,className:"absolute right-1 top-1/2 -translate-y-1/2 gap-1",children:["",s.jsx("span",{className:"text-xs opacity-75",children:"5"})]})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:" | Ctrl+S  | Esc "})]})}),s.jsx(He,{children:l&&a&&s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"fixed z-50",style:{top:Math.min((((M=a.rect)==null?void 0:M.bottom)||200)+10,window.innerHeight-200),left:Math.max(16,Math.min(((F=a.rect)==null?void 0:F.left)||0,window.innerWidth-340))},children:s.jsx(Y,{className:"w-80 shadow-xl border-primary/30",children:s.jsxs(Z,{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:" "}),s.jsx(B,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>c(!1),children:s.jsx(nr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"bg-muted p-2 rounded text-sm line-clamp-2",children:["",a.text,""]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),s.jsx(xe,{value:d,onChange:O=>u(O.target.value),placeholder:"...",autoFocus:!0})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"  AI"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>c(!1),children:""}),s.jsxs(B,{size:"sm",className:"flex-1 gap-1",onClick:()=>R(vV[0]),disabled:g,children:[s.jsx(We,{className:"w-4 h-4"}),"",s.jsx("span",{className:"text-xs opacity-75",children:"5"})]})]})]})})})}),s.jsx(YJe,{isOpen:v,onClose:()=>b(!1),onComplete:$,websiteName:i}),s.jsx(XJe,{selectedElement:_.selectedElement,lastAction:_.lastAction,lastVoiceTranscript:w,onEdit:async O=>{if(_.selectedElement&&await r(5,`: ${O.substring(0,20)}...`)){const I=document.querySelector(_.selectedElement.selector);I&&(I.innerText=O)}},onStyleChange:async O=>{if(_.selectedElement&&await r(3,"")){const I=document.querySelector(_.selectedElement.selector);I&&Object.assign(I.style,O)}},onDelete:async()=>{if(_.selectedElement&&await r(3,"")){const L=document.querySelector(_.selectedElement.selector);L&&(L.remove(),A())}},onCancel:A})]})};function w1({className:e,...t}){return s.jsx("div",{className:G("animate-pulse rounded-md bg-muted",e),...t})}const ZJe=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState(null),o=async()=>{try{r(!0);const{data:d,error:u}=await ee.from("templates").select("*").eq("is_active",!0).order("is_popular",{ascending:!1}).order("seo_score",{ascending:!1});if(u)throw u;const h=(d||[]).map(m=>({...m,features:typeof m.features=="string"?JSON.parse(m.features):m.features||[]}));t(h)}catch(d){console.error("Error fetching templates:",d),a(d instanceof Error?d.message:"")}finally{r(!1)}},l=()=>{const d={:{count:0,icon:""},:{count:0,icon:""},:{count:0,icon:""},:{count:0,icon:""},:{count:0,icon:""},:{count:0,icon:""},:{count:0,icon:""},:{count:0,icon:""},:{count:0,icon:""},:{count:0,icon:""}};return e.forEach(u=>{d[u.category]&&d[u.category].count++}),Object.entries(d).map(([u,h])=>({name:u,count:h.count,icon:h.icon}))},c=(d,u)=>e.filter(h=>{const m=!d||h.category===d,f=!u||h.name.toLowerCase().includes(u.toLowerCase())||h.category.toLowerCase().includes(u.toLowerCase())||h.subcategory&&h.subcategory.toLowerCase().includes(u.toLowerCase());return m&&f});return x.useEffect(()=>{o()},[]),{templates:e,loading:n,error:i,getCategories:l,filterTemplates:c,refetch:o}},eQe=({onSelectTemplate:e})=>{const{templates:t,loading:n,getCategories:r,filterTemplates:i}=ZJe(),[a,o]=x.useState(null),[l,c]=x.useState(""),d=r(),u=i(a||void 0,l);return n?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(w1,{className:"h-12 w-64 mb-4"}),s.jsx(w1,{className:"h-10 w-full max-w-md mb-8"}),s.jsx("div",{className:"flex gap-2 mb-8",children:[...Array(6)].map((h,m)=>s.jsx(w1,{className:"h-10 w-24"},m))}),s.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((h,m)=>s.jsx(w1,{className:"aspect-[4/3] rounded-xl"},m))})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary mb-4",children:[s.jsx(Ye,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:""})]}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:" "}),s.jsx("p",{className:"text-muted-foreground text-lg",children:" SEO 90+ Lighthouse  90+"})]}),s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-md mx-auto mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx(fn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(xe,{value:l,onChange:h=>c(h.target.value),placeholder:"...",className:"pl-10 h-12 text-lg"})]})}),s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-wrap justify-center gap-2 mb-8",children:[s.jsxs(B,{variant:a===null?"default":"outline",onClick:()=>o(null),className:"gap-2",children:["",s.jsx(ae,{variant:"secondary",className:"ml-1",children:t.length})]}),d.map(h=>s.jsxs(B,{variant:a===h.name?"default":"outline",onClick:()=>o(h.name),className:"gap-2",children:[s.jsx("span",{children:h.icon}),h.name,s.jsx(ae,{variant:"secondary",className:"ml-1",children:h.count})]},h.name))]}),s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"grid md:grid-cols-3 lg:grid-cols-4 gap-6",children:u.map((h,m)=>{var f;return s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.05},className:"group relative bg-card rounded-xl overflow-hidden border border-border hover:border-primary/30 transition-all duration-300 shadow-sm hover:shadow-lg",children:[s.jsxs("div",{className:"relative aspect-[4/3] bg-gradient-to-br from-muted to-muted/50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-6xl",children:((f=r().find(p=>p.name===h.category))==null?void 0:f.icon)||""}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs(ae,{className:"bg-green-500 hover:bg-green-600 text-white gap-1 shadow-md",children:[s.jsx(St,{className:"w-3 h-3"}),"SEO ",h.seo_score,"+"]})}),h.is_popular&&s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(ae,{className:"bg-amber-500 hover:bg-amber-600 text-white shadow-md",children:" "})}),s.jsx("div",{className:"absolute inset-x-4 bottom-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx(E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsx(B,{onClick:()=>e(h),className:"w-full bg-primary hover:bg-primary/90 text-white shadow-lg",children:""})})})]}),s.jsxs("div",{className:"p-4 bg-card",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-1",children:h.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.category,"  ",h.subcategory]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[h.features.slice(0,3).map((p,g)=>s.jsx(ae,{variant:"outline",className:"text-xs",children:p},g)),h.features.length>3&&s.jsxs(ae,{variant:"outline",className:"text-xs",children:["+",h.features.length-3]})]})]})]},h.id)})}),u.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("p",{className:"text-muted-foreground text-lg",children:""}),s.jsx(B,{variant:"link",onClick:()=>{o(null),c("")},children:""})]})]})})},j1=[{icon:Ur,label:"",duration:800},{icon:Ye,label:"",duration:600},{icon:fn,label:" SEO Meta ",duration:700},{icon:Ac,label:"",duration:500}],tQe=({isGenerating:e,templateName:t,companyName:n,onComplete:r})=>{const[i,a]=x.useState(0),[o,l]=x.useState(0);return x.useEffect(()=>{if(!e){a(0),l(0);return}let c=0;const d=j1.reduce((h,m)=>h+m.duration,0),u=[];return j1.forEach((h,m)=>{c+=h.duration,u.push(setTimeout(()=>{a(m+1),l((m+1)/j1.length*100)},c))}),u.push(setTimeout(()=>{r()},d+300)),()=>{u.forEach(clearTimeout)}},[e,r]),e?s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-background/95 backdrop-blur-sm flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full px-6",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:s.jsx(Ye,{className:"w-10 h-10 text-primary"})})}),s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"AI "}),s.jsxs("p",{className:"text-muted-foreground",children:["",t,"",n,""]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx(Uu,{value:o,className:"h-2 mb-4"}),s.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[Math.round(o),"% "]})]}),s.jsx("div",{className:"space-y-3",children:j1.map((c,d)=>{const u=i>d,h=i===d,m=c.icon;return s.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.1},className:`
                  flex items-center gap-3 p-3 rounded-lg transition-colors
                  ${u?"bg-green-500/10":h?"bg-primary/10":"bg-muted/50"}
                `,children:[s.jsx("div",{className:`
                  w-8 h-8 rounded-full flex items-center justify-center
                  ${u?"bg-green-500 text-white":h?"bg-primary text-white":"bg-muted text-muted-foreground"}
                `,children:u?s.jsx(St,{className:"w-5 h-5"}):h?s.jsx(Ge,{className:"w-5 h-5 animate-spin"}):s.jsx(m,{className:"w-4 h-4"})}),s.jsx("span",{className:`
                  font-medium
                  ${u?"text-green-600":h?"text-primary":"text-muted-foreground"}
                `,children:c.label})]},d)})}),s.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center text-xs text-muted-foreground mt-8",children:"  AI  90+ SEO "})]})}):null};function nQe({position:e="bottom-right",onCommandReceived:t}){const[n,r]=x.useState(!1),[i,a]=x.useState([]),[o,l]=x.useState(null),{sessionId:c,isConnected:d,generateSessionId:u,getQRCodeData:h,subscribeToCommands:m}=z_();x.useEffect(()=>{n&&!c&&u()},[n,c,u]),x.useEffect(()=>{if(!c||!n)return;const g=m(y=>{if(a(v=>[y,...v].slice(0,20)),y.command_type==="voice_command"){const v=y.payload;v.transcript&&(l(v.transcript),q.info(` : "${v.transcript}"`))}else q.info(`: ${y.command_type}`);t==null||t(y)});return()=>{g&&g()}},[c,n,m]);const f=h(),p=e==="bottom-right"?"right-4 bottom-20":"left-4 bottom-20";return s.jsxs(s.Fragment,{children:[s.jsxs(E.div,{className:`fixed ${p} z-50`,initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},children:[s.jsx(B,{size:"lg",className:`rounded-full w-14 h-14 shadow-lg ${d?"bg-green-500 hover:bg-green-600":"bg-primary hover:bg-primary/90"}`,onClick:()=>r(!0),children:d?s.jsx(nx,{className:"w-6 h-6"}):s.jsx(ii,{className:"w-6 h-6"})}),d&&s.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full animate-ping"}),s.jsx(He,{children:o&&d&&s.jsx(E.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"absolute right-full mr-3 top-1/2 -translate-y-1/2 bg-background border rounded-lg shadow-lg p-2 max-w-48",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ma,{className:"w-4 h-4 text-primary shrink-0"}),s.jsxs("p",{className:"text-xs truncate",children:['"',o,'"']})]})})})]}),s.jsx(He,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50",onClick:()=>r(!1)}),s.jsx(E.div,{initial:{opacity:0,y:100,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.9},className:`fixed ${e==="bottom-right"?"right-4":"left-4"} bottom-4 z-50 w-80`,children:s.jsxs(Y,{className:"overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-primary/10 to-purple-500/10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"font-semibold",children:" AI "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{variant:d?"default":"secondary",className:d?"bg-green-500":"",children:d?"":""}),s.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r(!1),children:s.jsx(nr,{className:"w-4 h-4"})})]})]}),s.jsxs(va,{defaultValue:"qrcode",className:"w-full",children:[s.jsxs($i,{className:"w-full grid grid-cols-2",children:[s.jsxs(Dt,{value:"qrcode",className:"gap-2",children:[s.jsx(yu,{className:"w-4 h-4"}),"QR Code"]}),s.jsxs(Dt,{value:"logs",className:"gap-2",children:[s.jsx(Xv,{className:"w-4 h-4"}),""]})]}),s.jsx(Ut,{value:"qrcode",className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" QR Code "}),f!=null&&f.url?s.jsx("div",{className:"bg-white p-3 rounded-xl inline-block shadow-lg mb-4",children:s.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(f.url)}`,alt:"QR Code",className:"w-44 h-44"})}):s.jsx("div",{className:"w-44 h-44 bg-muted rounded-xl mx-auto flex items-center justify-center mb-4",children:s.jsx(yu,{className:"w-12 h-12 text-muted-foreground animate-pulse"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>{u(),q.success("")},children:""})]})}),s.jsx(Ut,{value:"logs",className:"p-0",children:s.jsx(xl,{className:"h-64",children:i.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground p-8",children:[s.jsx(Xv,{className:"w-8 h-8 mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:""})]}):s.jsx("div",{className:"p-2 space-y-2",children:i.map(g=>s.jsxs("div",{className:"p-2 bg-muted/50 rounded text-xs",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx(ae,{variant:"outline",className:"text-[10px]",children:g.command_type}),s.jsx("span",{className:"text-muted-foreground",children:new Date(g.created_at).toLocaleTimeString("zh-TW")})]}),s.jsx("p",{className:"text-muted-foreground truncate",children:JSON.stringify(g.payload)})]},g.id))})})})]})]})})]})})]})}const rQe=()=>{const e=xn(),{merchant:t,refreshPoints:n}=Za(),[r,i]=x.useState("templates"),[a,o]=x.useState(null),[l,c]=x.useState(null),d=g=>{o(g),i("onboarding")},u=async g=>{c(g),i("generating")},h=()=>{i("editing"),q.success("")},m=()=>{o(null),i("templates")},f=()=>{q.success("")},p=x.useCallback(async(g,y)=>{if(!t)return q.error(""),!1;if(t.points_balance<g)return q.error(` ${g}  ${t.points_balance} `),e("/merchant/topup"),!1;try{const v=t.points_balance-g,{error:b}=await ee.from("merchants").update({points_balance:v}).eq("id",t.id);if(b)throw b;return await ee.from("merchant_point_transactions").insert({merchant_id:t.id,amount:-g,type:"deduct",reason:y,balance_after:v}),await n(),!0}catch(v){return console.error("Failed to deduct points:",v),q.error(""),!1}},[t,e,n]);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(He,{mode:"wait",children:[r==="templates"&&s.jsx(eQe,{onSelectTemplate:d},"templates"),r==="onboarding"&&a&&s.jsx(bJe,{template:a,onComplete:u,onBack:m},"onboarding"),r==="editing"&&s.jsx(QJe,{onSave:f,pointsBalance:(t==null?void 0:t.points_balance)||0,onDeductPoints:p},"editing")]}),s.jsx(tQe,{isGenerating:r==="generating",templateName:(a==null?void 0:a.name)||"",companyName:(l==null?void 0:l.companyName)||"",onComplete:h}),r==="editing"&&s.jsx(nQe,{})]})};var sQe=Array.isArray,Bi=sQe,iQe=typeof Ad=="object"&&Ad&&Ad.Object===Object&&Ad,Rde=iQe,aQe=Rde,oQe=typeof self=="object"&&self&&self.Object===Object&&self,lQe=aQe||oQe||Function("return this")(),Ul=lQe,cQe=Ul,dQe=cQe.Symbol,iw=dQe,bV=iw,Mde=Object.prototype,uQe=Mde.hasOwnProperty,hQe=Mde.toString,cy=bV?bV.toStringTag:void 0;function mQe(e){var t=uQe.call(e,cy),n=e[cy];try{e[cy]=void 0;var r=!0}catch{}var i=hQe.call(e);return r&&(t?e[cy]=n:delete e[cy]),i}var fQe=mQe,pQe=Object.prototype,gQe=pQe.toString;function xQe(e){return gQe.call(e)}var yQe=xQe,wV=iw,vQe=fQe,bQe=yQe,wQe="[object Null]",jQe="[object Undefined]",jV=wV?wV.toStringTag:void 0;function SQe(e){return e==null?e===void 0?jQe:wQe:jV&&jV in Object(e)?vQe(e):bQe(e)}var qc=SQe;function NQe(e){return e!=null&&typeof e=="object"}var Wc=NQe,kQe=qc,_Qe=Wc,CQe="[object Symbol]";function EQe(e){return typeof e=="symbol"||_Qe(e)&&kQe(e)==CQe}var yx=EQe,TQe=Bi,AQe=yx,PQe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,IQe=/^\w*$/;function OQe(e,t){if(TQe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||AQe(e)?!0:IQe.test(e)||!PQe.test(e)||t!=null&&e in Object(t)}var wL=OQe;function RQe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qu=RQe;const vx=un(qu);var MQe=qc,DQe=qu,LQe="[object AsyncFunction]",$Qe="[object Function]",FQe="[object GeneratorFunction]",BQe="[object Proxy]";function UQe(e){if(!DQe(e))return!1;var t=MQe(e);return t==$Qe||t==FQe||t==LQe||t==BQe}var jL=UQe;const xt=un(jL);var zQe=Ul,VQe=zQe["__core-js_shared__"],qQe=VQe,O2=qQe,SV=function(){var e=/[^.]+$/.exec(O2&&O2.keys&&O2.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function WQe(e){return!!SV&&SV in e}var HQe=WQe,KQe=Function.prototype,GQe=KQe.toString;function YQe(e){if(e!=null){try{return GQe.call(e)}catch{}try{return e+""}catch{}}return""}var Dde=YQe,XQe=jL,JQe=HQe,QQe=qu,ZQe=Dde,eZe=/[\\^$.*+?()[\]{}|]/g,tZe=/^\[object .+?Constructor\]$/,nZe=Function.prototype,rZe=Object.prototype,sZe=nZe.toString,iZe=rZe.hasOwnProperty,aZe=RegExp("^"+sZe.call(iZe).replace(eZe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oZe(e){if(!QQe(e)||JQe(e))return!1;var t=XQe(e)?aZe:tZe;return t.test(ZQe(e))}var lZe=oZe;function cZe(e,t){return e==null?void 0:e[t]}var dZe=cZe,uZe=lZe,hZe=dZe;function mZe(e,t){var n=hZe(e,t);return uZe(n)?n:void 0}var $m=mZe,fZe=$m,pZe=fZe(Object,"create"),xC=pZe,NV=xC;function gZe(){this.__data__=NV?NV(null):{},this.size=0}var xZe=gZe;function yZe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vZe=yZe,bZe=xC,wZe="__lodash_hash_undefined__",jZe=Object.prototype,SZe=jZe.hasOwnProperty;function NZe(e){var t=this.__data__;if(bZe){var n=t[e];return n===wZe?void 0:n}return SZe.call(t,e)?t[e]:void 0}var kZe=NZe,_Ze=xC,CZe=Object.prototype,EZe=CZe.hasOwnProperty;function TZe(e){var t=this.__data__;return _Ze?t[e]!==void 0:EZe.call(t,e)}var AZe=TZe,PZe=xC,IZe="__lodash_hash_undefined__";function OZe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=PZe&&t===void 0?IZe:t,this}var RZe=OZe,MZe=xZe,DZe=vZe,LZe=kZe,$Ze=AZe,FZe=RZe;function bx(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bx.prototype.clear=MZe;bx.prototype.delete=DZe;bx.prototype.get=LZe;bx.prototype.has=$Ze;bx.prototype.set=FZe;var BZe=bx;function UZe(){this.__data__=[],this.size=0}var zZe=UZe;function VZe(e,t){return e===t||e!==e&&t!==t}var SL=VZe,qZe=SL;function WZe(e,t){for(var n=e.length;n--;)if(qZe(e[n][0],t))return n;return-1}var yC=WZe,HZe=yC,KZe=Array.prototype,GZe=KZe.splice;function YZe(e){var t=this.__data__,n=HZe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():GZe.call(t,n,1),--this.size,!0}var XZe=YZe,JZe=yC;function QZe(e){var t=this.__data__,n=JZe(t,e);return n<0?void 0:t[n][1]}var ZZe=QZe,eet=yC;function tet(e){return eet(this.__data__,e)>-1}var net=tet,ret=yC;function set(e,t){var n=this.__data__,r=ret(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var iet=set,aet=zZe,oet=XZe,cet=ZZe,det=net,uet=iet;function wx(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wx.prototype.clear=aet;wx.prototype.delete=oet;wx.prototype.get=cet;wx.prototype.has=det;wx.prototype.set=uet;var vC=wx,het=$m,met=Ul,fet=het(met,"Map"),NL=fet,kV=BZe,pet=vC,get=NL;function xet(){this.size=0,this.__data__={hash:new kV,map:new(get||pet),string:new kV}}var yet=xet;function vet(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var bet=vet,wet=bet;function jet(e,t){var n=e.__data__;return wet(t)?n[typeof t=="string"?"string":"hash"]:n.map}var bC=jet,Net=bC;function ket(e){var t=Net(this,e).delete(e);return this.size-=t?1:0,t}var _et=ket,Cet=bC;function Eet(e){return Cet(this,e).get(e)}var Tet=Eet,Aet=bC;function Pet(e){return Aet(this,e).has(e)}var Iet=Pet,Oet=bC;function Ret(e,t){var n=Oet(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Met=Ret,Det=yet,Let=_et,$et=Tet,Fet=Iet,Bet=Met;function jx(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jx.prototype.clear=Det;jx.prototype.delete=Let;jx.prototype.get=$et;jx.prototype.has=Fet;jx.prototype.set=Bet;var kL=jx,Lde=kL,Uet="Expected a function";function _L(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Uet);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(_L.Cache||Lde),n}_L.Cache=Lde;var $de=_L;const zet=un($de);var Vet=$de,qet=500;function Wet(e){var t=Vet(e,function(r){return n.size===qet&&n.clear(),r}),n=t.cache;return t}var Het=Wet,Ket=Het,Get=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yet=/\\(\\)?/g,Xet=Ket(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Get,function(n,r,i,a){t.push(i?a.replace(Yet,"$1"):r||n)}),t}),Jet=Xet;function Qet(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var CL=Qet,_V=iw,Zet=CL,ett=Bi,ttt=yx,ntt=1/0,CV=_V?_V.prototype:void 0,EV=CV?CV.toString:void 0;function Fde(e){if(typeof e=="string")return e;if(ett(e))return Zet(e,Fde)+"";if(ttt(e))return EV?EV.call(e):"";var t=e+"";return t=="0"&&1/e==-ntt?"-0":t}var rtt=Fde,stt=rtt;function itt(e){return e==null?"":stt(e)}var Bde=itt,att=Bi,ott=wL,ltt=Jet,ctt=Bde;function dtt(e,t){return att(e)?e:ott(e,t)?[e]:ltt(ctt(e))}var Ude=dtt,utt=yx,htt=1/0;function mtt(e){if(typeof e=="string"||utt(e))return e;var t=e+"";return t=="0"&&1/e==-htt?"-0":t}var wC=mtt,ftt=Ude,ptt=wC;function gtt(e,t){t=ftt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ptt(t[n++])];return n&&n==r?e:void 0}var EL=gtt,xtt=EL;function ytt(e,t,n){var r=e==null?void 0:xtt(e,t);return r===void 0?n:r}var zde=ytt;const la=un(zde);function vtt(e){return e==null}var btt=vtt;const kt=un(btt);var wtt=qc,jtt=Bi,Stt=Wc,Ntt="[object String]";function ktt(e){return typeof e=="string"||!jtt(e)&&Stt(e)&&wtt(e)==Ntt}var _tt=ktt;const vm=un(_tt);var Vde={exports:{}},Sn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TL=Symbol.for("react.element"),AL=Symbol.for("react.portal"),jC=Symbol.for("react.fragment"),SC=Symbol.for("react.strict_mode"),NC=Symbol.for("react.profiler"),kC=Symbol.for("react.provider"),_C=Symbol.for("react.context"),Ctt=Symbol.for("react.server_context"),CC=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),TC=Symbol.for("react.suspense_list"),AC=Symbol.for("react.memo"),PC=Symbol.for("react.lazy"),Ett=Symbol.for("react.offscreen"),qde;qde=Symbol.for("react.module.reference");function eo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case TL:switch(e=e.type,e){case jC:case NC:case SC:case EC:case TC:return e;default:switch(e=e&&e.$$typeof,e){case Ctt:case _C:case CC:case PC:case AC:case kC:return e;default:return t}}case AL:return t}}}Sn.ContextConsumer=_C;Sn.ContextProvider=kC;Sn.Element=TL;Sn.ForwardRef=CC;Sn.Fragment=jC;Sn.Lazy=PC;Sn.Memo=AC;Sn.Portal=AL;Sn.Profiler=NC;Sn.StrictMode=SC;Sn.Suspense=EC;Sn.SuspenseList=TC;Sn.isAsyncMode=function(){return!1};Sn.isConcurrentMode=function(){return!1};Sn.isContextConsumer=function(e){return eo(e)===_C};Sn.isContextProvider=function(e){return eo(e)===kC};Sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===TL};Sn.isForwardRef=function(e){return eo(e)===CC};Sn.isFragment=function(e){return eo(e)===jC};Sn.isLazy=function(e){return eo(e)===PC};Sn.isMemo=function(e){return eo(e)===AC};Sn.isPortal=function(e){return eo(e)===AL};Sn.isProfiler=function(e){return eo(e)===NC};Sn.isStrictMode=function(e){return eo(e)===SC};Sn.isSuspense=function(e){return eo(e)===EC};Sn.isSuspenseList=function(e){return eo(e)===TC};Sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===jC||e===NC||e===SC||e===EC||e===TC||e===Ett||typeof e=="object"&&e!==null&&(e.$$typeof===PC||e.$$typeof===AC||e.$$typeof===kC||e.$$typeof===_C||e.$$typeof===CC||e.$$typeof===qde||e.getModuleId!==void 0)};Sn.typeOf=eo;Vde.exports=Sn;var Ttt=Vde.exports,Att=qc,Ptt=Wc,Itt="[object Number]";function Ott(e){return typeof e=="number"||Ptt(e)&&Att(e)==Itt}var Wde=Ott;const Rtt=un(Wde);var Mtt=Wde;function Dtt(e){return Mtt(e)&&e!=+e}var Ltt=Dtt;const aw=un(Ltt);var ei=function(t){return t===0?0:t>0?1:-1},Ch=function(t){return vm(t)&&t.indexOf("%")===t.length-1},Ce=function(t){return Rtt(t)&&!aw(t)},$tt=function(t){return kt(t)},ns=function(t){return Ce(t)||vm(t)},Ftt=0,Sx=function(t){var n=++Ftt;return"".concat(t||"").concat(n)},ti=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(t)&&!vm(t))return r;var a;if(Ch(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return aw(a)&&(a=r),i&&a>n&&(a=n),a},wd=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Btt=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Qi=function(t,n){return Ce(t)&&Ce(n)?function(r){return t+r*(n-t)}:function(){return n}};function _N(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):la(r,t))===n})}var Utt=function(t,n){return Ce(t)&&Ce(n)?t-n:vm(t)&&vm(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function bp(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function JO(e){"@babel/helpers - typeof";return JO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JO(e)}var ztt=["viewBox","children"],Vtt=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],TV=["points","pathLength"],R2={svg:ztt,polygon:TV,polyline:TV},PL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],CN=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),!vx(r))return null;var i={};return Object.keys(r).forEach(function(a){PL.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},qtt=function(t,n,r){return function(i){return t(n,r,i),null}},bm=function(t,n,r){if(!vx(t)||JO(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];PL.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=qtt(o,n,r))}),i},Wtt=["children"],Htt=["children"];function AV(e,t){if(e==null)return{};var n=Ktt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ktt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function QO(e){"@babel/helpers - typeof";return QO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QO(e)}var PV={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},IV=null,M2=null,IL=function e(t){if(t===IV&&Array.isArray(M2))return M2;var n=[];return x.Children.forEach(t,function(r){kt(r)||(Ttt.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),M2=n,IV=t,n};function ca(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return xc(i)}):r=[xc(t)],IL(e).forEach(function(i){var a=la(i,"type.displayName")||la(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Gi(e,t){var n=ca(e,t);return n&&n[0]}var OV=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Ce(r)||r<=0||!Ce(i)||i<=0)},Gtt=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ytt=function(t){return t&&t.type&&vm(t.type)&&Gtt.indexOf(t.type)>=0},Xtt=function(t){return t&&QO(t)==="object"&&"clipDot"in t},Jtt=function(t,n,r,i){var a,o=(a=R2==null?void 0:R2[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!xt(t)&&(i&&o.includes(n)||Vtt.includes(n))||r&&PL.includes(n)},st=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(x.isValidElement(t)&&(i=t.props),!vx(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;Jtt((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},ZO=function e(t,n){if(t===n)return!0;var r=x.Children.count(t);if(r!==x.Children.count(n))return!1;if(r===0)return!0;if(r===1)return RV(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!RV(a,o))return!1}return!0},RV=function(t,n){if(kt(t)&&kt(n))return!0;if(!kt(t)&&!kt(n)){var r=t.props||{},i=r.children,a=AV(r,Wtt),o=n.props||{},l=o.children,c=AV(o,Htt);return i&&l?bp(a,c)&&ZO(i,l):!i&&!l?bp(a,c):!1}return!1},MV=function(t,n){var r=[],i={};return IL(t).forEach(function(a,o){if(Ytt(a))r.push(a);else if(a){var l=xc(a.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!i[l])){var h=d(a,l,o);r.push(h),i[l]=!0}}}),r},Qtt=function(t){var n=t&&t.type;return n&&PV[n]?PV[n]:null},Ztt=function(t,n){return IL(n).indexOf(t)},ent=["children","width","height","viewBox","className","style","title","desc"];function eR(){return eR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eR.apply(this,arguments)}function tnt(e,t){if(e==null)return{};var n=nnt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nnt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tR(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,d=tnt(e,ent),u=i||{width:n,height:r,x:0,y:0},h=Et("recharts-surface",a);return V.createElement("svg",eR({},st(d,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),V.createElement("title",null,l),V.createElement("desc",null,c),t)}var rnt=["children","className"];function nR(){return nR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nR.apply(this,arguments)}function snt(e,t){if(e==null)return{};var n=int(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function int(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ln=V.forwardRef(function(e,t){var n=e.children,r=e.className,i=snt(e,rnt),a=Et("recharts-layer",r);return V.createElement("g",nR({className:a},st(i,!0),{ref:t}),n)}),$o=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function ant(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var ont=ant,lnt=ont;function cnt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:lnt(e,t,n)}var dnt=cnt,unt="\\ud800-\\udfff",hnt="\\u0300-\\u036f",mnt="\\ufe20-\\ufe2f",fnt="\\u20d0-\\u20ff",pnt=hnt+mnt+fnt,gnt="\\ufe0e\\ufe0f",xnt="\\u200d",ynt=RegExp("["+xnt+unt+pnt+gnt+"]");function vnt(e){return ynt.test(e)}var Hde=vnt;function bnt(e){return e.split("")}var wnt=bnt,Kde="\\ud800-\\udfff",jnt="\\u0300-\\u036f",Snt="\\ufe20-\\ufe2f",Nnt="\\u20d0-\\u20ff",knt=jnt+Snt+Nnt,_nt="\\ufe0e\\ufe0f",Cnt="["+Kde+"]",rR="["+knt+"]",sR="\\ud83c[\\udffb-\\udfff]",Ent="(?:"+rR+"|"+sR+")",Gde="[^"+Kde+"]",Yde="(?:\\ud83c[\\udde6-\\uddff]){2}",Xde="[\\ud800-\\udbff][\\udc00-\\udfff]",Tnt="\\u200d",Jde=Ent+"?",Qde="["+_nt+"]?",Ant="(?:"+Tnt+"(?:"+[Gde,Yde,Xde].join("|")+")"+Qde+Jde+")*",Pnt=Qde+Jde+Ant,Int="(?:"+[Gde+rR+"?",rR,Yde,Xde,Cnt].join("|")+")",Ont=RegExp(sR+"(?="+sR+")|"+Int+Pnt,"g");function Rnt(e){return e.match(Ont)||[]}var Mnt=Rnt,Dnt=wnt,Lnt=Hde,$nt=Mnt;function Fnt(e){return Lnt(e)?$nt(e):Dnt(e)}var Bnt=Fnt,Unt=dnt,znt=Hde,Vnt=Bnt,qnt=Bde;function Wnt(e){return function(t){t=qnt(t);var n=znt(t)?Vnt(t):void 0,r=n?n[0]:t.charAt(0),i=n?Unt(n,1).join(""):t.slice(1);return r[e]()+i}}var Hnt=Wnt,Knt=Hnt,Gnt=Knt("toUpperCase"),Ynt=Gnt;const IC=un(Ynt);function $n(e){return function(){return e}}const Zde=Math.cos,EN=Math.sin,Go=Math.sqrt,TN=Math.PI,OC=2*TN,iR=Math.PI,aR=2*iR,dh=1e-6,Xnt=aR-dh;function eue(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Jnt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return eue;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Qnt{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?eue:Jnt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-t,d=i-n,u=o-t,h=l-n,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>dh)if(!(Math.abs(h*c-d*u)>dh)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let f=r-o,p=i-l,g=c*c+d*d,y=f*f+p*p,v=Math.sqrt(g),b=Math.sqrt(m),w=a*Math.tan((iR-Math.acos((g+m-y)/(2*v*b)))/2),S=w/b,j=w/v;Math.abs(S-1)>dh&&this._append`L${t+S*u},${n+S*h}`,this._append`A${a},${a},0,0,${+(h*f>u*p)},${this._x1=t+j*c},${this._y1=n+j*d}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=t+l,u=n+c,h=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>dh||Math.abs(this._y1-u)>dh)&&this._append`L${d},${u}`,r&&(m<0&&(m=m%aR+aR),m>Xnt?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=d},${this._y1=u}`:m>dh&&this._append`A${r},${r},0,${+(m>=iR)},${h},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function OL(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Qnt(t)}function RL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tue(e){this._context=e}tue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function RC(e){return new tue(e)}function nue(e){return e[0]}function rue(e){return e[1]}function sue(e,t){var n=$n(!0),r=null,i=RC,a=null,o=OL(l);e=typeof e=="function"?e:e===void 0?nue:$n(e),t=typeof t=="function"?t:t===void 0?rue:$n(t);function l(c){var d,u=(c=RL(c)).length,h,m=!1,f;for(r==null&&(a=i(f=o())),d=0;d<=u;++d)!(d<u&&n(h=c[d],d,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(h,d,c),+t(h,d,c));if(f)return a=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:$n(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:$n(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:$n(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function S1(e,t,n){var r=null,i=$n(!0),a=null,o=RC,l=null,c=OL(d);e=typeof e=="function"?e:e===void 0?nue:$n(+e),t=typeof t=="function"?t:$n(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?rue:$n(+n);function d(h){var m,f,p,g=(h=RL(h)).length,y,v=!1,b,w=new Array(g),S=new Array(g);for(a==null&&(l=o(b=c())),m=0;m<=g;++m){if(!(m<g&&i(y=h[m],m,h))===v)if(v=!v)f=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=f;--p)l.point(w[p],S[p]);l.lineEnd(),l.areaEnd()}v&&(w[m]=+e(y,m,h),S[m]=+t(y,m,h),l.point(r?+r(y,m,h):w[m],n?+n(y,m,h):S[m]))}if(b)return l=null,b+""||null}function u(){return sue().defined(i).curve(o).context(a)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:$n(+h),r=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:$n(+h),d):e},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:$n(+h),d):r},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:$n(+h),n=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:$n(+h),d):t},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:$n(+h),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(r).y(t)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:$n(!!h),d):i},d.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),d):o},d.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),d):a},d}class iue{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Znt(e){return new iue(e,!0)}function ert(e){return new iue(e,!1)}const ML={draw(e,t){const n=Go(t/TN);e.moveTo(n,0),e.arc(0,0,n,0,OC)}},trt={draw(e,t){const n=Go(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},aue=Go(1/3),nrt=aue*2,rrt={draw(e,t){const n=Go(t/nrt),r=n*aue;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},srt={draw(e,t){const n=Go(t),r=-n/2;e.rect(r,r,n,n)}},irt=.8908130915292852,oue=EN(TN/10)/EN(7*TN/10),art=EN(OC/10)*oue,ort=-Zde(OC/10)*oue,lrt={draw(e,t){const n=Go(t*irt),r=art*n,i=ort*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=OC*a/5,l=Zde(o),c=EN(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},D2=Go(3),crt={draw(e,t){const n=-Go(t/(D2*3));e.moveTo(0,n*2),e.lineTo(-D2*n,-n),e.lineTo(D2*n,-n),e.closePath()}},ja=-.5,Sa=Go(3)/2,oR=1/Go(12),drt=(oR/2+1)*3,urt={draw(e,t){const n=Go(t/drt),r=n/2,i=n*oR,a=r,o=n*oR+n,l=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(ja*r-Sa*i,Sa*r+ja*i),e.lineTo(ja*a-Sa*o,Sa*a+ja*o),e.lineTo(ja*l-Sa*c,Sa*l+ja*c),e.lineTo(ja*r+Sa*i,ja*i-Sa*r),e.lineTo(ja*a+Sa*o,ja*o-Sa*a),e.lineTo(ja*l+Sa*c,ja*c-Sa*l),e.closePath()}};function hrt(e,t){let n=null,r=OL(i);e=typeof e=="function"?e:$n(e||ML),t=typeof t=="function"?t:$n(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:$n(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:$n(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function AN(){}function PN(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function lue(e){this._context=e}lue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:PN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:PN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mrt(e){return new lue(e)}function cue(e){this._context=e}cue.prototype={areaStart:AN,areaEnd:AN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:PN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function frt(e){return new cue(e)}function due(e){this._context=e}due.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:PN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function prt(e){return new due(e)}function uue(e){this._context=e}uue.prototype={areaStart:AN,areaEnd:AN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function grt(e){return new uue(e)}function DV(e){return e<0?-1:1}function LV(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(DV(a)+DV(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function $V(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function L2(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function IN(e){this._context=e}IN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:L2(this,this._t0,$V(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,L2(this,$V(this,n=LV(this,e,t)),n);break;default:L2(this,this._t0,n=LV(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function hue(e){this._context=new mue(e)}(hue.prototype=Object.create(IN.prototype)).point=function(e,t){IN.prototype.point.call(this,t,e)};function mue(e){this._context=e}mue.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function xrt(e){return new IN(e)}function yrt(e){return new hue(e)}function fue(e){this._context=e}fue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=FV(e),i=FV(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function FV(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function vrt(e){return new fue(e)}function MC(e,t){this._context=e,this._t=t}MC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function brt(e){return new MC(e,.5)}function wrt(e){return new MC(e,0)}function jrt(e){return new MC(e,1)}function gg(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lR(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Srt(e,t){return e[t]}function Nrt(e){const t=[];return t.key=e,t}function krt(){var e=$n([]),t=lR,n=gg,r=Srt;function i(a){var o=Array.from(e.apply(this,arguments),Nrt),l,c=o.length,d=-1,u;for(const h of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(h,o[l].key,d,a)]).data=h;for(l=0,u=RL(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:$n(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:$n(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?lR:typeof a=="function"?a:$n(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??gg,i):n},i}function _rt(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}gg(e,t)}}function Crt(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}gg(e,t)}}function Ert(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[r][1]||0,m=u[r-1][1]||0,f=(h-m)/2,p=0;p<l;++p){var g=e[t[p]],y=g[r][1]||0,v=g[r-1][1]||0;f+=y-v}c+=h,d+=f*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,gg(e,t)}}function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}var Trt=["type","size","sizeType"];function cR(){return cR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cR.apply(this,arguments)}function BV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BV(Object(n),!0).forEach(function(r){Art(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Art(e,t,n){return t=Prt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Prt(e){var t=Irt(e,"string");return P0(t)=="symbol"?t:t+""}function Irt(e,t){if(P0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(P0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ort(e,t){if(e==null)return{};var n=Rrt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rrt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var pue={symbolCircle:ML,symbolCross:trt,symbolDiamond:rrt,symbolSquare:srt,symbolStar:lrt,symbolTriangle:crt,symbolWye:urt},Mrt=Math.PI/180,Drt=function(t){var n="symbol".concat(IC(t));return pue[n]||ML},Lrt=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Mrt;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$rt=function(t,n){pue["symbol".concat(IC(t))]=n},DL=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=Ort(t,Trt),d=UV(UV({},c),{},{type:r,size:a,sizeType:l}),u=function(){var y=Drt(r),v=hrt().type(y).size(Lrt(a,l,r));return v()},h=d.className,m=d.cx,f=d.cy,p=st(d,!0);return m===+m&&f===+f&&a===+a?V.createElement("path",cR({},p,{className:Et("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(f,")"),d:u()})):null};DL.registerSymbol=$rt;function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function dR(){return dR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dR.apply(this,arguments)}function zV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Frt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zV(Object(n),!0).forEach(function(r){I0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Brt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Urt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xue(r.key),r)}}function zrt(e,t,n){return t&&Urt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vrt(e,t,n){return t=ON(t),qrt(e,gue()?Reflect.construct(t,n||[],ON(e).constructor):t.apply(e,n))}function qrt(e,t){if(t&&(xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wrt(e)}function Wrt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gue=function(){return!!e})()}function ON(e){return ON=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ON(e)}function Hrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uR(e,t)}function uR(e,t){return uR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uR(e,t)}function I0(e,t,n){return t=xue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xue(e){var t=Krt(e,"string");return xg(t)=="symbol"?t:t+""}function Krt(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Na=32,LL=function(e){function t(){return Brt(this,t),Vrt(this,t,arguments)}return Hrt(t,e),zrt(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Na/2,o=Na/6,l=Na/3,c=r.inactive?i:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Na,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Na,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Na/8,"h").concat(Na,"v").concat(Na*3/4,"h").concat(-Na,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var d=Frt({},r);return delete d.legendIcon,V.cloneElement(r.legendIcon,d)}return V.createElement(DL,{fill:c,cx:a,cy:a,size:Na,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,u={x:0,y:0,width:Na,height:Na},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(f,p){var g=f.formatter||c,y=Et(I0(I0({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",f.inactive));if(f.type==="none")return null;var v=xt(f.value)?null:f.value;$o(!xt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?d:f.color;return V.createElement("li",dR({className:y,style:h,key:"legend-item-".concat(p)},bm(r.props,f,p)),V.createElement(tR,{width:o,height:o,viewBox:u,style:m},r.renderIcon(f)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(v,f,p):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);I0(LL,"displayName","Legend");I0(LL,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Grt=vC;function Yrt(){this.__data__=new Grt,this.size=0}var Xrt=Yrt;function Jrt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Qrt=Jrt;function Zrt(e){return this.__data__.get(e)}var est=Zrt;function tst(e){return this.__data__.has(e)}var nst=tst,rst=vC,sst=NL,ist=kL,ast=200;function ost(e,t){var n=this.__data__;if(n instanceof rst){var r=n.__data__;if(!sst||r.length<ast-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ist(r)}return n.set(e,t),this.size=n.size,this}var lst=ost,cst=vC,dst=Xrt,ust=Qrt,hst=est,mst=nst,fst=lst;function Nx(e){var t=this.__data__=new cst(e);this.size=t.size}Nx.prototype.clear=dst;Nx.prototype.delete=ust;Nx.prototype.get=hst;Nx.prototype.has=mst;Nx.prototype.set=fst;var yue=Nx,pst="__lodash_hash_undefined__";function gst(e){return this.__data__.set(e,pst),this}var xst=gst;function yst(e){return this.__data__.has(e)}var vst=yst,bst=kL,wst=xst,jst=vst;function RN(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new bst;++t<n;)this.add(e[t])}RN.prototype.add=RN.prototype.push=wst;RN.prototype.has=jst;var vue=RN;function Sst(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var bue=Sst;function Nst(e,t){return e.has(t)}var wue=Nst,kst=vue,_st=bue,Cst=wue,Est=1,Tst=2;function Ast(e,t,n,r,i,a){var o=n&Est,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(e),u=a.get(t);if(d&&u)return d==t&&u==e;var h=-1,m=!0,f=n&Tst?new kst:void 0;for(a.set(e,t),a.set(t,e);++h<l;){var p=e[h],g=t[h];if(r)var y=o?r(g,p,h,t,e,a):r(p,g,h,e,t,a);if(y!==void 0){if(y)continue;m=!1;break}if(f){if(!_st(t,function(v,b){if(!Cst(f,b)&&(p===v||i(p,v,n,r,a)))return f.push(b)})){m=!1;break}}else if(!(p===g||i(p,g,n,r,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var jue=Ast,Pst=Ul,Ist=Pst.Uint8Array,Ost=Ist;function Rst(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var Mst=Rst;function Dst(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var $L=Dst,VV=iw,qV=Ost,Lst=SL,$st=jue,Fst=Mst,Bst=$L,Ust=1,zst=2,Vst="[object Boolean]",qst="[object Date]",Wst="[object Error]",Hst="[object Map]",Kst="[object Number]",Gst="[object RegExp]",Yst="[object Set]",Xst="[object String]",Jst="[object Symbol]",Qst="[object ArrayBuffer]",Zst="[object DataView]",WV=VV?VV.prototype:void 0,$2=WV?WV.valueOf:void 0;function eit(e,t,n,r,i,a,o){switch(n){case Zst:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Qst:return!(e.byteLength!=t.byteLength||!a(new qV(e),new qV(t)));case Vst:case qst:case Kst:return Lst(+e,+t);case Wst:return e.name==t.name&&e.message==t.message;case Gst:case Xst:return e==t+"";case Hst:var l=Fst;case Yst:var c=r&Ust;if(l||(l=Bst),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;r|=zst,o.set(e,t);var u=$st(l(e),l(t),r,i,a,o);return o.delete(e),u;case Jst:if($2)return $2.call(e)==$2.call(t)}return!1}var tit=eit;function nit(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Sue=nit,rit=Sue,sit=Bi;function iit(e,t,n){var r=t(e);return sit(e)?r:rit(r,n(e))}var ait=iit;function oit(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var lit=oit;function cit(){return[]}var dit=cit,uit=lit,hit=dit,mit=Object.prototype,fit=mit.propertyIsEnumerable,HV=Object.getOwnPropertySymbols,pit=HV?function(e){return e==null?[]:(e=Object(e),uit(HV(e),function(t){return fit.call(e,t)}))}:hit,git=pit;function xit(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var yit=xit,vit=qc,bit=Wc,wit="[object Arguments]";function jit(e){return bit(e)&&vit(e)==wit}var Sit=jit,KV=Sit,Nit=Wc,Nue=Object.prototype,kit=Nue.hasOwnProperty,_it=Nue.propertyIsEnumerable,Cit=KV(function(){return arguments}())?KV:function(e){return Nit(e)&&kit.call(e,"callee")&&!_it.call(e,"callee")},FL=Cit,MN={exports:{}};function Eit(){return!1}var Tit=Eit;MN.exports;(function(e,t){var n=Ul,r=Tit,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;e.exports=d})(MN,MN.exports);var kue=MN.exports,Ait=9007199254740991,Pit=/^(?:0|[1-9]\d*)$/;function Iit(e,t){var n=typeof e;return t=t??Ait,!!t&&(n=="number"||n!="symbol"&&Pit.test(e))&&e>-1&&e%1==0&&e<t}var BL=Iit,Oit=9007199254740991;function Rit(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Oit}var UL=Rit,Mit=qc,Dit=UL,Lit=Wc,$it="[object Arguments]",Fit="[object Array]",Bit="[object Boolean]",Uit="[object Date]",zit="[object Error]",Vit="[object Function]",qit="[object Map]",Wit="[object Number]",Hit="[object Object]",Kit="[object RegExp]",Git="[object Set]",Yit="[object String]",Xit="[object WeakMap]",Jit="[object ArrayBuffer]",Qit="[object DataView]",Zit="[object Float32Array]",eat="[object Float64Array]",tat="[object Int8Array]",nat="[object Int16Array]",rat="[object Int32Array]",sat="[object Uint8Array]",iat="[object Uint8ClampedArray]",aat="[object Uint16Array]",oat="[object Uint32Array]",Wn={};Wn[Zit]=Wn[eat]=Wn[tat]=Wn[nat]=Wn[rat]=Wn[sat]=Wn[iat]=Wn[aat]=Wn[oat]=!0;Wn[$it]=Wn[Fit]=Wn[Jit]=Wn[Bit]=Wn[Qit]=Wn[Uit]=Wn[zit]=Wn[Vit]=Wn[qit]=Wn[Wit]=Wn[Hit]=Wn[Kit]=Wn[Git]=Wn[Yit]=Wn[Xit]=!1;function lat(e){return Lit(e)&&Dit(e.length)&&!!Wn[Mit(e)]}var cat=lat;function dat(e){return function(t){return e(t)}}var _ue=dat,DN={exports:{}};DN.exports;(function(e,t){var n=Rde,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(DN,DN.exports);var uat=DN.exports,hat=cat,mat=_ue,GV=uat,YV=GV&&GV.isTypedArray,fat=YV?mat(YV):hat,Cue=fat,pat=yit,gat=FL,xat=Bi,yat=kue,vat=BL,bat=Cue,wat=Object.prototype,jat=wat.hasOwnProperty;function Sat(e,t){var n=xat(e),r=!n&&gat(e),i=!n&&!r&&yat(e),a=!n&&!r&&!i&&bat(e),o=n||r||i||a,l=o?pat(e.length,String):[],c=l.length;for(var d in e)(t||jat.call(e,d))&&!(o&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||vat(d,c)))&&l.push(d);return l}var Nat=Sat,kat=Object.prototype;function _at(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||kat;return e===n}var Cat=_at;function Eat(e,t){return function(n){return e(t(n))}}var Eue=Eat,Tat=Eue,Aat=Tat(Object.keys,Object),Pat=Aat,Iat=Cat,Oat=Pat,Rat=Object.prototype,Mat=Rat.hasOwnProperty;function Dat(e){if(!Iat(e))return Oat(e);var t=[];for(var n in Object(e))Mat.call(e,n)&&n!="constructor"&&t.push(n);return t}var Lat=Dat,$at=jL,Fat=UL;function Bat(e){return e!=null&&Fat(e.length)&&!$at(e)}var ow=Bat,Uat=Nat,zat=Lat,Vat=ow;function qat(e){return Vat(e)?Uat(e):zat(e)}var DC=qat,Wat=ait,Hat=git,Kat=DC;function Gat(e){return Wat(e,Kat,Hat)}var Yat=Gat,XV=Yat,Xat=1,Jat=Object.prototype,Qat=Jat.hasOwnProperty;function Zat(e,t,n,r,i,a){var o=n&Xat,l=XV(e),c=l.length,d=XV(t),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var m=l[h];if(!(o?m in t:Qat.call(t,m)))return!1}var f=a.get(e),p=a.get(t);if(f&&p)return f==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var y=o;++h<c;){m=l[h];var v=e[m],b=t[m];if(r)var w=o?r(b,v,m,t,e,a):r(v,b,m,e,t,a);if(!(w===void 0?v===b||i(v,b,n,r,a):w)){g=!1;break}y||(y=m=="constructor")}if(g&&!y){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(g=!1)}return a.delete(e),a.delete(t),g}var eot=Zat,tot=$m,not=Ul,rot=tot(not,"DataView"),sot=rot,iot=$m,aot=Ul,oot=iot(aot,"Promise"),lot=oot,cot=$m,dot=Ul,uot=cot(dot,"Set"),Tue=uot,hot=$m,mot=Ul,fot=hot(mot,"WeakMap"),pot=fot,hR=sot,mR=NL,fR=lot,pR=Tue,gR=pot,Aue=qc,kx=Dde,JV="[object Map]",got="[object Object]",QV="[object Promise]",ZV="[object Set]",eq="[object WeakMap]",tq="[object DataView]",xot=kx(hR),yot=kx(mR),vot=kx(fR),bot=kx(pR),wot=kx(gR),uh=Aue;(hR&&uh(new hR(new ArrayBuffer(1)))!=tq||mR&&uh(new mR)!=JV||fR&&uh(fR.resolve())!=QV||pR&&uh(new pR)!=ZV||gR&&uh(new gR)!=eq)&&(uh=function(e){var t=Aue(e),n=t==got?e.constructor:void 0,r=n?kx(n):"";if(r)switch(r){case xot:return tq;case yot:return JV;case vot:return QV;case bot:return ZV;case wot:return eq}return t});var jot=uh,F2=yue,Sot=jue,Not=tit,kot=eot,nq=jot,rq=Bi,sq=kue,_ot=Cue,Cot=1,iq="[object Arguments]",aq="[object Array]",N1="[object Object]",Eot=Object.prototype,oq=Eot.hasOwnProperty;function Tot(e,t,n,r,i,a){var o=rq(e),l=rq(t),c=o?aq:nq(e),d=l?aq:nq(t);c=c==iq?N1:c,d=d==iq?N1:d;var u=c==N1,h=d==N1,m=c==d;if(m&&sq(e)){if(!sq(t))return!1;o=!0,u=!1}if(m&&!u)return a||(a=new F2),o||_ot(e)?Sot(e,t,n,r,i,a):Not(e,t,c,n,r,i,a);if(!(n&Cot)){var f=u&&oq.call(e,"__wrapped__"),p=h&&oq.call(t,"__wrapped__");if(f||p){var g=f?e.value():e,y=p?t.value():t;return a||(a=new F2),i(g,y,n,r,a)}}return m?(a||(a=new F2),kot(e,t,n,r,i,a)):!1}var Aot=Tot,Pot=Aot,lq=Wc;function Pue(e,t,n,r,i){return e===t?!0:e==null||t==null||!lq(e)&&!lq(t)?e!==e&&t!==t:Pot(e,t,n,r,Pue,i)}var zL=Pue,Iot=yue,Oot=zL,Rot=1,Mot=2;function Dot(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new Iot;if(r)var m=r(d,u,c,e,t,h);if(!(m===void 0?Oot(u,d,Rot|Mot,r,h):m))return!1}}return!0}var Lot=Dot,$ot=qu;function Fot(e){return e===e&&!$ot(e)}var Iue=Fot,Bot=Iue,Uot=DC;function zot(e){for(var t=Uot(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Bot(i)]}return t}var Vot=zot;function qot(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Oue=qot,Wot=Lot,Hot=Vot,Kot=Oue;function Got(e){var t=Hot(e);return t.length==1&&t[0][2]?Kot(t[0][0],t[0][1]):function(n){return n===e||Wot(n,e,t)}}var Yot=Got;function Xot(e,t){return e!=null&&t in Object(e)}var Jot=Xot,Qot=Ude,Zot=FL,elt=Bi,tlt=BL,nlt=UL,rlt=wC;function slt(e,t,n){t=Qot(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=rlt(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&nlt(i)&&tlt(o,i)&&(elt(e)||Zot(e)))}var ilt=slt,alt=Jot,olt=ilt;function llt(e,t){return e!=null&&olt(e,t,alt)}var clt=llt,dlt=zL,ult=zde,hlt=clt,mlt=wL,flt=Iue,plt=Oue,glt=wC,xlt=1,ylt=2;function vlt(e,t){return mlt(e)&&flt(t)?plt(glt(e),t):function(n){var r=ult(n,e);return r===void 0&&r===t?hlt(n,e):dlt(t,r,xlt|ylt)}}var blt=vlt;function wlt(e){return e}var _x=wlt;function jlt(e){return function(t){return t==null?void 0:t[e]}}var Slt=jlt,Nlt=EL;function klt(e){return function(t){return Nlt(t,e)}}var _lt=klt,Clt=Slt,Elt=_lt,Tlt=wL,Alt=wC;function Plt(e){return Tlt(e)?Clt(Alt(e)):Elt(e)}var Ilt=Plt,Olt=Yot,Rlt=blt,Mlt=_x,Dlt=Bi,Llt=Ilt;function $lt(e){return typeof e=="function"?e:e==null?Mlt:typeof e=="object"?Dlt(e)?Rlt(e[0],e[1]):Olt(e):Llt(e)}var zl=$lt;function Flt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Rue=Flt;function Blt(e){return e!==e}var Ult=Blt;function zlt(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var Vlt=zlt,qlt=Rue,Wlt=Ult,Hlt=Vlt;function Klt(e,t,n){return t===t?Hlt(e,t,n):qlt(e,Wlt,n)}var Glt=Klt,Ylt=Glt;function Xlt(e,t){var n=e==null?0:e.length;return!!n&&Ylt(e,t,0)>-1}var Jlt=Xlt;function Qlt(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Zlt=Qlt;function ect(){}var tct=ect,B2=Tue,nct=tct,rct=$L,sct=1/0,ict=B2&&1/rct(new B2([,-0]))[1]==sct?function(e){return new B2(e)}:nct,act=ict,oct=vue,lct=Jlt,cct=Zlt,dct=wue,uct=act,hct=$L,mct=200;function fct(e,t,n){var r=-1,i=lct,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=cct;else if(a>=mct){var d=t?null:uct(e);if(d)return hct(d);o=!1,i=dct,c=new oct}else c=t?[]:l;e:for(;++r<a;){var u=e[r],h=t?t(u):u;if(u=n||u!==0?u:0,o&&h===h){for(var m=c.length;m--;)if(c[m]===h)continue e;t&&c.push(h),l.push(u)}else i(c,h,n)||(c!==l&&c.push(h),l.push(u))}return l}var pct=fct,gct=zl,xct=pct;function yct(e,t){return e&&e.length?xct(e,gct(t)):[]}var vct=yct;const cq=un(vct);function Mue(e,t,n){return t===!0?cq(e,n):xt(t)?cq(e,t):e}function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}var bct=["ref"];function dq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dq(Object(n),!0).forEach(function(r){LC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lue(r.key),r)}}function jct(e,t,n){return t&&uq(e.prototype,t),n&&uq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sct(e,t,n){return t=LN(t),Nct(e,Due()?Reflect.construct(t,n||[],LN(e).constructor):t.apply(e,n))}function Nct(e,t){if(t&&(yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kct(e)}function kct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Due(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Due=function(){return!!e})()}function LN(e){return LN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LN(e)}function _ct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xR(e,t)}function xR(e,t){return xR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xR(e,t)}function LC(e,t,n){return t=Lue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lue(e){var t=Cct(e,"string");return yg(t)=="symbol"?t:t+""}function Cct(e,t){if(yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ect(e,t){if(e==null)return{};var n=Tct(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tct(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Act(e){return e.value}function Pct(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if(typeof e=="function")return V.createElement(e,t);t.ref;var n=Ect(t,bct);return V.createElement(LL,n)}var hq=1,Yh=function(e){function t(){var n;wct(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Sct(this,t,[].concat(i)),LC(n,"lastBoundingBox",{width:-1,height:-1}),n}return _ct(t,e),jct(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hq||Math.abs(i.height-this.lastBoundingBox.height)>hq)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Kl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,u=i.chartHeight,h,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var f=this.getBBoxSnapshot();h={left:((d||0)-f.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();m={top:((u||0)-p.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Kl(Kl({},h),m)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,u=i.payload,h=Kl(Kl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){r.wrapperNode=f}},Pct(a,Kl(Kl({},this.props),{},{payload:Mue(u,d,Act)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Kl(Kl({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ce(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(x.PureComponent);LC(Yh,"displayName","Legend");LC(Yh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mq=iw,Ict=FL,Oct=Bi,fq=mq?mq.isConcatSpreadable:void 0;function Rct(e){return Oct(e)||Ict(e)||!!(fq&&e&&e[fq])}var Mct=Rct,Dct=Sue,Lct=Mct;function $ue(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Lct),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?$ue(l,t-1,n,r,i):Dct(i,l):r||(i[i.length]=l)}return i}var Fue=$ue;function $ct(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var Fct=$ct,Bct=Fct,Uct=Bct(),zct=Uct,Vct=zct,qct=DC;function Wct(e,t){return e&&Vct(e,t,qct)}var Bue=Wct,Hct=ow;function Kct(e,t){return function(n,r){if(n==null)return n;if(!Hct(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Gct=Kct,Yct=Bue,Xct=Gct,Jct=Xct(Yct),VL=Jct,Qct=VL,Zct=ow;function edt(e,t){var n=-1,r=Zct(e)?Array(e.length):[];return Qct(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var Uue=edt;function tdt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var ndt=tdt,pq=yx;function rdt(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=pq(e),o=t!==void 0,l=t===null,c=t===t,d=pq(t);if(!l&&!d&&!a&&e>t||a&&o&&c&&!l&&!d||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!d&&e<t||d&&n&&i&&!r&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var sdt=rdt,idt=sdt;function adt(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;++r<o;){var c=idt(i[r],a[r]);if(c){if(r>=l)return c;var d=n[r];return c*(d=="desc"?-1:1)}}return e.index-t.index}var odt=adt,U2=CL,ldt=EL,cdt=zl,ddt=Uue,udt=ndt,hdt=_ue,mdt=odt,fdt=_x,pdt=Bi;function gdt(e,t,n){t.length?t=U2(t,function(a){return pdt(a)?function(o){return ldt(o,a.length===1?a[0]:a)}:a}):t=[fdt];var r=-1;t=U2(t,hdt(cdt));var i=ddt(e,function(a,o,l){var c=U2(t,function(d){return d(a)});return{criteria:c,index:++r,value:a}});return udt(i,function(a,o){return mdt(a,o,n)})}var xdt=gdt;function ydt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var vdt=ydt,bdt=vdt,gq=Math.max;function wdt(e,t,n){return t=gq(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=gq(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(o),bdt(e,this,l)}}var jdt=wdt;function Sdt(e){return function(){return e}}var Ndt=Sdt,kdt=$m,_dt=function(){try{var e=kdt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zue=_dt,Cdt=Ndt,xq=zue,Edt=_x,Tdt=xq?function(e,t){return xq(e,"toString",{configurable:!0,enumerable:!1,value:Cdt(t),writable:!0})}:Edt,Adt=Tdt,Pdt=800,Idt=16,Odt=Date.now;function Rdt(e){var t=0,n=0;return function(){var r=Odt(),i=Idt-(r-n);if(n=r,i>0){if(++t>=Pdt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Mdt=Rdt,Ddt=Adt,Ldt=Mdt,$dt=Ldt(Ddt),Fdt=$dt,Bdt=_x,Udt=jdt,zdt=Fdt;function Vdt(e,t){return zdt(Udt(e,t,Bdt),e+"")}var qdt=Vdt,Wdt=SL,Hdt=ow,Kdt=BL,Gdt=qu;function Ydt(e,t,n){if(!Gdt(n))return!1;var r=typeof t;return(r=="number"?Hdt(n)&&Kdt(t,n.length):r=="string"&&t in n)?Wdt(n[t],e):!1}var $C=Ydt,Xdt=Fue,Jdt=xdt,Qdt=qdt,yq=$C,Zdt=Qdt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&yq(e,t[0],t[1])?t=[]:n>2&&yq(t[0],t[1],t[2])&&(t=[t[0]]),Jdt(e,Xdt(t,1),[])}),eut=Zdt;const qL=un(eut);function O0(e){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O0(e)}function yR(){return yR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yR.apply(this,arguments)}function tut(e,t){return iut(e)||sut(e,t)||rut(e,t)||nut()}function nut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rut(e,t){if(e){if(typeof e=="string")return vq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vq(e,t)}}function vq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sut(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function iut(e){if(Array.isArray(e))return e}function bq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bq(Object(n),!0).forEach(function(r){aut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aut(e,t,n){return t=out(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function out(e){var t=lut(e,"string");return O0(t)=="symbol"?t:t+""}function lut(e,t){if(O0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(O0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cut(e){return Array.isArray(e)&&ns(e[0])&&ns(e[1])?e.join(" ~ "):e}var dut=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,h=t.formatter,m=t.itemSorter,f=t.wrapperClassName,p=t.labelClassName,g=t.label,y=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(u&&u.length){var P={padding:0,margin:0},R=(m?qL(u,m):u).map(function(D,$){if(D.type==="none")return null;var M=z2({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),F=D.formatter||h||cut,O=D.value,L=D.name,I=O,z=L;if(F&&I!=null&&z!=null){var H=F(O,L,D,$,u);if(Array.isArray(H)){var U=tut(H,2);I=U[0],z=U[1]}else I=H}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:M},ns(z)?V.createElement("span",{className:"recharts-tooltip-item-name"},z):null,ns(z)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},I),V.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:P},R)}return null},S=z2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=z2({margin:0},d),N=!kt(g),k=N?g:"",_=Et("recharts-default-tooltip",f),C=Et("recharts-tooltip-label",p);N&&y&&u!==void 0&&u!==null&&(k=y(g,u));var T=b?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",yR({className:_,style:S},T),V.createElement("p",{className:C,style:j},V.isValidElement(k)?k:"".concat(k)),w())};function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}function k1(e,t,n){return t=uut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uut(e){var t=hut(e,"string");return R0(t)=="symbol"?t:t+""}function hut(e,t){if(R0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(R0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy="recharts-tooltip-wrapper",mut={visibility:"hidden"};function fut(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Et(dy,k1(k1(k1(k1({},"".concat(dy,"-right"),Ce(n)&&t&&Ce(t.x)&&n>=t.x),"".concat(dy,"-left"),Ce(n)&&t&&Ce(t.x)&&n<t.x),"".concat(dy,"-bottom"),Ce(r)&&t&&Ce(t.y)&&r>=t.y),"".concat(dy,"-top"),Ce(r)&&t&&Ce(t.y)&&r<t.y))}function wq(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&Ce(a[r]))return a[r];var u=n[r]-l-i,h=n[r]+i;if(t[r])return o[r]?u:h;if(o[r]){var m=u,f=c[r];return m<f?Math.max(h,c[r]):Math.max(u,c[r])}var p=h+l,g=c[r]+d;return p>g?Math.max(u,c[r]):Math.max(h,c[r])}function put(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function gut(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,h;return o.height>0&&o.width>0&&n?(u=wq({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=wq({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=put({translateX:u,translateY:h,useTranslate3d:l})):d=mut,{cssProperties:d,cssClasses:fut({translateX:u,translateY:h,coordinate:n})}}function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function jq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jq(Object(n),!0).forEach(function(r){bR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,que(r.key),r)}}function vut(e,t,n){return t&&yut(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function but(e,t,n){return t=$N(t),wut(e,Vue()?Reflect.construct(t,n||[],$N(e).constructor):t.apply(e,n))}function wut(e,t){if(t&&(vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jut(e)}function jut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vue=function(){return!!e})()}function $N(e){return $N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$N(e)}function Sut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vR(e,t)}function vR(e,t){return vR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vR(e,t)}function bR(e,t,n){return t=que(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function que(e){var t=Nut(e,"string");return vg(t)=="symbol"?t:t+""}function Nut(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nq=1,kut=function(e){function t(){var n;xut(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=but(this,t,[].concat(i)),bR(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),bR(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return Sut(t,e),vut(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Nq||Math.abs(r.height-this.state.lastBoundingBox.height)>Nq)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,u=i.coordinate,h=i.hasPayload,m=i.isAnimationActive,f=i.offset,p=i.position,g=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,w=gut({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),S=w.cssClasses,j=w.cssProperties,N=Sq(Sq({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},b);return V.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(_){r.wrapperNode=_}},d)}}])}(x.PureComponent),_ut=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vl={isSsr:_ut(),get:function(t){return vl[t]},set:function(t,n){if(typeof t=="string")vl[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){vl[i]=t[i]})}}};function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function kq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kq(Object(n),!0).forEach(function(r){WL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hue(r.key),r)}}function Tut(e,t,n){return t&&Eut(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aut(e,t,n){return t=FN(t),Put(e,Wue()?Reflect.construct(t,n||[],FN(e).constructor):t.apply(e,n))}function Put(e,t){if(t&&(bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iut(e)}function Iut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wue=function(){return!!e})()}function FN(e){return FN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FN(e)}function Out(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wR(e,t)}function wR(e,t){return wR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wR(e,t)}function WL(e,t,n){return t=Hue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hue(e){var t=Rut(e,"string");return bg(t)=="symbol"?t:t+""}function Rut(e,t){if(bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mut(e){return e.dataKey}function Dut(e,t){return V.isValidElement(e)?V.cloneElement(e,t):typeof e=="function"?V.createElement(e,t):V.createElement(dut,t)}var Xi=function(e){function t(){return Cut(this,t),Aut(this,t,arguments)}return Out(t,e),Tut(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,u=i.coordinate,h=i.filterNull,m=i.isAnimationActive,f=i.offset,p=i.payload,g=i.payloadUniqBy,y=i.position,v=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,j=p??[];h&&j.length&&(j=Mue(p.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),g,Mut));var N=j.length>0;return V.createElement(kut,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:u,hasPayload:N,offset:f,position:y,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:S},Dut(d,_q(_q({},this.props),{},{payload:j})))}}])}(x.PureComponent);WL(Xi,"displayName","Tooltip");WL(Xi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lut=Ul,$ut=function(){return Lut.Date.now()},Fut=$ut,But=/\s/;function Uut(e){for(var t=e.length;t--&&But.test(e.charAt(t)););return t}var zut=Uut,Vut=zut,qut=/^\s+/;function Wut(e){return e&&e.slice(0,Vut(e)+1).replace(qut,"")}var Hut=Wut,Kut=Hut,Cq=qu,Gut=yx,Eq=NaN,Yut=/^[-+]0x[0-9a-f]+$/i,Xut=/^0b[01]+$/i,Jut=/^0o[0-7]+$/i,Qut=parseInt;function Zut(e){if(typeof e=="number")return e;if(Gut(e))return Eq;if(Cq(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Cq(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Kut(e);var n=Xut.test(e);return n||Jut.test(e)?Qut(e.slice(2),n?2:8):Yut.test(e)?Eq:+e}var Kue=Zut,eht=qu,V2=Fut,Tq=Kue,tht="Expected a function",nht=Math.max,rht=Math.min;function sht(e,t,n){var r,i,a,o,l,c,d=0,u=!1,h=!1,m=!0;if(typeof e!="function")throw new TypeError(tht);t=Tq(t)||0,eht(n)&&(u=!!n.leading,h="maxWait"in n,a=h?nht(Tq(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function f(N){var k=r,_=i;return r=i=void 0,d=N,o=e.apply(_,k),o}function p(N){return d=N,l=setTimeout(v,t),u?f(N):o}function g(N){var k=N-c,_=N-d,C=t-k;return h?rht(C,a-_):C}function y(N){var k=N-c,_=N-d;return c===void 0||k>=t||k<0||h&&_>=a}function v(){var N=V2();if(y(N))return b(N);l=setTimeout(v,g(N))}function b(N){return l=void 0,m&&r?f(N):(r=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,r=c=i=l=void 0}function S(){return l===void 0?o:b(V2())}function j(){var N=V2(),k=y(N);if(r=arguments,i=this,c=N,k){if(l===void 0)return p(c);if(h)return clearTimeout(l),l=setTimeout(v,t),f(c)}return l===void 0&&(l=setTimeout(v,t)),o}return j.cancel=w,j.flush=S,j}var iht=sht,aht=iht,oht=qu,lht="Expected a function";function cht(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(lht);return oht(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),aht(e,t,{leading:r,maxWait:t,trailing:i})}var dht=cht;const Gue=un(dht);function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}function Aq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aq(Object(n),!0).forEach(function(r){uht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uht(e,t,n){return t=hht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hht(e){var t=mht(e,"string");return M0(t)=="symbol"?t:t+""}function mht(e,t){if(M0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(M0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fht(e,t){return yht(e)||xht(e,t)||ght(e,t)||pht()}function pht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ght(e,t){if(e){if(typeof e=="string")return Pq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pq(e,t)}}function Pq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xht(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function yht(e){if(Array.isArray(e))return e}var BN=x.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,h=e.minHeight,m=e.maxHeight,f=e.children,p=e.debounce,g=p===void 0?0:p,y=e.id,v=e.className,b=e.onResize,w=e.style,S=w===void 0?{}:w,j=x.useRef(null),N=x.useRef();N.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var k=x.useState({containerWidth:i.width,containerHeight:i.height}),_=fht(k,2),C=_[0],T=_[1],A=x.useCallback(function(R,D){T(function($){var M=Math.round(R),F=Math.round(D);return $.containerWidth===M&&$.containerHeight===F?$:{containerWidth:M,containerHeight:F}})},[]);x.useEffect(function(){var R=function(L){var I,z=L[0].contentRect,H=z.width,U=z.height;A(H,U),(I=N.current)===null||I===void 0||I.call(N,H,U)};g>0&&(R=Gue(R,g,{trailing:!0,leading:!1}));var D=new ResizeObserver(R),$=j.current.getBoundingClientRect(),M=$.width,F=$.height;return A(M,F),D.observe(j.current),function(){D.disconnect()}},[A,g]);var P=x.useMemo(function(){var R=C.containerWidth,D=C.containerHeight;if(R<0||D<0)return null;$o(Ch(o)||Ch(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),$o(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Ch(o)?R:o,M=Ch(c)?D:c;n&&n>0&&($?M=$/n:M&&($=M*n),m&&M>m&&(M=m)),$o($>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,M,o,c,u,h,n);var F=!Array.isArray(f)&&xc(f.type).endsWith("Chart");return V.Children.map(f,function(O){return V.isValidElement(O)?x.cloneElement(O,_1({width:$,height:M},F?{style:_1({height:"100%",width:"100%",maxHeight:M,maxWidth:$},O.props.style)}:{})):O})},[n,f,c,m,h,u,C,o]);return V.createElement("div",{id:y?"".concat(y):void 0,className:Et("recharts-responsive-container",v),style:_1(_1({},S),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:m}),ref:j},P)}),lw=function(t){return null};lw.displayName="Cell";function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}function Iq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iq(Object(n),!0).forEach(function(r){vht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vht(e,t,n){return t=bht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bht(e){var t=wht(e,"string");return D0(t)=="symbol"?t:t+""}function wht(e,t){if(D0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var of={widthCache:{},cacheCount:0},jht=2e3,Sht={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Oq="recharts_measurement_span";function Nht(e){var t=jR({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var fv=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vl.isSsr)return{width:0,height:0};var r=Nht(n),i=JSON.stringify({text:t,copyStyle:r});if(of.widthCache[i])return of.widthCache[i];try{var a=document.getElementById(Oq);a||(a=document.createElement("span"),a.setAttribute("id",Oq),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=jR(jR({},Sht),r);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return of.widthCache[i]=c,++of.cacheCount>jht&&(of.cacheCount=0,of.widthCache={}),c}catch{return{width:0,height:0}}},kht=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function UN(e,t){return Tht(e)||Eht(e,t)||Cht(e,t)||_ht()}function _ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cht(e,t){if(e){if(typeof e=="string")return Rq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rq(e,t)}}function Rq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eht(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Tht(e){if(Array.isArray(e))return e}function Aht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iht(r.key),r)}}function Pht(e,t,n){return t&&Mq(e.prototype,t),n&&Mq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iht(e){var t=Oht(e,"string");return L0(t)=="symbol"?t:t+""}function Oht(e,t){if(L0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rht=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mht=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Yue={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dht=Object.keys(Yue),Vf="NaN";function Lht(e,t){return e*Yue[t]}var C1=function(){function e(t,n){Aht(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Rht.test(n)&&(this.num=NaN,this.unit=""),Dht.includes(n)&&(this.num=Lht(t,n),this.unit="px")}return Pht(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Mht.exec(n))!==null&&r!==void 0?r:[],a=UN(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function Xue(e){if(e.includes(Vf))return Vf;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=Dq.exec(t))!==null&&n!==void 0?n:[],i=UN(r,4),a=i[1],o=i[2],l=i[3],c=C1.parse(a??""),d=C1.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Vf;t=t.replace(Dq,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,m=(h=Lq.exec(t))!==null&&h!==void 0?h:[],f=UN(m,4),p=f[1],g=f[2],y=f[3],v=C1.parse(p??""),b=C1.parse(y??""),w=g==="+"?v.add(b):v.subtract(b);if(w.isNaN())return Vf;t=t.replace(Lq,w.toString())}return t}var $q=/\(([^()]*)\)/;function $ht(e){for(var t=e;t.includes("(");){var n=$q.exec(t),r=UN(n,2),i=r[1];t=t.replace($q,Xue(i))}return t}function Fht(e){var t=e.replace(/\s+/g,"");return t=$ht(t),t=Xue(t),t}function Bht(e){try{return Fht(e)}catch{return Vf}}function q2(e){var t=Bht(e.slice(5,-1));return t===Vf?"":t}var Uht=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zht=["dx","dy","angle","className","breakAll"];function SR(){return SR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SR.apply(this,arguments)}function Fq(e,t){if(e==null)return{};var n=Vht(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Vht(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Bq(e,t){return Kht(e)||Hht(e,t)||Wht(e,t)||qht()}function qht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wht(e,t){if(e){if(typeof e=="string")return Uq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uq(e,t)}}function Uq(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hht(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Kht(e){if(Array.isArray(e))return e}var Jue=/[ \f\n\r\t\v\u2028\u2029]+/,Que=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];kt(n)||(r?a=n.toString().split(""):a=n.toString().split(Jue));var o=a.map(function(c){return{word:c,width:fv(c,i).width}}),l=r?0:fv("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Ght=function(t,n,r,i,a){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Ce(o),h=l,m=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(M,F){var O=F.word,L=F.width,I=M[M.length-1];if(I&&(i==null||a||I.width+L+r<Number(i)))I.words.push(O),I.width+=L+r;else{var z={words:[O],width:L};M.push(z)}return M},[])},f=m(n),p=function($){return $.reduce(function(M,F){return M.width>F.width?M:F})};if(!u)return f;for(var g="",y=function($){var M=h.slice(0,$),F=Que({breakAll:d,style:c,children:M+g}).wordsWithComputedWidth,O=m(F),L=O.length>o||p(O).width>Number(i);return[L,O]},v=0,b=h.length-1,w=0,S;v<=b&&w<=h.length-1;){var j=Math.floor((v+b)/2),N=j-1,k=y(N),_=Bq(k,2),C=_[0],T=_[1],A=y(j),P=Bq(A,1),R=P[0];if(!C&&!R&&(v=j+1),C&&R&&(b=j-1),!C&&R){S=T;break}w++}return S||f},zq=function(t){var n=kt(t)?[]:t.toString().split(Jue);return[{words:n}]},Yht=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!vl.isSsr){var c,d,u=Que({breakAll:o,children:i,style:a});if(u){var h=u.wordsWithComputedWidth,m=u.spaceWidth;c=h,d=m}else return zq(i);return Ght({breakAll:o,children:i,maxLines:l,style:a},c,d,n,r)}return zq(i)},Vq="#808080",wm=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,h=u===void 0?!1:u,m=t.textAnchor,f=m===void 0?"start":m,p=t.verticalAnchor,g=p===void 0?"end":p,y=t.fill,v=y===void 0?Vq:y,b=Fq(t,Uht),w=x.useMemo(function(){return Yht({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),S=b.dx,j=b.dy,N=b.angle,k=b.className,_=b.breakAll,C=Fq(b,zht);if(!ns(r)||!ns(a))return null;var T=r+(Ce(S)?S:0),A=a+(Ce(j)?j:0),P;switch(g){case"start":P=q2("calc(".concat(d,")"));break;case"middle":P=q2("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:P=q2("calc(".concat(w.length-1," * -").concat(l,")"));break}var R=[];if(h){var D=w[0].width,$=b.width;R.push("scale(".concat((Ce($)?$/D:1)/D,")"))}return N&&R.push("rotate(".concat(N,", ").concat(T,", ").concat(A,")")),R.length&&(C.transform=R.join(" ")),V.createElement("text",SR({},st(C,!0),{x:T,y:A,className:Et("recharts-text",k),textAnchor:f,fill:v.includes("url")?Vq:v}),w.map(function(M,F){var O=M.words.join(_?"":" ");return V.createElement("tspan",{x:T,dy:F===0?P:l,key:"".concat(O,"-").concat(F)},O)}))};function ou(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xht(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HL(e){let t,n,r;e.length!==2?(t=ou,n=(l,c)=>ou(e(l),c),r=(l,c)=>e(l)-c):(t=e===ou||e===Xht?e:Jht,n=e,r=e);function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;n(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;n(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=i(l,c,d,u-1);return h>d&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:i,center:o,right:a}}function Jht(){return 0}function Zue(e){return e===null?NaN:+e}function*Qht(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Zht=HL(ou),cw=Zht.right;HL(Zue).center;class qq extends Map{constructor(t,n=nmt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Wq(this,t))}has(t){return super.has(Wq(this,t))}set(t,n){return super.set(emt(this,t),n)}delete(t){return super.delete(tmt(this,t))}}function Wq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function emt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function tmt({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function nmt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function rmt(e=ou){if(e===ou)return ehe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function ehe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const smt=Math.sqrt(50),imt=Math.sqrt(10),amt=Math.sqrt(2);function zN(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=smt?10:a>=imt?5:a>=amt?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?zN(e,t,n*2):[l,c,d]}function NR(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?zN(t,e,n):zN(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function kR(e,t,n){return t=+t,e=+e,n=+n,zN(e,t,n)[2]}function _R(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?kR(t,e,n):kR(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Hq(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Kq(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function the(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?ehe:rmt(i);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),f=Math.max(n,Math.floor(t-d*h/c+m)),p=Math.min(r,Math.floor(t+(c-d)*h/c+m));the(e,t,f,p,i)}const a=e[t];let o=n,l=r;for(uy(e,n,t),i(e[r],a)>0&&uy(e,n,r);o<l;){for(uy(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?uy(e,n,l):(++l,uy(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function uy(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function omt(e,t,n){if(e=Float64Array.from(Qht(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Kq(e);if(t>=1)return Hq(e);var r,i=(r-1)*t,a=Math.floor(i),o=Hq(the(e,a).subarray(0,a+1)),l=Kq(e.subarray(a+1));return o+(l-o)*(i-a)}}function lmt(e,t,n=Zue){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function cmt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function to(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const CR=Symbol("implicit");function KL(){var e=new qq,t=[],n=[],r=CR;function i(a){let o=e.get(a);if(o===void 0){if(r!==CR)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new qq;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return KL(t,n).unknown(r)},to.apply(i,arguments),i}function $0(){var e=KL().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var m=t().length,f=i<r,p=f?i:r,g=f?r:i;a=(g-p)/Math.max(1,m-c+d*2),l&&(a=Math.floor(a)),p+=(g-p-a*(m-c))*u,o=a*(1-c),l&&(p=Math.round(p),o=Math.round(o));var y=cmt(m).map(function(v){return p+a*v});return n(f?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},e.copy=function(){return $0(t(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(u)},to.apply(h(),arguments)}function nhe(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nhe(t())},e}function pv(){return nhe($0.apply(null,arguments).paddingInner(1))}function GL(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rhe(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dw(){}var F0=.7,VN=1/F0,wp="\\s*([+-]?\\d+)\\s*",B0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dmt=/^#([0-9a-f]{3,8})$/,umt=new RegExp(`^rgb\\(${wp},${wp},${wp}\\)$`),hmt=new RegExp(`^rgb\\(${bl},${bl},${bl}\\)$`),mmt=new RegExp(`^rgba\\(${wp},${wp},${wp},${B0}\\)$`),fmt=new RegExp(`^rgba\\(${bl},${bl},${bl},${B0}\\)$`),pmt=new RegExp(`^hsl\\(${B0},${bl},${bl}\\)$`),gmt=new RegExp(`^hsla\\(${B0},${bl},${bl},${B0}\\)$`),Gq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GL(dw,U0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yq,formatHex:Yq,formatHex8:xmt,formatHsl:ymt,formatRgb:Xq,toString:Xq});function Yq(){return this.rgb().formatHex()}function xmt(){return this.rgb().formatHex8()}function ymt(){return she(this).formatHsl()}function Xq(){return this.rgb().formatRgb()}function U0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=dmt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Jq(t):n===3?new Ni(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?E1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?E1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=umt.exec(e))?new Ni(t[1],t[2],t[3],1):(t=hmt.exec(e))?new Ni(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mmt.exec(e))?E1(t[1],t[2],t[3],t[4]):(t=fmt.exec(e))?E1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pmt.exec(e))?eW(t[1],t[2]/100,t[3]/100,1):(t=gmt.exec(e))?eW(t[1],t[2]/100,t[3]/100,t[4]):Gq.hasOwnProperty(e)?Jq(Gq[e]):e==="transparent"?new Ni(NaN,NaN,NaN,0):null}function Jq(e){return new Ni(e>>16&255,e>>8&255,e&255,1)}function E1(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ni(e,t,n,r)}function vmt(e){return e instanceof dw||(e=U0(e)),e?(e=e.rgb(),new Ni(e.r,e.g,e.b,e.opacity)):new Ni}function ER(e,t,n,r){return arguments.length===1?vmt(e):new Ni(e,t,n,r??1)}function Ni(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}GL(Ni,ER,rhe(dw,{brighter(e){return e=e==null?VN:Math.pow(VN,e),new Ni(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?F0:Math.pow(F0,e),new Ni(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ni(Xh(this.r),Xh(this.g),Xh(this.b),qN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qq,formatHex:Qq,formatHex8:bmt,formatRgb:Zq,toString:Zq}));function Qq(){return`#${Eh(this.r)}${Eh(this.g)}${Eh(this.b)}`}function bmt(){return`#${Eh(this.r)}${Eh(this.g)}${Eh(this.b)}${Eh((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zq(){const e=qN(this.opacity);return`${e===1?"rgb(":"rgba("}${Xh(this.r)}, ${Xh(this.g)}, ${Xh(this.b)}${e===1?")":`, ${e})`}`}function qN(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eh(e){return e=Xh(e),(e<16?"0":"")+e.toString(16)}function eW(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ao(e,t,n,r)}function she(e){if(e instanceof Ao)return new Ao(e.h,e.s,e.l,e.opacity);if(e instanceof dw||(e=U0(e)),!e)return new Ao;if(e instanceof Ao)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Ao(o,l,c,e.opacity)}function wmt(e,t,n,r){return arguments.length===1?she(e):new Ao(e,t,n,r??1)}function Ao(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}GL(Ao,wmt,rhe(dw,{brighter(e){return e=e==null?VN:Math.pow(VN,e),new Ao(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?F0:Math.pow(F0,e),new Ao(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ni(W2(e>=240?e-240:e+120,i,r),W2(e,i,r),W2(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ao(tW(this.h),T1(this.s),T1(this.l),qN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qN(this.opacity);return`${e===1?"hsl(":"hsla("}${tW(this.h)}, ${T1(this.s)*100}%, ${T1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tW(e){return e=(e||0)%360,e<0?e+360:e}function T1(e){return Math.max(0,Math.min(1,e||0))}function W2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const YL=e=>()=>e;function jmt(e,t){return function(n){return e+n*t}}function Smt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Nmt(e){return(e=+e)==1?ihe:function(t,n){return n-t?Smt(t,n,e):YL(isNaN(t)?n:t)}}function ihe(e,t){var n=t-e;return n?jmt(e,n):YL(isNaN(e)?t:e)}const nW=function e(t){var n=Nmt(t);function r(i,a){var o=n((i=ER(i)).r,(a=ER(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),d=ihe(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=c(u),i.opacity=d(u),i+""}}return r.gamma=e,r}(1);function kmt(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function _mt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Cmt(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Cx(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Emt(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function WN(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Tmt(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Cx(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var TR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H2=new RegExp(TR.source,"g");function Amt(e){return function(){return e}}function Pmt(e){return function(t){return e(t)+""}}function Imt(e,t){var n=TR.lastIndex=H2.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=TR.exec(e))&&(i=H2.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:WN(r,i)})),n=H2.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Pmt(c[0].x):Amt(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Cx(e,t){var n=typeof t,r;return t==null||n==="boolean"?YL(t):(n==="number"?WN:n==="string"?(r=U0(t))?(t=r,nW):Imt:t instanceof U0?nW:t instanceof Date?Emt:_mt(t)?kmt:Array.isArray(t)?Cmt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Tmt:WN)(e,t)}function XL(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Omt(e,t){t===void 0&&(t=e,e=Cx);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Rmt(e){return function(){return e}}function HN(e){return+e}var rW=[0,1];function ni(e){return e}function AR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Rmt(isNaN(t)?NaN:.5)}function Mmt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Dmt(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=AR(i,r),a=n(o,a)):(r=AR(r,i),a=n(a,o)),function(l){return a(r(l))}}function Lmt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=AR(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=cw(e,l,1,r)-1;return a[c](i[c](l))}}function uw(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function FC(){var e=rW,t=rW,n=Cx,r,i,a,o=ni,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==ni&&(o=Mmt(e[0],e[m-1])),l=m>2?Lmt:Dmt,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(r),t,n)))(r(o(m)))}return h.invert=function(m){return o(i((d||(d=l(t,e.map(r),WN)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,HN),u()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),n=XL,u()},h.clamp=function(m){return arguments.length?(o=m?!0:ni,u()):o!==ni},h.interpolate=function(m){return arguments.length?(n=m,u()):n},h.unknown=function(m){return arguments.length?(a=m,h):a},function(m,f){return r=m,i=f,u()}}function JL(){return FC()(ni,ni)}function $mt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function KN(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function wg(e){return e=KN(Math.abs(e)),e?e[1]:NaN}function Fmt(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Bmt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Umt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function z0(e){if(!(t=Umt.exec(e)))throw new Error("invalid format: "+e);var t;return new QL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}z0.prototype=QL.prototype;function QL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}QL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zmt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ahe;function Vmt(e,t){var n=KN(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(ahe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+KN(e,Math.max(0,t+a-1))[0]}function sW(e,t){var n=KN(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const iW={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$mt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sW(e*100,t),r:sW,s:Vmt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aW(e){return e}var oW=Array.prototype.map,lW=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qmt(e){var t=e.grouping===void 0||e.thousands===void 0?aW:Fmt(oW.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?aW:Bmt(oW.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=z0(h);var m=h.fill,f=h.align,p=h.sign,g=h.symbol,y=h.zero,v=h.width,b=h.comma,w=h.precision,S=h.trim,j=h.type;j==="n"?(b=!0,j="g"):iW[j]||(w===void 0&&(w=12),S=!0,j="g"),(y||m==="0"&&f==="=")&&(y=!0,m="0",f="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=g==="$"?r:/[%p]/.test(j)?o:"",_=iW[j],C=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(A){var P=N,R=k,D,$,M;if(j==="c")R=_(A)+R,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?c:_(Math.abs(A),w),S&&(A=zmt(A)),F&&+A==0&&p!=="+"&&(F=!1),P=(F?p==="("?p:l:p==="-"||p==="("?"":p)+P,R=(j==="s"?lW[8+ahe/3]:"")+R+(F&&p==="("?")":""),C){for(D=-1,$=A.length;++D<$;)if(M=A.charCodeAt(D),48>M||M>57){R=(M===46?i+A.slice(D+1):A.slice(D))+R,A=A.slice(0,D);break}}}b&&!y&&(A=t(A,1/0));var O=P.length+A.length+R.length,L=O<v?new Array(v-O+1).join(m):"";switch(b&&y&&(A=t(L+A,L.length?v-R.length:1/0),L=""),f){case"<":A=P+A+R+L;break;case"=":A=P+L+A+R;break;case"^":A=L.slice(0,O=L.length>>1)+P+A+R+L.slice(O);break;default:A=L+P+A+R;break}return a(A)}return T.toString=function(){return h+""},T}function u(h,m){var f=d((h=z0(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(wg(m)/3)))*3,g=Math.pow(10,-p),y=lW[8+p/3];return function(v){return f(g*v)+y}}return{format:d,formatPrefix:u}}var A1,ZL,ohe;Wmt({thousands:",",grouping:[3],currency:["$",""]});function Wmt(e){return A1=qmt(e),ZL=A1.format,ohe=A1.formatPrefix,A1}function Hmt(e){return Math.max(0,-wg(Math.abs(e)))}function Kmt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wg(t)/3)))*3-wg(Math.abs(e)))}function Gmt(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wg(t)-wg(e))+1}function lhe(e,t,n,r){var i=_R(e,t,n),a;switch(r=z0(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Kmt(i,o))&&(r.precision=a),ohe(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Gmt(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Hmt(i))&&(r.precision=a-(r.type==="%")*2);break}}return ZL(r)}function Wu(e){var t=e.domain;return e.ticks=function(n){var r=t();return NR(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return lhe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);u-- >0;){if(d=kR(o,l,n),d===c)return r[i]=o,r[a]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function GN(){var e=JL();return e.copy=function(){return uw(e,GN())},to.apply(e,arguments),Wu(e)}function che(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,HN),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return che(e).unknown(t)},e=arguments.length?Array.from(e,HN):[0,1],Wu(n)}function dhe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function cW(e){return Math.log(e)}function dW(e){return Math.exp(e)}function Ymt(e){return-Math.log(-e)}function Xmt(e){return-Math.exp(-e)}function Jmt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Qmt(e){return e===10?Jmt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Zmt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uW(e){return(t,n)=>-e(-t,n)}function e$(e){const t=e(cW,dW),n=t.domain;let r=10,i,a;function o(){return i=Zmt(r),a=Qmt(r),n()[0]<0?(i=uW(i),a=uW(a),e(Ymt,Xmt)):e(cW,dW),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=i(d),f=i(u),p,g;const y=l==null?10:+l;let v=[];if(!(r%1)&&f-m<y){if(m=Math.floor(m),f=Math.ceil(f),d>0){for(;m<=f;++m)for(p=1;p<r;++p)if(g=m<0?p/a(-m):p*a(m),!(g<d)){if(g>u)break;v.push(g)}}else for(;m<=f;++m)for(p=r-1;p>=1;--p)if(g=m>0?p/a(-m):p*a(m),!(g<d)){if(g>u)break;v.push(g)}v.length*2<y&&(v=NR(d,u,y))}else v=NR(m,f,Math.min(f-m,y)).map(a);return h?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=z0(c)).precision==null&&(c.trim=!0),c=ZL(c)),l===1/0)return c;const d=Math.max(1,r*l/t.ticks().length);return u=>{let h=u/a(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=d?c(u):""}},t.nice=()=>n(dhe(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function uhe(){const e=e$(FC()).domain([1,10]);return e.copy=()=>uw(e,uhe()).base(e.base()),to.apply(e,arguments),e}function hW(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mW(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function t$(e){var t=1,n=e(hW(t),mW(t));return n.constant=function(r){return arguments.length?e(hW(t=+r),mW(t)):t},Wu(n)}function hhe(){var e=t$(FC());return e.copy=function(){return uw(e,hhe()).constant(e.constant())},to.apply(e,arguments)}function fW(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function eft(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function tft(e){return e<0?-e*e:e*e}function n$(e){var t=e(ni,ni),n=1;function r(){return n===1?e(ni,ni):n===.5?e(eft,tft):e(fW(n),fW(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Wu(t)}function r$(){var e=n$(FC());return e.copy=function(){return uw(e,r$()).exponent(e.exponent())},to.apply(e,arguments),e}function nft(){return r$.apply(null,arguments).exponent(.5)}function pW(e){return Math.sign(e)*e*e}function rft(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mhe(){var e=JL(),t=[0,1],n=!1,r;function i(a){var o=rft(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(pW(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,HN)).map(pW)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mhe(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},to.apply(i,arguments),Wu(i)}function fhe(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=lmt(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[cw(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ou),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return fhe().domain(e).range(t).unknown(r)},to.apply(a,arguments)}function phe(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[cw(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return phe().domain([e,t]).range(i).unknown(a)},to.apply(Wu(o),arguments)}function ghe(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[cw(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ghe().domain(e).range(t).unknown(n)},to.apply(i,arguments)}const K2=new Date,G2=new Date;function is(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return c},i.filter=a=>is(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(K2.setTime(+a),G2.setTime(+o),e(K2),e(G2),Math.floor(n(K2,G2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const YN=is(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);YN.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?is(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):YN);YN.range;const cc=1e3,Fa=cc*60,dc=Fa*60,Dc=dc*24,s$=Dc*7,gW=Dc*30,Y2=Dc*365,Th=is(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*cc)},(e,t)=>(t-e)/cc,e=>e.getUTCSeconds());Th.range;const i$=is(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cc)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getMinutes());i$.range;const a$=is(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getUTCMinutes());a$.range;const o$=is(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cc-e.getMinutes()*Fa)},(e,t)=>{e.setTime(+e+t*dc)},(e,t)=>(t-e)/dc,e=>e.getHours());o$.range;const l$=is(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*dc)},(e,t)=>(t-e)/dc,e=>e.getUTCHours());l$.range;const hw=is(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fa)/Dc,e=>e.getDate()-1);hw.range;const BC=is(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dc,e=>e.getUTCDate()-1);BC.range;const xhe=is(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dc,e=>Math.floor(e/Dc));xhe.range;function Fm(e){return is(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Fa)/s$)}const UC=Fm(0),XN=Fm(1),sft=Fm(2),ift=Fm(3),jg=Fm(4),aft=Fm(5),oft=Fm(6);UC.range;XN.range;sft.range;ift.range;jg.range;aft.range;oft.range;function Bm(e){return is(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/s$)}const zC=Bm(0),JN=Bm(1),lft=Bm(2),cft=Bm(3),Sg=Bm(4),dft=Bm(5),uft=Bm(6);zC.range;JN.range;lft.range;cft.range;Sg.range;dft.range;uft.range;const c$=is(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());c$.range;const d$=is(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());d$.range;const Lc=is(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Lc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:is(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Lc.range;const $c=is(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$c.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:is(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});$c.range;function yhe(e,t,n,r,i,a){const o=[[Th,1,cc],[Th,5,5*cc],[Th,15,15*cc],[Th,30,30*cc],[a,1,Fa],[a,5,5*Fa],[a,15,15*Fa],[a,30,30*Fa],[i,1,dc],[i,3,3*dc],[i,6,6*dc],[i,12,12*dc],[r,1,Dc],[r,2,2*Dc],[n,1,s$],[t,1,gW],[t,3,3*gW],[e,1,Y2]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const f=h&&typeof h.range=="function"?h:c(d,u,h),p=f?f.range(d,+u+1):[];return m?p.reverse():p}function c(d,u,h){const m=Math.abs(u-d)/h,f=HL(([,,y])=>y).right(o,m);if(f===o.length)return e.every(_R(d/Y2,u/Y2,h));if(f===0)return YN.every(Math.max(_R(d,u,h),1));const[p,g]=o[m/o[f-1][2]<o[f][2]/m?f-1:f];return p.every(g)}return[l,c]}const[hft,mft]=yhe($c,d$,zC,xhe,l$,a$),[fft,pft]=yhe(Lc,c$,UC,hw,o$,i$);function X2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function J2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hy(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function gft(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=my(i),u=fy(i),h=my(a),m=fy(a),f=my(o),p=fy(o),g=my(l),y=fy(l),v=my(c),b=fy(c),w={a:F,A:O,b:L,B:I,c:null,d:jW,e:jW,f:Fft,g:Yft,G:Jft,H:Dft,I:Lft,j:$ft,L:vhe,m:Bft,M:Uft,p:z,q:H,Q:kW,s:_W,S:zft,u:Vft,U:qft,V:Wft,w:Hft,W:Kft,x:null,X:null,y:Gft,Y:Xft,Z:Qft,"%":NW},S={a:U,A:X,b:le,B:de,c:null,d:SW,e:SW,f:npt,g:hpt,G:fpt,H:Zft,I:ept,j:tpt,L:whe,m:rpt,M:spt,p:oe,q:Ne,Q:kW,s:_W,S:ipt,u:apt,U:opt,V:lpt,w:cpt,W:dpt,x:null,X:null,y:upt,Y:mpt,Z:ppt,"%":NW},j={a:T,A,b:P,B:R,c:D,d:bW,e:bW,f:Ift,g:vW,G:yW,H:wW,I:wW,j:Eft,L:Pft,m:Cft,M:Tft,p:C,q:_ft,Q:Rft,s:Mft,S:Aft,u:wft,U:jft,V:Sft,w:bft,W:Nft,x:$,X:M,y:vW,Y:yW,Z:kft,"%":Oft};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(K,he){return function(re){var Q=[],ge=-1,Oe=0,ut=K.length,nt,ne,Xe;for(re instanceof Date||(re=new Date(+re));++ge<ut;)K.charCodeAt(ge)===37&&(Q.push(K.slice(Oe,ge)),(ne=xW[nt=K.charAt(++ge)])!=null?nt=K.charAt(++ge):ne=nt==="e"?" ":"0",(Xe=he[nt])&&(nt=Xe(re,ne)),Q.push(nt),Oe=ge+1);return Q.push(K.slice(Oe,ge)),Q.join("")}}function k(K,he){return function(re){var Q=hy(1900,void 0,1),ge=_(Q,K,re+="",0),Oe,ut;if(ge!=re.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(he&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Oe=J2(hy(Q.y,0,1)),ut=Oe.getUTCDay(),Oe=ut>4||ut===0?JN.ceil(Oe):JN(Oe),Oe=BC.offset(Oe,(Q.V-1)*7),Q.y=Oe.getUTCFullYear(),Q.m=Oe.getUTCMonth(),Q.d=Oe.getUTCDate()+(Q.w+6)%7):(Oe=X2(hy(Q.y,0,1)),ut=Oe.getDay(),Oe=ut>4||ut===0?XN.ceil(Oe):XN(Oe),Oe=hw.offset(Oe,(Q.V-1)*7),Q.y=Oe.getFullYear(),Q.m=Oe.getMonth(),Q.d=Oe.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),ut="Z"in Q?J2(hy(Q.y,0,1)).getUTCDay():X2(hy(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(ut+5)%7:Q.w+Q.U*7-(ut+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,J2(Q)):X2(Q)}}function _(K,he,re,Q){for(var ge=0,Oe=he.length,ut=re.length,nt,ne;ge<Oe;){if(Q>=ut)return-1;if(nt=he.charCodeAt(ge++),nt===37){if(nt=he.charAt(ge++),ne=j[nt in xW?he.charAt(ge++):nt],!ne||(Q=ne(K,re,Q))<0)return-1}else if(nt!=re.charCodeAt(Q++))return-1}return Q}function C(K,he,re){var Q=d.exec(he.slice(re));return Q?(K.p=u.get(Q[0].toLowerCase()),re+Q[0].length):-1}function T(K,he,re){var Q=f.exec(he.slice(re));return Q?(K.w=p.get(Q[0].toLowerCase()),re+Q[0].length):-1}function A(K,he,re){var Q=h.exec(he.slice(re));return Q?(K.w=m.get(Q[0].toLowerCase()),re+Q[0].length):-1}function P(K,he,re){var Q=v.exec(he.slice(re));return Q?(K.m=b.get(Q[0].toLowerCase()),re+Q[0].length):-1}function R(K,he,re){var Q=g.exec(he.slice(re));return Q?(K.m=y.get(Q[0].toLowerCase()),re+Q[0].length):-1}function D(K,he,re){return _(K,t,he,re)}function $(K,he,re){return _(K,n,he,re)}function M(K,he,re){return _(K,r,he,re)}function F(K){return o[K.getDay()]}function O(K){return a[K.getDay()]}function L(K){return c[K.getMonth()]}function I(K){return l[K.getMonth()]}function z(K){return i[+(K.getHours()>=12)]}function H(K){return 1+~~(K.getMonth()/3)}function U(K){return o[K.getUTCDay()]}function X(K){return a[K.getUTCDay()]}function le(K){return c[K.getUTCMonth()]}function de(K){return l[K.getUTCMonth()]}function oe(K){return i[+(K.getUTCHours()>=12)]}function Ne(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var he=N(K+="",w);return he.toString=function(){return K},he},parse:function(K){var he=k(K+="",!1);return he.toString=function(){return K},he},utcFormat:function(K){var he=N(K+="",S);return he.toString=function(){return K},he},utcParse:function(K){var he=k(K+="",!0);return he.toString=function(){return K},he}}}var xW={"-":"",_:" ",0:"0"},ps=/^\s*\d+/,xft=/^%/,yft=/[\\^$*+?|[\]().{}]/g;function dn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function vft(e){return e.replace(yft,"\\$&")}function my(e){return new RegExp("^(?:"+e.map(vft).join("|")+")","i")}function fy(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function bft(e,t,n){var r=ps.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function wft(e,t,n){var r=ps.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function jft(e,t,n){var r=ps.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Sft(e,t,n){var r=ps.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Nft(e,t,n){var r=ps.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function yW(e,t,n){var r=ps.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vW(e,t,n){var r=ps.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kft(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _ft(e,t,n){var r=ps.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Cft(e,t,n){var r=ps.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bW(e,t,n){var r=ps.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Eft(e,t,n){var r=ps.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function wW(e,t,n){var r=ps.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Tft(e,t,n){var r=ps.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Aft(e,t,n){var r=ps.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Pft(e,t,n){var r=ps.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ift(e,t,n){var r=ps.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Oft(e,t,n){var r=xft.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Rft(e,t,n){var r=ps.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Mft(e,t,n){var r=ps.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function jW(e,t){return dn(e.getDate(),t,2)}function Dft(e,t){return dn(e.getHours(),t,2)}function Lft(e,t){return dn(e.getHours()%12||12,t,2)}function $ft(e,t){return dn(1+hw.count(Lc(e),e),t,3)}function vhe(e,t){return dn(e.getMilliseconds(),t,3)}function Fft(e,t){return vhe(e,t)+"000"}function Bft(e,t){return dn(e.getMonth()+1,t,2)}function Uft(e,t){return dn(e.getMinutes(),t,2)}function zft(e,t){return dn(e.getSeconds(),t,2)}function Vft(e){var t=e.getDay();return t===0?7:t}function qft(e,t){return dn(UC.count(Lc(e)-1,e),t,2)}function bhe(e){var t=e.getDay();return t>=4||t===0?jg(e):jg.ceil(e)}function Wft(e,t){return e=bhe(e),dn(jg.count(Lc(e),e)+(Lc(e).getDay()===4),t,2)}function Hft(e){return e.getDay()}function Kft(e,t){return dn(XN.count(Lc(e)-1,e),t,2)}function Gft(e,t){return dn(e.getFullYear()%100,t,2)}function Yft(e,t){return e=bhe(e),dn(e.getFullYear()%100,t,2)}function Xft(e,t){return dn(e.getFullYear()%1e4,t,4)}function Jft(e,t){var n=e.getDay();return e=n>=4||n===0?jg(e):jg.ceil(e),dn(e.getFullYear()%1e4,t,4)}function Qft(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dn(t/60|0,"0",2)+dn(t%60,"0",2)}function SW(e,t){return dn(e.getUTCDate(),t,2)}function Zft(e,t){return dn(e.getUTCHours(),t,2)}function ept(e,t){return dn(e.getUTCHours()%12||12,t,2)}function tpt(e,t){return dn(1+BC.count($c(e),e),t,3)}function whe(e,t){return dn(e.getUTCMilliseconds(),t,3)}function npt(e,t){return whe(e,t)+"000"}function rpt(e,t){return dn(e.getUTCMonth()+1,t,2)}function spt(e,t){return dn(e.getUTCMinutes(),t,2)}function ipt(e,t){return dn(e.getUTCSeconds(),t,2)}function apt(e){var t=e.getUTCDay();return t===0?7:t}function opt(e,t){return dn(zC.count($c(e)-1,e),t,2)}function jhe(e){var t=e.getUTCDay();return t>=4||t===0?Sg(e):Sg.ceil(e)}function lpt(e,t){return e=jhe(e),dn(Sg.count($c(e),e)+($c(e).getUTCDay()===4),t,2)}function cpt(e){return e.getUTCDay()}function dpt(e,t){return dn(JN.count($c(e)-1,e),t,2)}function upt(e,t){return dn(e.getUTCFullYear()%100,t,2)}function hpt(e,t){return e=jhe(e),dn(e.getUTCFullYear()%100,t,2)}function mpt(e,t){return dn(e.getUTCFullYear()%1e4,t,4)}function fpt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Sg(e):Sg.ceil(e),dn(e.getUTCFullYear()%1e4,t,4)}function ppt(){return"+0000"}function NW(){return"%"}function kW(e){return+e}function _W(e){return Math.floor(+e/1e3)}var lf,She,Nhe;gpt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gpt(e){return lf=gft(e),She=lf.format,lf.parse,Nhe=lf.utcFormat,lf.utcParse,lf}function xpt(e){return new Date(e)}function ypt(e){return e instanceof Date?+e:+new Date(+e)}function u$(e,t,n,r,i,a,o,l,c,d){var u=JL(),h=u.invert,m=u.domain,f=d(".%L"),p=d(":%S"),g=d("%I:%M"),y=d("%I %p"),v=d("%a %d"),b=d("%b %d"),w=d("%B"),S=d("%Y");function j(N){return(c(N)<N?f:l(N)<N?p:o(N)<N?g:a(N)<N?y:r(N)<N?i(N)<N?v:b:n(N)<N?w:S)(N)}return u.invert=function(N){return new Date(h(N))},u.domain=function(N){return arguments.length?m(Array.from(N,ypt)):m().map(xpt)},u.ticks=function(N){var k=m();return e(k[0],k[k.length-1],N??10)},u.tickFormat=function(N,k){return k==null?j:d(k)},u.nice=function(N){var k=m();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?m(dhe(k,N)):u},u.copy=function(){return uw(u,u$(e,t,n,r,i,a,o,l,c,d))},u}function vpt(){return to.apply(u$(fft,pft,Lc,c$,UC,hw,o$,i$,Th,She).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bpt(){return to.apply(u$(hft,mft,$c,d$,zC,BC,l$,a$,Th,Nhe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function VC(){var e=0,t=1,n,r,i,a,o=ni,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(a(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var f,p;return arguments.length?([f,p]=m,o=h(f,p),d):[o(0),o(1)]}}return d.range=u(Cx),d.rangeRound=u(XL),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return a=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),d}}function Hu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function khe(){var e=Wu(VC()(ni));return e.copy=function(){return Hu(e,khe())},Hc.apply(e,arguments)}function _he(){var e=e$(VC()).domain([1,10]);return e.copy=function(){return Hu(e,_he()).base(e.base())},Hc.apply(e,arguments)}function Che(){var e=t$(VC());return e.copy=function(){return Hu(e,Che()).constant(e.constant())},Hc.apply(e,arguments)}function h$(){var e=n$(VC());return e.copy=function(){return Hu(e,h$()).exponent(e.exponent())},Hc.apply(e,arguments)}function wpt(){return h$.apply(null,arguments).exponent(.5)}function Ehe(){var e=[],t=ni;function n(r){if(r!=null&&!isNaN(r=+r))return t((cw(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ou),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>omt(e,a/r))},n.copy=function(){return Ehe(t).domain(e)},Hc.apply(n,arguments)}function qC(){var e=0,t=.5,n=1,r=1,i,a,o,l,c,d=ni,u,h=!1,m;function f(g){return isNaN(g=+g)?m:(g=.5+((g=+u(g))-a)*(r*g<r*a?l:c),d(h?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),a=u(t=+t),o=u(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,f):[e,t,n]},f.clamp=function(g){return arguments.length?(h=!!g,f):h},f.interpolator=function(g){return arguments.length?(d=g,f):d};function p(g){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,d=Omt(g,[v,b,w]),f):[d(0),d(.5),d(1)]}}return f.range=p(Cx),f.rangeRound=p(XL),f.unknown=function(g){return arguments.length?(m=g,f):m},function(g){return u=g,i=g(e),a=g(t),o=g(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,f}}function The(){var e=Wu(qC()(ni));return e.copy=function(){return Hu(e,The())},Hc.apply(e,arguments)}function Ahe(){var e=e$(qC()).domain([.1,1,10]);return e.copy=function(){return Hu(e,Ahe()).base(e.base())},Hc.apply(e,arguments)}function Phe(){var e=t$(qC());return e.copy=function(){return Hu(e,Phe()).constant(e.constant())},Hc.apply(e,arguments)}function m$(){var e=n$(qC());return e.copy=function(){return Hu(e,m$()).exponent(e.exponent())},Hc.apply(e,arguments)}function jpt(){return m$.apply(null,arguments).exponent(.5)}const CW=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$0,scaleDiverging:The,scaleDivergingLog:Ahe,scaleDivergingPow:m$,scaleDivergingSqrt:jpt,scaleDivergingSymlog:Phe,scaleIdentity:che,scaleImplicit:CR,scaleLinear:GN,scaleLog:uhe,scaleOrdinal:KL,scalePoint:pv,scalePow:r$,scaleQuantile:fhe,scaleQuantize:phe,scaleRadial:mhe,scaleSequential:khe,scaleSequentialLog:_he,scaleSequentialPow:h$,scaleSequentialQuantile:Ehe,scaleSequentialSqrt:wpt,scaleSequentialSymlog:Che,scaleSqrt:nft,scaleSymlog:hhe,scaleThreshold:ghe,scaleTime:vpt,scaleUtc:bpt,tickFormat:lhe},Symbol.toStringTag,{value:"Module"}));var Spt=yx;function Npt(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(l===void 0?o===o&&!Spt(o):n(o,l)))var l=o,c=a}return c}var WC=Npt;function kpt(e,t){return e>t}var Ihe=kpt,_pt=WC,Cpt=Ihe,Ept=_x;function Tpt(e){return e&&e.length?_pt(e,Ept,Cpt):void 0}var Apt=Tpt;const HC=un(Apt);function Ppt(e,t){return e<t}var Ohe=Ppt,Ipt=WC,Opt=Ohe,Rpt=_x;function Mpt(e){return e&&e.length?Ipt(e,Rpt,Opt):void 0}var Dpt=Mpt;const KC=un(Dpt);var Lpt=CL,$pt=zl,Fpt=Uue,Bpt=Bi;function Upt(e,t){var n=Bpt(e)?Lpt:Fpt;return n(e,$pt(t))}var zpt=Upt,Vpt=Fue,qpt=zpt;function Wpt(e,t){return Vpt(qpt(e,t),1)}var Hpt=Wpt;const Kpt=un(Hpt);var Gpt=zL;function Ypt(e,t){return Gpt(e,t)}var Xpt=Ypt;const mw=un(Xpt);var Ex=1e9,Jpt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},p$,tr=!0,Xa="[DecimalError] ",Jh=Xa+"Invalid argument: ",f$=Xa+"Exponent out of range: ",Tx=Math.floor,hh=Math.pow,Qpt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ta,as=1e7,Hn=7,Rhe=9007199254740991,QN=Tx(Rhe/Hn),Ue={};Ue.absoluteValue=Ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ue.comparedTo=Ue.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Hn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ue.dividedBy=Ue.div=function(e){return yc(this,new this.constructor(e))};Ue.dividedToIntegerBy=Ue.idiv=function(e){var t=this,n=t.constructor;return Tn(yc(t,new n(e),0,1),n.precision)};Ue.equals=Ue.eq=function(e){return!this.cmp(e)};Ue.exponent=function(){return zr(this)};Ue.greaterThan=Ue.gt=function(e){return this.cmp(e)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(e){return this.cmp(e)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(e){return this.cmp(e)<0};Ue.lessThanOrEqualTo=Ue.lte=function(e){return this.cmp(e)<1};Ue.logarithm=Ue.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ta))throw Error(Xa+"NaN");if(n.s<1)throw Error(Xa+(n.s?"NaN":"-Infinity"));return n.eq(ta)?new r(0):(tr=!1,t=yc(V0(n,a),V0(e,a),a),tr=!0,Tn(t,i))};Ue.minus=Ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Lhe(t,e):Mhe(t,(e.s=-e.s,e))};Ue.modulo=Ue.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Xa+"NaN");return n.s?(tr=!1,t=yc(n,e,0,1).times(e),tr=!0,n.minus(t)):Tn(new r(n),i)};Ue.naturalExponential=Ue.exp=function(){return Dhe(this)};Ue.naturalLogarithm=Ue.ln=function(){return V0(this)};Ue.negated=Ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ue.plus=Ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Mhe(t,e):Lhe(t,(e.s=-e.s,e))};Ue.precision=Ue.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Jh+e);if(t=zr(i)+1,r=i.d.length-1,n=r*Hn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ue.squareRoot=Ue.sqrt=function(){var e,t,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Xa+"NaN")}for(e=zr(l),tr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=dl(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Tx((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(yc(l,a,o+2)).times(.5),dl(a.d).slice(0,o)===(t=dl(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Tn(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return tr=!0,Tn(r,n)};Ue.times=Ue.mul=function(e){var t,n,r,i,a,o,l,c,d,u=this,h=u.constructor,m=u.d,f=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,n=u.e+e.e,c=m.length,d=f.length,c<d&&(a=m,m=f,f=a,o=c,c=d,d=o),a=[],o=c+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+f[r]*m[i-r-1]+t,a[i--]=l%as|0,t=l/as|0;a[i]=(a[i]+t)%as|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,tr?Tn(e,h.precision):e};Ue.toDecimalPlaces=Ue.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Il(e,0,Ex),t===void 0?t=r.rounding:Il(t,0,8),Tn(n,e+zr(n)+1,t))};Ue.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=jm(r,!0):(Il(e,0,Ex),t===void 0?t=i.rounding:Il(t,0,8),r=Tn(new i(r),e+1,t),n=jm(r,!0,e+1)),n};Ue.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?jm(i):(Il(e,0,Ex),t===void 0?t=a.rounding:Il(t,0,8),r=Tn(new a(i),e+zr(i)+1,t),n=jm(r.abs(),!1,e+zr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ue.toInteger=Ue.toint=function(){var e=this,t=e.constructor;return Tn(new t(e),zr(e)+1,t.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(e){var t,n,r,i,a,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(ta);if(l=new c(l),!l.s){if(e.s<1)throw Error(Xa+"Infinity");return l}if(l.eq(ta))return l;if(r=c.precision,e.eq(ta))return Tn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=u<0?-u:u)<=Rhe){for(i=new c(ta),t=Math.ceil(r/Hn+4),tr=!1;n%2&&(i=i.times(l),TW(i.d,t)),n=Tx(n/2),n!==0;)l=l.times(l),TW(l.d,t);return tr=!0,e.s<0?new c(ta).div(i):Tn(i,r)}}else if(a<0)throw Error(Xa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,tr=!1,i=e.times(V0(l,r+d)),tr=!0,i=Dhe(i),i.s=a,i};Ue.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=zr(i),r=jm(i,n<=a.toExpNeg||n>=a.toExpPos)):(Il(e,1,Ex),t===void 0?t=a.rounding:Il(t,0,8),i=Tn(new a(i),e,t),n=zr(i),r=jm(i,e<=n||n<=a.toExpNeg,e)),r};Ue.toSignificantDigits=Ue.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Il(e,1,Ex),t===void 0?t=r.rounding:Il(t,0,8)),Tn(new r(n),e,t)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zr(e),n=e.constructor;return jm(e,t<=n.toExpNeg||t>=n.toExpPos)};function Mhe(e,t){var n,r,i,a,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),tr?Tn(t,h):t;if(c=e.d,d=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,i=o,l=c.length),o=Math.ceil(h/Hn),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/as|0,c[a]%=as;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,tr?Tn(t,h):t}function Il(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Jh+e)}function dl(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Hn-r.length,n&&(a+=gd(n)),a+=r;o=e[t],r=o+"",n=Hn-r.length,n&&(a+=gd(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var yc=function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%as|0,o=a/as|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*as+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,d,u,h,m,f,p,g,y,v,b,w,S,j,N,k,_,C=r.constructor,T=r.s==i.s?1:-1,A=r.d,P=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Xa+"Division by zero");for(c=r.e-i.e,k=P.length,j=A.length,f=new C(T),p=f.d=[],d=0;P[d]==(A[d]||0);)++d;if(P[d]>(A[d]||0)&&--c,a==null?b=a=C.precision:o?b=a+(zr(r)-zr(i))+1:b=a,b<0)return new C(0);if(b=b/Hn+2|0,d=0,k==1)for(u=0,P=P[0],b++;(d<j||u)&&b--;d++)w=u*as+(A[d]||0),p[d]=w/P|0,u=w%P|0;else{for(u=as/(P[0]+1)|0,u>1&&(P=e(P,u),A=e(A,u),k=P.length,j=A.length),S=k,g=A.slice(0,k),y=g.length;y<k;)g[y++]=0;_=P.slice(),_.unshift(0),N=P[0],P[1]>=as/2&&++N;do u=0,l=t(P,g,k,y),l<0?(v=g[0],k!=y&&(v=v*as+(g[1]||0)),u=v/N|0,u>1?(u>=as&&(u=as-1),h=e(P,u),m=h.length,y=g.length,l=t(h,g,m,y),l==1&&(u--,n(h,k<m?_:P,m))):(u==0&&(l=u=1),h=P.slice()),m=h.length,m<y&&h.unshift(0),n(g,h,y),l==-1&&(y=g.length,l=t(P,g,k,y),l<1&&(u++,n(g,k<y?_:P,y))),y=g.length):l===0&&(u++,g=[0]),p[d++]=u,l&&g[0]?g[y++]=A[S]||0:(g=[A[S]],y=1);while((S++<j||g[0]!==void 0)&&b--)}return p[0]||p.shift(),f.e=c,Tn(f,o?a+zr(f)+1:a)}}();function Dhe(e,t){var n,r,i,a,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(zr(e)>16)throw Error(f$+zr(e));if(!e.s)return new u(ta);for(t==null?(tr=!1,l=h):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(hh(2,d))/Math.LN10*2+5|0,l+=r,n=i=a=new u(ta),u.precision=l;;){if(i=Tn(i.times(e),l),n=n.times(++c),o=a.plus(yc(i,n,l)),dl(o.d).slice(0,l)===dl(a.d).slice(0,l)){for(;d--;)a=Tn(a.times(a),l);return u.precision=h,t==null?(tr=!0,Tn(a,h)):a}a=o}}function zr(e){for(var t=e.e*Hn,n=e.d[0];n>=10;n/=10)t++;return t}function Q2(e,t,n){if(t>e.LN10.sd())throw tr=!0,n&&(e.precision=n),Error(Xa+"LN10 precision limit exceeded");return Tn(new e(e.LN10),t)}function gd(e){for(var t="";e--;)t+="0";return t}function V0(e,t){var n,r,i,a,o,l,c,d,u,h=1,m=10,f=e,p=f.d,g=f.constructor,y=g.precision;if(f.s<1)throw Error(Xa+(f.s?"NaN":"-Infinity"));if(f.eq(ta))return new g(0);if(t==null?(tr=!1,d=y):d=t,f.eq(10))return t==null&&(tr=!0),Q2(g,d);if(d+=m,g.precision=d,n=dl(p),r=n.charAt(0),a=zr(f),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)f=f.times(e),n=dl(f.d),r=n.charAt(0),h++;a=zr(f),r>1?(f=new g("0."+n),a++):f=new g(r+"."+n.slice(1))}else return c=Q2(g,d+2,y).times(a+""),f=V0(new g(r+"."+n.slice(1)),d-m).plus(c),g.precision=y,t==null?(tr=!0,Tn(f,y)):f;for(l=o=f=yc(f.minus(ta),f.plus(ta),d),u=Tn(f.times(f),d),i=3;;){if(o=Tn(o.times(u),d),c=l.plus(yc(o,new g(i),d)),dl(c.d).slice(0,d)===dl(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(Q2(g,d+2,y).times(a+""))),l=yc(l,new g(h),d),g.precision=y,t==null?(tr=!0,Tn(l,y)):l;l=c,i+=2}}function EW(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Tx(n/Hn),e.d=[],r=(n+1)%Hn,n<0&&(r+=Hn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Hn;r<i;)e.d.push(+t.slice(r,r+=Hn));t=t.slice(r),r=Hn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),tr&&(e.e>QN||e.e<-QN))throw Error(f$+n)}else e.s=0,e.e=0,e.d=[0];return e}function Tn(e,t,n){var r,i,a,o,l,c,d,u,h=e.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Hn,i=t,d=h[u=0];else{if(u=Math.ceil((r+1)/Hn),a=h.length,u>=a)return e;for(d=a=h[u],o=1;a>=10;a/=10)o++;r%=Hn,i=r-Hn+o}if(n!==void 0&&(a=hh(10,o-i-1),l=d/a%10|0,c=t<0||h[u+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/hh(10,o-i):0:h[u-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(a=zr(e),h.length=1,t=t-a-1,h[0]=hh(10,(Hn-t%Hn)%Hn),e.e=Tx(-t/Hn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=u,a=1,u--):(h.length=u+1,a=hh(10,Hn-r),h[u]=i>0?(d/hh(10,o-i)%hh(10,i)|0)*a:0),c)for(;;)if(u==0){(h[0]+=a)==as&&(h[0]=1,++e.e);break}else{if(h[u]+=a,h[u]!=as)break;h[u--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(tr&&(e.e>QN||e.e<-QN))throw Error(f$+zr(e));return e}function Lhe(e,t){var n,r,i,a,o,l,c,d,u,h,m=e.constructor,f=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),tr?Tn(t,f):t;if(c=e.d,h=t.d,r=t.e,d=e.e,c=c.slice(),o=d-r,o){for(u=o<0,u?(n=c,o=-o,l=h.length):(n=h,r=d,l=c.length),i=Math.max(Math.ceil(f/Hn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=h.length,u=i<l,u&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){u=c[i]<h[i];break}o=0}for(u&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=as-1;--c[a],c[i]+=as}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,tr?Tn(t,f):t):new m(0)}function jm(e,t,n){var r,i=zr(e),a=dl(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+gd(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+gd(-i-1)+a,n&&(r=n-o)>0&&(a+=gd(r))):i>=o?(a+=gd(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+gd(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=gd(r))),e.s<0?"-"+a:a}function TW(e,t){if(e.length>t)return e.length=t,!0}function $he(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Jh+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return EW(o,a.toString())}else if(typeof a!="string")throw Error(Jh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Qpt.test(a))EW(o,a);else throw Error(Jh+a)}if(i.prototype=Ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$he,i.config=i.set=Zpt,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Zpt(e){if(!e||typeof e!="object")throw Error(Xa+"Object expected");var t,n,r,i=["precision",1,Ex,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Tx(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Jh+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Jh+n+": "+r);return this}var p$=$he(Jpt);ta=new p$(1);const kn=p$;function egt(e){return sgt(e)||rgt(e)||ngt(e)||tgt()}function tgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ngt(e,t){if(e){if(typeof e=="string")return PR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PR(e,t)}}function rgt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function sgt(e){if(Array.isArray(e))return PR(e)}function PR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var igt=function(t){return t},Fhe={"@@functional/placeholder":!0},Bhe=function(t){return t===Fhe},AW=function(t){return function n(){return arguments.length===0||arguments.length===1&&Bhe(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},agt=function e(t,n){return t===1?n:AW(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==Fhe}).length;return o>=t?n.apply(void 0,i):e(t-o,AW(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=i.map(function(h){return Bhe(h)?c.shift():h});return n.apply(void 0,egt(u).concat(c))}))})},GC=function(t){return agt(t.length,t)},IR=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},ogt=GC(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),lgt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return igt;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},OR=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Uhe=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function cgt(e){var t;return e===0?t=1:t=Math.floor(new kn(e).abs().log(10).toNumber())+1,t}function dgt(e,t,n){for(var r=new kn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var ugt=GC(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),hgt=GC(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),mgt=GC(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const YC={rangeStep:dgt,getDigitCount:cgt,interpolateNumber:ugt,uninterpolateNumber:hgt,uninterpolateTruncation:mgt};function RR(e){return ggt(e)||pgt(e)||zhe(e)||fgt()}function fgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pgt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ggt(e){if(Array.isArray(e))return MR(e)}function q0(e,t){return vgt(e)||ygt(e,t)||zhe(e,t)||xgt()}function xgt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zhe(e,t){if(e){if(typeof e=="string")return MR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MR(e,t)}}function MR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ygt(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function vgt(e){if(Array.isArray(e))return e}function Vhe(e){var t=q0(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function qhe(e,t,n){if(e.lte(0))return new kn(0);var r=YC.getDigitCount(e.toNumber()),i=new kn(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new kn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new kn(Math.ceil(c))}function bgt(e,t,n){var r=1,i=new kn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new kn(10).pow(YC.getDigitCount(e)-1),i=new kn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new kn(Math.floor(e)))}else e===0?i=new kn(Math.floor((t-1)/2)):n||(i=new kn(Math.floor(e)));var o=Math.floor((t-1)/2),l=lgt(ogt(function(c){return i.add(new kn(c-o).mul(r)).toNumber()}),IR);return l(0,t)}function Whe(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new kn(0),tickMin:new kn(0),tickMax:new kn(0)};var a=qhe(new kn(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new kn(0):(o=new kn(e).add(t).div(2),o=o.sub(new kn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new kn(t).sub(o).div(a).toNumber()),d=l+c+1;return d>n?Whe(e,t,n,r,i+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:a,tickMin:o.sub(new kn(l).mul(a)),tickMax:o.add(new kn(c).mul(a))})}function wgt(e){var t=q0(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=Vhe([n,r]),c=q0(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(RR(IR(0,i-1).map(function(){return 1/0}))):[].concat(RR(IR(0,i-1).map(function(){return-1/0})),[u]);return n>r?OR(h):h}if(d===u)return bgt(d,i,a);var m=Whe(d,u,o,a),f=m.step,p=m.tickMin,g=m.tickMax,y=YC.rangeStep(p,g.add(new kn(.1).mul(f)),f);return n>r?OR(y):y}function jgt(e,t){var n=q0(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Vhe([r,i]),l=q0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var u=Math.max(t,2),h=qhe(new kn(d).sub(c).div(u-1),a,0),m=[].concat(RR(YC.rangeStep(new kn(c),new kn(d).sub(new kn(.99).mul(h)),h)),[d]);return r>i?OR(m):m}var Sgt=Uhe(wgt),Ngt=Uhe(jgt),kgt="Invariant failed";function Sm(e,t){throw new Error(kgt)}var _gt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZN.apply(this,arguments)}function Cgt(e,t){return Pgt(e)||Agt(e,t)||Tgt(e,t)||Egt()}function Egt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tgt(e,t){if(e){if(typeof e=="string")return PW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PW(e,t)}}function PW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Agt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Pgt(e){if(Array.isArray(e))return e}function Igt(e,t){if(e==null)return{};var n=Ogt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ogt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Rgt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mgt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ghe(r.key),r)}}function Dgt(e,t,n){return t&&Mgt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lgt(e,t,n){return t=ek(t),$gt(e,Hhe()?Reflect.construct(t,n||[],ek(e).constructor):t.apply(e,n))}function $gt(e,t){if(t&&(Ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fgt(e)}function Fgt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hhe=function(){return!!e})()}function ek(e){return ek=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ek(e)}function Bgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DR(e,t)}function DR(e,t){return DR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DR(e,t)}function Khe(e,t,n){return t=Ghe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ghe(e){var t=Ugt(e,"string");return Ng(t)=="symbol"?t:t+""}function Ugt(e,t){if(Ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fw=function(e){function t(){return Rgt(this,t),Lgt(this,t,arguments)}return Bgt(t,e),Dgt(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,u=r.xAxis,h=r.yAxis,m=Igt(r,_gt),f=st(m,!1);this.props.direction==="x"&&u.type!=="number"&&Sm();var p=c.map(function(g){var y=d(g,l),v=y.x,b=y.y,w=y.value,S=y.errorVal;if(!S)return null;var j=[],N,k;if(Array.isArray(S)){var _=Cgt(S,2);N=_[0],k=_[1]}else N=k=S;if(a==="vertical"){var C=u.scale,T=b+i,A=T+o,P=T-o,R=C(w-N),D=C(w+k);j.push({x1:D,y1:A,x2:D,y2:P}),j.push({x1:R,y1:T,x2:D,y2:T}),j.push({x1:R,y1:A,x2:R,y2:P})}else if(a==="horizontal"){var $=h.scale,M=v+i,F=M-o,O=M+o,L=$(w-N),I=$(w+k);j.push({x1:F,y1:I,x2:O,y2:I}),j.push({x1:M,y1:L,x2:M,y2:I}),j.push({x1:F,y1:L,x2:O,y2:L})}return V.createElement(ln,ZN({className:"recharts-errorBar",key:"bar-".concat(j.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},f),j.map(function(z){return V.createElement("line",ZN({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return V.createElement(ln,{className:"recharts-errorBars"},p)}}])}(V.Component);Khe(fw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Khe(fw,"displayName","ErrorBar");function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function IW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IW(Object(n),!0).forEach(function(r){zgt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zgt(e,t,n){return t=Vgt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vgt(e){var t=qgt(e,"string");return W0(t)=="symbol"?t:t+""}function qgt(e,t){if(W0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(W0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yhe=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Gi(n,Yh);if(!o)return null;var l=Yh.defaultProps,c=l!==void 0?Zu(Zu({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(r||[]).reduce(function(u,h){var m=h.item,f=h.props,p=f.sectors||f.data||[];return u.concat(p.map(function(g){return{type:o.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(r||[]).map(function(u){var h=u.item,m=h.type.defaultProps,f=m!==void 0?Zu(Zu({},m),h.props):{},p=f.dataKey,g=f.name,y=f.legendType,v=f.hide;return{inactive:v,dataKey:p,type:c.iconType||y||"square",color:g$(h),value:g||p,payload:f}}),Zu(Zu(Zu({},c),Yh.getWithHeight(o,i)),{},{payload:d,item:o})};function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function OW(e){return Ggt(e)||Kgt(e)||Hgt(e)||Wgt()}function Wgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hgt(e,t){if(e){if(typeof e=="string")return LR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LR(e,t)}}function Kgt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ggt(e){if(Array.isArray(e))return LR(e)}function LR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RW(Object(n),!0).forEach(function(r){jp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jp(e,t,n){return t=Ygt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ygt(e){var t=Xgt(e,"string");return H0(t)=="symbol"?t:t+""}function Xgt(e,t){if(H0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(H0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function es(e,t,n){return kt(e)||kt(t)?n:ns(t)?la(e,t,n):xt(t)?t(e):n}function gv(e,t,n,r){var i=Kpt(e,function(l){return es(l,t)});if(n==="number"){var a=i.filter(function(l){return Ce(l)||parseFloat(l)});return a.length?[KC(a),HC(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!kt(l)}):i;return o.map(function(l){return ns(l)||l instanceof Date?l:""})}var Jgt=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var u=d>0?i[d-1].coordinate:i[l-1].coordinate,h=i[d].coordinate,m=d>=l-1?i[0].coordinate:i[d+1].coordinate,f=void 0;if(ei(h-u)!==ei(m-h)){var p=[];if(ei(m-h)===ei(c[1]-c[0])){f=m;var g=h+c[1]-c[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{f=u;var y=m+c[1]-c[0];p[0]=Math.min(h,(y+h)/2),p[1]=Math.max(h,(y+h)/2)}var v=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(t>v[0]&&t<=v[1]||t>=p[0]&&t<=p[1]){o=i[d].index;break}}else{var b=Math.min(u,m),w=Math.max(u,m);if(t>(b+h)/2&&t<=(w+h)/2){o=i[d].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<l-1&&t>(r[S].coordinate+r[S-1].coordinate)/2&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S===l-1&&t>(r[S].coordinate+r[S-1].coordinate)/2){o=r[S].index;break}return o},g$=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?br(br({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Qgt=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var u=a[l[c]].stackGroups,h=Object.keys(u),m=0,f=h.length;m<f;m++){var p=u[h[m]],g=p.items,y=p.cateAxisId,v=g.filter(function(k){return xc(k.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,w=b!==void 0?br(br({},b),v[0].props):v[0].props,S=w.barSize,j=w[y];o[j]||(o[j]=[]);var N=kt(S)?n:S;o[j].push({item:v[0],stackList:v.slice(1),barSize:kt(N)?void 0:ti(N,r,0)})}}return o},Zgt=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=ti(n,i,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,f=i/c,p=o.reduce(function(S,j){return S+j.barSize||0},0);p+=(c-1)*d,p>=i&&(p-=(c-1)*d,d=0),p>=i&&f>0&&(m=!0,f*=.9,p=c*f);var g=(i-p)/2>>0,y={offset:g-d,size:0};u=o.reduce(function(S,j){var N={item:j.item,position:{offset:y.offset+y.size+d,size:m?f:j.barSize}},k=[].concat(OW(S),[N]);return y=k[k.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(_){k.push({item:_,position:y})}),k},h)}else{var v=ti(r,i,0,!0);i-2*v-(c-1)*d<=0&&(d=0);var b=(i-2*v-(c-1)*d)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;u=o.reduce(function(S,j,N){var k=[].concat(OW(S),[{item:j.item,position:{offset:v+(b+d)*N+(b-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(_){k.push({item:_,position:k[k.length-1].position})}),k},h)}return u},ext=function(t,n,r,i){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),d=Yhe({children:a,legendWidth:c});if(d){var u=i||{},h=u.width,m=u.height,f=d.align,p=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&f!=="center"&&Ce(t[f]))return br(br({},t),{},jp({},f,t[f]+(h||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&p!=="middle"&&Ce(t[p]))return br(br({},t),{},jp({},p,t[p]+(m||0)))}return t},txt=function(t,n,r){return kt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Xhe=function(t,n,r,i,a){var o=n.props.children,l=ca(o,fw).filter(function(d){return txt(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var h=es(u,r);if(kt(h))return d;var m=Array.isArray(h)?[KC(h),HC(h)]:[h,h],f=c.reduce(function(p,g){var y=es(u,g,0),v=m[0]-Math.abs(Array.isArray(y)?y[0]:y),b=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},nxt=function(t,n,r,i,a){var o=n.map(function(l){return Xhe(t,l,r,a,i)}).filter(function(l){return!kt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Jhe=function(t,n,r,i,a){var o=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&Xhe(t,c,d,i)||gv(t,d,r,a)});if(r==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},Qhe=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Zhe=function(t,n,r,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},uc=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ei(l[0]-l[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var m=a?a.indexOf(h):h;return{coordinate:i(m)+d,value:h,offset:d}});return u.filter(function(h){return!aw(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,m){return{coordinate:i(h)+d,value:h,index:m,offset:d}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+d,value:h,offset:d}}):i.domain().map(function(h,m){return{coordinate:i(h)+d,value:a?a[h]:h,index:m,offset:d}})},Z2=new WeakMap,P1=function(t,n){if(typeof n!="function")return t;Z2.has(t)||Z2.set(t,new WeakMap);var r=Z2.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},eme=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:$0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:GN(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:pv(),realScaleType:"point"}:a==="category"?{scale:$0(),realScaleType:"band"}:{scale:GN(),realScaleType:"linear"};if(vm(i)){var c="scale".concat(IC(i));return{scale:(CW[c]||pv)(),realScaleType:CW[c]?c:"point"}}return xt(i)?{scale:i}:{scale:pv(),realScaleType:"point"}},MW=1e-4,tme=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-MW,o=Math.max(i[0],i[1])+MW,l=t(n[0]),c=t(n[r-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[r-1]])}},rxt=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},sxt=function(t,n){if(!n||n.length!==2||!Ce(n[0])||!Ce(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Ce(t[0])||t[0]<r)&&(a[0]=r),(!Ce(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},ixt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var c=aw(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},axt=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=aw(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},oxt={sign:ixt,expand:_rt,none:gg,silhouette:Crt,wiggle:Ert,positive:axt},lxt=function(t,n,r){var i=n.map(function(l){return l.props.dataKey}),a=oxt[r],o=krt().keys(i).value(function(l,c){return+es(l,c,0)}).order(lR).offset(a);return o(t)},cxt=function(t,n,r,i,a,o){if(!t)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(h,m){var f,p=(f=m.type)!==null&&f!==void 0&&f.defaultProps?br(br({},m.type.defaultProps),m.props):m.props,g=p.stackId,y=p.hide;if(y)return h;var v=p[r],b=h[v]||{hasStack:!1,stackGroups:{}};if(ns(g)){var w=b.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(m),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[Sx("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return br(br({},h),{},jp({},v,b))},c),u={};return Object.keys(d).reduce(function(h,m){var f=d[m];if(f.hasStack){var p={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,y){var v=f.stackGroups[y];return br(br({},g),{},jp({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:lxt(t,v.items,a)}))},p)}return br(br({},h),{},jp({},m,f))},u)},nme=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=Sgt(d,a,l);return t.domain([KC(u),HC(u)]),{niceTicks:u}}if(a&&i==="number"){var h=t.domain(),m=Ngt(h,a,l);return{niceTicks:m}}return null};function DW(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kt(i[t.dataKey])){var l=_N(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=es(i,kt(o)?t.dataKey:o);return kt(c)?null:t.scale(c)}var LW=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=es(o,n.dataKey,n.domain[l]);return kt(c)?null:n.scale(c)-a/2+i},dxt=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},uxt=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?br(br({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(ns(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},hxt=function(t){return t.reduce(function(n,r){return[KC(r.concat([n[0]]).filter(Ce)),HC(r.concat([n[1]]).filter(Ce))]},[1/0,-1/0])},rme=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(d,u){var h=hxt(u.slice(n,r+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},$W=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FW=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$R=function(t,n,r){if(xt(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Ce(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if($W.test(t[0])){var a=+$W.exec(t[0])[1];i[0]=n[0]-a}else xt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ce(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(FW.test(t[1])){var o=+FW.exec(t[1])[1];i[1]=n[1]+o}else xt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},tk=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=qL(n,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],u=a[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},BW=function(t,n,r){return!t||!t.length||mw(t,la(r,"type.defaultProps.domain"))?n:t},sme=function(t,n){var r=t.type.defaultProps?br(br({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,u=r.hide;return br(br({},st(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:g$(t),value:es(n,i),type:c,payload:n,chartType:d,hide:u})};function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function UW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UW(Object(n),!0).forEach(function(r){ime(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ime(e,t,n){return t=mxt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mxt(e){var t=fxt(e,"string");return K0(t)=="symbol"?t:t+""}function fxt(e,t){if(K0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(K0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pxt(e,t){return vxt(e)||yxt(e,t)||xxt(e,t)||gxt()}function gxt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xxt(e,t){if(e){if(typeof e=="string")return zW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zW(e,t)}}function zW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yxt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function vxt(e){if(Array.isArray(e))return e}var nk=Math.PI/180,bxt=function(t){return t*180/Math.PI},Un=function(t,n,r,i){return{x:t+Math.cos(-nk*i)*r,y:n+Math.sin(-nk*i)*r}},ame=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},wxt=function(t,n,r,i,a){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=ti(t.cx,o,o/2),h=ti(t.cy,l,l/2),m=ame(o,l,r),f=ti(t.innerRadius,m,0),p=ti(t.outerRadius,m,m*.8),g=Object.keys(n);return g.reduce(function(y,v){var b=n[v],w=b.domain,S=b.reversed,j;if(kt(b.range))i==="angleAxis"?j=[c,d]:i==="radiusAxis"&&(j=[f,p]),S&&(j=[j[1],j[0]]);else{j=b.range;var N=j,k=pxt(N,2);c=k[0],d=k[1]}var _=eme(b,a),C=_.realScaleType,T=_.scale;T.domain(w).range(j),tme(T);var A=nme(T,Zl(Zl({},b),{},{realScaleType:C})),P=Zl(Zl(Zl({},b),A),{},{range:j,radius:p,realScaleType:C,scale:T,cx:u,cy:h,innerRadius:f,outerRadius:p,startAngle:c,endAngle:d});return Zl(Zl({},y),{},ime({},v,P))},{})},jxt=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Sxt=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,l=jxt({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:bxt(d),angleInRadian:d}},Nxt=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},kxt=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},VW=function(t,n){var r=t.x,i=t.y,a=Sxt({x:r,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=Nxt(n),h=u.startAngle,m=u.endAngle,f=l,p;if(h<=m){for(;f>m;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=m}else{for(;f>h;)f-=360;for(;f<m;)f+=360;p=f>=m&&f<=h}return p?Zl(Zl({},n),{},{radius:o,angle:kxt(f,n)}):null},ome=function(t){return!x.isValidElement(t)&&!xt(t)&&typeof t!="boolean"?t.className:""};function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}var _xt=["offset"];function Cxt(e){return Pxt(e)||Axt(e)||Txt(e)||Ext()}function Ext(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Txt(e,t){if(e){if(typeof e=="string")return FR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FR(e,t)}}function Axt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pxt(e){if(Array.isArray(e))return FR(e)}function FR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ixt(e,t){if(e==null)return{};var n=Oxt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Oxt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function qW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qW(Object(n),!0).forEach(function(r){Rxt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rxt(e,t,n){return t=Mxt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mxt(e){var t=Dxt(e,"string");return G0(t)=="symbol"?t:t+""}function Dxt(e,t){if(G0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(G0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y0.apply(this,arguments)}var Lxt=function(t){var n=t.value,r=t.formatter,i=kt(t.children)?n:t.children;return xt(r)?r(i):i},$xt=function(t,n){var r=ei(n-t),i=Math.min(Math.abs(n-t),360);return r*i},Fxt=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,d=c.cx,u=c.cy,h=c.innerRadius,m=c.outerRadius,f=c.startAngle,p=c.endAngle,g=c.clockWise,y=(h+m)/2,v=$xt(f,p),b=v>=0?1:-1,w,S;i==="insideStart"?(w=f+b*o,S=g):i==="insideEnd"?(w=p-b*o,S=!g):i==="end"&&(w=p+b*o,S=g),S=v<=0?S:!S;var j=Un(d,u,y,w),N=Un(d,u,y,w+(S?1:-1)*359),k="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),_=kt(t.id)?Sx("recharts-radial-line-"):t.id;return V.createElement("text",Y0({},r,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:_,d:k})),V.createElement("textPath",{xlinkHref:"#".concat(_)},n))},Bxt=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,u=a.startAngle,h=a.endAngle,m=(u+h)/2;if(i==="outside"){var f=Un(o,l,d+r,m),p=f.x,g=f.y;return{x:p,y:g,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,v=Un(o,l,y,m),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Uxt=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,m=h*i,f=h>0?"end":"start",p=h>0?"start":"end",g=d>=0?1:-1,y=g*i,v=g>0?"end":"start",b=g>0?"start":"end";if(a==="top"){var w={x:l+d/2,y:c-h*i,textAnchor:"middle",verticalAnchor:f};return Kr(Kr({},w),r?{height:Math.max(c-r.y,0),width:d}:{})}if(a==="bottom"){var S={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:p};return Kr(Kr({},S),r?{height:Math.max(r.y+r.height-(c+u),0),width:d}:{})}if(a==="left"){var j={x:l-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return Kr(Kr({},j),r?{width:Math.max(j.x-r.x,0),height:u}:{})}if(a==="right"){var N={x:l+d+y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Kr(Kr({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:u}:{})}var k=r?{width:d,height:u}:{};return a==="insideLeft"?Kr({x:l+y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},k):a==="insideRight"?Kr({x:l+d-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},k):a==="insideTop"?Kr({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:p},k):a==="insideBottom"?Kr({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:f},k):a==="insideTopLeft"?Kr({x:l+y,y:c+m,textAnchor:b,verticalAnchor:p},k):a==="insideTopRight"?Kr({x:l+d-y,y:c+m,textAnchor:v,verticalAnchor:p},k):a==="insideBottomLeft"?Kr({x:l+y,y:c+u-m,textAnchor:b,verticalAnchor:f},k):a==="insideBottomRight"?Kr({x:l+d-y,y:c+u-m,textAnchor:v,verticalAnchor:f},k):vx(a)&&(Ce(a.x)||Ch(a.x))&&(Ce(a.y)||Ch(a.y))?Kr({x:l+ti(a.x,d),y:c+ti(a.y,u),textAnchor:"end",verticalAnchor:"end"},k):Kr({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},zxt=function(t){return"cx"in t&&Ce(t.cx)};function ds(e){var t=e.offset,n=t===void 0?5:t,r=Ixt(e,_xt),i=Kr({offset:n},r),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,u=i.className,h=u===void 0?"":u,m=i.textBreakAll;if(!a||kt(l)&&kt(c)&&!x.isValidElement(d)&&!xt(d))return null;if(x.isValidElement(d))return x.cloneElement(d,i);var f;if(xt(d)){if(f=x.createElement(d,i),x.isValidElement(f))return f}else f=Lxt(i);var p=zxt(a),g=st(i,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Fxt(i,f,g);var y=p?Bxt(i):Uxt(i);return V.createElement(wm,Y0({className:Et("recharts-label",h)},g,y,{breakAll:m}),f)}ds.displayName="Label";var lme=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,h=t.x,m=t.y,f=t.top,p=t.left,g=t.width,y=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ce(g)&&Ce(y)){if(Ce(h)&&Ce(m))return{x:h,y:m,width:g,height:y};if(Ce(f)&&Ce(p))return{x:f,y:p,width:g,height:y}}return Ce(h)&&Ce(m)?{x:h,y:m,width:0,height:0}:Ce(n)&&Ce(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},Vxt=function(t,n){return t?t===!0?V.createElement(ds,{key:"label-implicit",viewBox:n}):ns(t)?V.createElement(ds,{key:"label-implicit",viewBox:n,value:t}):x.isValidElement(t)?t.type===ds?x.cloneElement(t,{key:"label-implicit",viewBox:n}):V.createElement(ds,{key:"label-implicit",content:t,viewBox:n}):xt(t)?V.createElement(ds,{key:"label-implicit",content:t,viewBox:n}):vx(t)?V.createElement(ds,Y0({viewBox:n},t,{key:"label-implicit"})):null:null},qxt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=lme(t),o=ca(i,ds).map(function(c,d){return x.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!r)return o;var l=Vxt(t.label,n||a);return[l].concat(Cxt(o))};ds.parseViewBox=lme;ds.renderCallByParent=qxt;function Wxt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Hxt=Wxt;const Kxt=un(Hxt);function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}var Gxt=["valueAccessor"],Yxt=["data","dataKey","clockWise","id","textBreakAll"];function Xxt(e){return eyt(e)||Zxt(e)||Qxt(e)||Jxt()}function Jxt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qxt(e,t){if(e){if(typeof e=="string")return BR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BR(e,t)}}function Zxt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eyt(e){if(Array.isArray(e))return BR(e)}function BR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rk(){return rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rk.apply(this,arguments)}function WW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WW(Object(n),!0).forEach(function(r){tyt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tyt(e,t,n){return t=nyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nyt(e){var t=ryt(e,"string");return X0(t)=="symbol"?t:t+""}function ryt(e,t){if(X0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(X0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KW(e,t){if(e==null)return{};var n=syt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function syt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var iyt=function(t){return Array.isArray(t.value)?Kxt(t.value):t.value};function vc(e){var t=e.valueAccessor,n=t===void 0?iyt:t,r=KW(e,Gxt),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=KW(r,Yxt);return!i||!i.length?null:V.createElement(ln,{className:"recharts-label-list"},i.map(function(u,h){var m=kt(a)?n(u,h):es(u&&u.payload,a),f=kt(l)?{}:{id:"".concat(l,"-").concat(h)};return V.createElement(ds,rk({},st(u,!0),d,f,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:ds.parseViewBox(kt(o)?u:HW(HW({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}vc.displayName="LabelList";function ayt(e,t){return e?e===!0?V.createElement(vc,{key:"labelList-implicit",data:t}):V.isValidElement(e)||xt(e)?V.createElement(vc,{key:"labelList-implicit",data:t,content:e}):vx(e)?V.createElement(vc,rk({data:t},e,{key:"labelList-implicit"})):null:null}function oyt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=ca(r,vc).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=ayt(e.label,t);return[a].concat(Xxt(i))}vc.renderCallByParent=oyt;function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function UR(){return UR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UR.apply(this,arguments)}function GW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GW(Object(n),!0).forEach(function(r){lyt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lyt(e,t,n){return t=cyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cyt(e){var t=dyt(e,"string");return J0(t)=="symbol"?t:t+""}function dyt(e,t){if(J0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(J0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uyt=function(t,n){var r=ei(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},I1=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+i,h=Math.asin(c/u)/nk,m=d?a:a+o*h,f=Un(n,r,u,m),p=Un(n,r,i,m),g=d?a-o*h:a,y=Un(n,r,u*Math.cos(h*nk),g);return{center:f,circleTangency:p,lineTangency:y,theta:h}},cme=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=uyt(o,l),d=o+c,u=Un(n,r,a,o),h=Un(n,r,a,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var f=Un(n,r,i,o),p=Un(n,r,i,d);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},hyt=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=ei(u-d),m=I1({cx:n,cy:r,radius:a,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),f=m.circleTangency,p=m.lineTangency,g=m.theta,y=I1({cx:n,cy:r,radius:a,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),v=y.circleTangency,b=y.lineTangency,w=y.theta,S=c?Math.abs(d-u):Math.abs(d-u)-g-w;if(S<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):cme({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:u});var j="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var N=I1({cx:n,cy:r,radius:i,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=N.circleTangency,_=N.lineTangency,C=N.theta,T=I1({cx:n,cy:r,radius:i,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=T.circleTangency,P=T.lineTangency,R=T.theta,D=c?Math.abs(d-u):Math.abs(d-u)-C-R;if(D<0&&o===0)return"".concat(j,"L").concat(n,",").concat(r,"Z");j+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,"Z")}else j+="L".concat(n,",").concat(r,"Z");return j},myt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dme=function(t){var n=YW(YW({},myt),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,h=n.endAngle,m=n.className;if(o<a||u===h)return null;var f=Et("recharts-sector",m),p=o-a,g=ti(l,p,0,!0),y;return g>0&&Math.abs(u-h)<360?y=hyt({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):y=cme({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:h}),V.createElement("path",UR({},st(n,!0),{className:f,d:y,role:"img"}))};function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function zR(){return zR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zR.apply(this,arguments)}function XW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XW(Object(n),!0).forEach(function(r){fyt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fyt(e,t,n){return t=pyt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pyt(e){var t=gyt(e,"string");return Q0(t)=="symbol"?t:t+""}function gyt(e,t){if(Q0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QW={curveBasisClosed:frt,curveBasisOpen:prt,curveBasis:mrt,curveBumpX:Znt,curveBumpY:ert,curveLinearClosed:grt,curveLinear:RC,curveMonotoneX:xrt,curveMonotoneY:yrt,curveNatural:vrt,curveStep:brt,curveStepAfter:jrt,curveStepBefore:wrt},O1=function(t){return t.x===+t.x&&t.y===+t.y},py=function(t){return t.x},gy=function(t){return t.y},xyt=function(t,n){if(xt(t))return t;var r="curve".concat(IC(t));return(r==="curveMonotone"||r==="curveBump")&&n?QW["".concat(r).concat(n==="vertical"?"Y":"X")]:QW[r]||RC},yyt=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=xyt(r,l),h=d?a.filter(function(g){return O1(g)}):a,m;if(Array.isArray(o)){var f=d?o.filter(function(g){return O1(g)}):o,p=h.map(function(g,y){return JW(JW({},g),{},{base:f[y]})});return l==="vertical"?m=S1().y(gy).x1(py).x0(function(g){return g.base.x}):m=S1().x(py).y1(gy).y0(function(g){return g.base.y}),m.defined(O1).curve(u),m(p)}return l==="vertical"&&Ce(o)?m=S1().y(gy).x1(py).x0(o):Ce(o)?m=S1().x(py).y1(gy).y0(o):m=sue().x(py).y(gy),m.defined(O1).curve(u),m(h)},sk=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?yyt(t):i;return x.createElement("path",zR({},st(t,!1),CN(t),{className:Et("recharts-curve",n),d:o,ref:a}))},ume={exports:{}},vyt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",byt=vyt,wyt=byt;function hme(){}function mme(){}mme.resetWarningCache=hme;var jyt=function(){function e(r,i,a,o,l,c){if(c!==wyt){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mme,resetWarningCache:hme};return n.PropTypes=n,n};ume.exports=jyt();var Syt=ume.exports;const pn=un(Syt);var Nyt=Object.getOwnPropertyNames,kyt=Object.getOwnPropertySymbols,_yt=Object.prototype.hasOwnProperty;function ZW(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function R1(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=e(n,r,i);return a.delete(n),a.delete(r),c}}function eH(e){return Nyt(e).concat(kyt(e))}var Cyt=Object.hasOwn||function(e,t){return _yt.call(e,t)};function Um(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Eyt="__v",Tyt="__o",Ayt="_owner",tH=Object.getOwnPropertyDescriptor,nH=Object.keys;function Pyt(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Iyt(e,t){return Um(e.getTime(),t.getTime())}function Oyt(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ryt(e,t){return e===t}function rH(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var d=t.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(i[h]){h++;continue}var m=o.value,f=l.value;if(n.equals(m[0],f[0],c,h,e,t,n)&&n.equals(m[1],f[1],m[0],f[0],e,t,n)){u=i[h]=!0;break}h++}if(!u)return!1;c++}return!0}var Myt=Um;function Dyt(e,t,n){var r=nH(e),i=r.length;if(nH(t).length!==i)return!1;for(;i-- >0;)if(!fme(e,t,n,r[i]))return!1;return!0}function xy(e,t,n){var r=eH(e),i=r.length;if(eH(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=r[i],!fme(e,t,n,a)||(o=tH(e,a),l=tH(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Lyt(e,t){return Um(e.valueOf(),t.valueOf())}function $yt(e,t){return e.source===t.source&&e.flags===t.flags}function sH(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!i[u]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=i[u]=!0;break}u++}if(!d)return!1}return!0}function Fyt(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Byt(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function fme(e,t,n,r){return(r===Ayt||r===Tyt||r===Eyt)&&(e.$$typeof||t.$$typeof)?!0:Cyt(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Uyt="[object Arguments]",zyt="[object Boolean]",Vyt="[object Date]",qyt="[object Error]",Wyt="[object Map]",Hyt="[object Number]",Kyt="[object Object]",Gyt="[object RegExp]",Yyt="[object Set]",Xyt="[object String]",Jyt="[object URL]",Qyt=Array.isArray,iH=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,aH=Object.assign,Zyt=Object.prototype.toString.call.bind(Object.prototype.toString);function evt(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(p,g,y){if(p===g)return!0;if(p==null||g==null)return!1;var v=typeof p;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?o(p,g,y):v==="function"?i(p,g,y):!1;var b=p.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(p,g,y);if(Qyt(p))return t(p,g,y);if(iH!=null&&iH(p))return h(p,g,y);if(b===Date)return n(p,g,y);if(b===RegExp)return d(p,g,y);if(b===Map)return a(p,g,y);if(b===Set)return u(p,g,y);var w=Zyt(p);return w===Vyt?n(p,g,y):w===Gyt?d(p,g,y):w===Wyt?a(p,g,y):w===Yyt?u(p,g,y):w===Kyt?typeof p.then!="function"&&typeof g.then!="function"&&l(p,g,y):w===Jyt?m(p,g,y):w===qyt?r(p,g,y):w===Uyt?l(p,g,y):w===zyt||w===Hyt||w===Xyt?c(p,g,y):!1}}function tvt(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?xy:Pyt,areDatesEqual:Iyt,areErrorsEqual:Oyt,areFunctionsEqual:Ryt,areMapsEqual:r?ZW(rH,xy):rH,areNumbersEqual:Myt,areObjectsEqual:r?xy:Dyt,arePrimitiveWrappersEqual:Lyt,areRegExpsEqual:$yt,areSetsEqual:r?ZW(sH,xy):sH,areTypedArraysEqual:r?xy:Fyt,areUrlsEqual:Byt};if(n&&(i=aH({},i,n(i))),t){var a=R1(i.areArraysEqual),o=R1(i.areMapsEqual),l=R1(i.areObjectsEqual),c=R1(i.areSetsEqual);i=aH({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function nvt(e){return function(t,n,r,i,a,o,l){return e(t,n,l)}}function rvt(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(c,d){var u=r(),h=u.cache,m=h===void 0?t?new WeakMap:void 0:h,f=u.meta;return n(c,d,{cache:m,equals:i,meta:f,strict:a})};if(t)return function(c,d){return n(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,d){return n(c,d,o)}}var svt=Ku();Ku({strict:!0});Ku({circular:!0});Ku({circular:!0,strict:!0});Ku({createInternalComparator:function(){return Um}});Ku({strict:!0,createInternalComparator:function(){return Um}});Ku({circular:!0,createInternalComparator:function(){return Um}});Ku({circular:!0,createInternalComparator:function(){return Um},strict:!0});function Ku(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=tvt(e),c=evt(l),d=r?r(c):nvt(c);return rvt({circular:n,comparator:c,createState:i,equals:d,strict:o})}function ivt(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function oH(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):ivt(i)};requestAnimationFrame(r)}function VR(e){"@babel/helpers - typeof";return VR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VR(e)}function avt(e){return dvt(e)||cvt(e)||lvt(e)||ovt()}function ovt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lvt(e,t){if(e){if(typeof e=="string")return lH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lH(e,t)}}function lH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cvt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dvt(e){if(Array.isArray(e))return e}function uvt(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=avt(o),c=l[0],d=l.slice(1);if(typeof c=="number"){oH(i.bind(null,d),c);return}i(c),oH(i.bind(null,d));return}VR(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function cH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cH(Object(n),!0).forEach(function(r){pme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pme(e,t,n){return t=hvt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hvt(e){var t=mvt(e,"string");return Z0(t)==="symbol"?t:String(t)}function mvt(e,t){if(Z0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Z0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fvt=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},pvt=function(t){return t},gvt=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xv=function(t,n){return Object.keys(n).reduce(function(r,i){return dH(dH({},r),{},pme({},i,t(i,n[i])))},{})},uH=function(t,n,r){return t.map(function(i){return"".concat(gvt(i)," ").concat(n,"ms ").concat(r)}).join(",")};function xvt(e,t){return bvt(e)||vvt(e,t)||gme(e,t)||yvt()}function yvt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vvt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function bvt(e){if(Array.isArray(e))return e}function wvt(e){return Nvt(e)||Svt(e)||gme(e)||jvt()}function jvt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gme(e,t){if(e){if(typeof e=="string")return qR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qR(e,t)}}function Svt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nvt(e){if(Array.isArray(e))return qR(e)}function qR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ik=1e-4,xme=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},yme=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},hH=function(t,n){return function(r){var i=xme(t,n);return yme(i,r)}},kvt=function(t,n){return function(r){var i=xme(t,n),a=[].concat(wvt(i.map(function(o,l){return o*l}).slice(1)),[0]);return yme(a,r)}},mH=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=xvt(d,4);i=u[0],a=u[1],o=u[2],l=u[3]}}}var h=hH(i,o),m=hH(a,l),f=kvt(i,o),p=function(v){return v>1?1:v<0?0:v},g=function(v){for(var b=v>1?1:v,w=b,S=0;S<8;++S){var j=h(w)-b,N=f(w);if(Math.abs(j-b)<ik||N<ik)return m(w);w=p(w-j/N)}return m(w)};return g.isStepper=!1,g},_vt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(u,h,m){var f=-(u-h)*r,p=m*a,g=m+(f-p)*l/1e3,y=m*l/1e3+u;return Math.abs(y-h)<ik&&Math.abs(g)<ik?[h,0]:[y,g]};return c.isStepper=!0,c.dt=l,c},Cvt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mH(i);case"spring":return _vt();default:if(i.split("(")[0]==="cubic-bezier")return mH(i)}return typeof i=="function"?i:null};function eb(e){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eb(e)}function fH(e){return Avt(e)||Tvt(e)||vme(e)||Evt()}function Evt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tvt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Avt(e){if(Array.isArray(e))return HR(e)}function pH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pH(Object(n),!0).forEach(function(r){WR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WR(e,t,n){return t=Pvt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pvt(e){var t=Ivt(e,"string");return eb(t)==="symbol"?t:String(t)}function Ivt(e,t){if(eb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ovt(e,t){return Dvt(e)||Mvt(e,t)||vme(e,t)||Rvt()}function Rvt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vme(e,t){if(e){if(typeof e=="string")return HR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HR(e,t)}}function HR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mvt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Dvt(e){if(Array.isArray(e))return e}var ak=function(t,n,r){return t+(n-t)*r},KR=function(t){var n=t.from,r=t.to;return n!==r},Lvt=function e(t,n,r){var i=xv(function(a,o){if(KR(o)){var l=t(o.from,o.to,o.velocity),c=Ovt(l,2),d=c[0],u=c[1];return ys(ys({},o),{},{from:d,velocity:u})}return o},n);return r<1?xv(function(a,o){return KR(o)?ys(ys({},o),{},{velocity:ak(o.velocity,i[a].velocity,r),from:ak(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const $vt=function(e,t,n,r,i){var a=fvt(e,t),o=a.reduce(function(y,v){return ys(ys({},y),{},WR({},v,[e[v],t[v]]))},{}),l=a.reduce(function(y,v){return ys(ys({},y),{},WR({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,d,u,h=function(){return null},m=function(){return xv(function(v,b){return b.from},l)},f=function(){return!Object.values(l).filter(KR).length},p=function(v){d||(d=v);var b=v-d,w=b/n.dt;l=Lvt(n,l,w),i(ys(ys(ys({},e),t),m())),d=v,f()||(c=requestAnimationFrame(h))},g=function(v){u||(u=v);var b=(v-u)/r,w=xv(function(j,N){return ak.apply(void 0,fH(N).concat([n(b)]))},o);if(i(ys(ys(ys({},e),t),w)),b<1)c=requestAnimationFrame(h);else{var S=xv(function(j,N){return ak.apply(void 0,fH(N).concat([n(1)]))},o);i(ys(ys(ys({},e),t),S))}};return h=n.isStepper?p:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}var Fvt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Bvt(e,t){if(e==null)return{};var n=Uvt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Uvt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function eA(e){return Wvt(e)||qvt(e)||Vvt(e)||zvt()}function zvt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vvt(e,t){if(e){if(typeof e=="string")return GR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GR(e,t)}}function qvt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wvt(e){if(Array.isArray(e))return GR(e)}function GR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gH(Object(n),!0).forEach(function(r){$y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $y(e,t,n){return t=bme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kvt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bme(r.key),r)}}function Gvt(e,t,n){return t&&Kvt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bme(e){var t=Yvt(e,"string");return kg(t)==="symbol"?t:String(t)}function Yvt(e,t){if(kg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xvt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YR(e,t)}function YR(e,t){return YR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YR(e,t)}function Jvt(e){var t=Qvt();return function(){var r=ok(e),i;if(t){var a=ok(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return XR(this,i)}}function XR(e,t){if(t&&(kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JR(e)}function JR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qvt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ok(e){return ok=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ok(e)}var Ol=function(e){Xvt(n,e);var t=Jvt(n);function n(r,i){var a;Hvt(this,n),a=t.call(this,r,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,m=o.children,f=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(JR(a)),a.changeStyle=a.changeStyle.bind(JR(a)),!l||f<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:u}),XR(a);if(h&&h.length)a.state={style:h[0].style};else if(d){if(typeof m=="function")return a.state={style:d},XR(a);a.state={style:c?$y({},c,d):d}}else a.state={style:{}};return a}return Gvt(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,u=a.to,h=a.from,m=this.state.style;if(l){if(!o){var f={style:c?$y({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(f);return}if(!(svt(i.to,u)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||d?h:i.to;if(this.state&&m){var y={style:c?$y({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(y)}this.runAnimation(co(co({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,u=i.begin,h=i.onAnimationEnd,m=i.onAnimationStart,f=$vt(o,l,Cvt(d),c,this.changeStyle),p=function(){a.stopJSAnimation=f()};this.manager.start([m,u,p,c,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],u=d.style,h=d.duration,m=h===void 0?0:h,f=function(g,y,v){if(v===0)return g;var b=y.duration,w=y.easing,S=w===void 0?"ease":w,j=y.style,N=y.properties,k=y.onAnimationEnd,_=v>0?o[v-1]:y,C=N||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(eA(g),[a.runJSAnimation.bind(a,{from:_.style,to:j,duration:b,easing:S}),b]);var T=uH(C,b,S),A=co(co(co({},_.style),j),{},{transition:T});return[].concat(eA(g),[A,b,k]).filter(pvt)};return this.manager.start([c].concat(eA(o.reduce(f,[u,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uvt());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,u=i.onAnimationStart,h=i.onAnimationEnd,m=i.steps,f=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var g=l?$y({},l,c):c,y=uH(Object.keys(g),o,d);p.start([u,a,co(co({},g),{},{transition:y}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Bvt(i,Fvt),d=x.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!l||d===0||o<=0)return a;var h=function(f){var p=f.props,g=p.style,y=g===void 0?{}:g,v=p.className,b=x.cloneElement(f,co(co({},c),{},{style:co(co({},y),u),className:v}));return b};return d===1?h(x.Children.only(a)):V.createElement("div",null,x.Children.map(a,function(m){return h(m)}))}}]),n}(x.PureComponent);Ol.displayName="Animate";Ol.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ol.propTypes={from:pn.oneOfType([pn.object,pn.string]),to:pn.oneOfType([pn.object,pn.string]),attributeName:pn.string,duration:pn.number,begin:pn.number,easing:pn.oneOfType([pn.string,pn.func]),steps:pn.arrayOf(pn.shape({duration:pn.number.isRequired,style:pn.object.isRequired,easing:pn.oneOfType([pn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),pn.func]),properties:pn.arrayOf("string"),onAnimationEnd:pn.func})),children:pn.oneOfType([pn.node,pn.func]),isActive:pn.bool,canBegin:pn.bool,onAnimationEnd:pn.func,shouldReAnimate:pn.bool,onAnimationStart:pn.func,onAnimationReStart:pn.func};function tb(e){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tb(e)}function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lk.apply(this,arguments)}function Zvt(e,t){return r0t(e)||n0t(e,t)||t0t(e,t)||e0t()}function e0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t0t(e,t){if(e){if(typeof e=="string")return xH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xH(e,t)}}function xH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n0t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function r0t(e){if(Array.isArray(e))return e}function yH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yH(Object(n),!0).forEach(function(r){s0t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s0t(e,t,n){return t=i0t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i0t(e){var t=a0t(e,"string");return tb(t)=="symbol"?t:t+""}function a0t(e,t){if(tb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bH=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,u;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,f=4;m<f;m++)h[m]=a[m]>o?o:a[m];u="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+c*h[0],",").concat(n)),u+="L ".concat(t+r-c*h[1],",").concat(n),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(n+l*h[1])),u+="L ".concat(t+r,",").concat(n+i-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+r-c*h[2],",").concat(n+i)),u+="L ".concat(t+c*h[3],",").concat(n+i),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+i-l*h[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var p=Math.min(o,a);u="M ".concat(t,",").concat(n+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+c*p,",").concat(n,`
            L `).concat(t+r-c*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+r,",").concat(n+l*p,`
            L `).concat(t+r,",").concat(n+i-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+r-c*p,",").concat(n+i,`
            L `).concat(t+c*p,",").concat(n+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t,",").concat(n+i-l*p," Z")}else u="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},o0t=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),u=Math.max(a,a+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return r>=d&&r<=u&&i>=h&&i<=m}return!1},l0t={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x$=function(t){var n=vH(vH({},l0t),t),r=x.useRef(),i=x.useState(-1),a=Zvt(i,2),o=a[0],l=a[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,d=n.y,u=n.width,h=n.height,m=n.radius,f=n.className,p=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var w=Et("recharts-rectangle",f);return b?V.createElement(Ol,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:g,animationEasing:p,isActive:b},function(S){var j=S.width,N=S.height,k=S.x,_=S.y;return V.createElement(Ol,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:v,easing:p},V.createElement("path",lk({},st(n,!0),{className:w,d:bH(k,_,j,N,m),ref:r})))}):V.createElement("path",lk({},st(n,!0),{className:w,d:bH(c,d,u,h,m)}))},c0t=["points","className","baseLinePoints","connectNulls"];function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qf.apply(this,arguments)}function d0t(e,t){if(e==null)return{};var n=u0t(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function u0t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wH(e){return p0t(e)||f0t(e)||m0t(e)||h0t()}function h0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0t(e,t){if(e){if(typeof e=="string")return QR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QR(e,t)}}function f0t(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p0t(e){if(Array.isArray(e))return QR(e)}function QR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jH=function(t){return t&&t.x===+t.x&&t.y===+t.y},g0t=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){jH(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),jH(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},yv=function(t,n){var r=g0t(t);n&&(r=[r.reduce(function(a,o){return[].concat(wH(a),wH(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},x0t=function(t,n,r){var i=yv(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(yv(n.reverse(),r).slice(1))},y0t=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,a=t.connectNulls,o=d0t(t,c0t);if(!n||!n.length)return null;var l=Et("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=x0t(n,i,a);return V.createElement("g",{className:l},V.createElement("path",qf({},st(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?V.createElement("path",qf({},st(o,!0),{fill:"none",d:yv(n,a)})):null,c?V.createElement("path",qf({},st(o,!0),{fill:"none",d:yv(i,a)})):null)}var u=yv(n,a);return V.createElement("path",qf({},st(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function ZR(){return ZR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZR.apply(this,arguments)}var XC=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=Et("recharts-dot",a);return n===+n&&r===+r&&i===+i?x.createElement("circle",ZR({},st(t,!1),CN(t),{className:o,cx:n,cy:r,r:i})):null};function nb(e){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nb(e)}var v0t=["x","y","top","left","width","height","className"];function e4(){return e4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e4.apply(this,arguments)}function SH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b0t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SH(Object(n),!0).forEach(function(r){w0t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w0t(e,t,n){return t=j0t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j0t(e){var t=S0t(e,"string");return nb(t)=="symbol"?t:t+""}function S0t(e,t){if(nb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N0t(e,t){if(e==null)return{};var n=k0t(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function k0t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var _0t=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},C0t=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,h=u===void 0?0:u,m=t.height,f=m===void 0?0:m,p=t.className,g=N0t(t,v0t),y=b0t({x:r,y:a,top:l,left:d,width:h,height:f},g);return!Ce(r)||!Ce(a)||!Ce(h)||!Ce(f)||!Ce(l)||!Ce(d)?null:V.createElement("path",e4({},st(y,!0),{className:Et("recharts-cross",p),d:_0t(r,a,h,f,l,d)}))},E0t=WC,T0t=Ihe,A0t=zl;function P0t(e,t){return e&&e.length?E0t(e,A0t(t),T0t):void 0}var I0t=P0t;const O0t=un(I0t);var R0t=WC,M0t=zl,D0t=Ohe;function L0t(e,t){return e&&e.length?R0t(e,M0t(t),D0t):void 0}var $0t=L0t;const F0t=un($0t);var B0t=["cx","cy","angle","ticks","axisLine"],U0t=["ticks","tick","angle","tickFormatter","stroke"];function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(this,arguments)}function NH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NH(Object(n),!0).forEach(function(r){JC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kH(e,t){if(e==null)return{};var n=z0t(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function z0t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function V0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jme(r.key),r)}}function q0t(e,t,n){return t&&_H(e.prototype,t),n&&_H(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function W0t(e,t,n){return t=ck(t),H0t(e,wme()?Reflect.construct(t,n||[],ck(e).constructor):t.apply(e,n))}function H0t(e,t){if(t&&(_g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K0t(e)}function K0t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wme(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wme=function(){return!!e})()}function ck(e){return ck=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ck(e)}function G0t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t4(e,t)}function t4(e,t){return t4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t4(e,t)}function JC(e,t,n){return t=jme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jme(e){var t=Y0t(e,"string");return _g(t)=="symbol"?t:t+""}function Y0t(e,t){if(_g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QC=function(e){function t(){return V0t(this,t),W0t(this,t,arguments)}return G0t(t,e),q0t(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Un(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=O0t(l,function(u){return u.coordinate||0}),d=F0t(l,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,d=kH(r,B0t),u=l.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),h=Un(i,a,u[0],o),m=Un(i,a,u[1],o),f=eh(eh(eh({},st(d,!1)),{},{fill:"none"},st(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return V.createElement("line",vv({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,u=kH(i,U0t),h=this.getTickTextAnchor(),m=st(u,!1),f=st(o,!1),p=a.map(function(g,y){var v=r.getTickValueCoord(g),b=eh(eh(eh(eh({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},m),{},{stroke:"none",fill:d},f),{},{index:y},v),{},{payload:g});return V.createElement(ln,vv({className:Et("recharts-polar-radius-axis-tick",ome(o)),key:"tick-".concat(g.coordinate)},bm(r.props,g,y)),t.renderTickItem(o,b,c?c(g.value,y):g.value))});return V.createElement(ln,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:V.createElement(ln,{className:Et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ds.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return V.isValidElement(r)?o=V.cloneElement(r,i):xt(r)?o=r(i):o=V.createElement(wm,vv({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(x.PureComponent);JC(QC,"displayName","PolarRadiusAxis");JC(QC,"axisType","radiusAxis");JC(QC,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yh.apply(this,arguments)}function CH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CH(Object(n),!0).forEach(function(r){ZC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X0t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nme(r.key),r)}}function J0t(e,t,n){return t&&EH(e.prototype,t),n&&EH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q0t(e,t,n){return t=dk(t),Z0t(e,Sme()?Reflect.construct(t,n||[],dk(e).constructor):t.apply(e,n))}function Z0t(e,t){if(t&&(Cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ebt(e)}function ebt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sme(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sme=function(){return!!e})()}function dk(e){return dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dk(e)}function tbt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n4(e,t)}function n4(e,t){return n4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n4(e,t)}function ZC(e,t,n){return t=Nme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nme(e){var t=nbt(e,"string");return Cg(t)=="symbol"?t:t+""}function nbt(e,t){if(Cg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rbt=Math.PI/180,TH=1e-5,eE=function(e){function t(){return X0t(this,t),Q0t(this,t,arguments)}return tbt(t,e),J0t(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,u=d||8,h=Un(a,o,l,r.coordinate),m=Un(a,o,l+(c==="inner"?-1:1)*u,r.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*rbt),o;return a>TH?o=i==="outer"?"start":"end":a<-TH?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,d=th(th({},st(this.props,!1)),{},{fill:"none"},st(l,!1));if(c==="circle")return V.createElement(XC,yh({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var u=this.props.ticks,h=u.map(function(m){return Un(i,a,o,m.coordinate)});return V.createElement(y0t,yh({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,u=st(this.props,!1),h=st(o,!1),m=th(th({},u),{},{fill:"none"},st(l,!1)),f=a.map(function(p,g){var y=r.getTickLineCoord(p),v=r.getTickTextAnchor(p),b=th(th(th({textAnchor:v},u),{},{stroke:"none",fill:d},h),{},{index:g,payload:p,x:y.x2,y:y.y2});return V.createElement(ln,yh({className:Et("recharts-polar-angle-axis-tick",ome(o)),key:"tick-".concat(p.coordinate)},bm(r.props,p,g)),l&&V.createElement("line",yh({className:"recharts-polar-angle-axis-tick-line"},m,y)),o&&t.renderTickItem(o,b,c?c(p.value,g):p.value))});return V.createElement(ln,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:V.createElement(ln,{className:Et("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return V.isValidElement(r)?o=V.cloneElement(r,i):xt(r)?o=r(i):o=V.createElement(wm,yh({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(x.PureComponent);ZC(eE,"displayName","PolarAngleAxis");ZC(eE,"axisType","angleAxis");ZC(eE,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var sbt=Eue,ibt=sbt(Object.getPrototypeOf,Object),abt=ibt,obt=qc,lbt=abt,cbt=Wc,dbt="[object Object]",ubt=Function.prototype,hbt=Object.prototype,kme=ubt.toString,mbt=hbt.hasOwnProperty,fbt=kme.call(Object);function pbt(e){if(!cbt(e)||obt(e)!=dbt)return!1;var t=lbt(e);if(t===null)return!0;var n=mbt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&kme.call(n)==fbt}var gbt=pbt;const xbt=un(gbt);var ybt=qc,vbt=Wc,bbt="[object Boolean]";function wbt(e){return e===!0||e===!1||vbt(e)&&ybt(e)==bbt}var jbt=wbt;const Sbt=un(jbt);function rb(e){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rb(e)}function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uk.apply(this,arguments)}function Nbt(e,t){return Ebt(e)||Cbt(e,t)||_bt(e,t)||kbt()}function kbt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _bt(e,t){if(e){if(typeof e=="string")return AH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AH(e,t)}}function AH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cbt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Ebt(e){if(Array.isArray(e))return e}function PH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PH(Object(n),!0).forEach(function(r){Tbt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tbt(e,t,n){return t=Abt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Abt(e){var t=Pbt(e,"string");return rb(t)=="symbol"?t:t+""}function Pbt(e,t){if(rb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OH=function(t,n,r,i,a){var o=r-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+a),l+="L ".concat(t+r-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},Ibt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Obt=function(t){var n=IH(IH({},Ibt),t),r=x.useRef(),i=x.useState(-1),a=Nbt(i,2),o=a[0],l=a[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,h=n.lowerWidth,m=n.height,f=n.className,p=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||m!==+m||u===0&&h===0||m===0)return null;var b=Et("recharts-trapezoid",f);return v?V.createElement(Ol,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:m,x:c,y:d},duration:g,animationEasing:p,isActive:v},function(w){var S=w.upperWidth,j=w.lowerWidth,N=w.height,k=w.x,_=w.y;return V.createElement(Ol,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:p},V.createElement("path",uk({},st(n,!0),{className:b,d:OH(k,_,S,j,N),ref:r})))}):V.createElement("g",null,V.createElement("path",uk({},st(n,!0),{className:b,d:OH(c,d,u,h,m)})))},Rbt=["option","shapeType","propTransformer","activeClassName","isActive"];function sb(e){"@babel/helpers - typeof";return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sb(e)}function Mbt(e,t){if(e==null)return{};var n=Dbt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dbt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function RH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RH(Object(n),!0).forEach(function(r){Lbt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lbt(e,t,n){return t=$bt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $bt(e){var t=Fbt(e,"string");return sb(t)=="symbol"?t:t+""}function Fbt(e,t){if(sb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bbt(e,t){return hk(hk({},t),e)}function Ubt(e,t){return e==="symbols"}function MH(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return V.createElement(x$,n);case"trapezoid":return V.createElement(Obt,n);case"sector":return V.createElement(dme,n);case"symbols":if(Ubt(t))return V.createElement(DL,n);break;default:return null}}function zbt(e){return x.isValidElement(e)?e.props:e}function _me(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Bbt:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=Mbt(e,Rbt),d;if(x.isValidElement(t))d=x.cloneElement(t,hk(hk({},c),zbt(t)));else if(xt(t))d=t(c);else if(xbt(t)&&!Sbt(t)){var u=i(t,c);d=V.createElement(MH,{shapeType:n,elementProps:u})}else{var h=c;d=V.createElement(MH,{shapeType:n,elementProps:h})}return l?V.createElement(ln,{className:o},d):d}function tE(e,t){return t!=null&&"trapezoids"in e.props}function nE(e,t){return t!=null&&"sectors"in e.props}function ib(e,t){return t!=null&&"points"in e.props}function Vbt(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function qbt(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Wbt(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Hbt(e,t){var n;return tE(e,t)?n=Vbt:nE(e,t)?n=qbt:ib(e,t)&&(n=Wbt),n}function Kbt(e,t){var n;return tE(e,t)?n="trapezoids":nE(e,t)?n="sectors":ib(e,t)&&(n="points"),n}function Gbt(e,t){if(tE(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(nE(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ib(e,t)?t.payload:{}}function Ybt(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Kbt(n,t),a=Gbt(n,t),o=r.filter(function(c,d){var u=mw(a,c),h=n.props[i].filter(function(p){var g=Hbt(n,t);return g(p,t)}),m=n.props[i].indexOf(h[h.length-1]),f=d===m;return u&&f}),l=r.indexOf(o[o.length-1]);return l}var Mj;function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wf.apply(this,arguments)}function DH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DH(Object(n),!0).forEach(function(r){Ra(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xbt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eme(r.key),r)}}function Jbt(e,t,n){return t&&LH(e.prototype,t),n&&LH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qbt(e,t,n){return t=mk(t),Zbt(e,Cme()?Reflect.construct(t,n||[],mk(e).constructor):t.apply(e,n))}function Zbt(e,t){if(t&&(Eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ewt(e)}function ewt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cme(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cme=function(){return!!e})()}function mk(e){return mk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mk(e)}function twt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r4(e,t)}function r4(e,t){return r4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r4(e,t)}function Ra(e,t,n){return t=Eme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eme(e){var t=nwt(e,"string");return Eg(t)=="symbol"?t:t+""}function nwt(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vl=function(e){function t(n){var r;return Xbt(this,t),r=Qbt(this,t,[n]),Ra(r,"pieRef",null),Ra(r,"sectorRefs",[]),Ra(r,"id",Sx("recharts-pie-")),Ra(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),xt(i)&&i()}),Ra(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),xt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return twt(t,e),Jbt(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,u=st(this.props,!1),h=st(o,!1),m=st(l,!1),f=o&&o.offsetRadius||20,p=r.map(function(g,y){var v=(g.startAngle+g.endAngle)/2,b=Un(g.cx,g.cy,g.outerRadius+f,v),w=Dn(Dn(Dn(Dn({},u),g),{},{stroke:"none"},h),{},{index:y,textAnchor:t.getTextAnchor(b.x,g.cx)},b),S=Dn(Dn(Dn(Dn({},u),g),{},{fill:"none",stroke:g.fill},m),{},{index:y,points:[Un(g.cx,g.cy,g.outerRadius,v),b]}),j=c;return kt(c)&&kt(d)?j="value":kt(c)&&(j=d),V.createElement(ln,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,S,"line"),t.renderLabelItem(o,w,es(g,j)))});return V.createElement(ln,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(u),m=c&&i.hasActiveIndex()?c:null,f=h?o:m,p=Dn(Dn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return V.createElement(ln,Wf({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},bm(i.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),V.createElement(_me,Wf({option:f,isActive:h,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,u=i.animationId,h=this.state,m=h.prevSectors,f=h.prevIsAnimationActive;return V.createElement(Ol,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,y=[],v=a&&a[0],b=v.startAngle;return a.forEach(function(w,S){var j=m&&m[S],N=S>0?la(w,"paddingAngle",0):0;if(j){var k=Qi(j.endAngle-j.startAngle,w.endAngle-w.startAngle),_=Dn(Dn({},w),{},{startAngle:b+N,endAngle:b+k(g)+N});y.push(_),b=_.endAngle}else{var C=w.endAngle,T=w.startAngle,A=Qi(0,C-T),P=A(g),R=Dn(Dn({},w),{},{startAngle:b+N,endAngle:b+P+N});y.push(R),b=R.endAngle}}),V.createElement(ln,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!mw(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,u=i.cy,h=i.innerRadius,m=i.outerRadius,f=i.isAnimationActive,p=this.state.isAnimationFinished;if(a||!o||!o.length||!Ce(d)||!Ce(u)||!Ce(h)||!Ce(m))return null;var g=Et("recharts-pie",l);return V.createElement(ln,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){r.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),ds.renderCallByParent(this.props,null,!1),(!f||p)&&vc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(V.isValidElement(r))return V.cloneElement(r,i);if(xt(r))return r(i);var o=Et("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return V.createElement(sk,Wf({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(V.isValidElement(r))return V.cloneElement(r,i);var o=a;if(xt(r)&&(o=r(i),V.isValidElement(o)))return o;var l=Et("recharts-pie-label-text",typeof r!="boolean"&&!xt(r)?r.className:"");return V.createElement(wm,Wf({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);Mj=Vl;Ra(Vl,"displayName","Pie");Ra(Vl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!vl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ra(Vl,"parseDeltaAngle",function(e,t){var n=ei(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Ra(Vl,"getRealPieData",function(e){var t=e.data,n=e.children,r=st(e,!1),i=ca(n,lw);return t&&t.length?t.map(function(a,o){return Dn(Dn(Dn({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Dn(Dn({},r),a.props)}):[]});Ra(Vl,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,o=ame(i,a),l=r+ti(e.cx,i,i/2),c=n+ti(e.cy,a,a/2),d=ti(e.innerRadius,o,0),u=ti(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});Ra(Vl,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Dn(Dn({},t.type.defaultProps),t.props):t.props,i=Mj.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,d=r.dataKey,u=r.nameKey,h=r.valueKey,m=r.tooltipType,f=Math.abs(r.minAngle),p=Mj.parseCoordinateOfPie(r,n),g=Mj.parseDeltaAngle(o,l),y=Math.abs(g),v=d;kt(d)&&kt(h)?($o(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):kt(d)&&($o(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=h);var b=i.filter(function(_){return es(_,v,0)!==0}).length,w=(y>=360?b:b-1)*c,S=y-b*f-w,j=i.reduce(function(_,C){var T=es(C,v,0);return _+(Ce(T)?T:0)},0),N;if(j>0){var k;N=i.map(function(_,C){var T=es(_,v,0),A=es(_,u,C),P=(Ce(T)?T:0)/j,R;C?R=k.endAngle+ei(g)*c*(T!==0?1:0):R=o;var D=R+ei(g)*((T!==0?f:0)+P*S),$=(R+D)/2,M=(p.innerRadius+p.outerRadius)/2,F=[{name:A,value:T,payload:_,dataKey:v,type:m}],O=Un(p.cx,p.cy,M,$);return k=Dn(Dn(Dn({percent:P,cornerRadius:a,name:A,tooltipPayload:F,midAngle:$,middleRadius:M,tooltipPosition:O},_),p),{},{value:es(_,v),startAngle:R,endAngle:D,payload:_,paddingAngle:ei(g)*c}),k})}return Dn(Dn({},p),{},{sectors:N,data:i})});var rwt=Math.ceil,swt=Math.max;function iwt(e,t,n,r){for(var i=-1,a=swt(rwt((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var awt=iwt,owt=Kue,$H=1/0,lwt=17976931348623157e292;function cwt(e){if(!e)return e===0?e:0;if(e=owt(e),e===$H||e===-$H){var t=e<0?-1:1;return t*lwt}return e===e?e:0}var Tme=cwt,dwt=awt,uwt=$C,tA=Tme;function hwt(e){return function(t,n,r){return r&&typeof r!="number"&&uwt(t,n,r)&&(n=r=void 0),t=tA(t),n===void 0?(n=t,t=0):n=tA(n),r=r===void 0?t<n?1:-1:tA(r),dwt(t,n,r,e)}}var mwt=hwt,fwt=mwt,pwt=fwt(),gwt=pwt;const fk=un(gwt);function ab(e){"@babel/helpers - typeof";return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ab(e)}function FH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FH(Object(n),!0).forEach(function(r){Ame(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ame(e,t,n){return t=xwt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xwt(e){var t=ywt(e,"string");return ab(t)=="symbol"?t:t+""}function ywt(e,t){if(ab(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ab(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vwt=["Webkit","Moz","O","ms"],bwt=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=vwt.reduce(function(a,o){return BH(BH({},a),{},Ame({},o+r,n))},{});return i[t]=n,i};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pk.apply(this,arguments)}function UH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UH(Object(n),!0).forEach(function(r){qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wwt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ime(r.key),r)}}function jwt(e,t,n){return t&&zH(e.prototype,t),n&&zH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Swt(e,t,n){return t=gk(t),Nwt(e,Pme()?Reflect.construct(t,n||[],gk(e).constructor):t.apply(e,n))}function Nwt(e,t){if(t&&(Tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kwt(e)}function kwt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pme(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pme=function(){return!!e})()}function gk(e){return gk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gk(e)}function _wt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s4(e,t)}function s4(e,t){return s4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s4(e,t)}function qi(e,t,n){return t=Ime(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ime(e){var t=Cwt(e,"string");return Tg(t)=="symbol"?t:t+""}function Cwt(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ewt=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=pv().domain(fk(0,c)).range([a,a+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:u}},VH=function(t){return t.changedTouches&&!!t.changedTouches.length},Ag=function(e){function t(n){var r;return wwt(this,t),r=Swt(this,t,[n]),qi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),qi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),qi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),qi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),qi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),qi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),qi(r,"handleSlideDragStart",function(i){var a=VH(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return _wt(t,e),jwt(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(i,a),m=Math.max(i,a),f=t.getIndexInRange(o,h),p=t.getIndexInRange(o,m);return{startIndex:f-f%c,endIndex:p===u?u:p-p%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=es(a[r],l,r);return xt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,m=c.startIndex,f=c.endIndex,p=c.onChange,g=r.pageX-a;g>0?g=Math.min(g,d+u-h-l,d+u-h-o):g<0&&(g=Math.max(g,d-o,d-l));var y=this.getIndex({startX:o+g,endX:l+g});(y.startIndex!==m||y.endIndex!==f)&&p&&p(y),this.setState({startX:o+g,endX:l+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=VH(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],u=this.props,h=u.x,m=u.width,f=u.travellerWidth,p=u.onChange,g=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,h+m-f-d):b<0&&(b=Math.max(b,h-d)),v[o]=d+b;var w=this.getIndex(v),S=w.startIndex,j=w.endIndex,N=function(){var _=y.length-1;return o==="startX"&&(l>c?S%g===0:j%g===0)||l<c&&j===_||o==="endX"&&(l>c?j%g===0:S%g===0)||l>c&&j===_};this.setState(qi(qi({},o,d+b),"brushMoveStartX",r.pageX),function(){p&&N()&&p(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[i],h=l.indexOf(u);if(h!==-1){var m=h+r;if(!(m===-1||m>=l.length)){var f=l[m];i==="startX"&&f>=d||i==="endX"&&f<=c||this.setState(qi({},i,f),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,d=r.stroke;return V.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.data,d=r.children,u=r.padding,h=x.Children.only(d);return h?V.cloneElement(h,{x:i,y:a,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,m=c.traveller,f=c.ariaLabel,p=c.data,g=c.startIndex,y=c.endIndex,v=Math.max(r,this.props.x),b=nA(nA({},st(this.props,!1)),{},{x:v,y:d,width:u,height:h}),w=f||"Min value: ".concat((a=p[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=p[y])===null||o===void 0?void 0:o.name);return V.createElement(ln,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,u=Math.min(r,i)+d,h=Math.max(Math.abs(i-r)-d,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,u=this.state,h=u.startX,m=u.endX,f=5,p={pointerEvents:"none",fill:d};return V.createElement(ln,{className:"recharts-brush-texts"},V.createElement(wm,pk({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-f,y:o+l/2},p),this.getTextOfTick(i)),V.createElement(wm,pk({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+f,y:o+l/2},p),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,l=r.x,c=r.y,d=r.width,u=r.height,h=r.alwaysShowText,m=this.state,f=m.startX,p=m.endX,g=m.isTextActive,y=m.isSlideMoving,v=m.isTravellerMoving,b=m.isTravellerFocused;if(!i||!i.length||!Ce(l)||!Ce(c)||!Ce(d)||!Ce(u)||d<=0||u<=0)return null;var w=Et("recharts-brush",a),S=V.Children.count(o)===1,j=bwt("userSelect","none");return V.createElement(ln,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(f,p),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(p,"endX"),(g||y||v||b||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,d=Math.floor(a+l/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),V.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return V.isValidElement(r)?a=V.cloneElement(r,i):xt(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,u=r.startIndex,h=r.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return nA({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?Ewt({data:a,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(x.PureComponent);qi(Ag,"displayName","Brush");qi(Ag,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Twt=VL;function Awt(e,t){var n;return Twt(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var Pwt=Awt,Iwt=bue,Owt=zl,Rwt=Pwt,Mwt=Bi,Dwt=$C;function Lwt(e,t,n){var r=Mwt(e)?Iwt:Rwt;return n&&Dwt(e,t,n)&&(t=void 0),r(e,Owt(t))}var $wt=Lwt;const Fwt=un($wt);var wl=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},qH=zue;function Bwt(e,t,n){t=="__proto__"&&qH?qH(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Uwt=Bwt,zwt=Uwt,Vwt=Bue,qwt=zl;function Wwt(e,t){var n={};return t=qwt(t),Vwt(e,function(r,i,a){zwt(n,i,t(r,i,a))}),n}var Hwt=Wwt;const Kwt=un(Hwt);function Gwt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Ywt=Gwt,Xwt=VL;function Jwt(e,t){var n=!0;return Xwt(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var Qwt=Jwt,Zwt=Ywt,e1t=Qwt,t1t=zl,n1t=Bi,r1t=$C;function s1t(e,t,n){var r=n1t(e)?Zwt:e1t;return n&&r1t(e,t,n)&&(t=void 0),r(e,t1t(t))}var i1t=s1t;const Ome=un(i1t);var a1t=["x","y"];function ob(e){"@babel/helpers - typeof";return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ob(e)}function i4(){return i4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i4.apply(this,arguments)}function WH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WH(Object(n),!0).forEach(function(r){o1t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o1t(e,t,n){return t=l1t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l1t(e){var t=c1t(e,"string");return ob(t)=="symbol"?t:t+""}function c1t(e,t){if(ob(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ob(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d1t(e,t){if(e==null)return{};var n=u1t(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function u1t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function h1t(e,t){var n=e.x,r=e.y,i=d1t(e,a1t),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),d="".concat(t.height||i.height),u=parseInt(d,10),h="".concat(t.width||i.width),m=parseInt(h,10);return yy(yy(yy(yy(yy({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function HH(e){return V.createElement(_me,i4({shapeType:"rectangle",propTransformer:h1t,activeClassName:"recharts-active-bar"},e))}var m1t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=Ce(r)||$tt(r);return a?t(r,i):(a||Sm(),n)}},f1t=["value","background"],Rme;function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function p1t(e,t){if(e==null)return{};var n=g1t(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function g1t(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xk(){return xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xk.apply(this,arguments)}function KH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KH(Object(n),!0).forEach(function(r){$d(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dme(r.key),r)}}function y1t(e,t,n){return t&&GH(e.prototype,t),n&&GH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v1t(e,t,n){return t=yk(t),b1t(e,Mme()?Reflect.construct(t,n||[],yk(e).constructor):t.apply(e,n))}function b1t(e,t){if(t&&(Pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w1t(e)}function w1t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mme(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mme=function(){return!!e})()}function yk(e){return yk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yk(e)}function j1t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a4(e,t)}function a4(e,t){return a4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a4(e,t)}function $d(e,t,n){return t=Dme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dme(e){var t=S1t(e,"string");return Pg(t)=="symbol"?t:t+""}function S1t(e,t){if(Pg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pw=function(e){function t(){var n;x1t(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=v1t(this,t,[].concat(i)),$d(n,"state",{isAnimationFinished:!1}),$d(n,"id",Sx("recharts-bar-")),$d(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),$d(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return j1t(t,e),y1t(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,u=st(this.props,!1);return r&&r.map(function(h,m){var f=m===c,p=f?d:o,g=Rr(Rr(Rr({},u),h),{},{isActive:f,option:p,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return V.createElement(ln,xk({className:"recharts-bar-rectangle"},bm(i.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(m)}),V.createElement(HH,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,u=i.animationEasing,h=i.animationId,m=this.state.prevData;return V.createElement(Ol,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,g=a.map(function(y,v){var b=m&&m[v];if(b){var w=Qi(b.x,y.x),S=Qi(b.y,y.y),j=Qi(b.width,y.width),N=Qi(b.height,y.height);return Rr(Rr({},y),{},{x:w(p),y:S(p),width:j(p),height:N(p)})}if(o==="horizontal"){var k=Qi(0,y.height),_=k(p);return Rr(Rr({},y),{},{y:y.y+y.height-_,height:_})}var C=Qi(0,y.width),T=C(p);return Rr(Rr({},y),{},{width:T})});return V.createElement(ln,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!mw(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=st(this.props.background,!1);return a.map(function(d,u){d.value;var h=d.background,m=p1t(d,f1t);if(!h)return null;var f=Rr(Rr(Rr(Rr(Rr({},m),{},{fill:"#eee"},h),c),bm(r.props,d,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return V.createElement(HH,xk({key:"background-bar-".concat(u),option:r.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,h=ca(u,fw);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,f=function(y,v){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:es(y,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(ln,p,h.map(function(g){return V.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:f})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,d=r.left,u=r.top,h=r.width,m=r.height,f=r.isAnimationActive,p=r.background,g=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,v=Et("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=b||w,j=kt(g)?this.id:g;return V.createElement(ln,{className:v},b||w?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(j)},V.createElement("rect",{x:b?d:d-h/2,y:w?u:u-m/2,width:b?h:h*2,height:w?m:m*2}))):null,V.createElement(ln,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!f||y)&&vc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(x.PureComponent);Rme=pw;$d(pw,"displayName","Bar");$d(pw,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$d(pw,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,m=e.offset,f=rxt(r,n);if(!f)return null;var p=t.layout,g=n.type.defaultProps,y=g!==void 0?Rr(Rr({},g),n.props):n.props,v=y.dataKey,b=y.children,w=y.minPointSize,S=p==="horizontal"?o:a,j=d?S.scale.domain():null,N=dxt({numericAxis:S}),k=ca(b,lw),_=h.map(function(C,T){var A,P,R,D,$,M;d?A=sxt(d[u+T],j):(A=es(C,v),Array.isArray(A)||(A=[N,A]));var F=m1t(w,Rme.defaultProps.minPointSize)(A[1],T);if(p==="horizontal"){var O,L=[o.scale(A[0]),o.scale(A[1])],I=L[0],z=L[1];P=LW({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:C,index:T}),R=(O=z??I)!==null&&O!==void 0?O:void 0,D=f.size;var H=I-z;if($=Number.isNaN(H)?0:H,M={x:P,y:o.y,width:D,height:o.height},Math.abs(F)>0&&Math.abs($)<Math.abs(F)){var U=ei($||F)*(Math.abs(F)-Math.abs($));R-=U,$+=U}}else{var X=[a.scale(A[0]),a.scale(A[1])],le=X[0],de=X[1];if(P=le,R=LW({axis:o,ticks:c,bandSize:i,offset:f.offset,entry:C,index:T}),D=de-le,$=f.size,M={x:a.x,y:R,width:a.width,height:$},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var oe=ei(D||F)*(Math.abs(F)-Math.abs(D));D+=oe}}return Rr(Rr(Rr({},C),{},{x:P,y:R,width:D,height:$,value:d?A:A[1],payload:C,background:M},k&&k[T]&&k[T].props),{},{tooltipPayload:[sme(n,C)],tooltipPosition:{x:P+D/2,y:R+$/2}})});return Rr({data:_,layout:p},m)});function lb(e){"@babel/helpers - typeof";return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lb(e)}function N1t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lme(r.key),r)}}function k1t(e,t,n){return t&&YH(e.prototype,t),n&&YH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XH(Object(n),!0).forEach(function(r){rE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rE(e,t,n){return t=Lme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lme(e){var t=_1t(e,"string");return lb(t)=="symbol"?t:t+""}function _1t(e,t){if(lb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C1t=function(t,n,r,i,a){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},m=!!Gi(d,pw);return u.reduce(function(f,p){var g=n[p],y=g.orientation,v=g.domain,b=g.padding,w=b===void 0?{}:b,S=g.mirror,j=g.reversed,N="".concat(y).concat(S?"Mirror":""),k,_,C,T,A;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=v[1]-v[0],R=1/0,D=g.categoricalDomain.sort(Utt);if(D.forEach(function(X,le){le>0&&(R=Math.min((X||0)-(D[le-1]||0),R))}),Number.isFinite(R)){var $=R/P,M=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(k=$*M/2),g.padding==="no-gap"){var F=ti(t.barCategoryGap,$*M),O=$*M/2;k=O-F-(O-F)/M*F}}}i==="xAxis"?_=[r.left+(w.left||0)+(k||0),r.left+r.width-(w.right||0)-(k||0)]:i==="yAxis"?_=c==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(k||0),r.top+r.height-(w.bottom||0)-(k||0)]:_=g.range,j&&(_=[_[1],_[0]]);var L=eme(g,a,m),I=L.scale,z=L.realScaleType;I.domain(v).range(_),tme(I);var H=nme(I,No(No({},g),{},{realScaleType:z}));i==="xAxis"?(A=y==="top"&&!S||y==="bottom"&&S,C=r.left,T=h[N]-A*g.height):i==="yAxis"&&(A=y==="left"&&!S||y==="right"&&S,C=h[N]-A*g.width,T=r.top);var U=No(No(No({},g),H),{},{realScaleType:z,x:C,y:T,scale:I,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return U.bandSize=tk(U,H),!g.hide&&i==="xAxis"?h[N]+=(A?-1:1)*U.height:g.hide||(h[N]+=(A?-1:1)*U.width),No(No({},f),{},rE({},p,U))},{})},$me=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},E1t=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return $me({x:n,y:r},{x:i,y:a})},Fme=function(){function e(t){N1t(this,e),this.scale=t}return k1t(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();rE(Fme,"EPS",1e-4);var y$=function(t){var n=Object.keys(t).reduce(function(r,i){return No(No({},r),{},rE({},i,Fme.create(t[i])))},{});return No(No({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return Kwt(i,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return Ome(i,function(a,o){return n[o].isInRange(a)})}})};function T1t(e){return(e%180+180)%180}var A1t=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=T1t(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},P1t=zl,I1t=ow,O1t=DC;function R1t(e){return function(t,n,r){var i=Object(t);if(!I1t(t)){var a=P1t(n);t=O1t(t),n=function(l){return a(i[l],l,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var M1t=R1t,D1t=Tme;function L1t(e){var t=D1t(e),n=t%1;return t===t?n?t-n:t:0}var $1t=L1t,F1t=Rue,B1t=zl,U1t=$1t,z1t=Math.max;function V1t(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:U1t(n);return i<0&&(i=z1t(r+i,0)),F1t(e,B1t(t),i)}var q1t=V1t,W1t=M1t,H1t=q1t,K1t=W1t(H1t),G1t=K1t;const Y1t=un(G1t);var X1t=zet(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),v$=x.createContext(void 0),b$=x.createContext(void 0),Bme=x.createContext(void 0),Ume=x.createContext({}),zme=x.createContext(void 0),Vme=x.createContext(0),qme=x.createContext(0),JH=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=X1t(a);return V.createElement(v$.Provider,{value:r},V.createElement(b$.Provider,{value:i},V.createElement(Ume.Provider,{value:a},V.createElement(Bme.Provider,{value:u},V.createElement(zme.Provider,{value:o},V.createElement(Vme.Provider,{value:d},V.createElement(qme.Provider,{value:c},l)))))))},J1t=function(){return x.useContext(zme)},Wme=function(t){var n=x.useContext(v$);n==null&&Sm();var r=n[t];return r==null&&Sm(),r},Q1t=function(){var t=x.useContext(v$);return wd(t)},Z1t=function(){var t=x.useContext(b$),n=Y1t(t,function(r){return Ome(r.domain,Number.isFinite)});return n||wd(t)},Hme=function(t){var n=x.useContext(b$);n==null&&Sm();var r=n[t];return r==null&&Sm(),r},ejt=function(){var t=x.useContext(Bme);return t},tjt=function(){return x.useContext(Ume)},w$=function(){return x.useContext(qme)},j$=function(){return x.useContext(Vme)};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function njt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rjt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gme(r.key),r)}}function sjt(e,t,n){return t&&rjt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ijt(e,t,n){return t=vk(t),ajt(e,Kme()?Reflect.construct(t,n||[],vk(e).constructor):t.apply(e,n))}function ajt(e,t){if(t&&(Ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ojt(e)}function ojt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kme(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kme=function(){return!!e})()}function vk(e){return vk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vk(e)}function ljt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o4(e,t)}function o4(e,t){return o4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o4(e,t)}function QH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QH(Object(n),!0).forEach(function(r){S$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S$(e,t,n){return t=Gme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gme(e){var t=cjt(e,"string");return Ig(t)=="symbol"?t:t+""}function cjt(e,t){if(Ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function djt(e,t){return fjt(e)||mjt(e,t)||hjt(e,t)||ujt()}function ujt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hjt(e,t){if(e){if(typeof e=="string")return eK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eK(e,t)}}function eK(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mjt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function fjt(e){if(Array.isArray(e))return e}function l4(){return l4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l4.apply(this,arguments)}var pjt=function(t,n){var r;return V.isValidElement(t)?r=V.cloneElement(t,n):xt(t)?r=t(n):r=V.createElement("line",l4({},n,{className:"recharts-reference-line-line"})),r},gjt=function(t,n,r,i,a,o,l,c,d){var u=a.x,h=a.y,m=a.width,f=a.height;if(r){var p=d.y,g=t.y.apply(p,{position:o});if(wl(d,"discard")&&!t.y.isInRange(g))return null;var y=[{x:u+m,y:g},{x:u,y:g}];return c==="left"?y.reverse():y}if(n){var v=d.x,b=t.x.apply(v,{position:o});if(wl(d,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:h+f},{x:b,y:h}];return l==="top"?w.reverse():w}if(i){var S=d.segment,j=S.map(function(N){return t.apply(N,{position:o})});return wl(d,"discard")&&Fwt(j,function(N){return!t.isInRange(N)})?null:j}return null};function xjt(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=J1t(),u=Wme(i),h=Hme(a),m=ejt();if(!d||!m)return null;$o(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=y$({x:u.scale,y:h.scale}),p=ns(t),g=ns(n),y=r&&r.length===2,v=gjt(f,p,g,y,m,e.position,u.orientation,h.orientation,e);if(!v)return null;var b=djt(v,2),w=b[0],S=w.x,j=w.y,N=b[1],k=N.x,_=N.y,C=wl(e,"hidden")?"url(#".concat(d,")"):void 0,T=ZH(ZH({clipPath:C},st(e,!0)),{},{x1:S,y1:j,x2:k,y2:_});return V.createElement(ln,{className:Et("recharts-reference-line",l)},pjt(o,T),ds.renderCallByParent(e,E1t({x1:S,y1:j,x2:k,y2:_})))}var N$=function(e){function t(){return njt(this,t),ijt(this,t,arguments)}return ljt(t,e),sjt(t,[{key:"render",value:function(){return V.createElement(xjt,this.props)}}])}(V.Component);S$(N$,"displayName","ReferenceLine");S$(N$,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function c4(){return c4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c4.apply(this,arguments)}function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function tK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tK(Object(n),!0).forEach(function(r){sE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yjt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vjt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xme(r.key),r)}}function bjt(e,t,n){return t&&vjt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wjt(e,t,n){return t=bk(t),jjt(e,Yme()?Reflect.construct(t,n||[],bk(e).constructor):t.apply(e,n))}function jjt(e,t){if(t&&(Og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sjt(e)}function Sjt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yme(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yme=function(){return!!e})()}function bk(e){return bk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bk(e)}function Njt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d4(e,t)}function d4(e,t){return d4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d4(e,t)}function sE(e,t,n){return t=Xme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xme(e){var t=kjt(e,"string");return Og(t)=="symbol"?t:t+""}function kjt(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _jt=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=y$({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return wl(t,"discard")&&!o.isInRange(l)?null:l},iE=function(e){function t(){return yjt(this,t),wjt(this,t,arguments)}return Njt(t,e),bjt(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,d=ns(i),u=ns(a);if($o(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=_jt(this.props);if(!h)return null;var m=h.x,f=h.y,p=this.props,g=p.shape,y=p.className,v=wl(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=nK(nK({clipPath:v},st(this.props,!0)),{},{cx:m,cy:f});return V.createElement(ln,{className:Et("recharts-reference-dot",y)},t.renderDot(g,b),ds.renderCallByParent(this.props,{x:m-o,y:f-o,width:2*o,height:2*o}))}}])}(V.Component);sE(iE,"displayName","ReferenceDot");sE(iE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sE(iE,"renderDot",function(e,t){var n;return V.isValidElement(e)?n=V.cloneElement(e,t):xt(e)?n=e(t):n=V.createElement(XC,c4({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function u4(){return u4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u4.apply(this,arguments)}function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function rK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rK(Object(n),!0).forEach(function(r){aE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cjt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ejt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qme(r.key),r)}}function Tjt(e,t,n){return t&&Ejt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ajt(e,t,n){return t=wk(t),Pjt(e,Jme()?Reflect.construct(t,n||[],wk(e).constructor):t.apply(e,n))}function Pjt(e,t){if(t&&(Rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ijt(e)}function Ijt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jme(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jme=function(){return!!e})()}function wk(e){return wk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wk(e)}function Ojt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h4(e,t)}function h4(e,t){return h4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h4(e,t)}function aE(e,t,n){return t=Qme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qme(e){var t=Rjt(e,"string");return Rg(t)=="symbol"?t:t+""}function Rjt(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mjt=function(t,n,r,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,u=a.xAxis,h=a.yAxis;if(!u||!h)return null;var m=y$({x:u.scale,y:h.scale}),f={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(c,{position:"start"}):m.y.rangeMin},p={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(d,{position:"end"}):m.y.rangeMax};return wl(a,"discard")&&(!m.isInRange(f)||!m.isInRange(p))?null:$me(f,p)},oE=function(e){function t(){return Cjt(this,t),Ajt(this,t,arguments)}return Ojt(t,e),Tjt(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,u=r.clipPathId;$o(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ns(i),m=ns(a),f=ns(o),p=ns(l),g=this.props.shape;if(!h&&!m&&!f&&!p&&!g)return null;var y=Mjt(h,m,f,p,this.props);if(!y&&!g)return null;var v=wl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return V.createElement(ln,{className:Et("recharts-reference-area",c)},t.renderRect(g,sK(sK({clipPath:v},st(this.props,!0)),y)),ds.renderCallByParent(this.props,y))}}])}(V.Component);aE(oE,"displayName","ReferenceArea");aE(oE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});aE(oE,"renderRect",function(e,t){var n;return V.isValidElement(e)?n=V.cloneElement(e,t):xt(e)?n=e(t):n=V.createElement(x$,u4({},t,{className:"recharts-reference-area-rect"})),n});function Zme(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Djt(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return A1t(r,n)}function Ljt(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function jk(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function $jt(e,t){return Zme(e,t+1)}function Fjt(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var p=r==null?void 0:r[c];if(p===void 0)return{v:Zme(r,d)};var g=c,y,v=function(){return y===void 0&&(y=n(p,g)),y},b=p.coordinate,w=c===0||jk(e,b,v,u,l);w||(c=0,u=o,d+=1),w&&(u=b+e*(v()/2+i),c+=d)},m;d<=a.length;)if(m=h(),m)return m.v;return[]}function cb(e){"@babel/helpers - typeof";return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cb(e)}function iK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iK(Object(n),!0).forEach(function(r){Bjt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bjt(e,t,n){return t=Ujt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ujt(e){var t=zjt(e,"string");return cb(t)=="symbol"?t:t+""}function zjt(e,t){if(cb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vjt(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=t.start,c=t.end,d=function(m){var f=a[m],p,g=function(){return p===void 0&&(p=n(f,m)),p};if(m===o-1){var y=e*(f.coordinate+e*g()/2-c);a[m]=f=Is(Is({},f),{},{tickCoord:y>0?f.coordinate-y*e:f.coordinate})}else a[m]=f=Is(Is({},f),{},{tickCoord:f.coordinate});var v=jk(e,f.tickCoord,g,l,c);v&&(c=f.tickCoord-e*(g()/2+i),a[m]=Is(Is({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return a}function qjt(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,c=t.start,d=t.end;if(a){var u=r[l-1],h=n(u,l-1),m=e*(u.coordinate+e*h/2-d);o[l-1]=u=Is(Is({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var f=jk(e,u.tickCoord,function(){return h},c,d);f&&(d=u.tickCoord-e*(h/2+i),o[l-1]=Is(Is({},u),{},{isShow:!0}))}for(var p=a?l-1:l,g=function(b){var w=o[b],S,j=function(){return S===void 0&&(S=n(w,b)),S};if(b===0){var N=e*(w.coordinate-e*j()/2-c);o[b]=w=Is(Is({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[b]=w=Is(Is({},w),{},{tickCoord:w.coordinate});var k=jk(e,w.tickCoord,j,c,d);k&&(c=w.tickCoord+e*(j()/2+i),o[b]=Is(Is({},w),{},{isShow:!0}))},y=0;y<p;y++)g(y);return o}function k$(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,h=e.angle;if(!i||!i.length||!r)return[];if(Ce(c)||vl.isSsr)return $jt(i,typeof c=="number"&&Ce(c)?c:0);var m=[],f=l==="top"||l==="bottom"?"width":"height",p=u&&f==="width"?fv(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=function(w,S){var j=xt(d)?d(w.value,S):w.value;return f==="width"?Djt(fv(j,{fontSize:t,letterSpacing:n}),p,h):fv(j,{fontSize:t,letterSpacing:n})[f]},y=i.length>=2?ei(i[1].coordinate-i[0].coordinate):1,v=Ljt(a,y,f);return c==="equidistantPreserveStart"?Fjt(y,v,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=qjt(y,v,g,i,o,c==="preserveStartEnd"):m=Vjt(y,v,g,i,o),m.filter(function(b){return b.isShow}))}var Wjt=["viewBox"],Hjt=["viewBox"],Kjt=["ticks"];function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hf.apply(this,arguments)}function aK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aK(Object(n),!0).forEach(function(r){_$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rA(e,t){if(e==null)return{};var n=Gjt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gjt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Yjt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tfe(r.key),r)}}function Xjt(e,t,n){return t&&oK(e.prototype,t),n&&oK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jjt(e,t,n){return t=Sk(t),Qjt(e,efe()?Reflect.construct(t,n||[],Sk(e).constructor):t.apply(e,n))}function Qjt(e,t){if(t&&(Mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zjt(e)}function Zjt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function efe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(efe=function(){return!!e})()}function Sk(e){return Sk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sk(e)}function eSt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m4(e,t)}function m4(e,t){return m4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m4(e,t)}function _$(e,t,n){return t=tfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tfe(e){var t=tSt(e,"string");return Mg(t)=="symbol"?t:t+""}function tSt(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ax=function(e){function t(n){var r;return Yjt(this,t),r=Jjt(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return eSt(t,e),Xjt(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=rA(r,Wjt),l=this.props,c=l.viewBox,d=rA(l,Hjt);return!bp(a,c)||!bp(o,d)||!bp(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,u=i.tickSize,h=i.mirror,m=i.tickMargin,f,p,g,y,v,b,w=h?-1:1,S=r.tickSize||u,j=Ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":f=p=r.coordinate,y=o+ +!h*c,g=y-w*S,b=g-w*m,v=j;break;case"left":g=y=r.coordinate,p=a+ +!h*l,f=p-w*S,v=f-w*m,b=j;break;case"right":g=y=r.coordinate,p=a+ +h*l,f=p+w*S,v=f+w*m,b=j;break;default:f=p=r.coordinate,y=o+ +h*c,g=y+w*S,b=g+w*m,v=j;break}return{line:{x1:f,y1:g,x2:p,y2:y},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,d=r.mirror,u=r.axisLine,h=Hr(Hr(Hr({},st(this.props,!1)),st(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=Hr(Hr({},h),{},{x1:i,y1:a+m*l,x2:i+o,y2:a+m*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);h=Hr(Hr({},h),{},{x1:i+f*o,y1:a,x2:i+f*o,y2:a+l})}return V.createElement("line",Hf({},h,{className:Et("recharts-cartesian-axis-line",la(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,m=l.unit,f=k$(Hr(Hr({},this.props),{},{ticks:r}),i,a),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=st(this.props,!1),v=st(u,!1),b=Hr(Hr({},y),{},{fill:"none"},st(c,!1)),w=f.map(function(S,j){var N=o.getTickLineCoord(S),k=N.line,_=N.tick,C=Hr(Hr(Hr(Hr({textAnchor:p,verticalAnchor:g},y),{},{stroke:"none",fill:d},v),_),{},{index:j,payload:S,visibleTicksCount:f.length,tickFormatter:h});return V.createElement(ln,Hf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},bm(o.props,S,j)),c&&V.createElement("line",Hf({},b,k,{className:Et("recharts-cartesian-axis-tick-line",la(c,"className"))})),u&&t.renderTickItem(u,C,"".concat(xt(h)?h(S.value,j):S.value).concat(m||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,u=i.hide;if(u)return null;var h=this.props,m=h.ticks,f=rA(h,Kjt),p=m;return xt(c)&&(p=m&&m.length>0?c(this.props):c(f)),o<=0||l<=0||!p||!p.length?null:V.createElement(ln,{className:Et("recharts-cartesian-axis",d),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),ds.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,l=Et(i.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(r)?o=V.cloneElement(r,Hr(Hr({},i),{},{className:l})):xt(r)?o=r(Hr(Hr({},i),{},{className:l})):o=V.createElement(wm,Hf({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(x.Component);_$(Ax,"displayName","CartesianAxis");_$(Ax,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nSt=["x1","y1","x2","y2","key"],rSt=["offset"];function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function lK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lK(Object(n),!0).forEach(function(r){sSt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sSt(e,t,n){return t=iSt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iSt(e){var t=aSt(e,"string");return Nm(t)=="symbol"?t:t+""}function aSt(e,t){if(Nm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ah.apply(this,arguments)}function cK(e,t){if(e==null)return{};var n=oSt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oSt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var lSt=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return V.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function nfe(e,t){var n;if(V.isValidElement(e))n=V.cloneElement(e,t);else if(xt(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=cK(t,nSt),d=st(c,!1);d.offset;var u=cK(d,rSt);n=V.createElement("line",Ah({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function cSt(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Rs(Rs({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return nfe(i,d)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function dSt(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=Rs(Rs({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return nfe(i,d)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function uSt(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,f){return m-f});i!==u[0]&&u.unshift(0);var h=u.map(function(m,f){var p=!u[f+1],g=p?i+o-m:u[f+1]-m;if(g<=0)return null;var y=f%t.length;return V.createElement("rect",{key:"react-".concat(f),y:m,x:r,height:g,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function hSt(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!r||!r.length)return null;var u=d.map(function(m){return Math.round(m+a-a)}).sort(function(m,f){return m-f});a!==u[0]&&u.unshift(0);var h=u.map(function(m,f){var p=!u[f+1],g=p?a+l-m:u[f+1]-m;if(g<=0)return null;var y=f%r.length;return V.createElement("rect",{key:"react-".concat(f),x:m,y:o,width:g,height:c,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var mSt=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return Zhe(k$(Rs(Rs(Rs({},Ax.defaultProps),r),{},{ticks:uc(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},fSt=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return Zhe(k$(Rs(Rs(Rs({},Ax.defaultProps),r),{},{ticks:uc(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},cf={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function C$(e){var t,n,r,i,a,o,l=w$(),c=j$(),d=tjt(),u=Rs(Rs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:cf.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:cf.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:cf.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:cf.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:cf.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:cf.verticalFill,x:Ce(e.x)?e.x:d.left,y:Ce(e.y)?e.y:d.top,width:Ce(e.width)?e.width:d.width,height:Ce(e.height)?e.height:d.height}),h=u.x,m=u.y,f=u.width,p=u.height,g=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,b=Q1t(),w=Z1t();if(!Ce(f)||f<=0||!Ce(p)||p<=0||!Ce(h)||h!==+h||!Ce(m)||m!==+m)return null;var S=u.verticalCoordinatesGenerator||mSt,j=u.horizontalCoordinatesGenerator||fSt,N=u.horizontalPoints,k=u.verticalPoints;if((!N||!N.length)&&xt(j)){var _=y&&y.length,C=j({yAxis:w?Rs(Rs({},w),{},{ticks:_?y:w.ticks}):void 0,width:l,height:c,offset:d},_?!0:g);$o(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Nm(C),"]")),Array.isArray(C)&&(N=C)}if((!k||!k.length)&&xt(S)){var T=v&&v.length,A=S({xAxis:b?Rs(Rs({},b),{},{ticks:T?v:b.ticks}):void 0,width:l,height:c,offset:d},T?!0:g);$o(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Nm(A),"]")),Array.isArray(A)&&(k=A)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(lSt,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),V.createElement(cSt,Ah({},u,{offset:d,horizontalPoints:N,xAxis:b,yAxis:w})),V.createElement(dSt,Ah({},u,{offset:d,verticalPoints:k,xAxis:b,yAxis:w})),V.createElement(uSt,Ah({},u,{horizontalPoints:N})),V.createElement(hSt,Ah({},u,{verticalPoints:k})))}C$.displayName="CartesianGrid";var pSt=["type","layout","connectNulls","ref"],gSt=["key"];function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function dK(e,t){if(e==null)return{};var n=xSt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xSt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bv.apply(this,arguments)}function uK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uK(Object(n),!0).forEach(function(r){ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function df(e){return wSt(e)||bSt(e)||vSt(e)||ySt()}function ySt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vSt(e,t){if(e){if(typeof e=="string")return f4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f4(e,t)}}function bSt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wSt(e){if(Array.isArray(e))return f4(e)}function f4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jSt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sfe(r.key),r)}}function SSt(e,t,n){return t&&hK(e.prototype,t),n&&hK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function NSt(e,t,n){return t=Nk(t),kSt(e,rfe()?Reflect.construct(t,n||[],Nk(e).constructor):t.apply(e,n))}function kSt(e,t){if(t&&(Dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _St(e)}function _St(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rfe=function(){return!!e})()}function Nk(e){return Nk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nk(e)}function CSt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p4(e,t)}function p4(e,t){return p4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p4(e,t)}function ko(e,t,n){return t=sfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sfe(e){var t=ESt(e,"string");return Dg(t)=="symbol"?t:t+""}function ESt(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Px=function(e){function t(){var n;jSt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=NSt(this,t,[].concat(i)),ko(n,"state",{isAnimationFinished:!0,totalLength:0}),ko(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ko(n,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(v,b){return v+b});if(!d)return n.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,m=l-o,f=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>h){f=[].concat(df(c.slice(0,p)),[h-g]);break}var y=f.length%2===0?[0,m]:[m];return[].concat(df(t.repeat(c,u)),df(f),y).map(function(v){return"".concat(v,"px")}).join(", ")}),ko(n,"id",Sx("recharts-line-")),ko(n,"pathRef",function(o){n.mainCurve=o}),ko(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ko(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return CSt(t,e),SSt(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,h=ca(u,fw);if(!h)return null;var m=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:es(g.payload,y)}},f={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(ln,f,h.map(function(p){return V.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=st(this.props,!1),m=st(c,!0),f=d.map(function(g,y){var v=Vi(Vi(Vi({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:d});return t.renderDotItem(c,v)}),p={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return V.createElement(ln,bv({className:"recharts-line-dots",key:"dots"},p),f)}},{key:"renderCurveStatically",value:function(r,i,a,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var h=dK(l,pSt),m=Vi(Vi(Vi({},st(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:d,connectNulls:u});return V.createElement(sk,bv({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,m=o.animationEasing,f=o.animationId,p=o.animateNewValues,g=o.width,y=o.height,v=this.state,b=v.prevPoints,w=v.totalLength;return V.createElement(Ol,{begin:u,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var j=S.t;if(b){var N=b.length/l.length,k=l.map(function(P,R){var D=Math.floor(R*N);if(b[D]){var $=b[D],M=Qi($.x,P.x),F=Qi($.y,P.y);return Vi(Vi({},P),{},{x:M(j),y:F(j)})}if(p){var O=Qi(g*2,P.x),L=Qi(y/2,P.y);return Vi(Vi({},P),{},{x:O(j),y:L(j)})}return Vi(Vi({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(k,r,i)}var _=Qi(0,w),C=_(j),T;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});T=a.getStrokeDasharray(C,w,A)}else T=a.generateSimpleStrokeDasharray(w,C);return a.renderCurveStatically(l,r,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!mw(d,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,u=i.yAxis,h=i.top,m=i.left,f=i.width,p=i.height,g=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var v=this.state.isAnimationFinished,b=l.length===1,w=Et("recharts-line",c),S=d&&d.allowDataOverflow,j=u&&u.allowDataOverflow,N=S||j,k=kt(y)?this.id:y,_=(r=st(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=_.r,T=C===void 0?3:C,A=_.strokeWidth,P=A===void 0?2:A,R=Xtt(o)?o:{},D=R.clipDot,$=D===void 0?!0:D,M=T*2+P;return V.createElement(ln,{className:w},S||j?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(k)},V.createElement("rect",{x:S?m:m-f/2,y:j?h:h-p/2,width:S?f:f*2,height:j?p:p*2})),!$&&V.createElement("clipPath",{id:"clipPath-dots-".concat(k)},V.createElement("rect",{x:m-M/2,y:h-M/2,width:f+M,height:p+M}))):null,!b&&this.renderCurve(N,k),this.renderErrorBar(N,k),(b||o)&&this.renderDots(N,$,k),(!g||v)&&vc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(df(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(df(o),df(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(V.isValidElement(r))a=V.cloneElement(r,i);else if(xt(r))a=r(i);else{var o=i.key,l=dK(i,gSt),c=Et("recharts-line-dot",typeof r!="boolean"?r.className:"");a=V.createElement(XC,bv({key:o},l,{className:c}))}return a}}])}(x.PureComponent);ko(Px,"displayName","Line");ko(Px,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!vl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ko(Px,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,h=c.map(function(m,f){var p=es(m,o);return u==="horizontal"?{x:DW({axis:n,ticks:i,bandSize:l,entry:m,index:f}),y:kt(p)?null:r.scale(p),value:p,payload:m}:{x:kt(p)?null:n.scale(p),y:DW({axis:r,ticks:a,bandSize:l,entry:m,index:f}),value:p,payload:m}});return Vi({points:h,layout:u},d)});function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function TSt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ASt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ofe(r.key),r)}}function PSt(e,t,n){return t&&ASt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ISt(e,t,n){return t=kk(t),OSt(e,ife()?Reflect.construct(t,n||[],kk(e).constructor):t.apply(e,n))}function OSt(e,t){if(t&&(Lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RSt(e)}function RSt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ife(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ife=function(){return!!e})()}function kk(e){return kk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kk(e)}function MSt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g4(e,t)}function g4(e,t){return g4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g4(e,t)}function afe(e,t,n){return t=ofe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ofe(e){var t=DSt(e,"string");return Lg(t)=="symbol"?t:t+""}function DSt(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x4(){return x4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x4.apply(this,arguments)}function LSt(e){var t=e.xAxisId,n=w$(),r=j$(),i=Wme(t);return i==null?null:x.createElement(Ax,x4({},i,{className:Et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return uc(o,!0)}}))}var gw=function(e){function t(){return TSt(this,t),ISt(this,t,arguments)}return MSt(t,e),PSt(t,[{key:"render",value:function(){return x.createElement(LSt,this.props)}}])}(x.Component);afe(gw,"displayName","XAxis");afe(gw,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function $St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FSt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dfe(r.key),r)}}function BSt(e,t,n){return t&&FSt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function USt(e,t,n){return t=_k(t),zSt(e,lfe()?Reflect.construct(t,n||[],_k(e).constructor):t.apply(e,n))}function zSt(e,t){if(t&&($g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VSt(e)}function VSt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lfe=function(){return!!e})()}function _k(e){return _k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_k(e)}function qSt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y4(e,t)}function y4(e,t){return y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y4(e,t)}function cfe(e,t,n){return t=dfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dfe(e){var t=WSt(e,"string");return $g(t)=="symbol"?t:t+""}function WSt(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v4(){return v4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v4.apply(this,arguments)}var HSt=function(t){var n=t.yAxisId,r=w$(),i=j$(),a=Hme(n);return a==null?null:x.createElement(Ax,v4({},a,{className:Et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return uc(l,!0)}}))},xw=function(e){function t(){return $St(this,t),USt(this,t,arguments)}return qSt(t,e),BSt(t,[{key:"render",value:function(){return x.createElement(HSt,this.props)}}])}(x.Component);cfe(xw,"displayName","YAxis");cfe(xw,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function mK(e){return XSt(e)||YSt(e)||GSt(e)||KSt()}function KSt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GSt(e,t){if(e){if(typeof e=="string")return b4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b4(e,t)}}function YSt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XSt(e){if(Array.isArray(e))return b4(e)}function b4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w4=function(t,n,r,i,a){var o=ca(t,N$),l=ca(t,iE),c=[].concat(mK(o),mK(l)),d=ca(t,oE),u="".concat(i,"Id"),h=i[0],m=n;if(c.length&&(m=c.reduce(function(g,y){if(y.props[u]===r&&wl(y.props,"extendDomain")&&Ce(y.props[h])){var v=y.props[h];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},m)),d.length){var f="".concat(h,"1"),p="".concat(h,"2");m=d.reduce(function(g,y){if(y.props[u]===r&&wl(y.props,"extendDomain")&&Ce(y.props[f])&&Ce(y.props[p])){var v=y.props[f],b=y.props[p];return[Math.min(g[0],v,b),Math.max(g[1],v,b)]}return g},m)}return a&&a.length&&(m=a.reduce(function(g,y){return Ce(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},m)),m},ufe={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function a(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,h||c,m),p=n?n+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,f=h.length,p=new Array(f);m<f;m++)p[m]=h[m].fn;return p},l.prototype.listenerCount=function(d){var u=n?n+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,f,p){var g=n?n+d:d;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,m),!0;case 5:return y.fn.call(y.context,u,h,m,f),!0;case 6:return y.fn.call(y.context,u,h,m,f,p),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,j;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(d,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,h);break;case 4:y[w].fn.call(y[w].context,u,h,m);break;default:if(!b)for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];y[w].fn.apply(y[w].context,b)}}return!0},l.prototype.on=function(d,u,h){return a(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return a(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var f=n?n+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!m||p.once)&&(!h||p.context===h)&&o(this,f);else{for(var g=0,y=[],v=p.length;g<v;g++)(p[g].fn!==u||m&&!p[g].once||h&&p[g].context!==h)&&y.push(p[g]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(ufe);var JSt=ufe.exports;const QSt=un(JSt);var sA=new QSt,iA="recharts.syncMouseEvents";function db(e){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},db(e)}function ZSt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eNt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hfe(r.key),r)}}function tNt(e,t,n){return t&&eNt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aA(e,t,n){return t=hfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hfe(e){var t=nNt(e,"string");return db(t)=="symbol"?t:t+""}function nNt(e,t){if(db(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rNt=function(){function e(){ZSt(this,e),aA(this,"activeIndex",0),aA(this,"coordinateList",[]),aA(this,"layout","horizontal")}return tNt(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,h=u===void 0?null:u,m=n.mouseHandlerCallback,f=m===void 0?null:m;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=a+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])}();function sNt(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&Ce(r)&&Ce(i))return!0}return!1}function iNt(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function mfe(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=Un(t,n,r,i),l=Un(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function aNt(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,h=t.angle,m=Un(l,c,d,h),f=Un(l,c,u,h);r=m.x,i=m.y,a=f.x,o=f.y}else return mfe(t);return[{x:r,y:i},{x:a,y:o}]}function ub(e){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ub(e)}function fK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fK(Object(n),!0).forEach(function(r){oNt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oNt(e,t,n){return t=lNt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lNt(e){var t=cNt(e,"string");return ub(t)=="symbol"?t:t+""}function cNt(e,t){if(ub(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ub(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dNt(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,f=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!f||!a||!o||m!=="ScatterChart"&&i!=="axis")return null;var p,g=sk;if(m==="ScatterChart")p=o,g=C0t;else if(m==="BarChart")p=iNt(h,o,c,u),g=x$;else if(h==="radial"){var y=mfe(o),v=y.cx,b=y.cy,w=y.radius,S=y.startAngle,j=y.endAngle;p={cx:v,cy:b,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},g=dme}else p={points:aNt(h,o,c)},g=sk;var N=M1(M1(M1(M1({stroke:"#ccc",pointerEvents:"none"},c),p),st(f,!1)),{},{payload:l,payloadIndex:d,className:Et("recharts-tooltip-cursor",f.className)});return x.isValidElement(f)?x.cloneElement(f,N):x.createElement(g,N)}var uNt=["item"],hNt=["children","className","width","height","style","compact","title","desc"];function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf.apply(this,arguments)}function pK(e,t){return pNt(e)||fNt(e,t)||pfe(e,t)||mNt()}function mNt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fNt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function pNt(e){if(Array.isArray(e))return e}function gK(e,t){if(e==null)return{};var n=gNt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gNt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xNt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yNt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gfe(r.key),r)}}function vNt(e,t,n){return t&&yNt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bNt(e,t,n){return t=Ck(t),wNt(e,ffe()?Reflect.construct(t,n||[],Ck(e).constructor):t.apply(e,n))}function wNt(e,t){if(t&&(Fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jNt(e)}function jNt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ffe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ffe=function(){return!!e})()}function Ck(e){return Ck=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ck(e)}function SNt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j4(e,t)}function j4(e,t){return j4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j4(e,t)}function Bg(e){return _Nt(e)||kNt(e)||pfe(e)||NNt()}function NNt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pfe(e,t){if(e){if(typeof e=="string")return S4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S4(e,t)}}function kNt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Nt(e){if(Array.isArray(e))return S4(e)}function S4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xK(Object(n),!0).forEach(function(r){ot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ot(e,t,n){return t=gfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gfe(e){var t=CNt(e,"string");return Fg(t)=="symbol"?t:t+""}function CNt(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ENt={xAxis:["bottom","top"],yAxis:["left","right"]},TNt={width:"100%",height:"100%"},xfe={x:0,y:0};function D1(e){return e}var ANt=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},PNt=function(t,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return ce(ce(ce({},i),Un(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return ce(ce(ce({},i),Un(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return xfe},lE=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Bg(l),Bg(d)):l},[]);return o.length>0?o:t&&t.length&&Ce(i)&&Ce(a)?t.slice(i,a+1):[]};function yfe(e){return e==="number"?[0,"auto"]:void 0}var N4=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,l=lE(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var f=h===void 0?l:h;m=_N(f,o.dataKey,i)}else m=h&&h[r]||l[r];return m?[].concat(Bg(c),[sme(d,m)]):c},[])},yK=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=ANt(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=Jgt(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,m=N4(t,n,u,h),f=PNt(r,l,u,a);return{activeTooltipIndex:u,activeLabel:h,activePayload:m,activeCoordinate:f}}return null},INt=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,h=t.children,m=t.stackOffset,f=Qhe(u,a);return r.reduce(function(p,g){var y,v=g.type.defaultProps!==void 0?ce(ce({},g.type.defaultProps),g.props):g.props,b=v.type,w=v.dataKey,S=v.allowDataOverflow,j=v.allowDuplicatedCategory,N=v.scale,k=v.ticks,_=v.includeHidden,C=v[o];if(p[C])return p;var T=lE(t.data,{graphicalItems:i.filter(function(H){var U,X=o in H.props?H.props[o]:(U=H.type.defaultProps)===null||U===void 0?void 0:U[o];return X===C}),dataStartIndex:c,dataEndIndex:d}),A=T.length,P,R,D;sNt(v.domain,S,b)&&(P=$R(v.domain,null,S),f&&(b==="number"||N!=="auto")&&(D=gv(T,w,"category")));var $=yfe(b);if(!P||P.length===0){var M,F=(M=v.domain)!==null&&M!==void 0?M:$;if(w){if(P=gv(T,w,b),b==="category"&&f){var O=Btt(P);j&&O?(R=P,P=fk(0,A)):j||(P=BW(F,P,g).reduce(function(H,U){return H.indexOf(U)>=0?H:[].concat(Bg(H),[U])},[]))}else if(b==="category")j?P=P.filter(function(H){return H!==""&&!kt(H)}):P=BW(F,P,g).reduce(function(H,U){return H.indexOf(U)>=0||U===""||kt(U)?H:[].concat(Bg(H),[U])},[]);else if(b==="number"){var L=nxt(T,i.filter(function(H){var U,X,le=o in H.props?H.props[o]:(U=H.type.defaultProps)===null||U===void 0?void 0:U[o],de="hide"in H.props?H.props.hide:(X=H.type.defaultProps)===null||X===void 0?void 0:X.hide;return le===C&&(_||!de)}),w,a,u);L&&(P=L)}f&&(b==="number"||N!=="auto")&&(D=gv(T,w,"category"))}else f?P=fk(0,A):l&&l[C]&&l[C].hasStack&&b==="number"?P=m==="expand"?[0,1]:rme(l[C].stackGroups,c,d):P=Jhe(T,i.filter(function(H){var U=o in H.props?H.props[o]:H.type.defaultProps[o],X="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return U===C&&(_||!X)}),b,u,!0);if(b==="number")P=w4(h,P,C,a,k),F&&(P=$R(F,P,S));else if(b==="category"&&F){var I=F,z=P.every(function(H){return I.indexOf(H)>=0});z&&(P=I)}}return ce(ce({},p),{},ot({},C,ce(ce({},v),{},{axisType:a,domain:P,categoricalDomain:D,duplicateDomain:R,originalDomain:(y=v.domain)!==null&&y!==void 0?y:$,isCategorical:f,layout:u})))},{})},ONt=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,h=t.children,m=lE(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),f=m.length,p=Qhe(u,a),g=-1;return r.reduce(function(y,v){var b=v.type.defaultProps!==void 0?ce(ce({},v.type.defaultProps),v.props):v.props,w=b[o],S=yfe("number");if(!y[w]){g++;var j;return p?j=fk(0,f):l&&l[w]&&l[w].hasStack?(j=rme(l[w].stackGroups,c,d),j=w4(h,j,w,a)):(j=$R(S,Jhe(m,r.filter(function(N){var k,_,C=o in N.props?N.props[o]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[o],T="hide"in N.props?N.props.hide:(_=N.type.defaultProps)===null||_===void 0?void 0:_.hide;return C===w&&!T}),"number",u),i.defaultProps.allowDataOverflow),j=w4(h,j,w,a)),ce(ce({},y),{},ot({},w,ce(ce({axisType:a},i.defaultProps),{},{hide:!0,orientation:la(ENt,"".concat(a,".").concat(g%2),null),domain:j,originalDomain:S,isCategorical:p,layout:u})))}return y},{})},RNt=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,h="".concat(i,"Id"),m=ca(u,a),f={};return m&&m.length?f=INt(t,{axes:m,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=ONt(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},MNt=function(t){var n=wd(t),r=uc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:qL(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:tk(n,r)}},vK=function(t){var n=t.children,r=t.defaultShowTooltip,i=Gi(n,Ag),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},DNt=function(t){return!t||!t.length?!1:t.some(function(n){var r=xc(n&&n.type);return r&&r.indexOf("Bar")>=0})},bK=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},LNt=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=r.width,u=r.height,h=r.children,m=r.margin||{},f=Gi(h,Ag),p=Gi(h,Yh),g=Object.keys(c).reduce(function(j,N){var k=c[N],_=k.orientation;return!k.mirror&&!k.hide?ce(ce({},j),{},ot({},_,j[_]+k.width)):j},{left:m.left||0,right:m.right||0}),y=Object.keys(o).reduce(function(j,N){var k=o[N],_=k.orientation;return!k.mirror&&!k.hide?ce(ce({},j),{},ot({},_,la(j,"".concat(_))+k.height)):j},{top:m.top||0,bottom:m.bottom||0}),v=ce(ce({},y),g),b=v.bottom;f&&(v.bottom+=f.props.height||Ag.defaultProps.height),p&&n&&(v=ext(v,i,r,n));var w=d-v.left-v.right,S=u-v.top-v.bottom;return ce(ce({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(S,0)})},$Nt=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},vfe=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,m=function(v,b){var w=b.graphicalItems,S=b.stackGroups,j=b.offset,N=b.updateId,k=b.dataStartIndex,_=b.dataEndIndex,C=v.barSize,T=v.layout,A=v.barGap,P=v.barCategoryGap,R=v.maxBarSize,D=bK(T),$=D.numericAxisName,M=D.cateAxisName,F=DNt(w),O=[];return w.forEach(function(L,I){var z=lE(v.data,{graphicalItems:[L],dataStartIndex:k,dataEndIndex:_}),H=L.type.defaultProps!==void 0?ce(ce({},L.type.defaultProps),L.props):L.props,U=H.dataKey,X=H.maxBarSize,le=H["".concat($,"Id")],de=H["".concat(M,"Id")],oe={},Ne=c.reduce(function(Re,Le){var Me=b["".concat(Le.axisType,"Map")],Ae=H["".concat(Le.axisType,"Id")];Me&&Me[Ae]||Le.axisType==="zAxis"||Sm();var rt=Me[Ae];return ce(ce({},Re),{},ot(ot({},Le.axisType,rt),"".concat(Le.axisType,"Ticks"),uc(rt)))},oe),K=Ne[M],he=Ne["".concat(M,"Ticks")],re=S&&S[le]&&S[le].hasStack&&uxt(L,S[le].stackGroups),Q=xc(L.type).indexOf("Bar")>=0,ge=tk(K,he),Oe=[],ut=F&&Qgt({barSize:C,stackGroups:S,totalSize:$Nt(Ne,M)});if(Q){var nt,ne,Xe=kt(X)?R:X,wt=(nt=(ne=tk(K,he,!0))!==null&&ne!==void 0?ne:Xe)!==null&&nt!==void 0?nt:0;Oe=Zgt({barGap:A,barCategoryGap:P,bandSize:wt!==ge?wt:ge,sizeList:ut[de],maxBarSize:Xe}),wt!==ge&&(Oe=Oe.map(function(Re){return ce(ce({},Re),{},{position:ce(ce({},Re.position),{},{offset:Re.position.offset-wt/2})})}))}var Ve=L&&L.type&&L.type.getComposedData;Ve&&O.push({props:ce(ce({},Ve(ce(ce({},Ne),{},{displayedData:z,props:v,dataKey:U,item:L,bandSize:ge,barPosition:Oe,offset:j,stackedData:re,layout:T,dataStartIndex:k,dataEndIndex:_}))),{},ot(ot(ot({key:L.key||"item-".concat(I)},$,Ne[$]),M,Ne[M]),"animationId",N)),childIndex:Ztt(L,v.children),item:L})}),O},f=function(v,b){var w=v.props,S=v.dataStartIndex,j=v.dataEndIndex,N=v.updateId;if(!OV({props:w}))return null;var k=w.children,_=w.layout,C=w.stackOffset,T=w.data,A=w.reverseStackOrder,P=bK(_),R=P.numericAxisName,D=P.cateAxisName,$=ca(k,r),M=cxt(T,$,"".concat(R,"Id"),"".concat(D,"Id"),C,A),F=c.reduce(function(H,U){var X="".concat(U.axisType,"Map");return ce(ce({},H),{},ot({},X,RNt(w,ce(ce({},U),{},{graphicalItems:$,stackGroups:U.axisType===R&&M,dataStartIndex:S,dataEndIndex:j}))))},{}),O=LNt(ce(ce({},F),{},{props:w,graphicalItems:$}),b==null?void 0:b.legendBBox);Object.keys(F).forEach(function(H){F[H]=u(w,F[H],O,H.replace("Map",""),n)});var L=F["".concat(D,"Map")],I=MNt(L),z=m(w,ce(ce({},F),{},{dataStartIndex:S,dataEndIndex:j,updateId:N,graphicalItems:$,stackGroups:M,offset:O}));return ce(ce({formattedGraphicalItems:z,graphicalItems:$,offset:O,stackGroups:M},I),F)},p=function(y){function v(b){var w,S,j;return xNt(this,v),j=bNt(this,v,[b]),ot(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ot(j,"accessibilityManager",new rNt),ot(j,"handleLegendBBoxUpdate",function(N){if(N){var k=j.state,_=k.dataStartIndex,C=k.dataEndIndex,T=k.updateId;j.setState(ce({legendBBox:N},f({props:j.props,dataStartIndex:_,dataEndIndex:C,updateId:T},ce(ce({},j.state),{},{legendBBox:N}))))}}),ot(j,"handleReceiveSyncEvent",function(N,k,_){if(j.props.syncId===N){if(_===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(k)}}),ot(j,"handleBrushChange",function(N){var k=N.startIndex,_=N.endIndex;if(k!==j.state.dataStartIndex||_!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return ce({dataStartIndex:k,dataEndIndex:_},f({props:j.props,dataStartIndex:k,dataEndIndex:_,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:k,dataEndIndex:_})}}),ot(j,"handleMouseEnter",function(N){var k=j.getMouseInfo(N);if(k){var _=ce(ce({},k),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var C=j.props.onMouseEnter;xt(C)&&C(_,N)}}),ot(j,"triggeredAfterMouseMove",function(N){var k=j.getMouseInfo(N),_=k?ce(ce({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var C=j.props.onMouseMove;xt(C)&&C(_,N)}),ot(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),ot(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),ot(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),ot(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var _=j.props.onMouseLeave;xt(_)&&_(k,N)}),ot(j,"handleOuterEvent",function(N){var k=Qtt(N),_=la(j.props,"".concat(k));if(k&&xt(_)){var C,T;/.*touch.*/i.test(k)?T=j.getMouseInfo(N.changedTouches[0]):T=j.getMouseInfo(N),_((C=T)!==null&&C!==void 0?C:{},N)}}),ot(j,"handleClick",function(N){var k=j.getMouseInfo(N);if(k){var _=ce(ce({},k),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var C=j.props.onClick;xt(C)&&C(_,N)}}),ot(j,"handleMouseDown",function(N){var k=j.props.onMouseDown;if(xt(k)){var _=j.getMouseInfo(N);k(_,N)}}),ot(j,"handleMouseUp",function(N){var k=j.props.onMouseUp;if(xt(k)){var _=j.getMouseInfo(N);k(_,N)}}),ot(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),ot(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),ot(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),ot(j,"handleDoubleClick",function(N){var k=j.props.onDoubleClick;if(xt(k)){var _=j.getMouseInfo(N);k(_,N)}}),ot(j,"handleContextMenu",function(N){var k=j.props.onContextMenu;if(xt(k)){var _=j.getMouseInfo(N);k(_,N)}}),ot(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&sA.emit(iA,j.props.syncId,N,j.eventEmitterSymbol)}),ot(j,"applySyncEvent",function(N){var k=j.props,_=k.layout,C=k.syncMethod,T=j.state.updateId,A=N.dataStartIndex,P=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(ce({dataStartIndex:A,dataEndIndex:P},f({props:j.props,dataStartIndex:A,dataEndIndex:P,updateId:T},j.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,D=N.chartY,$=N.activeTooltipIndex,M=j.state,F=M.offset,O=M.tooltipTicks;if(!F)return;if(typeof C=="function")$=C(O,N);else if(C==="value"){$=-1;for(var L=0;L<O.length;L++)if(O[L].value===N.activeLabel){$=L;break}}var I=ce(ce({},F),{},{x:F.left,y:F.top}),z=Math.min(R,I.x+I.width),H=Math.min(D,I.y+I.height),U=O[$]&&O[$].value,X=N4(j.state,j.props.data,$),le=O[$]?{x:_==="horizontal"?O[$].coordinate:z,y:_==="horizontal"?H:O[$].coordinate}:xfe;j.setState(ce(ce({},N),{},{activeLabel:U,activeCoordinate:le,activePayload:X,activeTooltipIndex:$}))}else j.setState(N)}),ot(j,"renderCursor",function(N){var k,_=j.state,C=_.isTooltipActive,T=_.activeCoordinate,A=_.activePayload,P=_.offset,R=_.activeTooltipIndex,D=_.tooltipAxisBandSize,$=j.getTooltipEventType(),M=(k=N.props.active)!==null&&k!==void 0?k:C,F=j.props.layout,O=N.key||"_recharts-cursor";return V.createElement(dNt,{key:O,activeCoordinate:T,activePayload:A,activeTooltipIndex:R,chartName:n,element:N,isActive:M,layout:F,offset:P,tooltipAxisBandSize:D,tooltipEventType:$})}),ot(j,"renderPolarAxis",function(N,k,_){var C=la(N,"type.axisType"),T=la(j.state,"".concat(C,"Map")),A=N.type.defaultProps,P=A!==void 0?ce(ce({},A),N.props):N.props,R=T&&T[P["".concat(C,"Id")]];return x.cloneElement(N,ce(ce({},R),{},{className:Et(C,R.className),key:N.key||"".concat(k,"-").concat(_),ticks:uc(R,!0)}))}),ot(j,"renderPolarGrid",function(N){var k=N.props,_=k.radialLines,C=k.polarAngles,T=k.polarRadius,A=j.state,P=A.radiusAxisMap,R=A.angleAxisMap,D=wd(P),$=wd(R),M=$.cx,F=$.cy,O=$.innerRadius,L=$.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(C)?C:uc($,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(T)?T:uc(D,!0).map(function(I){return I.coordinate}),cx:M,cy:F,innerRadius:O,outerRadius:L,key:N.key||"polar-grid",radialLines:_})}),ot(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,k=j.props,_=k.children,C=k.width,T=k.height,A=j.props.margin||{},P=C-(A.left||0)-(A.right||0),R=Yhe({children:_,formattedGraphicalItems:N,legendWidth:P,legendContent:d});if(!R)return null;var D=R.item,$=gK(R,uNt);return x.cloneElement(D,ce(ce({},$),{},{chartWidth:C,chartHeight:T,margin:A,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),ot(j,"renderTooltip",function(){var N,k=j.props,_=k.children,C=k.accessibilityLayer,T=Gi(_,Xi);if(!T)return null;var A=j.state,P=A.isTooltipActive,R=A.activeCoordinate,D=A.activePayload,$=A.activeLabel,M=A.offset,F=(N=T.props.active)!==null&&N!==void 0?N:P;return x.cloneElement(T,{viewBox:ce(ce({},M),{},{x:M.left,y:M.top}),active:F,label:$,payload:F?D:[],coordinate:R,accessibilityLayer:C})}),ot(j,"renderBrush",function(N){var k=j.props,_=k.margin,C=k.data,T=j.state,A=T.offset,P=T.dataStartIndex,R=T.dataEndIndex,D=T.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:P1(j.handleBrushChange,N.props.onChange),data:C,x:Ce(N.props.x)?N.props.x:A.left,y:Ce(N.props.y)?N.props.y:A.top+A.height+A.brushBottom-(_.bottom||0),width:Ce(N.props.width)?N.props.width:A.width,startIndex:P,endIndex:R,updateId:"brush-".concat(D)})}),ot(j,"renderReferenceElement",function(N,k,_){if(!N)return null;var C=j,T=C.clipPathId,A=j.state,P=A.xAxisMap,R=A.yAxisMap,D=A.offset,$=N.type.defaultProps||{},M=N.props,F=M.xAxisId,O=F===void 0?$.xAxisId:F,L=M.yAxisId,I=L===void 0?$.yAxisId:L;return x.cloneElement(N,{key:N.key||"".concat(k,"-").concat(_),xAxis:P[O],yAxis:R[I],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:T})}),ot(j,"renderActivePoints",function(N){var k=N.item,_=N.activePoint,C=N.basePoint,T=N.childIndex,A=N.isRange,P=[],R=k.props.key,D=k.item.type.defaultProps!==void 0?ce(ce({},k.item.type.defaultProps),k.item.props):k.item.props,$=D.activeDot,M=D.dataKey,F=ce(ce({index:T,dataKey:M,cx:_.x,cy:_.y,r:4,fill:g$(k.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},st($,!1)),CN($));return P.push(v.renderActiveDot($,F,"".concat(R,"-activePoint-").concat(T))),C?P.push(v.renderActiveDot($,ce(ce({},F),{},{cx:C.x,cy:C.y}),"".concat(R,"-basePoint-").concat(T))):A&&P.push(null),P}),ot(j,"renderGraphicChild",function(N,k,_){var C=j.filterFormatItem(N,k,_);if(!C)return null;var T=j.getTooltipEventType(),A=j.state,P=A.isTooltipActive,R=A.tooltipAxis,D=A.activeTooltipIndex,$=A.activeLabel,M=j.props.children,F=Gi(M,Xi),O=C.props,L=O.points,I=O.isRange,z=O.baseLine,H=C.item.type.defaultProps!==void 0?ce(ce({},C.item.type.defaultProps),C.item.props):C.item.props,U=H.activeDot,X=H.hide,le=H.activeBar,de=H.activeShape,oe=!!(!X&&P&&F&&(U||le||de)),Ne={};T!=="axis"&&F&&F.props.trigger==="click"?Ne={onClick:P1(j.handleItemMouseEnter,N.props.onClick)}:T!=="axis"&&(Ne={onMouseLeave:P1(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:P1(j.handleItemMouseEnter,N.props.onMouseEnter)});var K=x.cloneElement(N,ce(ce({},C.props),Ne));function he(Le){return typeof R.dataKey=="function"?R.dataKey(Le.payload):null}if(oe)if(D>=0){var re,Q;if(R.dataKey&&!R.allowDuplicatedCategory){var ge=typeof R.dataKey=="function"?he:"payload.".concat(R.dataKey.toString());re=_N(L,ge,$),Q=I&&z&&_N(z,ge,$)}else re=L==null?void 0:L[D],Q=I&&z&&z[D];if(de||le){var Oe=N.props.activeIndex!==void 0?N.props.activeIndex:D;return[x.cloneElement(N,ce(ce(ce({},C.props),Ne),{},{activeIndex:Oe})),null,null]}if(!kt(re))return[K].concat(Bg(j.renderActivePoints({item:C,activePoint:re,basePoint:Q,childIndex:D,isRange:I})))}else{var ut,nt=(ut=j.getItemByXY(j.state.activeCoordinate))!==null&&ut!==void 0?ut:{graphicalItem:K},ne=nt.graphicalItem,Xe=ne.item,wt=Xe===void 0?N:Xe,Ve=ne.childIndex,Re=ce(ce(ce({},C.props),Ne),{},{activeIndex:Ve});return[x.cloneElement(wt,Re),null,null]}return I?[K,null,null]:[K,null]}),ot(j,"renderCustomized",function(N,k,_){return x.cloneElement(N,ce(ce({key:"recharts-customized-".concat(_)},j.props),j.state))}),ot(j,"renderMap",{CartesianGrid:{handler:D1,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:D1},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:D1},YAxis:{handler:D1},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Sx("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=Gue(j.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return SNt(v,y),vNt(v,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,j=w.data,N=w.height,k=w.layout,_=Gi(S,Xi);if(_){var C=_.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,A=N4(this.state,j,C,T),P=this.state.tooltipTicks[C].coordinate,R=(this.state.offset.top+N)/2,D=k==="horizontal",$=D?{x:P,y:R}:{y:P,x:R},M=this.state.formattedGraphicalItems.find(function(O){var L=O.item;return L.type.name==="Scatter"});M&&($=ce(ce({},$),M.props.points[C].tooltipPosition),A=M.props.points[C].tooltipPayload);var F={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:T,activePayload:A,activeCoordinate:$};this.setState(F),this.renderCursor(_),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){ZO([Gi(w.children,Xi)],[Gi(this.props.children,Xi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Gi(this.props.children,Xi);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),N=kht(j),k={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},_=j.width/S.offsetWidth||1,C=this.inRange(k.chartX,k.chartY,_);if(!C)return null;var T=this.state,A=T.xAxisMap,P=T.yAxisMap,R=this.getTooltipEventType(),D=yK(this.state,this.props.data,this.props.layout,C);if(R!=="axis"&&A&&P){var $=wd(A).scale,M=wd(P).scale,F=$&&$.invert?$.invert(k.chartX):null,O=M&&M.invert?M.invert(k.chartY):null;return ce(ce({},k),{},{xValue:F,yValue:O},D)}return D?ce(ce({},k),D):null}},{key:"inRange",value:function(w,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=w/j,_=S/j;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,T=k>=C.left&&k<=C.left+C.width&&_>=C.top&&_<=C.top+C.height;return T?{x:k,y:_}:null}var A=this.state,P=A.angleAxisMap,R=A.radiusAxisMap;if(P&&R){var D=wd(P);return VW({x:k,y:_},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),j=Gi(w,Xi),N={};j&&S==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=CN(this.props,this.handleOuterEvent);return ce(ce({},k),N)}},{key:"addListener",value:function(){sA.on(iA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sA.removeListener(iA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,j){for(var N=this.state.formattedGraphicalItems,k=0,_=N.length;k<_;k++){var C=N[k];if(C.item===w||C.props.key===w.key||S===xc(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,j=S.left,N=S.top,k=S.height,_=S.width;return V.createElement("defs",null,V.createElement("clipPath",{id:w},V.createElement("rect",{x:j,y:N,height:k,width:_})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,j){var N=pK(j,2),k=N[0],_=N[1];return ce(ce({},S),{},ot({},k,_.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,j){var N=pK(j,2),k=N[0],_=N[1];return ce(ce({},S),{},ot({},k,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,j=S.formattedGraphicalItems,N=S.activeItem;if(j&&j.length)for(var k=0,_=j.length;k<_;k++){var C=j[k],T=C.props,A=C.item,P=A.type.defaultProps!==void 0?ce(ce({},A.type.defaultProps),A.props):A.props,R=xc(A.type);if(R==="Bar"){var D=(T.data||[]).find(function(O){return o0t(w,O)});if(D)return{graphicalItem:C,payload:D}}else if(R==="RadialBar"){var $=(T.data||[]).find(function(O){return VW(w,O)});if($)return{graphicalItem:C,payload:$}}else if(tE(C,N)||nE(C,N)||ib(C,N)){var M=Ybt({graphicalItem:C,activeTooltipItem:N,itemData:P.data}),F=P.activeIndex===void 0?M:P.activeIndex;return{graphicalItem:ce(ce({},C),{},{childIndex:F}),payload:ib(C,N)?P.data[M]:C.props.data[M]}}}return null}},{key:"render",value:function(){var w=this;if(!OV(this))return null;var S=this.props,j=S.children,N=S.className,k=S.width,_=S.height,C=S.style,T=S.compact,A=S.title,P=S.desc,R=gK(S,hNt),D=st(R,!1);if(T)return V.createElement(JH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(tR,Kf({},D,{width:k,height:_,title:A,desc:P}),this.renderClipPath(),MV(j,this.renderMap)));if(this.props.accessibilityLayer){var $,M;D.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,D.role=(M=this.props.role)!==null&&M!==void 0?M:"application",D.onKeyDown=function(O){w.accessibilityManager.keyboardEvent(O)},D.onFocus=function(){w.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return V.createElement(JH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Kf({className:Et("recharts-wrapper",N),style:ce({position:"relative",cursor:"default",width:k,height:_},C)},F,{ref:function(L){w.container=L}}),V.createElement(tR,Kf({},D,{width:k,height:_,title:A,desc:P,style:TNt}),this.renderClipPath(),MV(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);ot(p,"displayName",n),ot(p,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ot(p,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,w=y.data,S=y.children,j=y.width,N=y.height,k=y.layout,_=y.stackOffset,C=y.margin,T=v.dataStartIndex,A=v.dataEndIndex;if(v.updateId===void 0){var P=vK(y);return ce(ce(ce({},P),{},{updateId:0},f(ce(ce({props:y},P),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:N,prevLayout:k,prevStackOffset:_,prevMargin:C,prevChildren:S})}if(b!==v.prevDataKey||w!==v.prevData||j!==v.prevWidth||N!==v.prevHeight||k!==v.prevLayout||_!==v.prevStackOffset||!bp(C,v.prevMargin)){var R=vK(y),D={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=ce(ce({},yK(v,w,k)),{},{updateId:v.updateId+1}),M=ce(ce(ce({},R),D),$);return ce(ce(ce({},M),f(ce({props:y},M),v)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:N,prevLayout:k,prevStackOffset:_,prevMargin:C,prevChildren:S})}if(!ZO(S,v.prevChildren)){var F,O,L,I,z=Gi(S,Ag),H=z&&(F=(O=z.props)===null||O===void 0?void 0:O.startIndex)!==null&&F!==void 0?F:T,U=z&&(L=(I=z.props)===null||I===void 0?void 0:I.endIndex)!==null&&L!==void 0?L:A,X=H!==T||U!==A,le=!kt(w),de=le&&!X?v.updateId:v.updateId+1;return ce(ce({updateId:de},f(ce(ce({props:y},v),{},{updateId:de,dataStartIndex:H,dataEndIndex:U}),v)),{},{prevChildren:S,dataStartIndex:H,dataEndIndex:U})}return null}),ot(p,"renderActiveDot",function(y,v,b){var w;return x.isValidElement(y)?w=x.cloneElement(y,v):xt(y)?w=y(v):w=V.createElement(XC,v),V.createElement(ln,{className:"recharts-active-dot",key:b},w)});var g=x.forwardRef(function(v,b){return V.createElement(p,Kf({},v,{ref:b}))});return g.displayName=p.displayName,g},bfe=vfe({chartName:"LineChart",GraphicalChild:Px,axisComponents:[{axisType:"xAxis",AxisComp:gw},{axisType:"yAxis",AxisComp:xw}],formatAxisMap:C1t}),wfe=vfe({chartName:"PieChart",GraphicalChild:Vl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:eE},{axisType:"radiusAxis",AxisComp:QC}],formatAxisMap:wxt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const vy={account:"",points:"",order:"",feature:"",consult:"",other:""},oA={how_to:"",why:"",error:"/",suggestion:"",other:""},L1={pending:{label:"",color:"bg-yellow-500"},resolved:{label:"",color:"bg-green-500"},archived:{label:"",color:"bg-gray-500"}},lA={low:{label:"",color:"bg-gray-400"},normal:{label:"",color:"bg-blue-400"},high:{label:"",color:"bg-orange-500"},urgent:{label:"",color:"bg-red-500"}},wK=["#6366f1","#22c55e","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],FNt=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState(null),[o,l]=x.useState(""),[c,d]=x.useState(!1),[u,h]=x.useState("all"),[m,f]=x.useState("all"),[p,g]=x.useState(""),[y,v]=x.useState(""),[b,w]=x.useState({total:0,pending:0,resolved:0,byCategory:[],byType:[],dailyTrend:[],topKeywords:[]}),S=async()=>{r(!0);try{let _=ee.from("customer_feedback").select("*").order("created_at",{ascending:!1});u!=="all"&&(_=_.eq("category",u)),m!=="all"&&(_=_.eq("status",m)),p&&(_=_.gte("created_at",p)),y&&(_=_.lte("created_at",y+"T23:59:59"));const{data:C,error:T}=await _;if(T)throw T;t(C||[]),j(C||[])}catch(_){console.error("Error fetching feedbacks:",_),q.error("")}finally{r(!1)}},j=_=>{const C=_.filter(I=>I.status==="pending").length,T=_.filter(I=>I.status==="resolved").length,A={};_.forEach(I=>{A[I.category]=(A[I.category]||0)+1});const P=Object.entries(A).map(([I,z])=>({name:vy[I]||I,value:z})),R={};_.forEach(I=>{const z=I.question_type||"other";R[z]=(R[z]||0)+1});const D=Object.entries(R).map(([I,z])=>({name:oA[I]||I,value:z})),$={},M=new Date;for(let I=6;I>=0;I--){const z=new Date(M);z.setDate(z.getDate()-I);const H=Oa(z,"MM/dd");$[H]=0}_.forEach(I=>{const z=Oa(new Date(I.created_at),"MM/dd");$[z]!==void 0&&$[z]++});const F=Object.entries($).map(([I,z])=>({date:I,count:z})),O={};_.forEach(I=>{I.keywords&&I.keywords.forEach(z=>{O[z]=(O[z]||0)+1})});const L=Object.entries(O).sort((I,z)=>z[1]-I[1]).slice(0,10).map(([I,z])=>({keyword:I,count:z}));w({total:_.length,pending:C,resolved:T,byCategory:P,byType:D,dailyTrend:F,topKeywords:L})};x.useEffect(()=>{S()},[u,m,p,y]);const N=async(_,C)=>{try{const T={status:C};C==="resolved"&&(T.resolved_at=new Date().toISOString(),T.resolution_notes=o);const{error:A}=await ee.from("customer_feedback").update(T).eq("id",_);if(A)throw A;q.success(""),d(!1),l(""),S()}catch(T){console.error("Error updating status:",T),q.error("")}},k=()=>{const _=["","","","Email","","","","","","",""],C=e.map(R=>{var D,$;return[Oa(new Date(R.created_at),"yyyy-MM-dd HH:mm"),vy[R.category]||R.category,oA[R.question_type||""]||R.question_type||"",R.email||"",R.name||"",(R.description||"").replace(/"/g,'""'),((D=L1[R.status])==null?void 0:D.label)||R.status,R.from_ai_chat?"AI ":"",(R.keywords||[]).join(""),R.sentiment||"",(($=lA[R.priority])==null?void 0:$.label)||R.priority]}),T=[_.join(","),...C.map(R=>R.map(D=>`"${D}"`).join(","))].join(`
`),A=new Blob(["\uFEFF"+T],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a");P.href=URL.createObjectURL(A),P.download=`customer_feedback_${Oa(new Date,"yyyyMMdd")}.csv`,P.click()};return s.jsxs(Yt,{title:"",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Y,{children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(Vr,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"text-2xl font-bold",children:b.total})]})]})})}),s.jsx(Y,{children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/10 flex items-center justify-center",children:s.jsx(Pn,{className:"w-5 h-5 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"text-2xl font-bold",children:b.pending})]})]})})}),s.jsx(Y,{children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/10 flex items-center justify-center",children:s.jsx(St,{className:"w-5 h-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsx("p",{className:"text-2xl font-bold",children:b.resolved})]})]})})}),s.jsx(Y,{children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:s.jsx(dr,{className:"w-5 h-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:""}),s.jsxs("p",{className:"text-2xl font-bold",children:[b.total>0?Math.round(b.resolved/b.total*100):0,"%"]})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs(me,{className:"text-lg flex items-center gap-2",children:[s.jsx(bn,{className:"w-5 h-5"}),""]})}),s.jsx(Z,{children:s.jsx("div",{className:"h-64",children:s.jsx(BN,{width:"100%",height:"100%",children:s.jsxs(wfe,{children:[s.jsx(Vl,{data:b.byCategory,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:b.byCategory.map((_,C)=>s.jsx(lw,{fill:wK[C%wK.length]},`cell-${C}`))}),s.jsx(Xi,{}),s.jsx(Yh,{})]})})})})]}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs(me,{className:"text-lg flex items-center gap-2",children:[s.jsx(dr,{className:"w-5 h-5"}),"7"]})}),s.jsx(Z,{children:s.jsx("div",{className:"h-64",children:s.jsx(BN,{width:"100%",height:"100%",children:s.jsxs(bfe,{data:b.dailyTrend,children:[s.jsx(C$,{strokeDasharray:"3 3"}),s.jsx(gw,{dataKey:"date"}),s.jsx(xw,{}),s.jsx(Xi,{}),s.jsx(Px,{type:"monotone",dataKey:"count",stroke:"hsl(var(--primary))",strokeWidth:2,name:""})]})})})})]})]}),b.topKeywords.length>0&&s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs(me,{className:"text-lg flex items-center gap-2",children:[s.jsx(oCe,{className:"w-5 h-5"}),""]})}),s.jsx(Z,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:b.topKeywords.map((_,C)=>s.jsxs(ae,{variant:"secondary",className:"text-sm",children:[_.keyword," (",_.count,")"]},_.keyword))})})]}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs(me,{className:"text-lg flex items-center gap-2",children:[s.jsx(u_,{className:"w-5 h-5"}),""]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(Al,{value:u,onValueChange:h,children:[s.jsx(Vo,{className:"w-32",children:s.jsx(Pl,{placeholder:""})}),s.jsxs(qo,{children:[s.jsx(Zr,{value:"all",children:""}),Object.entries(vy).map(([_,C])=>s.jsx(Zr,{value:_,children:C},_))]})]}),s.jsxs(Al,{value:m,onValueChange:f,children:[s.jsx(Vo,{className:"w-28",children:s.jsx(Pl,{placeholder:""})}),s.jsxs(qo,{children:[s.jsx(Zr,{value:"all",children:""}),Object.entries(L1).map(([_,{label:C}])=>s.jsx(Zr,{value:_,children:C},_))]})]}),s.jsx(xe,{type:"date",value:p,onChange:_=>g(_.target.value),className:"w-36",placeholder:""}),s.jsx(xe,{type:"date",value:y,onChange:_=>v(_.target.value),className:"w-36",placeholder:""}),s.jsx(B,{variant:"outline",size:"icon",onClick:S,children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsxs(B,{variant:"outline",onClick:k,className:"gap-2",children:[s.jsx(fu,{className:"w-4 h-4"})," CSV"]})]})]})}),s.jsx(Z,{children:n?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"..."}):e.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:""}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(gL,{children:[s.jsx(xL,{children:s.jsxs(A0,{children:[s.jsx(Hi,{className:"w-32",children:""}),s.jsx(Hi,{children:""}),s.jsx(Hi,{children:""}),s.jsx(Hi,{className:"max-w-xs",children:""}),s.jsx(Hi,{children:""}),s.jsx(Hi,{children:""}),s.jsx(Hi,{children:""}),s.jsx(Hi,{children:""})]})}),s.jsx(yL,{children:e.map(_=>{var C,T,A,P,R,D;return s.jsxs(A0,{children:[s.jsx(Ki,{className:"text-sm text-muted-foreground",children:Oa(new Date(_.created_at),"MM/dd HH:mm",{locale:kN})}),s.jsx(Ki,{children:s.jsx(ae,{variant:"outline",children:vy[_.category]||_.category})}),s.jsx(Ki,{children:_.question_type&&s.jsx(ae,{variant:"secondary",children:oA[_.question_type]||_.question_type})}),s.jsxs(Ki,{className:"max-w-xs truncate",children:[(C=_.description)==null?void 0:C.slice(0,50),(((T=_.description)==null?void 0:T.length)||0)>50&&"..."]}),s.jsx(Ki,{children:s.jsx(ae,{variant:_.from_ai_chat?"default":"outline",children:_.from_ai_chat?"AI ":""})}),s.jsx(Ki,{children:s.jsx(ae,{className:((A=lA[_.priority])==null?void 0:A.color)||"bg-gray-400",children:((P=lA[_.priority])==null?void 0:P.label)||_.priority})}),s.jsx(Ki,{children:s.jsx(ae,{className:((R=L1[_.status])==null?void 0:R.color)||"bg-gray-400",children:((D=L1[_.status])==null?void 0:D.label)||_.status})}),s.jsx(Ki,{children:s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{a(_),l(_.resolution_notes||""),d(!0)},children:""})})]},_.id)})})]})})})]})]}),s.jsx(Xn,{open:c,onOpenChange:d,children:s.jsxs(zn,{className:"max-w-lg",children:[s.jsx(Di,{children:s.jsx(hr,{children:""})}),i&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"ml-2",children:Oa(new Date(i.created_at),"yyyy-MM-dd HH:mm")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx(ae,{variant:"outline",className:"ml-2",children:vy[i.category]||i.category})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx(ae,{variant:"secondary",className:"ml-2",children:i.from_ai_chat?"AI ":""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"ml-2",children:i.sentiment||"-"})]}),i.email&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Email"}),s.jsx("span",{className:"ml-2",children:i.email})]}),i.name&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"ml-2",children:i.name})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:""}),s.jsx("div",{className:"p-3 bg-muted rounded-lg text-sm",children:i.description||""})]}),i.keywords&&i.keywords.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:i.keywords.map(_=>s.jsx(ae,{variant:"outline",className:"text-xs",children:_},_))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:""}),s.jsx(Yn,{value:o,onChange:_=>l(_.target.value),placeholder:"...",rows:3})]})]}),s.jsxs(sC,{className:"flex-wrap gap-2",children:[(i==null?void 0:i.status)!=="resolved"&&s.jsxs(B,{variant:"default",onClick:()=>i&&N(i.id,"resolved"),className:"gap-2",children:[s.jsx(St,{className:"w-4 h-4"}),""]}),(i==null?void 0:i.status)!=="archived"&&s.jsxs(B,{variant:"outline",onClick:()=>i&&N(i.id,"archived"),className:"gap-2",children:[s.jsx(N_e,{className:"w-4 h-4"}),""]})]})]})})]})},$1={edge_function_failure:"",database_error:"",api_timeout:"API ",auth_error:"",payment_error:"",network_error:"",unknown:""},jK=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"],F1={pending:{label:"",color:"bg-warning/10 text-warning",icon:s.jsx(Pn,{className:"w-3 h-3"})},pending_human:{label:"",color:"bg-destructive/10 text-destructive",icon:s.jsx(rs,{className:"w-3 h-3"})},in_progress:{label:"",color:"bg-primary/10 text-primary",icon:s.jsx(Pn,{className:"w-3 h-3"})},resolved:{label:"",color:"bg-accent/50 text-accent-foreground",icon:s.jsx(Ct,{className:"w-3 h-3"})},ignored:{label:"",color:"bg-muted text-muted-foreground",icon:s.jsx(We,{className:"w-3 h-3"})}},SK={urgent:{label:" ",color:"bg-destructive/10 text-destructive"},high:{label:" ",color:"bg-warning/10 text-warning"},normal:{label:" ",color:"bg-muted text-muted-foreground"},low:{label:" ",color:"bg-accent/50 text-accent-foreground"}};function BNt(){const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState({today:0,todayChange:0,week:0,weekChange:0,month:0,monthChange:0,pending:0,urgent:0}),[o,l]=x.useState([]),[c,d]=x.useState([]),[u,h]=x.useState("day"),[m,f]=x.useState([]),[p,g]=x.useState(null),[y,v]=x.useState(!1),[b,w]=x.useState(""),[S,j]=x.useState(!1);x.useEffect(()=>{N()},[]);const N=async()=>{r(!0);try{const{data:M,error:F}=await ee.from("system_errors").select("*").order("created_at",{ascending:!1});if(F)throw F;const O=M||[];t(O),k(O),_(O),C(O),T(O)}catch(M){console.error("Error fetching errors:",M),q.error("")}finally{r(!1)}},k=M=>{const F=new Date,O=NN(F),L=NN(y1(F,1)),I=ym(F,{locale:kN}),z=ym(y1(F,7),{locale:kN}),H=oV(F),U=oV(y1(F,30)),X=M.filter(Q=>Hl(new Date(Q.created_at),O)).length,le=M.filter(Q=>{const ge=new Date(Q.created_at);return Hl(ge,L)&&!Hl(ge,O)}).length,de=M.filter(Q=>Hl(new Date(Q.created_at),I)).length,oe=M.filter(Q=>{const ge=new Date(Q.created_at);return Hl(ge,z)&&!Hl(ge,I)}).length,Ne=M.filter(Q=>Hl(new Date(Q.created_at),H)).length,K=M.filter(Q=>{const ge=new Date(Q.created_at);return Hl(ge,U)&&!Hl(ge,H)}).length,he=M.filter(Q=>Q.status==="pending"||Q.status==="pending_human").length,re=M.filter(Q=>Q.escalated&&(Q.status==="pending"||Q.status==="pending_human")).length;a({today:X,todayChange:X-le,week:de,weekChange:oe>0?Math.round((de-oe)/oe*100):0,month:Ne,monthChange:K>0?Math.round((Ne-K)/K*100):0,pending:he,urgent:re})},_=M=>{const F={};M.forEach(L=>{const I=L.error_type||"unknown";F[I]=(F[I]||0)+1});const O=Object.entries(F).map(([L,I],z)=>({name:$1[L]||L,value:I,color:jK[z%jK.length]})).sort((L,I)=>I.value-L.value);l(O)},C=M=>{const O={};for(let I=29;I>=0;I--){const z=y1(new Date,I),H=Oa(z,"MM/dd");O[H]=0}M.forEach(I=>{const z=Oa(new Date(I.created_at),"MM/dd");O[z]!==void 0&&O[z]++});const L=Object.entries(O).map(([I,z])=>({date:I,count:z}));d(L)},T=M=>{const F={};M.forEach(L=>{const I=L.error_message.substring(0,50);F[I]||(F[I]={count:0,status:L.status||"pending"}),F[I].count++});const O=Object.entries(F).map(([L,{count:I,status:z}])=>({description:L,count:I,status:z})).sort((L,I)=>I.count-L.count).slice(0,10);f(O)},A=async(M,F)=>{try{const O={status:F};F==="resolved"&&(O.resolved_at=new Date().toISOString(),O.resolution_notes=b);const{error:L}=await ee.from("system_errors").update(O).eq("id",M);if(L)throw L;q.success(""),v(!1),w(""),N()}catch(O){console.error("Error updating status:",O),q.error("")}},P=M=>{var L;const O=(M.auto_fix_results||[]).map((I,z)=>` ${z+1}${I.strategy} - ${I.success?"":""}`).join(`
`);return`===  ===
${M.error_id}
${Oa(new Date(M.created_at),"yyyy/MM/dd HH:mm:ss")}
${$1[M.error_type]||M.error_type}
${M.page_url||""}
${M.browser||""}


${M.error_message}


${O||""}


${((L=F1[M.status||"pending"])==null?void 0:L.label)||M.status}
================`},R=async M=>{const F=P(M);await navigator.clipboard.writeText(F),j(!0),q.success(" "),setTimeout(()=>j(!1),2e3)},D=e.filter(M=>M.status==="pending"||M.status==="pending_human"),$=M=>M.escalated?"urgent":(M.auto_fix_attempts||0)>=3?"high":"normal";return s.jsx(Yt,{title:"",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Y,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:" "}),s.jsx(bn,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-3xl font-bold",children:i.today}),s.jsxs("div",{className:`flex items-center text-sm ${i.todayChange>=0?"text-red-500":"text-green-500"}`,children:[i.todayChange>=0?s.jsx(dr,{className:"w-4 h-4 mr-1"}):s.jsx(tp,{className:"w-4 h-4 mr-1"}),i.todayChange>=0?"+":"",i.todayChange," vs "]})]})]}),s.jsxs(Y,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:" "}),s.jsx(Tc,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-3xl font-bold",children:i.week}),s.jsxs("div",{className:`flex items-center text-sm ${i.weekChange>=0?"text-red-500":"text-green-500"}`,children:[i.weekChange>=0?s.jsx(dr,{className:"w-4 h-4 mr-1"}):s.jsx(tp,{className:"w-4 h-4 mr-1"}),i.weekChange>=0?"+":"",i.weekChange,"% vs "]})]})]}),s.jsxs(Y,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:" "}),s.jsx(Tc,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-3xl font-bold",children:i.month}),s.jsxs("div",{className:`flex items-center text-sm ${i.monthChange>=0?"text-red-500":"text-green-500"}`,children:[i.monthChange>=0?s.jsx(dr,{className:"w-4 h-4 mr-1"}):s.jsx(tp,{className:"w-4 h-4 mr-1"}),i.monthChange>=0?"+":"",i.monthChange,"% vs "]})]})]}),s.jsxs(Y,{className:"border-destructive/50",children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(me,{className:"text-sm font-medium text-muted-foreground",children:" "}),s.jsx(rs,{className:"w-4 h-4 text-destructive"})]}),s.jsxs(Z,{children:[s.jsx("div",{className:"text-3xl font-bold text-destructive",children:i.pending}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[": ",s.jsx("span",{className:"text-destructive font-semibold",children:i.urgent})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg",children:""})}),s.jsxs(Z,{children:[s.jsx("div",{className:"h-[300px]",children:s.jsx(BN,{width:"100%",height:"100%",children:s.jsxs(wfe,{children:[s.jsx(Vl,{data:o,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",label:({name:M,percent:F})=>`${M} ${(F*100).toFixed(0)}%`,children:o.map((M,F)=>s.jsx(lw,{fill:M.color},`cell-${F}`))}),s.jsx(Xi,{})]})})}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-4 justify-center",children:o.map((M,F)=>s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:M.color}}),s.jsx("span",{className:"text-muted-foreground",children:M.name})]},F))})]})]}),s.jsxs(Y,{children:[s.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[s.jsx(me,{className:"text-lg",children:"30"}),s.jsx(va,{value:u,onValueChange:M=>h(M),children:s.jsxs($i,{className:"h-8",children:[s.jsx(Dt,{value:"day",className:"text-xs px-2",children:""}),s.jsx(Dt,{value:"week",className:"text-xs px-2",children:""}),s.jsx(Dt,{value:"month",className:"text-xs px-2",children:""})]})})]}),s.jsx(Z,{children:s.jsx("div",{className:"h-[300px]",children:s.jsx(BN,{width:"100%",height:"100%",children:s.jsxs(bfe,{data:c,children:[s.jsx(C$,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(gw,{dataKey:"date",tick:{fontSize:12},className:"text-muted-foreground",interval:"preserveStartEnd"}),s.jsx(xw,{tick:{fontSize:12},className:"text-muted-foreground"}),s.jsx(Xi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(Px,{type:"monotone",dataKey:"count",name:"",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1})]})})})})]})]}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg",children:" TOP 10"})}),s.jsx(Z,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""})]})}),s.jsx("tbody",{children:m.map((M,F)=>{var O,L,I;return s.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/50",children:[s.jsx("td",{className:"py-3 px-2 font-medium",children:F+1}),s.jsx("td",{className:"py-3 px-2 text-sm max-w-xs truncate",children:M.description}),s.jsxs("td",{className:"py-3 px-2 text-sm",children:[M.count," "]}),s.jsx("td",{className:"py-3 px-2",children:s.jsxs(ae,{className:((O=F1[M.status])==null?void 0:O.color)||"bg-muted",children:[(L=F1[M.status])==null?void 0:L.icon,s.jsx("span",{className:"ml-1",children:((I=F1[M.status])==null?void 0:I.label)||M.status})]})}),s.jsx("td",{className:"py-3 px-2",children:s.jsxs(B,{variant:"ghost",size:"sm",children:[s.jsx(Ga,{className:"w-4 h-4 mr-1"}),""]})})]},F)})})]})})})]}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs(me,{className:"text-lg flex items-center gap-2",children:[s.jsx(rs,{className:"w-5 h-5 text-destructive"})," (",D.length,")"]})}),s.jsx(Z,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""}),s.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:""})]})}),s.jsx("tbody",{children:D.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"py-8 text-center text-muted-foreground",children:" "})}):D.map(M=>{var O,L;const F=$(M);return s.jsxs("tr",{className:"border-b border-border/50 hover:bg-muted/50",children:[s.jsx("td",{className:"py-3 px-2 text-sm",children:Oa(new Date(M.created_at),"MM/dd HH:mm")}),s.jsx("td",{className:"py-3 px-2 text-sm font-mono",children:M.error_id}),s.jsx("td",{className:"py-3 px-2",children:s.jsx(ae,{variant:"outline",children:$1[M.error_type]||M.error_type})}),s.jsx("td",{className:"py-3 px-2 text-sm max-w-xs truncate",children:M.error_message}),s.jsxs("td",{className:"py-3 px-2 text-sm",children:[M.auto_fix_attempts||0," ",M.escalated&&s.jsx("span",{className:"text-destructive ml-1",children:""})]}),s.jsx("td",{className:"py-3 px-2",children:s.jsx(ae,{className:(O=SK[F])==null?void 0:O.color,children:(L=SK[F])==null?void 0:L.label})}),s.jsx("td",{className:"py-3 px-2",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{g(M),v(!0)},children:s.jsx(Ga,{className:"w-4 h-4"})}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>R(M),children:S?s.jsx(We,{className:"w-4 h-4 text-primary"}):s.jsx(An,{className:"w-4 h-4"})}),s.jsx(B,{variant:"ghost",size:"sm",onClick:()=>A(M.id,"resolved"),children:s.jsx(Ct,{className:"w-4 h-4 text-primary"})})]})})]},M.id)})})]})})})]}),s.jsx(Xn,{open:y,onOpenChange:v,children:s.jsx(zn,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:p&&s.jsxs(s.Fragment,{children:[s.jsx(Di,{children:s.jsxs(hr,{className:"flex items-center gap-2",children:["  ",p.error_id]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),Oa(new Date(p.created_at),"yyyy/MM/dd HH:mm:ss")]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),$1[p.error_type]||p.error_type]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),p.page_url||""]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:""}),p.browser||""]})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:""}),s.jsx("p",{className:"text-sm font-mono bg-background p-2 rounded border",children:p.error_message})]}),p.auto_fix_results&&p.auto_fix_results.length>0&&s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:""}),s.jsx("div",{className:"space-y-2",children:p.auto_fix_results.map((M,F)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:M.success?"text-green-500":"text-red-500",children:M.success?"":""}),s.jsxs("span",{children:[" ",F+1,"",M.strategy]}),s.jsxs("span",{className:"text-muted-foreground",children:["- ",M.success?"":""]})]},F))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:""}),s.jsx(Yn,{value:b,onChange:M=>w(M.target.value),placeholder:"...",rows:3})]})]}),s.jsxs(sC,{className:"flex gap-2",children:[s.jsxs(B,{variant:"outline",onClick:()=>R(p),children:[s.jsx(An,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(B,{variant:"default",onClick:()=>A(p.id,"resolved"),children:[s.jsx(Ct,{className:"w-4 h-4 mr-2"}),""]})]})]})})})]})})}const UNt=({status:e})=>{switch(e){case"green":return s.jsx(Ct,{className:"w-5 h-5 text-green-500"});case"yellow":return s.jsx(Wr,{className:"w-5 h-5 text-yellow-500"});case"red":return s.jsx(rs,{className:"w-5 h-5 text-red-500"})}},zNt=({status:e})=>{const t={green:{label:"",className:"bg-green-500/20 text-green-400 border-green-500/30"},yellow:{label:"",className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"},red:{label:"",className:"bg-red-500/20 text-red-400 border-red-500/30"}};return s.jsx(ae,{variant:"outline",className:t[e].className,children:t[e].label})},VNt=({api:e})=>{const t={green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return s.jsxs(Y,{className:"bg-card/50 backdrop-blur border-border/50 hover:border-primary/30 transition-all",children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:e.logo,alt:e.name,className:"w-6 h-6 object-contain",onError:n=>{n.target.style.display="none"}})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-base",children:e.name}),e.error&&s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:e.error})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(UNt,{status:e.status}),s.jsx(zNt,{status:e.status})]})]})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-baseline justify-between",children:[s.jsx("span",{className:"text-3xl font-bold text-foreground",children:e.balance}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e.unit})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"text-foreground",children:[Math.round(e.percentage),"%"]})]}),s.jsx("div",{className:"relative h-2 w-full overflow-hidden rounded-full bg-secondary",children:s.jsx("div",{className:`h-full transition-all ${t[e.status]}`,style:{width:`${e.percentage}%`}})})]}),s.jsx("div",{className:"pt-2 border-t border-border/50",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["",new Date(e.lastUpdated).toLocaleString("zh-TW")]})})]})]})},qNt=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState(null),{toast:o}=Mb(),l=async()=>{r(!0);try{const{data:h,error:m}=await ee.functions.invoke("api-monitor");if(m)throw m;if(h!=null&&h.success)t(h.apis),a(new Date),o({title:"",description:" API "});else throw new Error((h==null?void 0:h.error)||" API ")}catch(h){console.error("Failed to fetch API status:",h),o({title:"",description:h.message||" API ",variant:"destructive"})}finally{r(!1)}};x.useEffect(()=>{l()},[]);const c=e.filter(h=>h.status==="green").length,d=e.filter(h=>h.status==="yellow").length,u=e.filter(h=>h.status==="red").length;return s.jsx(Yt,{title:"API ",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsx("div",{children:s.jsx("p",{className:"text-muted-foreground",children:" API "})}),s.jsxs(B,{onClick:l,disabled:n,className:"gap-2",children:[s.jsx(rn,{className:`w-4 h-4 ${n?"animate-spin":""}`}),""]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(Y,{className:"bg-green-500/10 border-green-500/30",children:s.jsxs(Z,{className:"p-4 flex items-center gap-4",children:[s.jsx(Ct,{className:"w-8 h-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-green-400",children:c}),s.jsx("p",{className:"text-sm text-green-400/80",children:""})]})]})}),s.jsx(Y,{className:"bg-yellow-500/10 border-yellow-500/30",children:s.jsxs(Z,{className:"p-4 flex items-center gap-4",children:[s.jsx(Wr,{className:"w-8 h-8 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:d}),s.jsx("p",{className:"text-sm text-yellow-400/80",children:""})]})]})}),s.jsx(Y,{className:"bg-red-500/10 border-red-500/30",children:s.jsxs(Z,{className:"p-4 flex items-center gap-4",children:[s.jsx(rs,{className:"w-8 h-8 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-red-400",children:u}),s.jsx("p",{className:"text-sm text-red-400/80",children:""})]})]})})]}),n&&e.length===0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6,7].map(h=>s.jsxs(Y,{className:"animate-pulse",children:[s.jsx(ue,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted"}),s.jsx("div",{className:"h-5 w-24 bg-muted rounded"})]})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsx("div",{className:"h-8 w-20 bg-muted rounded"}),s.jsx("div",{className:"h-2 w-full bg-muted rounded"})]})]},h))}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(h=>s.jsx(VNt,{api:h},h.name))}),i&&s.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["",i.toLocaleString("zh-TW")]})]})})},Dj={profiles_exposed:{key:"profiles_exposed",name_zh:"",description_zh:"Email",risk_level:"high",points:5,fix_instruction:" profiles  RLS ",success_message:" ",failure_message:" "},orders_exposed:{key:"orders_exposed",name_zh:"",description_zh:"",risk_level:"high",points:5,fix_instruction:" merchant_orders  RLS ",success_message:" ",failure_message:" "},payment_exposed:{key:"payment_exposed",name_zh:"",description_zh:"",risk_level:"high",points:5,fix_instruction:" payment_settings  RLS ",success_message:" ",failure_message:" "},"2fa_exposed":{key:"2fa_exposed",name_zh:"",description_zh:"",risk_level:"high",points:5,fix_instruction:" admin_2fa_settings  RLS  TOTP ",success_message:" ",failure_message:" "},sessions_exposed:{key:"sessions_exposed",name_zh:"",description_zh:"",risk_level:"high",points:5,fix_instruction:" admin_sessions  RLS ",success_message:" ",failure_message:" "},licenses_exposed:{key:"licenses_exposed",name_zh:"",description_zh:"",risk_level:"medium",points:5,fix_instruction:" website_licenses  RLS ",success_message:" ",failure_message:" "},websites_exposed:{key:"websites_exposed",name_zh:"",description_zh:"",risk_level:"medium",points:5,fix_instruction:" websites  RLS ",success_message:" ",failure_message:" "},ai_logs_exposed:{key:"ai_logs_exposed",name_zh:"",description_zh:" AI ",risk_level:"medium",points:5,fix_instruction:" ai_customer_logs  RLS ",success_message:" ",failure_message:" "},feedback_exposed:{key:"feedback_exposed",name_zh:"",description_zh:"",risk_level:"low",points:5,fix_instruction:" customer_feedback  RLS ",success_message:" ",failure_message:" "}},jfe=e=>{switch(e){case"high":return"text-red-600 bg-red-50";case"medium":return"text-orange-600 bg-orange-50";case"low":return"text-yellow-600 bg-yellow-50"}},Sfe=e=>{switch(e){case"high":return"";case"medium":return"";case"low":return""}},Nfe=e=>{switch(e){case"high":return"";case"medium":return"";case"low":return""}},kfe={"Customer Email Addresses Could Be Stolen by Hackers":{scanner_key:"Customer Email Addresses Could Be Stolen by Hackers",validation_key:"customer_email_exposure",name_zh:" Email ",description_zh:" Email ",fix_instruction:" Email  Email "},"Payment Gateway Credentials Could Be Stolen Leading to Financial Fraud":{scanner_key:"Payment Gateway Credentials Could Be Stolen Leading to Financial Fraud",validation_key:"payment_credentials_exposure",name_zh:"",description_zh:"",fix_instruction:""},"Customer Purchase History Publicly Accessible":{scanner_key:"Customer Purchase History Publicly Accessible",validation_key:"customer_data_exposure",name_zh:"",description_zh:"",fix_instruction:""},"2FA Secrets Could Be Exposed":{scanner_key:"2FA Secrets Could Be Exposed",validation_key:"2fa_secret_exposure",name_zh:"",description_zh:"",fix_instruction:""},"Session Tokens Could Be Hijacked":{scanner_key:"Session Tokens Could Be Hijacked",validation_key:"session_hijacking",name_zh:"",description_zh:"",fix_instruction:" Token"},"License Keys Could Be Stolen":{scanner_key:"License Keys Could Be Stolen",validation_key:"license_key_exposure",name_zh:"",description_zh:"",fix_instruction:""},"Business Contact Information Exposed":{scanner_key:"Business Contact Information Exposed",validation_key:"business_contact_exposure",name_zh:"",description_zh:"",fix_instruction:""},"Customer Support Logs Exposed":{scanner_key:"Customer Support Logs Exposed",validation_key:"chat_logs_exposure",name_zh:"",description_zh:"",fix_instruction:""},"Edge Functions Use Wildcard CORS":{scanner_key:"Edge Functions Use Wildcard CORS",validation_key:"wildcard_cors",name_zh:"",description_zh:"",fix_instruction:" CORS "},"SECURITY DEFINER Function Could Bypass RLS":{scanner_key:"SECURITY DEFINER Function Could Bypass RLS",validation_key:"security_definer_function",name_zh:"",description_zh:"",fix_instruction:" SECURITY DEFINER  SECURITY INVOKER"},"Extension in Public":{scanner_key:"Extension in Public",validation_key:"extension_in_public",name_zh:"",description_zh:"",fix_instruction:""}},WNt=e=>kfe[e]||null;function HNt({issues:e,userPoints:t,onStartFix:n,onTopup:r}){const[i,a]=x.useState(new Set),o=x.useMemo(()=>{const f=[];return e.forEach(p=>{const g=WNt(p);if(g&&g.validation_key!=="extension_in_public"){const y=Dj[g.validation_key];y&&f.push(y)}}),f.sort((p,g)=>{const y={high:0,medium:1,low:2};return y[p.risk_level]-y[g.risk_level]})},[e]),l=x.useMemo(()=>Array.from(i).reduce((f,p)=>{const g=Dj[p];return f+((g==null?void 0:g.points)||0)},0),[i]),c=t>=l,d=i.size,u=f=>{a(p=>{const g=new Set(p);return g.has(f)?g.delete(f):g.add(f),g})},h=()=>{i.size===o.length?a(new Set):a(new Set(o.map(f=>f.key)))},m=()=>{const f=o.filter(p=>i.has(p.key));n(f)};return o.length===0?s.jsx(Y,{className:"border-green-200 bg-green-50",children:s.jsxs(Z,{className:"pt-6 text-center",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5},children:s.jsx(kM,{className:"w-16 h-16 text-green-600 mx-auto mb-4"})}),s.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:""}),s.jsx("p",{className:"text-green-700",children:""})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Y,{className:"border-orange-200 bg-gradient-to-r from-orange-50 to-red-50",children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(me,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Yv,{className:"w-6 h-6 text-orange-600"}),s.jsxs("span",{children:[" ",o.length," "]})]})}),s.jsxs(Z,{children:[s.jsx("p",{className:"text-base sm:text-sm text-muted-foreground mb-3",children:""}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.filter(f=>f.risk_level==="high").length>0&&s.jsxs(ae,{variant:"destructive",className:"text-xs",children:["  ",o.filter(f=>f.risk_level==="high").length," "]}),o.filter(f=>f.risk_level==="medium").length>0&&s.jsxs(ae,{variant:"secondary",className:"bg-orange-100 text-orange-800 text-xs",children:["  ",o.filter(f=>f.risk_level==="medium").length," "]}),o.filter(f=>f.risk_level==="low").length>0&&s.jsxs(ae,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 text-xs",children:["  ",o.filter(f=>f.risk_level==="low").length," "]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsxs("button",{onClick:h,className:"flex items-center gap-2 text-sm text-primary hover:text-primary/80 min-h-[44px] min-w-[44px] active:scale-95 transition-transform",children:[s.jsx(pg,{checked:i.size===o.length&&o.length>0,className:"pointer-events-none"}),s.jsx("span",{children:i.size===o.length?"":""})]}),d>0&&s.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center gap-1 text-sm font-medium",children:[s.jsx(cr,{className:"w-4 h-4 text-yellow-600"}),s.jsxs("span",{children:[" ",d,"  ",l," "]})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsx(He,{children:o.map((f,p)=>{const g=i.has(f.key);return Object.values(Dj).find(y=>y.key===f.key),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.05},children:s.jsx(Y,{className:`cursor-pointer transition-all duration-200 ${g?"ring-2 ring-primary border-primary bg-primary/5":"hover:border-muted-foreground/30"}`,onClick:()=>u(f.key),children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 pt-0.5",children:s.jsx(pg,{checked:g,className:"min-w-[20px] min-h-[20px] pointer-events-none"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${jfe(f.risk_level)}`,children:[Sfe(f.risk_level)," ",Nfe(f.risk_level)]}),s.jsxs("span",{className:"text-sm sm:text-xs text-muted-foreground",children:[f.points," "]})]}),s.jsx("h4",{className:"font-semibold text-foreground mb-1",children:f.name_zh}),s.jsx("p",{className:"text-base sm:text-sm text-muted-foreground",children:f.description_zh})]}),s.jsx(Ml,{className:`w-5 h-5 flex-shrink-0 transition-transform ${g?"text-primary rotate-90":"text-muted-foreground/50"}`})]})})})},f.key)})})}),s.jsxs("div",{className:"sticky bottom-0 pt-4 pb-2 bg-gradient-to-t from-background via-background to-transparent",children:[d>0&&!c&&s.jsxs(Ls,{variant:"destructive",className:"mb-3",children:[s.jsx(Wr,{className:"h-4 w-4"}),s.jsx(xN,{children:""}),s.jsxs($s,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("span",{children:[" ",t,"  ",l-t," "]}),s.jsx(B,{variant:"outline",size:"sm",onClick:r,className:"min-h-[44px] whitespace-nowrap",children:""})]})]}),s.jsx(Y,{className:"bg-muted/50",children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"font-medium",children:d>0?` ${d} `:""})]}),d>0&&s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(cr,{className:"w-4 h-4"}),"",l," "]}),s.jsxs("span",{children:["",t," "]})]})]}),s.jsx(B,{onClick:m,disabled:d===0||!c,className:"min-h-[48px] min-w-[140px] text-base font-semibold",size:"lg",children:d===0?"":c?"":""})]})})}),s.jsx("p",{className:"text-center text-sm sm:text-xs text-muted-foreground mt-3",children:"  5  NT$5"})]})]})}function KNt({issues:e,currentIndex:t,onValidate:n,onComplete:r,onBack:i}){const[a,o]=x.useState(t),[l,c]=x.useState("copying"),[d,u]=x.useState(!1),[h,m]=x.useState({}),[f,p]=x.useState(0),g=e[a],y=(a+1)/e.length*100,v=Object.values(kfe).find(k=>k.validation_key===g.key),b=(v==null?void 0:v.fix_instruction)||`${g.name_zh}`,w=async()=>{try{await navigator.clipboard.writeText(b),u(!0),setTimeout(()=>{u(!1),c("waiting")},1500)}catch{const _=document.createElement("textarea");_.value=b,document.body.appendChild(_),_.select(),document.execCommand("copy"),document.body.removeChild(_),u(!0),setTimeout(()=>{u(!1),c("waiting")},1500)}},S=async()=>{c("validating");try{await n(g.key)?(c("success"),m(_=>({..._,[g.key]:!0}))):(c("failed"),p(_=>_+1))}catch{c("failed"),p(_=>_+1)}},j=()=>{a<e.length-1?(o(k=>k+1),c("copying"),u(!1),p(0)):r(h)},N=()=>{c("copying"),u(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(B,{variant:"ghost",size:"sm",onClick:i,className:"min-h-[44px] min-w-[44px] -ml-2",children:[s.jsx(pM,{className:"w-5 h-5 mr-1"}),""]}),s.jsxs("span",{className:"text-base sm:text-sm font-medium text-muted-foreground",children:[" ",a+1," / ",e.length," "]})]})}),s.jsxs(Z,{className:"pt-0",children:[s.jsx(Uu,{value:y,className:"h-2"}),s.jsx("p",{className:"text-sm sm:text-xs text-center text-muted-foreground mt-2",children:""})]})]}),s.jsx(Y,{className:"border-l-4 border-l-primary",children:s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(sn,{className:"w-6 h-6 text-primary flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:s.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${jfe(g.risk_level)}`,children:[Sfe(g.risk_level)," ",Nfe(g.risk_level)]})}),s.jsx("h3",{className:"font-bold text-lg mb-1",children:g.name_zh}),s.jsx("p",{className:"text-base sm:text-sm text-muted-foreground",children:g.description_zh})]})]})})}),s.jsxs(He,{mode:"wait",children:[l==="copying"&&s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-base sm:text-sm text-muted-foreground flex-wrap",children:[s.jsx("div",{className:"flex items-center justify-center w-7 h-7 sm:w-6 sm:h-6 rounded-full bg-primary text-primary-foreground text-sm sm:text-xs font-bold",children:"1"}),s.jsx("span",{children:""}),s.jsx(mt,{className:"w-4 h-4"}),s.jsx("div",{className:"flex items-center justify-center w-7 h-7 sm:w-6 sm:h-6 rounded-full bg-muted text-muted-foreground text-sm sm:text-xs",children:"2"}),s.jsx("span",{className:"text-muted-foreground/50",children:""})]}),s.jsxs(Y,{className:"bg-muted/50",children:[s.jsx(ue,{className:"pb-2",children:s.jsxs(me,{className:"text-base flex items-center gap-2",children:[s.jsx(Vr,{className:"w-5 h-5"}),""]})}),s.jsxs(Z,{children:[s.jsx("div",{className:"bg-background border rounded-lg p-4 font-mono text-sm leading-relaxed",children:b}),s.jsx(B,{onClick:w,className:"w-full mt-4 min-h-[52px] text-base font-semibold",size:"lg",children:d?s.jsxs(s.Fragment,{children:[s.jsx(We,{className:"w-5 h-5 mr-2"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(An,{className:"w-5 h-5 mr-2"}),""]})})]})]})]},"copying"),l==="waiting"&&s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-green-500 text-white text-xs",children:s.jsx(We,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-green-600",children:""}),s.jsx(mt,{className:"w-4 h-4"}),s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary text-primary-foreground text-xs font-bold",children:"2"}),s.jsx("span",{children:""})]}),s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(me,{className:"text-base",children:""})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold flex-shrink-0",children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold flex-shrink-0",children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" Ctrl+V "})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold flex-shrink-0",children:"3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})]})]}),s.jsxs(Ls,{children:[s.jsx(Q_e,{className:"h-4 w-4"}),s.jsx(xN,{children:""}),s.jsx($s,{children:""})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(B,{variant:"outline",onClick:N,className:"min-h-[48px] flex-1",children:[s.jsx(An,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(B,{onClick:S,className:"min-h-[48px] flex-[2] text-base font-semibold",children:[s.jsx(_8,{className:"w-5 h-5 mr-2"}),""]})]})]})]})]},"waiting"),l==="validating"&&s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(Y,{children:s.jsxs(Z,{className:"py-12 text-center",children:[s.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:s.jsx(Ge,{className:"w-12 h-12 text-primary mx-auto"})}),s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"..."}),s.jsx("p",{className:"text-muted-foreground",children:""})]})})},"validating"),l==="success"&&s.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,y:-20},children:s.jsx(Y,{className:"border-green-200 bg-green-50",children:s.jsxs(Z,{className:"py-8 text-center",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5},children:s.jsx(St,{className:"w-16 h-16 text-green-600 mx-auto"})}),s.jsx("h3",{className:"text-xl font-bold text-green-800 mt-4 mb-2",children:g.success_message}),s.jsx("p",{className:"text-green-700 mb-6",children:""}),s.jsx(B,{onClick:j,className:"min-h-[52px] min-w-[200px] text-base font-semibold",size:"lg",children:a<e.length-1?s.jsxs(s.Fragment,{children:["",s.jsx(mt,{className:"w-5 h-5 ml-2"})]}):s.jsxs(s.Fragment,{children:["",s.jsx(St,{className:"w-5 h-5 ml-2"})]})})]})})},"success"),l==="failed"&&s.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,y:-20},children:s.jsx(Y,{className:"border-orange-200 bg-orange-50",children:s.jsxs(Z,{className:"py-8 text-center",children:[s.jsx(Oi,{className:"w-16 h-16 text-orange-600 mx-auto"}),s.jsx("h3",{className:"text-xl font-bold text-orange-800 mt-4 mb-2",children:g.failure_message}),s.jsx("p",{className:"text-orange-700 mb-2",children:""}),s.jsx("p",{className:"text-sm text-orange-600 mb-6",children:""}),f>=3&&s.jsxs(Ls,{className:"mb-6 text-left",children:[s.jsx(xN,{children:""}),s.jsxs($s,{children:[" ",f," "]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(B,{variant:"outline",onClick:N,className:"min-h-[48px]",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(B,{onClick:S,className:"min-h-[48px]",children:[s.jsx(_8,{className:"w-4 h-4 mr-2"}),""]})]})]})})},"failed")]}),s.jsx("p",{className:"text-center text-sm sm:text-xs text-muted-foreground",children:" "})]})}function GNt({fixedIssues:e,totalPoints:t,onGoHome:n,onCheckAgain:r}){const i=e.length;return s.jsxs("div",{className:"space-y-4",children:[s.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",bounce:.5,duration:.6},children:s.jsx(Y,{className:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50",children:s.jsxs(Z,{className:"py-8 text-center",children:[s.jsx("div",{className:"relative inline-block mb-4",children:s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",bounce:.6},children:s.jsxs("div",{className:"relative",children:[s.jsx(St,{className:"w-20 h-20 text-green-600"}),s.jsx(E.div,{className:"absolute -top-2 -right-2",animate:{rotate:[0,15,-15,0],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:s.jsx(Ye,{className:"w-6 h-6 text-yellow-500"})}),s.jsx(E.div,{className:"absolute -bottom-1 -left-2",animate:{rotate:[0,-15,15,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,delay:.5},children:s.jsx(Ye,{className:"w-5 h-5 text-yellow-400"})})]})})}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[s.jsx("h2",{className:"text-2xl font-bold mb-2 text-green-800",children:" "}),s.jsx("p",{className:"text-lg text-green-700",children:""})]})]})})}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-2 gap-3",children:[s.jsx(Y,{children:s.jsxs(Z,{className:"py-4 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(sn,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:i})]}),s.jsx("p",{className:"text-base sm:text-sm text-muted-foreground",children:""})]})}),s.jsx(Y,{children:s.jsxs(Z,{className:"py-4 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(cr,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"text-2xl font-bold text-primary",children:t})]}),s.jsx("p",{className:"text-base sm:text-sm text-muted-foreground",children:""})]})})]}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-2",children:s.jsx(me,{className:"text-base",children:""})}),s.jsx(Z,{className:"space-y-2",children:e.map((a,o)=>s.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+o*.1},className:"flex items-center justify-between p-3 rounded-lg bg-green-50 border border-green-100",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx(St,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),s.jsx("p",{className:"font-medium text-base sm:text-sm text-green-800 truncate",children:a.name_zh})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm sm:text-xs text-green-600 flex-shrink-0 ml-2",children:[s.jsx(cr,{className:"w-3.5 h-3.5"}),s.jsxs("span",{children:[a.points," "]})]})]},a.key))})]})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:s.jsxs(Ls,{className:"bg-blue-50 border-blue-200",children:[s.jsx(Tc,{className:"h-4 w-4 text-blue-600"}),s.jsxs($s,{className:"text-blue-800",children:[s.jsx("strong",{children:""}),""]})]})}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"space-y-3 pt-2",children:[s.jsxs(B,{onClick:n,className:"w-full min-h-[52px] text-base font-semibold",size:"lg",children:[s.jsx(tx,{className:"w-5 h-5 mr-2"}),""]}),s.jsxs(B,{variant:"outline",onClick:r,className:"w-full min-h-[48px]",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsx("p",{className:"text-center text-sm sm:text-xs text-muted-foreground pt-2",children:" "})]})}const YNt=e=>{const t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");let a=t.getHours();const o=String(t.getMinutes()).padStart(2,"0"),l=a>=12?"":"";return a>12&&(a-=12),a===0&&(a=12),`${n}/${r}/${i} ${l} ${a}:${o}`};function XNt(){const{user:e}=Jt(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(null);x.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(e)try{i(!0);const{data:d,error:u}=await ee.from("health_check_history").select("*").eq("user_id",e.id).order("scan_date",{ascending:!1}).limit(20);if(u)throw u;n((d||[]).map(h=>({...h,issues_detail:Array.isArray(h.issues_detail)?h.issues_detail:[]})))}catch(d){console.error("Failed to fetch health check history:",d)}finally{i(!1)}},c=d=>{o(a===d?null:d)};return r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ge,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):t.length===0?s.jsx(Y,{className:"border-dashed",children:s.jsxs(Z,{className:"py-12 text-center",children:[s.jsx(Lo,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),s.jsx("h3",{className:"font-medium text-muted-foreground mb-2 text-base",children:""}),s.jsx("p",{className:"text-base sm:text-sm text-muted-foreground/70",children:""})]})}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Lo,{className:"w-5 h-5 text-primary"}),s.jsx("h3",{className:"font-semibold",children:""}),s.jsxs(ae,{variant:"secondary",className:"ml-auto",children:[" ",t.length," "]})]}),t.map((d,u)=>s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:u*.05},children:s.jsx(Y,{className:`cursor-pointer transition-all hover:shadow-md ${a===d.id?"ring-2 ring-primary/30":""}`,onClick:()=>c(d.id),children:s.jsxs(Z,{className:"p-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${d.fixed_issues===d.total_issues?"bg-primary/10 text-primary":"bg-accent text-accent-foreground"}`,children:s.jsx(sn,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-base sm:text-sm text-muted-foreground",children:[s.jsx(Tc,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"}),YNt(d.scan_date)]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-1 text-base sm:text-sm",children:[s.jsx(rs,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5 text-destructive"})," ",d.total_issues," "]}),s.jsxs("span",{className:"flex items-center gap-1 text-base sm:text-sm text-primary",children:[s.jsx(Ct,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"})," ",d.fixed_issues," "]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[d.total_points_spent>0&&s.jsxs(ae,{variant:"outline",className:"gap-1",children:[s.jsx(cr,{className:"w-3 h-3"}),d.total_points_spent," "]}),a===d.id?s.jsx(l_,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(qr,{className:"w-5 h-5 text-muted-foreground"})]})]}),s.jsx(He,{children:a===d.id&&d.issues_detail.length>0&&s.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsxs("div",{className:"mt-4 pt-4 border-t space-y-2",children:[s.jsx("p",{className:"text-sm sm:text-xs text-muted-foreground mb-2",children:""}),d.issues_detail.map((h,m)=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[h.fixed?s.jsx(Ct,{className:"w-4 h-4 text-primary"}):s.jsx(rs,{className:"w-4 h-4 text-destructive"}),s.jsx("span",{className:"text-base sm:text-sm",children:h.name_zh})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[h.fixed&&s.jsxs(ae,{variant:"secondary",className:"text-xs gap-1",children:[s.jsx(cr,{className:"w-3 h-3"}),h.points," "]}),s.jsx(ae,{variant:h.fixed?"default":"outline",className:h.fixed?"bg-primary":"text-muted-foreground border-muted",children:h.fixed?"":""})]})]},m))]})})}),s.jsx(He,{children:a===d.id&&d.issues_detail.length===0&&s.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:""})})})})]})})},d.id))]})}const nh=5;function NK(){const e=xn(),{toast:t}=Mb(),{user:n,loading:r}=Jt(),{merchant:i,refreshPoints:a}=Za(),o=(i==null?void 0:i.points_balance)??0,[l,c]=x.useState("scanning"),[d,u]=x.useState([]),[h,m]=x.useState([]),[f,p]=x.useState(0),[g,y]=x.useState(0),[v,b]=x.useState([]);x.useEffect(()=>{n&&l==="scanning"&&w()},[n]);const w=x.useCallback(async()=>{if(!n){t({title:"",description:"",variant:"destructive"}),e("/login");return}try{await new Promise(R=>setTimeout(R,2500));const A=[],P=Object.keys(Dj);for(const R of P)try{Math.random()>.6&&A.push(R)}catch(D){console.error(`Validation error for ${R}:`,D)}u(A),c("report"),A.length===0&&t({title:" ",description:""})}catch(A){console.error("Health check error:",A),t({title:"",description:"",variant:"destructive"})}},[n,e,t]),S=x.useCallback(async A=>{if(!n)return;if(A.length===0){t({title:"",description:"",variant:"destructive"});return}const P=A.length*nh;if(o<P){t({title:"",description:` ${P}  ${o} `,variant:"destructive"}),e("/merchant/topup");return}try{const{data:R,error:D}=await ee.rpc("reserve_points",{p_user_id:n.id,p_amount:P});if(D)throw D;const $=R;if(!$.success){if($.error==="insufficient_points"){t({title:"",description:"",variant:"destructive"}),e("/merchant/topup");return}throw new Error($.error||"Failed to reserve points")}p(P),m(A),y(0),b([]),c("fixing"),await a()}catch(R){console.error("Reserve points error:",R),t({title:"",description:"",variant:"destructive"})}},[n,o,e,t,a]),j=x.useCallback(()=>{e("/merchant/topup")},[e]),N=x.useCallback(async A=>{if(!n)return!1;const P=h.find(R=>R.key===A);if(!P)return!1;try{const{data:R,error:D}=await ee.from("paid_fixes").select("*").eq("user_id",n.id).eq("issue_key",A).maybeSingle();if(D)throw D;R?await ee.from("paid_fixes").update({attempts:(R.attempts||0)+1}).eq("id",R.id):await ee.from("paid_fixes").insert({user_id:n.id,issue_key:A,issue_name_zh:P.name_zh,status:"pending",attempts:1});const{data:$,error:M}=await ee.rpc("verify_security_fix",{issue_type:A});if(M)return console.error(":",M),t({title:"",description:"",variant:"destructive"}),!1;const F=$;if(!F.success)return console.error(":",F.error),t({title:"",description:F.error||"",variant:"destructive"}),!1;const O=F.is_fixed;return O?(await ee.from("paid_fixes").update({status:"success",validated_at:new Date().toISOString(),points_paid:nh}).eq("user_id",n.id).eq("issue_key",A),await ee.rpc("confirm_deduction",{p_user_id:n.id,p_amount:nh,p_description:`: ${P.name_zh}`}),b(L=>[...L,{key:A,name_zh:P.name_zh,points:nh}]),await a()):await ee.from("paid_fixes").update({status:"failed"}).eq("user_id",n.id).eq("issue_key",A),O}catch(R){return console.error("Validation error:",R),t({title:"",description:"",variant:"destructive"}),!1}},[n,h,a,t]),k=x.useCallback(async()=>{if(!n)return;const A=v.length,P=h.length,D=(P-A)*nh,$=A*nh;if(D>0)try{await ee.rpc("refund_reserved_points",{p_user_id:n.id,p_amount:D}),await a()}catch(M){console.error("Refund error:",M)}try{const M=h.map(F=>({key:F.key,name_zh:F.name_zh,fixed:v.some(O=>O.key===F.key),points:v.some(O=>O.key===F.key)?nh:0}));await ee.from("health_check_history").insert({user_id:n.id,total_issues:P,fixed_issues:A,total_points_spent:$,issues_detail:M})}catch(M){console.error("Failed to save health check history:",M)}c("complete")},[n,v,h,a]),_=x.useCallback(async()=>{if(!n||f===0){c("report");return}try{await ee.rpc("refund_reserved_points",{p_user_id:n.id,p_amount:f}),p(0),await a()}catch(A){console.error("Refund error:",A)}c("report")},[n,f,a]),C=x.useCallback(()=>{e("/merchant")},[e]),T=x.useCallback(()=>{c("scanning"),u([]),m([]),b([]),y(0),p(0),w()},[w]);return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30 p-4 pb-20",children:s.jsxs("div",{className:"max-w-lg mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l==="scanning"?s.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>e("/merchant"),className:"gap-2",children:[s.jsx(ks,{className:"w-4 h-4"}),""]}):s.jsx("div",{}),s.jsxs(Xn,{children:[s.jsx(IVe,{asChild:!0,children:s.jsxs(B,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(LP,{className:"w-4 h-4"})," "]})}),s.jsxs(zn,{className:"max-w-lg max-h-[80vh] overflow-y-auto",children:[s.jsx(Di,{children:s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(LP,{className:"w-5 h-5 text-primary"}),""]})}),s.jsx(XNt,{})]})]})]}),l==="scanning"&&s.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:s.jsx(sn,{className:"w-8 h-8 text-primary"})}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:""})]}),s.jsx(Y,{children:s.jsxs(Z,{className:"py-12 text-center",children:[s.jsx(E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"inline-block mb-4",children:s.jsx(sn,{className:"w-12 h-12 text-primary"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"AI ..."}),s.jsx("p",{className:"text-muted-foreground text-sm",children:""}),s.jsx("div",{className:"mt-6 space-y-2",children:[" Email ...","...","..."].map((A,P)=>s.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:P*.5},className:"text-sm text-muted-foreground",children:A},A))})]})})]}),l==="report"&&s.jsx(HNt,{issues:d,userPoints:o,onStartFix:S,onTopup:j}),l==="fixing"&&s.jsx(KNt,{issues:h,currentIndex:g,onValidate:N,onComplete:k,onBack:_}),l==="complete"&&s.jsx(GNt,{fixedIssues:v,totalPoints:v.reduce((A,P)=>A+P.points,0),onGoHome:C,onCheckAgain:T})]})})}const JNt=3168;function QNt(){const[e,t]=x.useState(!1),[n,r]=x.useState(!1),[i,a]=x.useState(null),[o,l]=x.useState(100),[c,d]=x.useState(""),[u,h]=x.useState(null);x.useRef(null),x.useEffect(()=>{const p=document.createElement("script");return p.src="https://js.tappaysdk.com/sdk/tpdirect/v5.18.0",p.async=!0,p.onload=()=>{console.log("TapPay SDK loaded"),m()},document.body.appendChild(p),()=>{document.body.removeChild(p)}},[]);const m=()=>{if(!window.TPDirect){console.error("TPDirect not available");return}window.TPDirect.setupSDK(JNt,"app_UmMpJg2VqpAFQqx1dC1ukGNxiT4xUHPYN8aJfGPxfxEcyjYJCHuNPlmGYqjf","sandbox"),window.TPDirect.card.setup({fields:{number:{element:"#card-number",placeholder:"**** **** **** ****"},expirationDate:{element:"#card-expiration",placeholder:"MM / YY"},ccv:{element:"#card-ccv",placeholder:"CVV"}},styles:{input:{color:"hsl(var(--foreground))","font-size":"16px","font-family":"inherit"},":focus":{color:"hsl(var(--foreground))"},".valid":{color:"hsl(142.1 76.2% 36.3%)"},".invalid":{color:"hsl(var(--destructive))"}},isMaskCreditCardNumber:!0,maskCreditCardNumberRange:{beginIndex:6,endIndex:11}}),window.TPDirect.card.onUpdate(p=>{a(p),p.canGetPrime?r(!0):r(!1)})},f=async()=>{if(!window.TPDirect||!n){q.error("");return}t(!0),h(null);try{const p=window.TPDirect.card.getTappayFieldsStatus();if(console.log("TapPay fields status:",p),!p.canGetPrime){q.error(""),t(!1);return}window.TPDirect.card.getPrime(async g=>{if(console.log("getPrime result:",g),g.status!==0){q.error(` Prime : ${g.msg}`),t(!1);return}const y=g.card.prime;console.log("Prime obtained:",y.substring(0,20)+"...");try{const{data:v,error:b}=await ee.functions.invoke("tappay-checkout",{body:{prime:y,amount:o,itemName:c,orderId:`TEST-${Date.now()}`}});console.log("Checkout response:",v,b),b?(q.error(""),h({success:!1,error:b.message})):v!=null&&v.success?(q.success(" "),h(v)):(q.error((v==null?void 0:v.error)||""),h(v))}catch(v){console.error("Payment error:",v),q.error(""),h({success:!1,error:v.message})}finally{t(!1)}})}catch(p){console.error("Payment error:",p),q.error(""),t(!1)}};return s.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:s.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[s.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[s.jsx(ae,{variant:"outline",className:"mb-4",children:" "}),s.jsx("h1",{className:"text-2xl font-bold",children:"TapPay "}),s.jsx("p",{className:"text-muted-foreground mt-2",children:""})]}),s.jsxs(Ls,{children:[s.jsx(eg,{className:"h-4 w-4"}),s.jsxs($s,{children:[s.jsx("p",{className:"font-medium mb-1",children:""}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsxs("li",{children:["",s.jsx("code",{className:"bg-muted px-1 rounded",children:"4242 4242 4242 4242"})]}),s.jsx("li",{children:" 12/30"}),s.jsx("li",{children:"CVV 123"})]})]})]}),s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-5 w-5 text-primary"}),""]}),s.jsx(dt,{children:""})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:" (TWD)"}),s.jsx(xe,{type:"number",value:o,onChange:p=>l(Number(p.target.value)),min:1})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:""}),s.jsx(xe,{value:c,onChange:p=>d(p.target.value)})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:""}),s.jsx("div",{id:"card-number",className:"h-10 px-3 py-2 border border-input rounded-md bg-background"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:""}),s.jsx("div",{id:"card-expiration",className:"h-10 px-3 py-2 border border-input rounded-md bg-background"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{children:"CVV"}),s.jsx("div",{id:"card-ccv",className:"h-10 px-3 py-2 border border-input rounded-md bg-background"})]})]})]}),i&&s.jsx("div",{className:"text-sm text-muted-foreground",children:i.canGetPrime?s.jsxs("span",{className:"text-primary flex items-center gap-1",children:[s.jsx(We,{className:"h-4 w-4"})," "]}):s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(rs,{className:"h-4 w-4"})," "]})}),s.jsx(B,{onClick:f,disabled:e||!n,className:"w-full",size:"lg",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sn,{className:"h-4 w-4 mr-2"})," NT$",o]})})]})]}),u&&s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs(Y,{className:u.success?"border-primary":"border-destructive",children:[s.jsx(ue,{children:s.jsx(me,{className:u.success?"text-primary":"text-destructive",children:u.success?" ":" "})}),s.jsx(Z,{children:s.jsx("pre",{className:"text-xs bg-muted p-3 rounded-lg overflow-auto",children:JSON.stringify(u,null,2)})})]})}),s.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"  TapPay Sandbox "})]})})}const ZNt=3168;function ekt(){const[e,t]=x.useState([{id:"openai",name:"OpenAI",icon:Zy,description:"GPT-4o-mini",status:"idle"},{id:"claude",name:"Claude",icon:Zy,description:"Claude 3 Haiku",status:"idle"},{id:"deepseek",name:"DeepSeek",icon:Zy,description:"DeepSeek Chat",status:"idle"},{id:"redis",name:"Redis",icon:d_,description:"Upstash REST",status:"idle"},{id:"telegram",name:"Telegram",icon:ha,description:"Bot API",status:"idle"},{id:"tappay",name:"TapPay",icon:Cs,description:"Sandbox SDK",status:"idle"}]),[n,r]=x.useState(!1),i=x.useRef(!1);x.useEffect(()=>{if(i.current)return;const m=document.createElement("script");return m.src="https://js.tappaysdk.com/sdk/tpdirect/v5.18.0",m.async=!0,m.onload=()=>{i.current=!0,a()},document.body.appendChild(m),()=>{m.parentNode&&document.body.removeChild(m)}},[]);const a=()=>{if(window.TPDirect)try{window.TPDirect.setupSDK(ZNt,"app_UmMpJg2VqpAFQqx1dC1ukGNxiT4xUHPYN8aJfGPxfxEcyjYJCHuNPlmGYqjf","sandbox"),window.TPDirect.card.setup({fields:{number:{element:"#tappay-card-number",placeholder:"**** **** **** ****"},expirationDate:{element:"#tappay-expiration",placeholder:"MM / YY"},ccv:{element:"#tappay-ccv",placeholder:"CVV"}},styles:{input:{color:"hsl(var(--foreground))","font-size":"14px"},".valid":{color:"hsl(142.1 76.2% 36.3%)"},".invalid":{color:"hsl(var(--destructive))"}}}),r(!0),o("tappay","success",{message:"SDK "})}catch(m){o("tappay","error",null,m.message)}},o=(m,f,p,g)=>{t(y=>y.map(v=>v.id===m?{...v,status:f,result:p,error:g}:v))},l=async m=>{if(m==="tappay"){n?(o("tappay","success",{message:"SDK "}),q.success("TapPay SDK ")):(o("tappay","error",null,"SDK "),q.error("TapPay SDK "));return}o(m,"testing");try{const{data:f,error:p}=await ee.functions.invoke("test-services",{body:{service:m}});if(p){o(m,"error",null,p.message),q.error(`${m} `);return}f!=null&&f.success?(o(m,"success",f),q.success(`${m} `)):(o(m,"error",f,f==null?void 0:f.message),q.error(`${m}: ${f==null?void 0:f.message}`))}catch(f){o(m,"error",null,f.message),q.error(`${m} `)}},c=async()=>{for(const m of e)await l(m.id),await new Promise(f=>setTimeout(f,500))},d=m=>{switch(m){case"testing":return s.jsx(Ge,{className:"h-5 w-5 animate-spin text-primary"});case"success":return s.jsx(Ct,{className:"h-5 w-5 text-primary"});case"error":return s.jsx(Oi,{className:"h-5 w-5 text-destructive"});default:return s.jsx(Pm,{className:"h-5 w-5 text-muted-foreground"})}},u=e.filter(m=>m.status==="success").length,h=e.filter(m=>m.status==="error").length;return s.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[s.jsx(ae,{variant:"outline",className:"mb-4",children:" "}),s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"text-muted-foreground mt-2",children:" API "})]}),s.jsx(Y,{children:s.jsx(Z,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ct,{className:"h-4 w-4 text-primary"}),s.jsxs("span",{className:"text-sm",children:[u," "]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"h-4 w-4 text-destructive"}),s.jsxs("span",{className:"text-sm",children:[h," "]})]})]}),s.jsxs(B,{onClick:c,variant:"outline",size:"sm",children:[s.jsx(rn,{className:"h-4 w-4 mr-2"}),""]})]})})}),s.jsx("div",{className:"grid gap-4",children:e.map((m,f)=>s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},children:s.jsx(Y,{className:m.status==="success"?"border-primary/50":m.status==="error"?"border-destructive/50":"",children:s.jsxs(Z,{className:"py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${m.status==="success"?"bg-primary/10":m.status==="error"?"bg-destructive/10":"bg-muted"}`,children:s.jsx(m.icon,{className:`h-5 w-5 ${m.status==="success"?"text-primary":m.status==="error"?"text-destructive":"text-muted-foreground"}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:m.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:m.description})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[d(m.status),s.jsx(B,{onClick:()=>l(m.id),disabled:m.status==="testing",size:"sm",variant:m.status==="success"?"outline":"default",children:m.status==="testing"?"...":""})]})]}),(m.result||m.error)&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[m.status==="success"&&m.result&&s.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-32",children:JSON.stringify(m.result.data||m.result,null,2)}),m.status==="error"&&m.error&&s.jsx("p",{className:"text-sm text-destructive",children:m.error})]})]})})},m.id))}),s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-5 w-5"}),"TapPay "]}),s.jsx(dt,{children:"4242 4242 4242 4242 |  |  CVV"})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{id:"tappay-card-number",className:"h-10 px-3 py-2 border border-input rounded-md bg-background mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:""}),s.jsx("div",{id:"tappay-expiration",className:"h-10 px-3 py-2 border border-input rounded-md bg-background mt-1"})]})]}),s.jsxs("div",{className:"w-24",children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"CVV"}),s.jsx("div",{id:"tappay-ccv",className:"h-10 px-3 py-2 border border-input rounded-md bg-background mt-1"})]}),s.jsx("div",{className:"flex items-center gap-2 text-sm",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-primary",children:"TapPay SDK "})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{className:"text-muted-foreground",children:"..."})]})})]})]}),s.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"  Sandbox "})]})})}const tkt=()=>{const e=fs();return yn({title:"404  - SEOBAIKE AI SEO ",description:"SEOBAIKE ",noindex:!0}),x.useEffect(()=>{},[e.pathname]),s.jsx("main",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 px-4",children:s.jsxs("article",{className:"text-center max-w-md",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-8xl font-bold text-gradient mb-4",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground",children:""})]}),s.jsxs("nav",{className:"flex flex-col sm:flex-row gap-3 justify-center","aria-label":"",children:[s.jsx(ye,{to:"/",children:s.jsxs(B,{className:"gap-2 w-full sm:w-auto",children:[s.jsx(tx,{className:"w-4 h-4"}),""]})}),s.jsxs(B,{variant:"outline",className:"gap-2",onClick:()=>window.history.back(),children:[s.jsx(ks,{className:"w-4 h-4"}),""]})]}),s.jsxs("div",{className:"mt-8 pt-8 border-t border-border",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:""}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(ye,{to:"/pricing",className:"text-primary hover:underline",children:""})}),s.jsx("li",{children:s.jsx(ye,{to:"/builder",className:"text-primary hover:underline",children:" AI "})}),s.jsx("li",{children:s.jsx(ye,{to:"/about",className:"text-primary hover:underline",children:" SEOBAIKE"})})]})]})]})})},nkt=()=>{const[e]=Im(),t=xn(),[n,r]=x.useState("loading"),[i,a]=x.useState("..."),o=x.useRef(!1);return x.useEffect(()=>{if(o.current)return;o.current=!0,console.log("[AuthCallback] Starting...");const{data:{subscription:l}}=ee.auth.onAuthStateChange((d,u)=>{if(console.log("[AuthCallback] Auth event:",d),u&&(d==="SIGNED_IN"||d==="TOKEN_REFRESHED"||d==="INITIAL_SESSION")){console.log("[AuthCallback] Session found via event"),r("success"),a(""),q.success("");try{window.history.replaceState(null,"","/auth/callback")}catch{}setTimeout(()=>t("/dashboard",{replace:!0}),300)}});return(async()=>{var d;try{const u=e.get("error");if(u){const p=e.get("error_description")||u;console.log("[AuthCallback] OAuth error:",p),r("error"),a(p),q.error("");return}console.log("[AuthCallback] Checking existing session...");const{data:h}=await ee.auth.getSession();if(h!=null&&h.session){console.log("[AuthCallback] Found existing session"),r("success"),a(""),q.success(""),setTimeout(()=>t("/dashboard",{replace:!0}),300);return}const m=e.get("code");if(m){console.log("[AuthCallback] Exchanging code..."),a("...");const{data:p,error:g}=await ee.auth.exchangeCodeForSession(m);if(!g&&(p!=null&&p.session)){console.log("[AuthCallback] Code exchange success"),r("success"),a(""),q.success(""),setTimeout(()=>t("/dashboard",{replace:!0}),300);return}if(g){console.log("[AuthCallback] Code exchange failed:",g.message);const{data:y}=await ee.auth.getSession();if(y!=null&&y.session){console.log("[AuthCallback] Session found on retry"),r("success"),a(""),q.success(""),setTimeout(()=>t("/dashboard",{replace:!0}),300);return}}}const f=window.location.hash;if(f&&f.length>1){console.log("[AuthCallback] Processing hash...");const p=new URLSearchParams(f.slice(1)),g=p.get("access_token"),y=p.get("refresh_token");if(g&&y){try{window.history.replaceState(null,"","/auth/callback")}catch{}const{data:v,error:b}=await ee.auth.setSession({access_token:g,refresh_token:y});if(!b&&(v!=null&&v.session)){console.log("[AuthCallback] setSession success"),r("success"),a(""),q.success(""),setTimeout(()=>t("/dashboard",{replace:!0}),300);return}}}console.log("[AuthCallback] Polling for session..."),a("...");for(let p=0;p<20;p++){await new Promise(y=>setTimeout(y,3e3)),console.log(`[AuthCallback] Poll ${p+1}/20`);const{data:g}=await ee.auth.getSession();if(g!=null&&g.session){console.log("[AuthCallback] Session found on poll"),r("success"),a(""),q.success(""),setTimeout(()=>t("/dashboard",{replace:!0}),300);return}}console.log("[AuthCallback] All polls failed"),r("error"),a("")}catch(u){if(console.error("[AuthCallback] Error:",u),(d=u==null?void 0:u.message)!=null&&d.includes("abort"))return;r("error"),a((u==null?void 0:u.message)||""),q.error("")}})(),()=>{l.unsubscribe()}},[e,t]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"bg-card rounded-2xl p-8 border border-border shadow-xl",children:[n==="loading"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Ge,{className:"w-8 h-8 text-primary animate-spin"})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground",children:i}),s.jsx("div",{className:"mt-6 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary animate-pulse",style:{width:"60%"}})})]}),n==="success"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-green-500/10 flex items-center justify-center",children:s.jsx(Ct,{className:"w-8 h-8 text-green-500"})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground",children:"..."})]}),n==="error"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(Oi,{className:"w-8 h-8 text-destructive"})}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground mb-6",children:i}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsxs(B,{onClick:()=>t("/login"),className:"gap-2",children:[s.jsx(rn,{className:"w-4 h-4"}),""]}),s.jsx(B,{variant:"outline",onClick:()=>t("/"),children:""})]})]})]}),s.jsx("p",{className:"text-center text-xs text-muted-foreground mt-6",children:" 2026 SEOBAIKE. All rights reserved."})]})})},rkt={company:{nameCn:"",nameEn:"MuGuang Interior",slogan:"",industry:"",phone:"02-2345-6789",lineId:"@muguang",email:"hello@muguang.com.tw",address:"1238",domain:"muguang.com.tw"},advantages:["20","500+ ","","5","3D"],services:[{title:"",description:"",icon:""},{title:"",description:"",icon:""},{title:"",description:"",icon:""},{title:"",description:"",icon:""},{title:"",description:"",icon:""}],pricing:[{name:"",price:"NT$ 3,000/",features:["","3D","",""]},{name:"",price:"NT$ 5,500/",features:["","3D","","",""],isPopular:!0},{name:"",price:"NT$ 8,000/",features:["VIP","","","",""]}],cases:[{title:"",category:"",image:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800&h=600&fit=crop",description:"35"},{title:"",category:"",image:"https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?w=800&h=600&fit=crop",description:"28"},{title:"",category:"",image:"https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800&h=600&fit=crop",description:""},{title:"",category:"",image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800&h=600&fit=crop",description:""},{title:"",category:"",image:"https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=800&h=600&fit=crop",description:"40"},{title:"",category:"",image:"https://images.unsplash.com/photo-1600210492493-0946911123ea?w=800&h=600&fit=crop",description:""}],faq:[{question:"",answer:" NT$3,000-8,000/ 3D "},{question:"",answer:" 30  4-6  8-12  3-4 "},{question:"",answer:""},{question:"",answer:" 3-12 "},{question:"",answer:" 5 "},{question:"",answer:" LINE  3 "}],team:[{name:"",role:" / ",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200&h=200&fit=crop"},{name:"",role:"",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200&h=200&fit=crop"},{name:"",role:"",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop"}],keywords:{primary:["","","","",""],secondary:["","","","",""]},style:{theme:"warm",primaryColor:"#8B7355",accentColor:"#D4AF37"}},kK=[{id:"home",label:""},{id:"services",label:""},{id:"pricing",label:""},{id:"cases",label:""},{id:"about",label:""},{id:"faq",label:""},{id:"contact",label:""}],skt=({config:e,currentPage:t,onNavigate:n})=>{const[r,i]=x.useState(!1);return s.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-100 shadow-sm",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[s.jsxs(E.button,{onClick:()=>n("home"),className:"flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold text-xl",style:{backgroundColor:e.style.primaryColor},children:e.company.nameCn.charAt(0)}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("div",{className:"font-bold text-gray-900",children:e.company.nameCn}),s.jsx("div",{className:"text-xs text-gray-500",children:e.company.nameEn})]})]}),s.jsx("div",{className:"hidden lg:flex items-center gap-1",children:kK.map(a=>s.jsx(E.button,{onClick:()=>n(a.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t===a.id?"text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,style:t===a.id?{backgroundColor:e.style.primaryColor}:{},whileHover:{scale:1.02},whileTap:{scale:.98},children:a.label},a.id))}),s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[s.jsxs(E.a,{href:`tel:${e.company.phone}`,className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 text-gray-700 hover:bg-gray-50 transition-colors text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[s.jsx(Ya,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:e.company.phone})]}),s.jsxs(E.a,{href:`https://line.me/R/ti/p/${e.company.lineId}`,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white text-sm font-medium",style:{backgroundColor:"#06C755"},whileHover:{scale:1.02},whileTap:{scale:.98},children:[s.jsx(ha,{className:"w-4 h-4"}),"LINE "]})]}),s.jsx(E.button,{onClick:()=>i(!r),className:"lg:hidden p-2 rounded-lg hover:bg-gray-100",whileTap:{scale:.95},children:r?s.jsx(nr,{className:"w-6 h-6"}):s.jsx(h_,{className:"w-6 h-6"})})]})}),s.jsx(He,{children:r&&s.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden bg-white border-t border-gray-100",children:s.jsxs("div",{className:"px-4 py-4 space-y-2",children:[kK.map((a,o)=>s.jsx(E.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.05},onClick:()=>{n(a.id),i(!1)},className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-colors ${t===a.id?"text-white":"text-gray-700 hover:bg-gray-100"}`,style:t===a.id?{backgroundColor:e.style.primaryColor}:{},children:a.label},a.id)),s.jsxs("div",{className:"pt-4 flex flex-col gap-2",children:[s.jsxs("a",{href:`tel:${e.company.phone}`,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg border border-gray-200 text-gray-700",children:[s.jsx(Ya,{className:"w-4 h-4"}),e.company.phone]}),s.jsxs("a",{href:`https://line.me/R/ti/p/${e.company.lineId}`,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-white font-medium",style:{backgroundColor:"#06C755"},children:[s.jsx(ha,{className:"w-4 h-4"}),"LINE "]})]})]})})})]})},ikt=[{id:"home",label:""},{id:"services",label:""},{id:"pricing",label:""},{id:"cases",label:""},{id:"about",label:""},{id:"faq",label:""},{id:"contact",label:""}],akt=({config:e,onNavigate:t})=>s.jsx("footer",{className:"bg-gray-900 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold text-xl",style:{backgroundColor:e.style.primaryColor},children:e.company.nameCn.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-lg",children:e.company.nameCn}),s.jsx("div",{className:"text-sm text-gray-400",children:e.company.nameEn})]})]}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:e.company.slogan}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(E.a,{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-gray-700 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},children:s.jsx($_e,{className:"w-5 h-5"})}),s.jsx(E.a,{href:"#",className:"w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-gray-700 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},children:s.jsx(V_e,{className:"w-5 h-5"})}),s.jsx(E.a,{href:`https://line.me/R/ti/p/${e.company.lineId}`,className:"w-10 h-10 rounded-full flex items-center justify-center transition-colors",style:{backgroundColor:"#06C755"},whileHover:{scale:1.1},whileTap:{scale:.95},children:s.jsx(ha,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:""}),s.jsx("ul",{className:"space-y-2",children:ikt.map(n=>s.jsx("li",{children:s.jsx("button",{onClick:()=>t(n.id),className:"text-gray-400 hover:text-white transition-colors text-sm",children:n.label})},n.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:""}),s.jsx("ul",{className:"space-y-2",children:e.services.slice(0,5).map((n,r)=>s.jsx("li",{children:s.jsx("button",{onClick:()=>t("services"),className:"text-gray-400 hover:text-white transition-colors text-sm",children:n.title})},r))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:""}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(Ya,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsx("a",{href:`tel:${e.company.phone}`,className:"text-gray-400 hover:text-white transition-colors text-sm",children:e.company.phone})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(Ri,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsx("a",{href:`mailto:${e.company.email}`,className:"text-gray-400 hover:text-white transition-colors text-sm",children:e.company.email})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(xu,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-400 text-sm",children:e.company.address})]})]})]})]}),s.jsx("div",{className:"mt-12 pt-8 border-t border-gray-800",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("p",{className:"text-gray-500 text-sm",children:[" 2026 ",e.company.nameCn,". All rights reserved."]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[s.jsx("button",{className:"hover:text-white transition-colors",children:""}),s.jsx("button",{className:"hover:text-white transition-colors",children:""})]})]})})]})}),okt=({config:e,onNavigate:t})=>s.jsxs("div",{children:[s.jsxs("section",{className:"relative min-h-[90vh] flex items-center overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=1920&h=1080&fit=crop",alt:"",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-transparent"})]}),s.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:s.jsxs("div",{className:"max-w-2xl",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm text-white text-sm mb-6",children:[s.jsx(Js,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.company.industry,"  ",e.advantages[1]]}),s.jsx(E.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight mb-6",children:e.company.slogan}),s.jsxs(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-lg md:text-xl text-white/80 mb-8 leading-relaxed",children:[e.company.nameCn,"  ",e.advantages[0],"",e.services.map(n=>n.title).slice(0,3).join(""),""]}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex flex-wrap gap-4",children:[s.jsxs(E.button,{onClick:()=>t("contact"),className:"flex items-center gap-2 px-6 py-3 rounded-lg text-white font-medium",style:{backgroundColor:e.style.primaryColor},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:["",s.jsx(mt,{className:"w-5 h-5"})]}),s.jsx(E.button,{onClick:()=>t("cases"),className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-white/10 backdrop-blur-sm text-white font-medium hover:bg-white/20 transition-colors",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:""})]}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mt-12 flex flex-wrap gap-6",children:e.advantages.slice(0,4).map((n,r)=>s.jsxs("div",{className:"flex items-center gap-2 text-white/80 text-sm",children:[s.jsx(Ct,{className:"w-4 h-4 text-green-400"}),n]},r))})]})})]}),s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:""}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:e.services.slice(0,6).map((n,r)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg hover:border-gray-200 transition-all cursor-pointer group",onClick:()=>t("services"),children:[s.jsx("div",{className:"text-4xl mb-4",children:n.icon}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-primary transition-colors",style:{"--primary":e.style.primaryColor},children:n.title}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:n.description})]},r))}),s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mt-10",children:s.jsxs(E.button,{onClick:()=>t("services"),className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg text-white font-medium",style:{backgroundColor:e.style.primaryColor},whileHover:{scale:1.02},whileTap:{scale:.98},children:["",s.jsx(mt,{className:"w-5 h-5"})]})})]})}),s.jsx("section",{className:"py-16 lg:py-24",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:""}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.cases.slice(0,6).map((n,r)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:"group relative rounded-2xl overflow-hidden cursor-pointer",onClick:()=>t("cases"),children:[s.jsx("div",{className:"aspect-[4/3]",children:s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:[s.jsx("div",{className:"text-sm text-white/80 mb-1",children:n.category}),s.jsx("h3",{className:"text-lg font-semibold",children:n.title})]})]},r))}),s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mt-10",children:s.jsxs(E.button,{onClick:()=>t("cases"),className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg border-2 font-medium transition-colors",style:{borderColor:e.style.primaryColor,color:e.style.primaryColor},whileHover:{scale:1.02},whileTap:{scale:.98},children:["",s.jsx(mt,{className:"w-5 h-5"})]})})]})}),s.jsx("section",{className:"py-16 lg:py-24",style:{backgroundColor:e.style.primaryColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-3xl md:text-4xl font-bold text-white mb-4",children:""}),s.jsx(E.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-white/80 text-lg mb-8",children:""}),s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"flex flex-wrap justify-center gap-4",children:[s.jsxs(E.a,{href:`tel:${e.company.phone}`,className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-white font-medium",style:{color:e.style.primaryColor},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[s.jsx(Ya,{className:"w-5 h-5"}),e.company.phone]}),s.jsxs(E.a,{href:`https://line.me/R/ti/p/${e.company.lineId}`,className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-[#06C755] text-white font-medium",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[s.jsx(ha,{className:"w-5 h-5"}),"LINE "]})]})]})})]}),lkt=({config:e,onNavigate:t})=>s.jsxs("div",{className:"pt-20",children:[s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:""}),s.jsxs("p",{className:"text-lg text-gray-600 leading-relaxed",children:[e.company.nameCn," "]})]})})}),s.jsx("section",{className:"py-16 lg:py-24",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.services.map((n,r)=>s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"text-5xl",children:n.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:n.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:n.description}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ct,{className:"w-4 h-4 text-green-500"}),""]}),s.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ct,{className:"w-4 h-4 text-green-500"}),""]}),s.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ct,{className:"w-4 h-4 text-green-500"}),"3D "]})]})]})]})},r))})})}),s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:""}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"01",title:"",desc:""},{step:"02",title:"",desc:"3D "},{step:"03",title:"",desc:""},{step:"04",title:"",desc:""}].map((n,r)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white text-xl font-bold mx-auto mb-4",style:{backgroundColor:e.style.primaryColor},children:n.step}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:n.title}),s.jsx("p",{className:"text-gray-600",children:n.desc})]},r))})]})}),s.jsx("section",{className:"py-16 lg:py-24",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:""}),s.jsx(E.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-gray-600 text-lg mb-8",children:""}),s.jsxs(E.button,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},onClick:()=>t("pricing"),className:"inline-flex items-center gap-2 px-8 py-4 rounded-lg text-white font-medium",style:{backgroundColor:e.style.primaryColor},whileHover:{scale:1.02},whileTap:{scale:.98},children:["",s.jsx(mt,{className:"w-5 h-5"})]})]})})]}),ckt=({config:e,onNavigate:t})=>s.jsxs("div",{className:"pt-20",children:[s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:""}),s.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:""})]})})}),s.jsx("section",{className:"py-16 lg:py-24",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.pricing.map((n,r)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:`relative bg-white rounded-2xl p-8 ${n.isPopular?"shadow-xl scale-105":"border border-gray-200 shadow-sm"}`,style:n.isPopular?{boxShadow:`0 0 0 2px ${e.style.primaryColor}`}:{},children:[n.isPopular&&s.jsxs("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 px-4 py-1 rounded-full text-white text-sm font-medium flex items-center gap-1",style:{backgroundColor:e.style.primaryColor},children:[s.jsx(Js,{className:"w-4 h-4 fill-current"}),""]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n.name}),s.jsx("div",{className:"text-3xl font-bold",style:{color:e.style.primaryColor},children:n.price})]}),s.jsx("ul",{className:"space-y-4 mb-8",children:n.features.map((i,a)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(We,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-600",children:i})]},a))}),s.jsx(E.button,{onClick:()=>t("contact"),className:`w-full py-3 rounded-lg font-medium transition-colors ${n.isPopular?"text-white":"border-2 hover:bg-gray-50"}`,style:n.isPopular?{backgroundColor:e.style.primaryColor}:{borderColor:e.style.primaryColor,color:e.style.primaryColor},whileHover:{scale:1.02},whileTap:{scale:.98},children:""})]},r))})})}),s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:""})}),s.jsx("div",{className:"space-y-4",children:e.faq.slice(0,3).map((n,r)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:"bg-white p-6 rounded-xl border border-gray-200",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n.question}),s.jsx("p",{className:"text-gray-600",children:n.answer})]},r))}),s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mt-8",children:s.jsxs(E.button,{onClick:()=>t("faq"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium",whileHover:{x:5},children:["",s.jsx(mt,{className:"w-5 h-5"})]})})]})})]}),dkt=({config:e,onNavigate:t})=>{const[n,r]=x.useState(null),[i,a]=x.useState("all"),o=["all",...new Set(e.cases.map(c=>c.category))],l=i==="all"?e.cases:e.cases.filter(c=>c.category===i);return s.jsxs("div",{className:"pt-20",children:[s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:""}),s.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:""})]})})}),s.jsx("section",{className:"py-8 border-b border-gray-200 sticky top-16 lg:top-20 bg-white z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:o.map(c=>s.jsx(E.button,{onClick:()=>a(c),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${i===c?"text-white":"text-gray-600 bg-gray-100 hover:bg-gray-200"}`,style:i===c?{backgroundColor:e.style.primaryColor}:{},whileHover:{scale:1.02},whileTap:{scale:.98},children:c==="all"?"":c},c))})})}),s.jsx("section",{className:"py-16 lg:py-24",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx(E.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.jsx(He,{mode:"popLayout",children:l.map((c,d)=>s.jsxs(E.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"group relative rounded-2xl overflow-hidden cursor-pointer bg-white shadow-sm",onClick:()=>r(c),children:[s.jsx("div",{className:"aspect-[4/3]",children:s.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:[s.jsx("div",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium mb-2",style:{backgroundColor:e.style.primaryColor},children:c.category}),s.jsx("h3",{className:"text-lg font-semibold",children:c.title})]})]},c.title))})})})}),s.jsx(He,{children:n&&s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:()=>r(null),children:s.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-4xl w-full bg-white rounded-2xl overflow-hidden",onClick:c=>c.stopPropagation(),children:[s.jsx("button",{onClick:()=>r(null),className:"absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-black/50 text-white flex items-center justify-center hover:bg-black/70 transition-colors",children:s.jsx(nr,{className:"w-5 h-5"})}),s.jsx("div",{className:"aspect-video",children:s.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6 lg:p-8",children:[s.jsx("div",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium text-white mb-3",style:{backgroundColor:e.style.primaryColor},children:n.category}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:n.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description}),s.jsxs(E.button,{onClick:()=>{r(null),t("contact")},className:"mt-6 inline-flex items-center gap-2 px-6 py-3 rounded-lg text-white font-medium",style:{backgroundColor:e.style.primaryColor},whileHover:{scale:1.02},whileTap:{scale:.98},children:["",s.jsx(mt,{className:"w-5 h-5"})]})]})]})})}),s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:""}),s.jsx(E.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-gray-600 text-lg mb-8",children:""}),s.jsxs(E.button,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},onClick:()=>t("contact"),className:"inline-flex items-center gap-2 px-8 py-4 rounded-lg text-white font-medium",style:{backgroundColor:e.style.primaryColor},whileHover:{scale:1.02},whileTap:{scale:.98},children:["",s.jsx(mt,{className:"w-5 h-5"})]})]})})]})},ukt=({config:e,onNavigate:t})=>{const n=[{value:"20+",label:""},{value:"500+",label:""},{value:"98%",label:""},{value:"5",label:""}],r=[{icon:rZ,title:"",description:""},{icon:mu,title:"",description:""},{icon:ai,title:"",description:""},{icon:tg,title:"",description:""}];return s.jsxs("div",{className:"pt-20",children:[s.jsxs("section",{className:"relative py-16 lg:py-24 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1600210492493-0946911123ea?w=1920&h=800&fit=crop",alt:"",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/60"})]}),s.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl text-white",children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["",e.company.nameCn]}),s.jsxs("p",{className:"text-lg text-white/80 leading-relaxed",children:[e.company.slogan," "]})]})})]}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((i,a)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},className:"text-center",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",style:{color:e.style.primaryColor},children:i.value}),s.jsx("div",{className:"text-gray-600",children:i.label})]},a))})})}),s.jsx("section",{className:"py-16 lg:py-24",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:""}),s.jsxs("div",{className:"space-y-4 text-gray-600 leading-relaxed",children:[s.jsxs("p",{children:[e.company.nameCn," 2005   30 "]}),s.jsx("p",{children:"  "}),s.jsx("p",{children:" 500   "})]})]}),s.jsx(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"rounded-2xl overflow-hidden",children:s.jsx("img",{src:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800&h=600&fit=crop",alt:"",className:"w-full h-auto"})})]})})}),s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:""}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((i,a)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 text-center",children:[s.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:`${e.style.primaryColor}20`},children:s.jsx(i.icon,{className:"w-7 h-7",style:{color:e.style.primaryColor}})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:i.description})]},a))})]})}),s.jsx("section",{className:"py-16 lg:py-24",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:""}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:e.team.map((i,a)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},className:"text-center",children:[s.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mx-auto mb-4 border-4",style:{borderColor:e.style.primaryColor},children:s.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.name}),s.jsx("p",{className:"text-gray-600",children:i.role})]},a))})]})}),s.jsx("section",{className:"py-16 lg:py-24",style:{backgroundColor:e.style.primaryColor},children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-3xl md:text-4xl font-bold text-white mb-4",children:""}),s.jsx(E.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-white/80 text-lg mb-8",children:""}),s.jsxs(E.button,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},onClick:()=>t("contact"),className:"inline-flex items-center gap-2 px-8 py-4 rounded-lg bg-white font-medium",style:{color:e.style.primaryColor},whileHover:{scale:1.02},whileTap:{scale:.98},children:["",s.jsx(mt,{className:"w-5 h-5"})]})]})})]})},hkt=({config:e,onNavigate:t})=>{const[n,r]=x.useState(0);return s.jsxs("div",{className:"pt-20",children:[s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:""}),s.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:""})]})})}),s.jsx("section",{className:"py-16 lg:py-24",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"space-y-4",children:e.faq.map((i,a)=>s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.05},className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[s.jsxs("button",{onClick:()=>r(n===a?null:a),className:"w-full flex items-center justify-between p-6 text-left",children:[s.jsx("span",{className:"font-semibold text-gray-900 pr-4",children:i.question}),s.jsx(E.div,{animate:{rotate:n===a?180:0},transition:{duration:.2},className:"flex-shrink-0",children:s.jsx(qr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx(He,{children:n===a&&s.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:s.jsx("div",{className:"px-6 pb-6 text-gray-600 leading-relaxed border-t border-gray-100 pt-4",children:i.answer})})})]},a))})})}),s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:""}),s.jsx("p",{className:"text-gray-600 text-lg mb-8",children:""}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[s.jsxs(E.button,{onClick:()=>t("contact"),className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg text-white font-medium",style:{backgroundColor:e.style.primaryColor},whileHover:{scale:1.02},whileTap:{scale:.98},children:["",s.jsx(mt,{className:"w-5 h-5"})]}),s.jsx(E.a,{href:`tel:${e.company.phone}`,className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg border-2 font-medium",style:{borderColor:e.style.primaryColor,color:e.style.primaryColor},whileHover:{scale:1.02},whileTap:{scale:.98},children:e.company.phone})]})]})})}),s.jsx("section",{className:"py-16 lg:py-24",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:""})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{id:"services",title:"",desc:""},{id:"pricing",title:"",desc:""},{id:"cases",title:"",desc:""}].map((i,a)=>s.jsxs(E.button,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},onClick:()=>t(i.id),className:"bg-white p-6 rounded-xl border border-gray-200 text-left hover:shadow-lg hover:border-gray-300 transition-all group",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 group-hover:text-primary transition-colors",style:{"--primary":e.style.primaryColor},children:i.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:i.desc})]},i.id))})]})})]})},mkt=({config:e,onNavigate:t})=>{const[n,r]=x.useState({name:"",phone:"",email:"",service:"",message:""}),[i,a]=x.useState(!1),o=l=>{l.preventDefault(),a(!0),setTimeout(()=>{a(!1),r({name:"",phone:"",email:"",service:"",message:""})},3e3)};return s.jsxs("div",{className:"pt-20",children:[s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:""}),s.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:""})]})})}),s.jsx("section",{className:"py-16 lg:py-24",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:""}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("a",{href:`tel:${e.company.phone}`,className:"flex items-start gap-4 p-4 bg-white rounded-xl border border-gray-200 hover:shadow-lg hover:border-gray-300 transition-all",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${e.style.primaryColor}20`},children:s.jsx(Ya,{className:"w-6 h-6",style:{color:e.style.primaryColor}})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:""}),s.jsx("div",{className:"text-gray-600",children:e.company.phone})]})]}),s.jsxs("a",{href:`mailto:${e.company.email}`,className:"flex items-start gap-4 p-4 bg-white rounded-xl border border-gray-200 hover:shadow-lg hover:border-gray-300 transition-all",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${e.style.primaryColor}20`},children:s.jsx(Ri,{className:"w-6 h-6",style:{color:e.style.primaryColor}})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:"Email"}),s.jsx("div",{className:"text-gray-600",children:e.company.email})]})]}),s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white rounded-xl border border-gray-200",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${e.style.primaryColor}20`},children:s.jsx(xu,{className:"w-6 h-6",style:{color:e.style.primaryColor}})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:""}),s.jsx("div",{className:"text-gray-600",children:e.company.address})]})]}),s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white rounded-xl border border-gray-200",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${e.style.primaryColor}20`},children:s.jsx(Pn,{className:"w-6 h-6",style:{color:e.style.primaryColor}})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:""}),s.jsx("div",{className:"text-gray-600",children:" 09:00-18:00"}),s.jsx("div",{className:"text-gray-600",children:" 10:00-17:00"})]})]}),s.jsxs("a",{href:`https://line.me/R/ti/p/${e.company.lineId}`,className:"flex items-center justify-center gap-3 p-4 rounded-xl text-white font-medium",style:{backgroundColor:"#06C755"},children:[s.jsx(ha,{className:"w-6 h-6"}),"LINE "]})]})]}),s.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:""}),i?s.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-green-50 border border-green-200 rounded-xl p-8 text-center",children:[s.jsx(Ct,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-gray-600",children:" 24 "})]}):s.jsxs("form",{onSubmit:o,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),s.jsx("input",{type:"text",required:!0,value:n.name,onChange:l=>r({...n,name:l.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",style:{"--tw-ring-color":e.style.primaryColor}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),s.jsx("input",{type:"tel",required:!0,value:n.phone,onChange:l=>r({...n,phone:l.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:n.email,onChange:l=>r({...n,email:l.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:" Email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsxs("select",{value:n.service,onChange:l=>r({...n,service:l.target.value}),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",children:[s.jsx("option",{value:"",children:""}),e.services.map((l,c)=>s.jsx("option",{value:l.title,children:l.title},c))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),s.jsx("textarea",{value:n.message,onChange:l=>r({...n,message:l.target.value}),rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none",placeholder:""})]}),s.jsxs(E.button,{type:"submit",className:"w-full flex items-center justify-center gap-2 py-4 rounded-lg text-white font-medium",style:{backgroundColor:e.style.primaryColor},whileHover:{scale:1.01},whileTap:{scale:.99},children:[s.jsx(Bs,{className:"w-5 h-5"}),""]})]})]})]})})}),s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:""}),s.jsx("p",{className:"text-gray-600",children:e.company.address})]}),s.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"rounded-2xl overflow-hidden shadow-lg",children:s.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3614.7089982656695!2d121.54358007538365!3d25.041285677802455!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442abd379a5c9f1%3A0x8c318de3f5e3c1e!2z5Y-w5YyX5biC5aSn5a6J5Y2A5b-g5a2d5p2x6Lev5Zub5q61!5e0!3m2!1szh-TW!2stw!4v1706000000000!5m2!1szh-TW!2stw",width:"100%",height:"400",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})})]})},fkt={home:okt,services:lkt,pricing:ckt,cases:dkt,about:ukt,faq:hkt,contact:mkt},pkt=()=>{const[e,t]=x.useState("home"),n=rkt,r=x.useCallback(a=>{t(a),window.scrollTo({top:0,behavior:"smooth"})},[]),i=fkt[e];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx(skt,{config:n,currentPage:e,onNavigate:r}),s.jsx(E.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s.jsx(i,{config:n,onNavigate:r})},e),s.jsx(akt,{config:n,onNavigate:r}),s.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-3",children:[s.jsx(E.a,{href:`tel:${n.company.phone}`,className:"w-14 h-14 rounded-full flex items-center justify-center text-white shadow-lg",style:{backgroundColor:n.style.primaryColor},whileHover:{scale:1.1},whileTap:{scale:.95},title:"",children:s.jsx(Ya,{className:"w-6 h-6"})}),s.jsx(E.a,{href:`https://line.me/R/ti/p/${n.company.lineId}`,className:"w-14 h-14 rounded-full flex items-center justify-center text-white shadow-lg",style:{backgroundColor:"#06C755"},whileHover:{scale:1.1},whileTap:{scale:.95},title:"LINE ",children:s.jsx(ha,{className:"w-6 h-6"})})]})]})},gkt=()=>s.jsx(pkt,{}),E$={manufacturing:{id:"manufacturing",name:"",icon:"",description:"OEM/ODM",defaultSlogan:"",services:[{title:"OEM ",description:"",icon:""},{title:"ODM ",description:"",icon:""},{title:"",description:"",icon:""},{title:"",description:"",icon:""}],faq:[{question:"",answer:" MOQ  500-1000 "},{question:"",answer:""},{question:"",answer:" 15-30 "},{question:"",answer:" ISO 9001ISO 14001 "},{question:"",answer:""}],keywords:{primary:["","OEM","",""],secondary:["","","ISO",""]}},service:{id:"service",name:"",icon:"",description:"",defaultSlogan:"",services:[{title:"",description:"",icon:""},{title:"",description:"",icon:""},{title:"",description:"",icon:""},{title:"",description:"",icon:""}],faq:[{question:"",answer:""},{question:"",answer:""},{question:"",answer:""},{question:"",answer:""},{question:"",answer:"LINE "}],keywords:{primary:["","","",""],secondary:["","","",""]}},retail:{id:"retail",name:"",icon:"",description:"",defaultSlogan:"",services:[{title:"",description:"",icon:""},{title:"",description:"24H ",icon:""},{title:"",description:"",icon:""},{title:"",description:"",icon:""}],faq:[{question:"",answer:""},{question:"",answer:""},{question:"",answer:" 1-3  1-2 "},{question:"",answer:"7 "},{question:"",answer:""}],keywords:{primary:["","","",""],secondary:["","","",""]}},restaurant:{id:"restaurant",name:"",icon:"",description:"",defaultSlogan:"",services:[{title:"",description:"",icon:""},{title:"",description:"",icon:""},{title:"",description:"",icon:""},{title:"",description:"",icon:""}],faq:[{question:"",answer:""},{question:"",answer:""},{question:"",answer:"V"},{question:"",answer:""},{question:"",answer:""}],keywords:{primary:["","","",""],secondary:["","","",""]}},medical:{id:"medical",name:"",icon:"",description:"",defaultSlogan:"",services:[{title:"",description:"",icon:""},{title:"",description:"",icon:""},{title:"",description:"",icon:""},{title:"",description:"",icon:""}],faq:[{question:"",answer:""},{question:"",answer:""},{question:"",answer:""},{question:"",answer:""},{question:"",answer:""}],keywords:{primary:["","","",""],secondary:["","","",""]}},tech:{id:"tech",name:"",icon:"",description:"IT",defaultSlogan:"",services:[{title:"",description:"",icon:""},{title:"",description:"",icon:""},{title:"IT ",description:"",icon:""},{title:"",description:"",icon:""}],faq:[{question:"",answer:""},{question:"",answer:" 1-6 "},{question:"",answer:""},{question:"",answer:""},{question:"",answer:""}],keywords:{primary:["","","IT",""],secondary:["","","",""]}}},_fe=[{id:"professional-blue",name:"",primaryColor:"#1E40AF",accentColor:"#3B82F6",description:""},{id:"vibrant-orange",name:"",primaryColor:"#EA580C",accentColor:"#FB923C",description:""},{id:"elegant-black",name:"",primaryColor:"#1F2937",accentColor:"#6B7280",description:""}],xkt=({selectedIndustry:e,onSelect:t})=>{const n=Object.values(E$),r=[{icon:"",text:"Lighthouse SEO 90+ "},{icon:"",text:"Google "},{icon:"",text:""},{icon:"",text:""}];return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8 p-6 rounded-xl bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 border border-primary/20",children:[s.jsx("h3",{className:"text-center text-lg font-bold text-foreground mb-4",children:" "}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.map((i,a)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[s.jsx("span",{className:"text-primary",children:i.icon}),s.jsx("span",{children:i.text})]},a))})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((i,a)=>{const o=e===i.id;return s.jsxs(E.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},onClick:()=>t(i.id),className:`relative p-6 rounded-xl border-2 transition-all duration-300 text-left group ${o?"border-primary bg-primary/5 shadow-lg shadow-primary/20":"border-border hover:border-primary/50 hover:bg-muted/50"}`,children:[o&&s.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-3 right-3 w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:s.jsx(We,{className:"w-4 h-4 text-primary-foreground"})}),s.jsx("div",{className:"text-4xl mb-3",children:i.icon}),s.jsx("h3",{className:`text-lg font-bold mb-1 ${o?"text-primary":"text-foreground"}`,children:i.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),s.jsx("div",{className:`absolute inset-0 rounded-xl transition-opacity ${o?"opacity-0":"opacity-0 group-hover:opacity-100"}`,children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent rounded-xl"})})]},i.id)})})]})},ykt=({company:e,services:t,advantages:n,onUpdateCompany:r,onUpdateServices:i,onUpdateAdvantages:a})=>{const o=(c,d,u)=>{const h=[...t];h[c]={...h[c],[d]:u},i(h)},l=(c,d)=>{const u=[...n];u[c]=d,a(u)};return s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsx(me,{className:"text-lg",children:""}),s.jsx(dt,{children:""})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ee,{htmlFor:"nameCn",children:"*"}),s.jsx(xe,{id:"nameCn",value:e.nameCn,onChange:c=>r({nameCn:c.target.value}),placeholder:""})]}),s.jsxs("div",{children:[s.jsx(Ee,{htmlFor:"nameEn",children:""}),s.jsx(xe,{id:"nameEn",value:e.nameEn,onChange:c=>r({nameEn:c.target.value}),placeholder:"MuGuang Interior"})]})]}),s.jsxs("div",{children:[s.jsx(Ee,{htmlFor:"slogan",children:""}),s.jsx(xe,{id:"slogan",value:e.slogan,onChange:c=>r({slogan:c.target.value}),placeholder:""})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ee,{htmlFor:"phone",children:" *"}),s.jsx(xe,{id:"phone",value:e.phone,onChange:c=>r({phone:c.target.value}),placeholder:"02-2345-6789"})]}),s.jsxs("div",{children:[s.jsx(Ee,{htmlFor:"lineId",children:"LINE ID"}),s.jsx(xe,{id:"lineId",value:e.lineId,onChange:c=>r({lineId:c.target.value}),placeholder:"@yourcompany"})]})]}),s.jsxs("div",{children:[s.jsx(Ee,{htmlFor:"email",children:"Email *"}),s.jsx(xe,{id:"email",type:"email",value:e.email,onChange:c=>r({email:c.target.value}),placeholder:"hello@company.com.tw"})]}),s.jsxs("div",{children:[s.jsx(Ee,{htmlFor:"address",children:""}),s.jsx(xe,{id:"address",value:e.address,onChange:c=>r({address:c.target.value}),placeholder:"123"})]})]})]}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{className:"text-lg",children:" 4 "}),s.jsx(dt,{children:""})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:[s.jsx(gu,{className:"w-3 h-3"}),""]})]})}),s.jsx(Z,{className:"space-y-4",children:t.slice(0,4).map((c,d)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-3 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:c.icon}),s.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[" ",d+1]})]}),s.jsxs("div",{children:[s.jsx(Ee,{children:" *"}),s.jsx(xe,{value:c.title,onChange:u=>o(d,"title",u.target.value),placeholder:""})]}),s.jsxs("div",{children:[s.jsx(Ee,{children:""}),s.jsx(Yn,{value:c.description,onChange:u=>o(d,"description",u.target.value),placeholder:"",rows:2})]})]},d))})]}),s.jsxs(Y,{children:[s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{className:"text-lg",children:" 4 "}),s.jsx(dt,{children:""})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:[s.jsx(gu,{className:"w-3 h-3"}),""]})]})}),s.jsx(Z,{className:"space-y-3",children:[0,1,2,3].map(c=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center text-sm font-bold",children:c+1}),s.jsx(xe,{value:n[c]||"",onChange:d=>l(c,d.target.value),placeholder:` ${c+1}20`})]},c))})]})]})},vkt=({selectedTheme:e,onSelect:t})=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-4xl mx-auto",children:_fe.map((n,r)=>{const i=e===n.id;return s.jsxs(E.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},onClick:()=>t(n.id),className:`relative p-6 rounded-xl border-2 transition-all duration-300 text-left ${i?"border-primary shadow-lg":"border-border hover:border-primary/50"}`,children:[i&&s.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-3 right-3 w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:s.jsx(We,{className:"w-4 h-4 text-primary-foreground"})}),s.jsx("div",{className:"mb-4 h-24 rounded-lg overflow-hidden shadow-inner",children:s.jsx("div",{className:"h-full w-full",style:{background:`linear-gradient(135deg, ${n.primaryColor} 0%, ${n.accentColor} 100%)`}})}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white shadow-md",style:{backgroundColor:n.primaryColor}}),s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white shadow-md",style:{backgroundColor:n.accentColor}})]}),s.jsx("h3",{className:`text-lg font-bold mb-1 ${i?"text-primary":"text-foreground"}`,children:n.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]},n.id)})}),bkt=[{id:"home",label:"",icon:""},{id:"services",label:"",icon:""},{id:"about",label:"",icon:""},{id:"cases",label:"",icon:""},{id:"pricing",label:"",icon:""},{id:"faq",label:"FAQ",icon:""},{id:"contact",label:"",icon:""}],wkt=({config:e})=>{var o;const[t,n]=x.useState("desktop"),[r,i]=x.useState("home"),a=()=>{switch(r){case"home":return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"py-16 px-6 text-primary-foreground text-center rounded-lg",style:{background:`linear-gradient(135deg, ${e.style.primaryColor} 0%, ${e.style.accentColor} 100%)`},children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.company.nameCn||""}),s.jsx("p",{className:"text-lg opacity-90 mb-6",children:e.company.slogan||""}),s.jsx("button",{className:"px-6 py-3 bg-background text-foreground rounded-lg font-semibold",children:e.cta.text})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4 px-4",children:e.advantages.filter(l=>l).slice(0,4).map((l,c)=>s.jsx("div",{className:"p-4 bg-muted rounded-lg text-center",children:s.jsx("span",{className:"text-sm font-medium",children:l})},c))}),s.jsxs("div",{className:"px-4",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.services.slice(0,4).map((l,c)=>s.jsxs("div",{className:"p-4 border rounded-lg flex items-start gap-3",children:[s.jsx("span",{className:"text-2xl",children:l.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:l.title||` ${c+1}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.description})]})]},c))})]})]});case"services":return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:""}),e.services.slice(0,4).map((l,c)=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:l.icon}),s.jsx("h3",{className:"font-semibold",children:l.title||` ${c+1}`})]}),s.jsx("p",{className:"text-muted-foreground",children:l.description})]},c))]});case"about":return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:[" ",e.company.nameCn||""]}),s.jsx("p",{className:"text-muted-foreground",children:e.company.slogan}),e.company.nameEn&&s.jsx("p",{className:"text-sm text-muted-foreground italic",children:e.company.nameEn}),s.jsx("div",{className:"grid grid-cols-2 gap-3 mt-6",children:e.advantages.filter(l=>l).map((l,c)=>s.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg text-center text-sm",children:[" ",l]},c))})]});case"cases":return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3,4].map(l=>s.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:s.jsxs("span",{className:"text-muted-foreground text-sm",children:[" ",l]})},l))}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:""})]});case"pricing":return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:""}),s.jsx("div",{className:"space-y-3",children:["","",""].map((l,c)=>s.jsxs("div",{className:`p-4 border rounded-lg ${c===1?"border-primary bg-primary/5":""}`,children:[s.jsx("h3",{className:"font-semibold",children:l}),s.jsx("p",{className:"text-2xl font-bold my-2",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:""})]},c))})]});case"faq":return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:""}),e.faq.slice(0,5).map((l,c)=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("h3",{className:"font-semibold mb-2",children:["Q: ",l.question]}),s.jsxs("p",{className:"text-muted-foreground",children:["A: ",l.answer]})]},c))]});case"contact":return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:""}),s.jsxs("div",{className:"space-y-3",children:[e.company.phone&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:""}),s.jsx("span",{children:e.company.phone})]}),e.company.email&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:""}),s.jsx("span",{children:e.company.email})]}),e.company.lineId&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["LINE: ",e.company.lineId]})]}),e.company.address&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:""}),s.jsx("span",{children:e.company.address})]})]}),s.jsxs("div",{className:"mt-4 p-4 border rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-3",children:""}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-10 bg-muted rounded"}),s.jsx("div",{className:"h-10 bg-muted rounded"}),s.jsx("div",{className:"h-24 bg-muted rounded"}),s.jsx("div",{className:"h-10 bg-primary/20 rounded"})]})]})]});default:return null}};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-4 p-3 bg-muted/50 rounded-lg border flex items-center gap-2 text-sm",children:[s.jsx(gu,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:" 7 FAQ   SEO "})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-1 bg-muted rounded-lg",children:[s.jsxs(B,{variant:t==="desktop"?"default":"ghost",size:"sm",onClick:()=>n("desktop"),children:[s.jsx(Dl,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(B,{variant:t==="mobile"?"default":"ghost",size:"sm",onClick:()=>n("mobile"),children:[s.jsx(ii,{className:"w-4 h-4 mr-1"}),""]})]}),s.jsx("div",{className:"flex items-center gap-1 overflow-x-auto pb-1",children:bkt.map(l=>s.jsxs("button",{onClick:()=>i(l.id),className:`px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-colors ${r===l.id?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80 text-muted-foreground"}`,children:[l.icon," ",l.label]},l.id))})]}),s.jsxs(E.div,{layout:!0,className:`mx-auto bg-background border-4 border-muted rounded-2xl overflow-hidden shadow-2xl ${t==="mobile"?"max-w-[375px]":"w-full"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-muted border-b",children:[s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-destructive"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-accent"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"})]}),s.jsx("div",{className:"flex-1 mx-4",children:s.jsxs("div",{className:"px-3 py-1 bg-background rounded text-xs text-muted-foreground truncate",children:["https://",((o=e.company.nameEn)==null?void 0:o.toLowerCase().replace(/\s/g,""))||"yoursite",".com.tw/",r==="home"?"":r]})}),s.jsx(Br,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsx("div",{className:"bg-white overflow-y-auto",style:{height:t==="mobile"?"600px":"500px"},children:a()})]}),s.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 rounded-xl border border-primary/20",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"font-medium text-foreground",children:" SEOBAIKE  Lighthouse SEO 90+ "})]}),s.jsx("p",{className:"text-center text-xs text-muted-foreground mt-1",children:"115100981"})]})]})},jkt=({orderId:e,config:t})=>{var d;const{toast:n}=Mb(),[r,i]=x.useState(!1),[a,o]=x.useState(!1),l=((d=E$[t.industry])==null?void 0:d.name)||t.industry,c=async()=>{i(!0);try{const{error:u}=await ee.from("website_orders").update({status:"draft"}).eq("id",e);if(u)throw u;o(!0),n({title:"",description:" LINE "})}catch(u){console.error(":",u),n({title:"",description:"",variant:"destructive"})}finally{i(!1)}};return a?s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"w-20 h-20 mx-auto mb-6 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(We,{className:"w-10 h-10 text-primary"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["",s.jsx("span",{className:"font-mono",children:e.slice(0,8)})]}),s.jsxs(Y,{className:"text-left",children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg",children:""})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:" LINE "}),s.jsx(B,{className:"w-full gap-2",asChild:!0,children:s.jsxs("a",{href:"https://line.me/R/ti/p/@729zaaaq",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(ha,{className:"w-4 h-4"}),"LINE "]})}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"LINE ID: @729zaaaq"})]})]})]}):s.jsxs("div",{className:"max-w-lg mx-auto",children:[s.jsxs(Y,{className:"mb-6",children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg",children:""})}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"font-medium",children:t.company.nameCn})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"font-medium",children:l})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{className:"font-medium",children:[t.services.length," "]})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"font-medium",children:"7 "})]})]})]}),s.jsx(Y,{className:"mb-6 border-primary",children:s.jsx(Z,{className:"py-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:""}),s.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"NT$"}),s.jsx("span",{className:"text-4xl font-bold text-primary",children:"8,888"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" 7  + SEO  + 1 "})]})})}),s.jsxs(Y,{className:"mb-6",children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg",children:""})}),s.jsx(Z,{children:s.jsx("ul",{className:"space-y-2",children:["7 ",""," SSL ","1 ",""].map((u,h)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(We,{className:"w-4 h-4 text-primary flex-shrink-0"}),s.jsx("span",{children:u})]},h))})})]}),s.jsxs(Y,{className:"mb-6 bg-gradient-to-br from-primary/5 to-primary/10 border-primary/30",children:[s.jsx(ue,{children:s.jsx(me,{className:"text-lg flex items-center gap-2",children:" SEO 90+ "})}),s.jsx(Z,{children:s.jsx("ul",{className:"space-y-2",children:["SEO 90+ ","Google ","Schema","Sitemap "," GEO ","Meta "].map((u,h)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(We,{className:"w-4 h-4 text-primary flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:u})]},h))})})]}),s.jsx(B,{onClick:c,disabled:r,className:"w-full h-12 text-lg gap-2",children:r?s.jsx(Ge,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Cs,{className:"w-5 h-5"}),""]})}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-4",children:""})]})},by=[{id:"industry",title:"",description:""},{id:"info",title:"",description:""},{id:"style",title:"",description:""},{id:"preview",title:"",description:""},{id:"payment",title:"",description:""}],Skt=()=>{const{toast:e}=Mb(),[t,n]=x.useState(0),[r,i]=x.useState(!1),[a,o]=x.useState(null),[l,c]=x.useState({company:{nameCn:"",nameEn:"",slogan:"",phone:"",lineId:"",email:"",address:"",domain:""},advantages:["","","",""],services:[],faq:[],keywords:{primary:[],secondary:[]},seo:{title:"",description:"",ogImage:""},cta:{text:"",link:"",showOnAllPages:!0},style:{theme:"professional-blue",primaryColor:"#1E40AF",accentColor:"#3B82F6"}}),d=by[t],u=(t+1)/by.length*100,h=x.useCallback(j=>{const N=E$[j];c(k=>({...k,industry:j,services:N.services.slice(0,4),faq:N.faq,keywords:N.keywords,advantages:["","","",""],company:{...k.company,slogan:N.defaultSlogan}}))},[]),m=x.useCallback(j=>{c(N=>({...N,company:{...N.company,...j}}))},[]),f=x.useCallback(j=>{c(N=>({...N,services:j}))},[]),p=x.useCallback(j=>{c(N=>({...N,advantages:j}))},[]),g=x.useCallback(j=>{const N=_fe.find(k=>k.id===j);N&&c(k=>({...k,style:{theme:j,primaryColor:N.primaryColor,accentColor:N.accentColor}}))},[]),y=()=>{var j,N,k,_;switch(d.id){case"industry":return l.industry?!0:(e({title:"",variant:"destructive"}),!1);case"info":return(j=l.company)!=null&&j.nameCn?(N=l.company)!=null&&N.phone?(k=l.company)!=null&&k.email?((_=l.services)==null?void 0:_.length)===0?(e({title:"",variant:"destructive"}),!1):!0:(e({title:" Email",variant:"destructive"}),!1):(e({title:"",variant:"destructive"}),!1):(e({title:"",variant:"destructive"}),!1);default:return!0}},v=async()=>{try{const{data:j,error:N}=await ee.from("website_orders").insert([{config:JSON.parse(JSON.stringify(l)),industry:l.industry,status:"draft"}]).select("id").single();if(N)throw N;return o(j.id),j.id}catch(j){return console.error(":",j),e({title:"",variant:"destructive"}),null}},b=async()=>{if(y()){if(d.id==="style"&&!a){i(!0);const j=await v();if(i(!1),!j)return}t<by.length-1&&n(j=>j+1)}},w=()=>{t>0&&n(j=>j-1)},S=()=>{var j;switch(d.id){case"industry":return s.jsx(xkt,{selectedIndustry:l.industry,onSelect:h});case"info":return s.jsx(ykt,{company:l.company,services:l.services||[],advantages:l.advantages||[],onUpdateCompany:m,onUpdateServices:f,onUpdateAdvantages:p});case"style":return s.jsx(vkt,{selectedTheme:((j=l.style)==null?void 0:j.theme)||"professional-blue",onSelect:g});case"preview":return s.jsx(wkt,{config:l});case"payment":return s.jsx(jkt,{orderId:a,config:l});default:return null}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/30",children:[s.jsx("header",{className:"sticky top-0 z-50 border-b bg-background/80 backdrop-blur-sm",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-bold text-foreground",children:""}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",t+1," / ",by.length]})]}),s.jsx(Uu,{value:u,className:"mt-3 h-2"})]})}),s.jsx("div",{className:"container mx-auto px-4 py-6",children:s.jsx("div",{className:"flex items-center justify-center gap-2 overflow-x-auto pb-2",children:by.map((j,N)=>s.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${N===t?"bg-primary text-primary-foreground":N<t?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${N<t?"bg-primary text-primary-foreground":"bg-background/50"}`,children:N<t?s.jsx(We,{className:"w-4 h-4"}):N+1}),s.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:j.title})]},j.id))})}),s.jsx("main",{className:"container mx-auto px-4 pb-32",children:s.jsx(He,{mode:"wait",children:s.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:d.title}),s.jsx("p",{className:"text-muted-foreground",children:d.description})]}),S()]},d.id)})}),s.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-sm border-t p-4",children:s.jsxs("div",{className:"container mx-auto flex items-center justify-between gap-4",children:[s.jsxs(B,{variant:"outline",onClick:w,disabled:t===0,className:"gap-2",children:[s.jsx(ks,{className:"w-4 h-4"}),""]}),d.id!=="payment"&&s.jsx(B,{onClick:b,disabled:r,className:"gap-2",children:r?s.jsx(Ge,{className:"w-4 h-4 animate-spin"}):s.jsxs(s.Fragment,{children:["",s.jsx(mt,{className:"w-4 h-4"})]})})]})})]})},cA=[{id:"youtube",name:"YouTube",icon:mZ,color:"bg-red-500",description:"",template:"video"},{id:"tiktok",name:"TikTok",icon:()=>s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})}),color:"bg-black",description:"",template:"short"},{id:"medium",name:"Medium",icon:Ur,color:"bg-green-600",description:"",template:"article"},{id:"wordpress",name:"WordPress",icon:Tt,color:"bg-blue-600",description:"",template:"article"},{id:"quora",name:"Quora",icon:()=>s.jsx("span",{className:"font-bold text-lg",children:"Q"}),color:"bg-red-600",description:"",template:"qa"},{id:"reddit",name:"Reddit",icon:()=>s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"})}),color:"bg-orange-500",description:"",template:"discussion"}],Nkt=(e,t)=>{const{websiteUrl:n,websiteName:r,keywords:i,description:a}=t,o=i.split(",").map(c=>c.trim()).filter(Boolean),l={youtube:{title:`${o[0]||""} | ${r} `,content:` ${a}

 
${o.slice(0,5).map((c,d)=>`${d+1}. ${c}`).join(`
`)}

 ${n}



 ${r}
${o[0]||""}

 ${n}
 




  |   |  

#${o.join(" #")}`,hashtags:o.map(c=>`#${c}`).join(" ")},tiktok:{title:`${o[0]||""} `,content:`${a.slice(0,100)}...

 
 ${n}

${o.slice(0,5).map(c=>`#${c}`).join(" ")} #fyp #foryou`,hashtags:`#${o.slice(0,5).join(" #")} #fyp #viral`},medium:{title:`${o[0]||""}`,content:`# ${o[0]||""}

${a}

## ${o[0]}

${o[0]||""}

## 

${o.slice(0,5).map((c,d)=>`### ${d+1}. ${c}

${c}...`).join(`

`)}

## 

1. 
2. 
3. 

## 

${o[0]||""} [${r}](${n})

---

* ${r} ${n}*`,hashtags:o.join(", ")},wordpress:{title:`${new Date().getFullYear()}${o[0]||""}`,content:`<h2>${o[0]||""}</h2>

<p>${a}</p>

<h2></h2>

<p>${o[0]||""}</p>

<ul>
${o.slice(0,5).map(c=>`<li><strong>${c}</strong></li>`).join(`
`)}
</ul>

<h2></h2>

<p></p>

<ol>
<li></li>
<li></li>
<li></li>
</ol>

<h2></h2>

<p> <a href="${n}" target="_blank" rel="dofollow">${r}</a></p>

<p><em> <a href="${n}">${r}</a> </em></p>`,hashtags:o.join(", ")},quora:{title:`${o[0]||""}`,content:`${o[0]||""}

**1. **

${o[0]||""}...${a.slice(0,100)}

**2. **

${o.slice(0,3).map((c,d)=>`- ${c}`).join(`
`)}

**3. **


1. 
2. 
3. 

${n}

`,hashtags:o.slice(0,3).join(", ")},reddit:{title:`[] ${o[0]||""}`,content:`

${o[0]||""}

****

${a}

****

${o.slice(0,5).map((c,d)=>`${d+1}. **${c}** - `).join(`
`)}

****

${n}



---

`,hashtags:""}};return l[e]||l.medium};function kkt(){const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,a]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState({}),[u,h]=x.useState(null),[m,f]=x.useState("youtube"),p=()=>{if(!e||!n||!i){q.error("");return}const v={};cA.forEach(b=>{v[b.id]=Nkt(b.id,{websiteUrl:e,websiteName:n,keywords:i,description:o||`${n} ${i.split(",")[0]}`})}),d(v),q.success("  6 ")},g=async(v,b)=>{try{await navigator.clipboard.writeText(v),h(b),q.success(""),setTimeout(()=>h(null),2e3)}catch{q.error("")}},y=({text:v,field:b})=>s.jsx(B,{size:"sm",variant:"outline",onClick:()=>g(v,b),className:"gap-2",children:u===b?s.jsxs(s.Fragment,{children:[s.jsx(We,{className:"h-4 w-4 text-green-500"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(An,{className:"h-4 w-4"}),""]})});return s.jsx(Yt,{children:s.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(iZ,{className:"h-8 w-8 text-primary"}),""]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:" SEO "})]}),s.jsxs(ae,{variant:"secondary",className:"text-lg px-4 py-2",children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),""]})]}),s.jsx(Y,{className:"border-primary/20 bg-primary/10",children:s.jsx(Z,{className:"pt-6",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Jp,{className:"h-6 w-6 text-primary flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:" SEO "}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"YouTube"})," nofollow "]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Medium/WordPress"})," dofollow  SEO "]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Quora/Reddit"}),""]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:""})," 2-3  3 "]})]})]})]})})}),s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"h-5 w-5"}),""]}),s.jsx(dt,{children:" 6 "})]}),s.jsxs(Z,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:" *"}),s.jsx(xe,{placeholder:"https://your-website.com",value:e,onChange:v=>t(v.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:" *"}),s.jsx(xe,{placeholder:"",value:n,onChange:v=>r(v.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:" *"}),s.jsx(xe,{placeholder:"SEO , ,  ()",value:i,onChange:v=>a(v.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:""}),s.jsx(Yn,{placeholder:"...",value:o,onChange:v=>l(v.target.value),rows:3})]}),s.jsxs(B,{onClick:p,className:"w-full gap-2",size:"lg",children:[s.jsx(rn,{className:"h-5 w-5"}),""]})]})]}),Object.keys(c).length>0&&s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs(Y,{children:[s.jsxs(ue,{children:[s.jsxs(me,{className:"flex items-center gap-2",children:[s.jsx(FP,{className:"h-5 w-5"}),""]}),s.jsx(dt,{children:""})]}),s.jsx(Z,{children:s.jsxs(va,{value:m,onValueChange:f,children:[s.jsx($i,{className:"grid grid-cols-3 md:grid-cols-6 mb-6",children:cA.map(v=>{const b=v.icon;return s.jsxs(Dt,{value:v.id,className:"gap-2",children:[s.jsx(b,{}),s.jsx("span",{className:"hidden md:inline",children:v.name})]},v.id)})}),cA.map(v=>{var b,w,S,j,N,k,_;return s.jsxs(Ut,{value:v.id,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`${v.color} p-2 rounded-lg text-white`,children:s.jsx(v.icon,{})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:v.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]})]}),s.jsxs(B,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>{const C={youtube:"https://studio.youtube.com",tiktok:"https://www.tiktok.com/upload",medium:"https://medium.com/new-story",wordpress:"https://wordpress.com/post",quora:"https://www.quora.com",reddit:"https://www.reddit.com/submit"};window.open(C[v.id],"_blank")},children:[s.jsx(Br,{className:"h-4 w-4"}),""]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium",children:""}),s.jsx(y,{text:((b=c[v.id])==null?void 0:b.title)||"",field:`${v.id}-title`})]}),s.jsx("div",{className:"bg-muted p-3 rounded-lg",children:s.jsx("p",{className:"font-medium",children:(w=c[v.id])==null?void 0:w.title})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium",children:""}),s.jsx(y,{text:((S=c[v.id])==null?void 0:S.content)||"",field:`${v.id}-content`})]}),s.jsx("div",{className:"bg-muted p-3 rounded-lg max-h-80 overflow-y-auto",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:(j=c[v.id])==null?void 0:j.content})})]}),((N=c[v.id])==null?void 0:N.hashtags)&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium",children:" / Hashtags"}),s.jsx(y,{text:((k=c[v.id])==null?void 0:k.hashtags)||"",field:`${v.id}-hashtags`})]}),s.jsx("div",{className:"bg-muted p-3 rounded-lg",children:s.jsx("p",{className:"text-sm text-primary",children:(_=c[v.id])==null?void 0:_.hashtags})})]}),s.jsxs("div",{className:"bg-accent/30 border border-accent/50 rounded-lg p-4 mt-4",children:[s.jsxs("h4",{className:"font-medium text-foreground mb-2",children:[" ",v.name," "]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[v.id==="youtube"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"  2 "}),s.jsx("li",{children:"  https://"}),s.jsx("li",{children:" "})]}),v.id==="tiktok"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:" "}),s.jsx("li",{children:"  hashtag "}),s.jsx("li",{children:" 15-30 "})]}),v.id==="medium"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"  800 "}),s.jsx("li",{children:"  H2/H3 "}),s.jsx("li",{children:" Medium  dofollowSEO "})]}),v.id==="wordpress"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"  WordPress "}),s.jsx("li",{children:"  dofollow"}),s.jsx("li",{children:" "})]}),v.id==="quora"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:" "})]}),v.id==="reddit"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:" "}),s.jsx("li",{children:"  Subreddit"}),s.jsx("li",{children:" "})]})]})]})]},v.id)})]})})]})}),s.jsx(Y,{className:"border-dashed",children:s.jsx(Z,{className:"pt-6 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[" "," ",s.jsx("a",{href:"/merchant/seo",className:"text-primary hover:underline",children:"SEO "})," ",""]})})})]})})}function _kt(){const[e]=Im(),t=e.get("session"),{sessionId:n,isConnected:r,generateSessionId:i,sendCommand:a,moveMouse:o,clickMouse:l,typeText:c,pressHotkey:d,sendVoiceCommand:u,editElement:h,subscribeToCommands:m}=z_(),[f,p]=x.useState(""),[g,y]=x.useState(!1),[v,b]=x.useState("touch"),[w,S]=x.useState("");x.useEffect(()=>{t&&S(t)},[t]);const j=async P=>{await a("scroll",{direction:P,amount:50}),q.success(` ${P}`)},N=async()=>{await l(),q.success("")},k=async()=>{f.trim()&&(await c(f),p(""),q.success(""))},_=async P=>{await d(P),q.success(`: ${P.join("+")}`)},C=()=>{if(!("webkitSpeechRecognition"in window||"SpeechRecognition"in window)){q.error("");return}if(g){y(!1);return}const P=window.webkitSpeechRecognition||window.SpeechRecognition,R=new P;R.lang="zh-TW",R.continuous=!1,R.interimResults=!1,R.onstart=()=>{y(!0)},R.onresult=async D=>{const $=D.results[0][0].transcript;q.info(`: ${$}`),await u($)},R.onerror=D=>{console.error(":",D.error),q.error(""),y(!1)},R.onend=()=>{y(!1)},R.start()},T=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),A=!t&&!T;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-md",children:[s.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(cn,{className:"w-6 h-6 text-primary"}),s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-purple-500 bg-clip-text text-transparent",children:" AI "})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A?" QR Code ":""})]}),s.jsx(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6",children:s.jsx(Y,{className:`p-4 border-2 ${r?"border-green-500/50 bg-green-500/5":"border-yellow-500/50 bg-yellow-500/5"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[r?s.jsx(nx,{className:"w-5 h-5 text-green-500"}):s.jsx(f_,{className:"w-5 h-5 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:r?"":""}),n&&s.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[n.slice(0,20),"..."]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ii,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-xs",children:""}),s.jsx(Dl,{className:"w-4 h-4 text-muted-foreground"})]})]})})}),A&&s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:s.jsxs(Y,{className:"p-6 text-center",children:[s.jsx("h3",{className:"font-semibold mb-4",children:""}),s.jsx("div",{className:"bg-white p-4 rounded-lg inline-block mb-4",children:s.jsx("div",{className:"w-48 h-48 bg-gradient-to-br from-gray-200 to-gray-300 rounded flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ii,{className:"w-12 h-12 mx-auto mb-2 text-gray-500"}),s.jsx("p",{className:"text-xs text-gray-600",children:" qrcode.react"})]})})}),s.jsx(B,{onClick:i,variant:"outline",size:"sm",children:""})]})}),!A&&s.jsxs(s.Fragment,{children:[s.jsxs(va,{value:v,onValueChange:P=>b(P),className:"mb-6",children:[s.jsxs($i,{className:"grid w-full grid-cols-3",children:[s.jsxs(Dt,{value:"touch",className:"gap-2",children:[s.jsx(UP,{className:"w-4 h-4"}),""]}),s.jsxs(Dt,{value:"keyboard",className:"gap-2",children:[s.jsx(q_e,{className:"w-4 h-4"}),""]}),s.jsxs(Dt,{value:"voice",className:"gap-2",children:[s.jsx(ma,{className:"w-4 h-4"}),""]})]}),s.jsx(Ut,{value:"touch",className:"mt-4",children:s.jsxs(Y,{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 max-w-[200px] mx-auto mb-6",children:[s.jsx("div",{}),s.jsx(B,{variant:"outline",size:"lg",className:"h-14",onClick:()=>j("up"),children:s.jsx(l_,{className:"w-6 h-6"})}),s.jsx("div",{}),s.jsx(B,{variant:"outline",size:"lg",className:"h-14",onClick:()=>j("left"),children:s.jsx(pM,{className:"w-6 h-6"})}),s.jsx(B,{variant:"default",size:"lg",className:"h-14",onClick:N,children:s.jsx(U_e,{className:"w-6 h-6"})}),s.jsx(B,{variant:"outline",size:"lg",className:"h-14",onClick:()=>j("right"),children:s.jsx(Ml,{className:"w-6 h-6"})}),s.jsx("div",{}),s.jsx(B,{variant:"outline",size:"lg",className:"h-14",onClick:()=>j("down"),children:s.jsx(qr,{className:"w-6 h-6"})}),s.jsx("div",{})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx(B,{variant:"secondary",size:"sm",onClick:()=>_(["ctrl","z"]),children:""}),s.jsx(B,{variant:"secondary",size:"sm",onClick:()=>_(["ctrl","y"]),children:""}),s.jsx(B,{variant:"secondary",size:"sm",onClick:()=>_(["ctrl","s"]),children:""})]})]})}),s.jsx(Ut,{value:"keyboard",className:"mt-4",children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xe,{value:f,onChange:P=>p(P.target.value),placeholder:"...",className:"flex-1",onKeyDown:P=>P.key==="Enter"&&k()}),s.jsxs(B,{onClick:k,children:[s.jsx(zP,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>d(["Enter"]),children:"Enter"}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>d(["Tab"]),children:"Tab"}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>d(["Backspace"]),children:""}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>d(["Escape"]),children:"Esc"})]})]})})}),s.jsx(Ut,{value:"voice",className:"mt-4",children:s.jsxs(Y,{className:"p-6 text-center",children:[s.jsx(He,{mode:"wait",children:s.jsx(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:s.jsx(B,{size:"lg",variant:g?"destructive":"default",className:`w-24 h-24 rounded-full ${g?"animate-pulse":""}`,onClick:C,children:g?s.jsx(Ub,{className:"w-10 h-10"}):s.jsx(ma,{className:"w-10 h-10"})})},g?"listening":"idle")}),s.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:g?"...":""}),s.jsxs("div",{className:"mt-6 text-left",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:""}),s.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"  XXX"}),s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:" "})]})]})]})})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-lg border-t p-4",children:s.jsxs("div",{className:"container max-w-md mx-auto flex justify-around",children:[s.jsxs(B,{variant:"ghost",size:"sm",className:"flex-col gap-1",children:[s.jsx(tx,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:""})]}),s.jsxs(B,{variant:"ghost",size:"sm",className:"flex-col gap-1",children:[s.jsx(UP,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:""})]}),s.jsxs(B,{variant:"ghost",size:"sm",className:"flex-col gap-1",children:[s.jsx(fa,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:""})]})]})})]})]})})}const Cfe=["icanforyouthebest@gmail.com"],Ckt=["yasih89@gmail.com"],Ekt=["user2@seobaike.com","admin@seobaike.com","test@aiforseo.vip"],Tkt=[...Cfe,...Ckt,...Ekt];function _K(){var F;const{user:e,loading:t}=Jt(),[n,r]=x.useState("chat"),[i,a]=x.useState(""),[o,l]=x.useState(!1),[c,d]=x.useState(!1),u=x.useRef(null),h=x.useRef(null),{isConnected:m}=mD(),{isBossMode:f,isTesterMode:p,getCurrentModelConfig:g}=tw(),y=Cfe.includes((e==null?void 0:e.email)||""),{messages:v,isLoading:b,sendMessage:w,tasks:S,executeQuickCommand:j}=qse(),{speak:N}=iD(),{isListening:k,isConnecting:_,startListening:C,stopListening:T,partialText:A,clearTranscript:P}=$_({onTranscript:O=>{a(L=>L+" "+O)}});x.useEffect(()=>{h.current&&(h.current.scrollTop=h.current.scrollHeight)},[v]),x.useEffect(()=>{A&&a(A)},[A]);const R=async()=>{document.fullscreenElement?(await document.exitFullscreen(),d(!1)):(await document.documentElement.requestFullscreen(),d(!0))};x.useEffect(()=>{const O=()=>{d(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",O),()=>document.removeEventListener("fullscreenchange",O)},[]);const D=async()=>{if(!i.trim()||b)return;const O=i.trim();a(""),P();const L=await w(O);L&&o&&N(L)},$=async O=>{if(O===""){const L=i.trim();if(!L)return;await j(O,L),a("")}else await j(O)},M=()=>{k?T():C()};return t?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"..."})]})}):!e||!Tkt.includes(e.email||"")?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(Ye,{className:"w-16 h-16 text-primary mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:" AI "}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["",!e&&" "]}),e?s.jsxs("p",{className:"text-sm text-destructive",children:[" (",e.email,") "]}):s.jsx(B,{onClick:()=>window.location.href="/login?redirect=/assistant",children:""})]})}):s.jsxs("div",{className:"min-h-screen min-h-[100dvh] bg-background flex flex-col overflow-hidden",style:{height:"100dvh",maxHeight:"100dvh"},children:[s.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-primary/10 to-primary/5 border-b flex-shrink-0",style:{paddingTop:"max(0.75rem, env(safe-area-inset-top, 0.75rem))"},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"w-6 h-6 text-primary"}),s.jsx("span",{className:"font-bold text-lg",children:""}),f&&s.jsxs(ae,{variant:"outline",className:"h-5 text-[10px] gap-1 border-yellow-500/50",children:[s.jsx(Qp,{className:"w-3 h-3 text-yellow-500"}),""]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jz,{}),s.jsx(B,{variant:"ghost",size:"icon",className:"h-10 w-10 touch-manipulation active:scale-95",onClick:()=>l(!o),style:{WebkitTapHighlightColor:"transparent"},children:o?s.jsx(Hh,{className:"w-5 h-5"}):s.jsx(CM,{className:"w-5 h-5"})}),s.jsx(B,{variant:"ghost",size:"icon",className:"h-10 w-10 touch-manipulation active:scale-95 hidden sm:flex",onClick:R,style:{WebkitTapHighlightColor:"transparent"},children:c?s.jsx(J_e,{className:"w-5 h-5"}):s.jsx(aZ,{className:"w-5 h-5"})})]})]}),s.jsxs(va,{value:n,onValueChange:O=>r(O),className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs(Ut,{value:"chat",className:"flex-1 flex flex-col m-0 data-[state=inactive]:hidden",children:[s.jsxs("div",{className:"flex gap-2 px-4 py-2 overflow-x-auto border-b bg-muted/30",children:[s.jsx(B,{variant:"outline",size:"sm",className:"whitespace-nowrap h-8",onClick:()=>$(""),children:" "}),s.jsx(B,{variant:"outline",size:"sm",className:"whitespace-nowrap h-8",onClick:()=>$(""),children:" "}),s.jsx(B,{variant:"outline",size:"sm",className:"whitespace-nowrap h-8",onClick:()=>$(""),disabled:!i.trim(),children:" "})]}),s.jsx(xl,{className:"flex-1 px-4",ref:h,children:s.jsxs("div",{className:"py-4 space-y-4",children:[v.length===0&&s.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[s.jsx(Ye,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg",children:""}),s.jsx("p",{className:"text-sm",children:""})]}),v.map(O=>s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:G("flex",O.role==="user"?"justify-end":"justify-start"),children:s.jsx("div",{className:G("max-w-[85%] rounded-2xl px-4 py-3",O.role==="user"?"bg-primary text-primary-foreground":"bg-muted"),children:O.role==="assistant"?s.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:s.jsx(FD,{children:O.content})}):s.jsx("p",{children:O.content})})},O.id)),b&&s.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:s.jsx("div",{className:"bg-muted rounded-2xl px-4 py-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-primary/50 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-primary/50 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-primary/50 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})})]})}),s.jsxs("div",{className:"p-4 border-t bg-background flex-shrink-0",style:{paddingBottom:"max(1rem, env(safe-area-inset-bottom, 1rem))"},children:[A&&s.jsxs("div",{className:"text-xs text-muted-foreground mb-2 italic",children:[" ",A]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(B,{variant:k?"destructive":"outline",size:"icon",onClick:M,disabled:_,className:"shrink-0 h-12 w-12 rounded-full touch-manipulation active:scale-95",style:{WebkitTapHighlightColor:"transparent"},children:k?s.jsx(Ub,{className:"w-5 h-5"}):s.jsx(ma,{className:"w-5 h-5"})}),s.jsx(xe,{ref:u,value:i,onChange:O=>a(O.target.value),onKeyDown:O=>O.key==="Enter"&&!O.shiftKey&&D(),placeholder:"...",className:"flex-1 h-12 rounded-full px-5",style:{fontSize:"16px"},disabled:b}),s.jsx(B,{onClick:D,disabled:!i.trim()||b,className:"shrink-0 h-12 w-12 rounded-full touch-manipulation active:scale-95",style:{WebkitTapHighlightColor:"transparent"},children:s.jsx(Bs,{className:"w-5 h-5"})})]})]})]}),s.jsx(Ut,{value:"web-remote",className:"flex-1 m-0 p-4 data-[state=inactive]:hidden overflow-auto",children:s.jsx(Wse,{})}),s.jsx(Ut,{value:"settings",className:"flex-1 m-0 p-4 data-[state=inactive]:hidden overflow-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:" AI "})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.email}),f&&s.jsxs(ae,{variant:"outline",className:"mt-2 gap-1 border-yellow-500/50",children:[s.jsx(Qp,{className:"w-3 h-3 text-yellow-500"})," -  AI "]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:" AI "}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jz,{}),s.jsx("span",{className:"text-sm text-muted-foreground",children:(F=g())==null?void 0:F.description})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:""}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.filter(O=>O.status!=="completed").length," "]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:""}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["iOS:   ",s.jsx("br",{}),"Android:   "]})]})]})})]}),s.jsxs($i,{className:`rounded-none border-t bg-background grid ${y?"grid-cols-3":"grid-cols-2"} flex-shrink-0`,style:{height:"auto",minHeight:"4rem",paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:[s.jsxs(Dt,{value:"chat",className:"flex flex-col gap-1 py-3 data-[state=active]:bg-primary/10 touch-manipulation",children:[s.jsx(Vr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:""})]}),y&&s.jsxs(Dt,{value:"web-remote",className:"flex flex-col gap-1 py-3 data-[state=active]:bg-primary/10 relative touch-manipulation",children:[s.jsx(Tt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:""}),m&&s.jsx("span",{className:"absolute top-2 right-1/4 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),s.jsxs(Dt,{value:"settings",className:"flex flex-col gap-1 py-3 data-[state=active]:bg-primary/10 touch-manipulation",children:[s.jsx(fa,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:""})]})]})]})]})}const CK=[{id:"mobile",icon:ii,title:" ",description:"",route:"/assistant",gradient:"from-blue-500 to-cyan-500"},{id:"web",icon:Dl,title:" ",description:"",route:"/dashboard",gradient:"from-purple-500 to-pink-500"},{id:"sync",icon:rn,title:" ",description:"",route:"/sync-setup",gradient:"from-orange-500 to-red-500"}],Akt=()=>{var v;const[e,t]=x.useState("intro"),[n,r]=x.useState(""),[i,a]=x.useState(!1),[o,l]=x.useState(null),[c,d]=x.useState(null),[u,h]=x.useState(!0),m=xn(),f=fs();x.useEffect(()=>{ee.auth.getSession().then(({data:{session:b}})=>{if(!b){m("/login");return}d(b.user.id);const w=/Mobile|Android|iPhone/i.test(navigator.userAgent);r(w?"":"")})},[m]);const p=async b=>{if(c){l(b),a(!0);try{const{error:w}=await ee.from("user_preferences").upsert({user_id:c,preferred_version:b,onboarding_completed:!0,remember_choice:u,last_login_device:/Mobile|Android|iPhone/i.test(navigator.userAgent)?"mobile":"desktop"},{onConflict:"user_id"});if(w)throw w;q.success("");const S=CK.find(j=>j.id===b);S&&m(S.route)}catch(w){console.error("Save preference error:",w),q.error("")}finally{a(!1)}}},g=async()=>{if(!c||!n.trim()){q.error("");return}a(!0);try{const{error:b}=await ee.from("user_preferences").upsert({user_id:c,preferred_version:"sync",onboarding_completed:!0,remember_choice:!0,last_login_device:n},{onConflict:"user_id"});if(b)throw b;t("complete"),q.success(""),setTimeout(()=>{m("/dashboard")},2e3)}catch(b){console.error("Sync setup error:",b),q.error("")}finally{a(!1)}};return((v=f.state)==null?void 0:v.showVersionSelector)!==!1&&e==="intro"?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/50 to-slate-900 flex items-center justify-center p-4",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-3",children:""}),s.jsx("p",{className:"text-muted-foreground",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:CK.map(b=>{const w=b.icon,S=o===b.id;return s.jsxs("button",{onClick:()=>b.id==="sync"?t("setup"):p(b.id),disabled:i,className:G("relative p-6 rounded-2xl text-left transition-all duration-300","bg-white/5 backdrop-blur-sm border border-white/10","hover:bg-white/10 hover:border-white/20 hover:scale-[1.02]","focus:outline-none focus:ring-2 focus:ring-primary/50","touch-manipulation",S&&"bg-white/15 border-primary/50"),children:[S&&i&&s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(Ge,{className:"w-5 h-5 text-primary animate-spin"})}),s.jsx("div",{className:G("w-14 h-14 rounded-xl flex items-center justify-center mb-4","bg-gradient-to-br",b.gradient),children:s.jsx(w,{className:"w-7 h-7 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:b.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]},b.id)})}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>h(!u),className:G("w-5 h-5 rounded border-2 flex items-center justify-center transition-all",u?"bg-primary border-primary":"bg-transparent border-white/30"),children:u&&s.jsx(We,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"text-sm text-muted-foreground",children:""})]})]})}):e==="setup"?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/50 to-slate-900 flex items-center justify-center p-4",children:s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8",children:[s.jsxs(B,{variant:"ghost",size:"sm",className:"mb-4 -ml-2 text-muted-foreground hover:text-foreground",onClick:()=>t("intro"),children:[s.jsx(ks,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center mx-auto mb-4",children:s.jsx(rn,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground text-sm",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"device-name",className:"text-white",children:""}),s.jsx(xe,{id:"device-name",value:n,onChange:b=>r(b.target.value),placeholder:" iPhone",className:"h-12 bg-white/10 border-white/20 text-white",style:{fontSize:"16px"}})]}),s.jsx(B,{className:"w-full h-12 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",onClick:g,disabled:i||!n.trim(),children:i?s.jsx(Ge,{className:"w-5 h-5 animate-spin"}):""})]})]})}):e==="complete"?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900/50 to-slate-900 flex items-center justify-center p-4",children:s.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-6",children:s.jsx(We,{className:"w-10 h-10 text-green-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"..."}),s.jsx(Ge,{className:"w-6 h-6 text-primary animate-spin mx-auto"})]})}):null};function Pkt(){const{user:e,loading:t}=Jt(),[n,r]=x.useState("user"),[i,a]=x.useState(!0),o=async()=>{if(!(e!=null&&e.id)){r("user"),a(!1);return}try{const{data:c,error:d}=await ee.rpc("get_user_role",{_user_id:e.id});d?(console.error("[useUserRole] Error fetching role:",d),r("user")):r(c||"user")}catch(c){console.error("[useUserRole] Exception:",c),r("user")}finally{a(!1)}};return x.useEffect(()=>{t||o()},[e==null?void 0:e.id,t]),{role:n,isBoss:n==="boss",isAdmin:n==="admin",isAdminOrBoss:n==="boss"||n==="admin",loading:t||i,refreshRole:async()=>{a(!0),await o()}}}function Ikt(){const{user:e,loading:t}=Jt(),{isBoss:n,loading:r}=Pkt(),i=xn(),[a,o]=x.useState([]),[l,c]=x.useState([]),[d,u]=x.useState(!1),[h,m]=x.useState({totalUsers:0,activeWebsites:0,todayRevenue:0}),f=t||r;x.useEffect(()=>{!f&&!n&&(q.error(""),i("/dashboard"))},[f,n,i]);const p=async()=>{try{const{data:S,error:j}=await ee.from("boss_api_usage_logs").select("provider, input_tokens, output_tokens, total_tokens, estimated_cost_usd").gte("created_at",new Date(Date.now()-864e5).toISOString());if(j)throw j;const N={};S==null||S.forEach(k=>{N[k.provider]||(N[k.provider]={provider:k.provider,total_tokens:0,total_cost:0,request_count:0}),N[k.provider].total_tokens+=k.total_tokens||0,N[k.provider].total_cost+=k.estimated_cost_usd||0,N[k.provider].request_count+=1}),o(Object.values(N))}catch(S){console.error("[BossDashboard] Failed to fetch API usage:",S)}},g=async()=>{try{const{data:S,error:j}=await ee.from("boss_api_usage_logs").select("*").order("created_at",{ascending:!1}).limit(20);if(j)throw j;c(S||[])}catch(S){console.error("[BossDashboard] Failed to fetch logs:",S)}},y=async()=>{try{const{count:S}=await ee.from("profiles").select("*",{count:"exact",head:!0}),{count:j}=await ee.from("customer_subscriptions").select("*",{count:"exact",head:!0}).eq("is_active",!0);m({totalUsers:S||0,activeWebsites:j||0,todayRevenue:0})}catch(S){console.error("[BossDashboard] Failed to fetch stats:",S)}};x.useEffect(()=>{n&&(p(),g(),y())},[n]);const v=async()=>{u(!0),await Promise.all([p(),g(),y()]),q.success(""),u(!1)};if(f)return s.jsx(Yt,{children:s.jsxs("div",{className:"flex items-center justify-center h-[60vh]",children:[s.jsx(rn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2",children:"..."})]})});if(!n)return null;const b=a.reduce((S,j)=>S+j.total_cost,0),w=a.reduce((S,j)=>S+j.total_tokens,0);return a.reduce((S,j)=>S+j.request_count,0),s.jsx(Yt,{children:s.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[s.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center shadow-lg",children:s.jsx(Qp,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:""}),s.jsx("p",{className:"text-sm text-muted-foreground hidden sm:block",children:"  API   "})]}),s.jsx(ae,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 border-0",children:"BOSS L1"})]}),s.jsxs(B,{onClick:v,disabled:d,size:"sm",className:"w-full sm:w-auto",children:[s.jsx(rn,{className:`h-4 w-4 mr-2 ${d?"animate-spin":""}`}),""]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsx(Y,{className:"border-primary/20",children:s.jsxs(Z,{className:"pt-4 pb-3 px-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(nZ,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),s.jsxs("p",{className:"text-xl md:text-2xl font-bold text-primary",children:["$",b.toFixed(2)]})]})})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:s.jsx(Y,{children:s.jsxs(Z,{className:"pt-4 pb-3 px-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(cn,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Token "})]}),s.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:[(w/1e3).toFixed(1),"K"]})]})})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsx(Y,{children:s.jsxs(Z,{className:"pt-4 pb-3 px-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ai,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl md:text-2xl font-bold",children:h.totalUsers})]})})}),s.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:s.jsx(Y,{children:s.jsxs(Z,{className:"pt-4 pb-3 px-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Tt,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),s.jsx("p",{className:"text-xl md:text-2xl font-bold",children:h.activeWebsites})]})})})]}),s.jsx("div",{className:"overflow-x-auto -mx-4 px-4 md:mx-0 md:px-0",children:s.jsx("div",{className:"flex md:grid md:grid-cols-3 gap-3 min-w-max md:min-w-0",children:[{icon:Pm,label:"Edge Functions",status:"",color:"text-green-500"},{icon:d_,label:"",status:"",color:"text-green-500"},{icon:sn,label:"",status:"",color:"text-green-500"}].map((S,j)=>s.jsx(Y,{className:"border-green-500/30 min-w-[140px]",children:s.jsxs(Z,{className:"pt-4 pb-3 px-4 flex items-center gap-3",children:[s.jsx(S.icon,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:S.label}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ct,{className:`h-4 w-4 ${S.color}`}),s.jsx("span",{className:`text-sm font-medium ${S.color}`,children:S.status})]})]})]})},S.label))})}),s.jsxs(va,{defaultValue:"usage",className:"space-y-4",children:[s.jsxs($i,{className:"w-full grid grid-cols-3 h-12",children:[s.jsx(Dt,{value:"usage",className:"text-xs md:text-sm",children:"API "}),s.jsx(Dt,{value:"logs",className:"text-xs md:text-sm",children:""}),s.jsx(Dt,{value:"tools",className:"text-xs md:text-sm",children:""})]}),s.jsx(Ut,{value:"usage",children:s.jsxs(Y,{children:[s.jsxs(ue,{className:"pb-3",children:[s.jsx(me,{className:"text-base md:text-lg",children:" API "}),s.jsx(dt,{className:"text-xs md:text-sm",children:" 24 "})]}),s.jsx(Z,{children:s.jsx("div",{className:"space-y-3",children:a.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:""}):a.map((S,j)=>s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(c_,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm md:text-base",children:S.provider}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.request_count," "]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium text-sm",children:[(S.total_tokens/1e3).toFixed(1),"K"]}),s.jsxs("p",{className:"text-xs text-green-500",children:["$",S.total_cost.toFixed(4)]})]})]},j))})})]})}),s.jsx(Ut,{value:"logs",children:s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs(me,{className:"flex items-center gap-2 text-base md:text-lg",children:[s.jsx(Xv,{className:"h-5 w-5"})," API "]})}),s.jsx(Z,{children:s.jsx(xl,{className:"h-[300px] md:h-[400px]",children:s.jsx("div",{className:"space-y-2 font-mono text-xs",children:l.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-8",children:""}):l.map((S,j)=>s.jsxs("div",{className:`p-2 rounded ${S.status==="error"?"bg-destructive/10 text-destructive":"bg-muted/50"}`,children:[s.jsx("span",{className:"text-muted-foreground",children:new Date(S.created_at).toLocaleTimeString()})," ",s.jsxs("span",{className:"text-primary",children:["[",S.provider,"]"]})," ",s.jsxs("span",{className:"text-green-400",children:[S.latency_ms,"ms"]})]},j))})})})]})}),s.jsx(Ut,{value:"tools",children:s.jsxs(Y,{children:[s.jsx(ue,{className:"pb-3",children:s.jsxs(me,{className:"flex items-center gap-2 text-base md:text-lg",children:[s.jsx(Kv,{className:"h-5 w-5"}),""]})}),s.jsx(Z,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(B,{variant:"outline",onClick:()=>i("/admin/api-monitor"),className:"h-14 flex-col gap-1",children:[s.jsx(Kv,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs",children:"API "})]}),s.jsxs(B,{variant:"outline",onClick:()=>i("/admin/feedback"),className:"h-14 flex-col gap-1",children:[s.jsx(ai,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs",children:""})]}),s.jsxs(B,{variant:"outline",onClick:()=>i("/admin/issues"),className:"h-14 flex-col gap-1",children:[s.jsx(Wr,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs",children:""})]}),s.jsxs(B,{variant:"outline",onClick:()=>i("/assistant"),className:"h-14 flex-col gap-1",children:[s.jsx(Xv,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs",children:"AI "})]})]})})]})})]})]})})}const Okt=[{icon:Mi,title:"AI ",desc:"60 "},{icon:sn,title:"SEO ",desc:""},{icon:cn,title:"",desc:""}];function Rkt(){var l,c;const{user:e,loading:t}=Jt(),n=xn(),[r,i]=x.useState(!1);x.useEffect(()=>{if(!t&&!e){n("/login");return}const d=setTimeout(()=>i(!0),300);return()=>clearTimeout(d)},[e,t,n]);const a=()=>{n("/tutorial")},o=()=>{n("/dashboard")};return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-secondary/5",children:s.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-primary/30 border-t-primary rounded-full"})}):s.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-primary/5 via-background to-secondary/5",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx(E.div,{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0}}),s.jsx(E.div,{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-secondary/20 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0}})]}),s.jsx("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center px-4 py-8 safe-area-top safe-area-bottom",children:s.jsx(He,{children:r&&s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"w-full max-w-md space-y-8",children:[s.jsxs(E.div,{className:"text-center space-y-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsx(E.div,{className:"w-20 h-20 mx-auto rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-xl shadow-primary/30",initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.3},children:s.jsx(Ye,{className:"w-10 h-10 text-white"})}),s.jsx(E.h1,{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:" SEOBAIKE"}),s.jsxs(E.p,{className:"text-muted-foreground text-base md:text-lg",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[((l=e==null?void 0:e.user_metadata)==null?void 0:l.full_name)||((c=e==null?void 0:e.email)==null?void 0:c.split("@")[0]),""]})]}),s.jsx(E.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:Okt.map((d,u)=>s.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+u*.1},className:"flex items-center gap-4 p-4 rounded-xl bg-card/80 backdrop-blur-sm border border-border/50 shadow-sm",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-primary/20 to-secondary/20 flex items-center justify-center flex-shrink-0",children:s.jsx(d.icon,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-foreground",children:d.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.desc})]}),s.jsx(Ct,{className:"w-5 h-5 text-green-500 ml-auto flex-shrink-0"})]},d.title))}),s.jsx(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:1},className:"p-4 rounded-xl bg-gradient-to-r from-primary/10 to-secondary/10 border border-primary/20",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Js,{className:"w-6 h-6 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-foreground",children:" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"50 "})]})]})}),s.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},className:"space-y-3",children:[s.jsxs(B,{onClick:a,size:"lg",className:"w-full h-14 text-lg font-semibold bg-primary hover:bg-primary/90 transition-opacity",children:["",s.jsx(mt,{className:"w-5 h-5 ml-2"})]}),s.jsx(B,{onClick:o,variant:"ghost",size:"lg",className:"w-full h-12 text-muted-foreground hover:text-foreground",children:""})]})]})})})]})}const wy=[{icon:Tt,title:"",description:" AI 60 ",tip:"  Logo ",color:"from-blue-500 to-cyan-500"},{icon:fn,title:"SEO ",description:" SEO ",tip:"  SEO ",color:"from-green-500 to-emerald-500"},{icon:bn,title:"",description:"",tip:"  Google Analytics ",color:"from-purple-500 to-pink-500"},{icon:Vr,title:"AI ",description:"24  AI ",tip:"  AI ",color:"from-orange-500 to-yellow-500"}];function Mkt(){const e=xn(),[t,n]=x.useState(0),r=()=>{t<wy.length-1?n(t+1):e("/profile-setup")},i=()=>{t>0&&n(t-1)},a=()=>{e("/dashboard")},o=wy[t];return s.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-background via-background to-muted/30",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-20 right-10 w-64 h-64 bg-primary/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-20 left-10 w-64 h-64 bg-secondary/10 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col px-4 py-6 safe-area-top safe-area-bottom",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx(B,{variant:"ghost",size:"sm",onClick:a,className:"text-muted-foreground",children:""}),s.jsx("div",{className:"flex items-center gap-2",children:wy.map((l,c)=>s.jsx(E.div,{className:`h-2 rounded-full transition-all duration-300 ${c===t?"w-8 bg-primary":c<t?"w-2 bg-primary/60":"w-2 bg-muted-foreground/30"}`,initial:{scale:.8},animate:{scale:c===t?1.1:1}},c))}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[t+1,"/",wy.length]})]}),s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:s.jsx(He,{mode:"wait",children:s.jsxs(E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full max-w-md text-center space-y-6",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.1},className:`w-24 h-24 mx-auto rounded-3xl bg-gradient-to-br ${o.color} flex items-center justify-center shadow-xl`,children:s.jsx(o.icon,{className:"w-12 h-12 text-white"})}),s.jsx(E.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-2xl md:text-3xl font-bold text-foreground",children:o.title}),s.jsx(E.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-muted-foreground text-base md:text-lg leading-relaxed",children:o.description}),s.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-4 rounded-xl bg-muted/50 border border-border/50",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:o.tip})})]},t)})}),s.jsxs("div",{className:"flex items-center justify-between gap-4 pt-6",children:[s.jsxs(B,{variant:"outline",size:"lg",onClick:i,disabled:t===0,className:"h-14 px-6",children:[s.jsx(ks,{className:"w-5 h-5 mr-2"}),""]}),s.jsx(B,{size:"lg",onClick:r,className:`h-14 px-8 flex-1 max-w-[200px] bg-gradient-to-r ${o.color} hover:opacity-90`,children:t===wy.length-1?s.jsxs(s.Fragment,{children:["",s.jsx(Ct,{className:"w-5 h-5 ml-2"})]}):s.jsxs(s.Fragment,{children:["",s.jsx(mt,{className:"w-5 h-5 ml-2"})]})})]})]})]})}function Dkt(){var m,f;const{user:e,loading:t}=Jt(),n=xn(),[r,i]=x.useState(!1),[a,o]=x.useState({display_name:"",company_name:"",website_url:"",phone:"",bio:""});x.useEffect(()=>{if(!t&&!e){n("/login");return}e&&o(p=>{var g,y;return{...p,display_name:((g=e.user_metadata)==null?void 0:g.full_name)||((y=e.user_metadata)==null?void 0:y.name)||""}})},[e,t,n]);const l=p=>{o(g=>({...g,[p.target.name]:p.target.value}))},c=async p=>{if(p.preventDefault(),!!(e!=null&&e.id)){i(!0);try{const{error:g}=await ee.from("profiles").upsert({id:e.id,email:e.email,display_name:a.display_name||null,company_name:a.company_name||null,website_url:a.website_url||null,phone:a.phone||null,bio:a.bio||null,onboarding_completed:!0,updated_at:new Date().toISOString()});if(g)throw g;q.success(""),n("/dashboard")}catch(g){console.error("[ProfileSetup] Save error:",g),q.error("")}finally{i(!1)}}},d=async()=>{if(!(e!=null&&e.id)){n("/dashboard");return}try{await ee.from("profiles").upsert({id:e.id,email:e.email,onboarding_completed:!0,updated_at:new Date().toISOString()})}catch(p){console.error("[ProfileSetup] Skip error:",p)}n("/dashboard")},u=((m=e==null?void 0:e.user_metadata)==null?void 0:m.avatar_url)||((f=e==null?void 0:e.user_metadata)==null?void 0:f.picture),h=(a.display_name||(e==null?void 0:e.email)||"U").slice(0,2).toUpperCase();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(Ge,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-background via-background to-muted/30",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-secondary/5 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col items-center px-4 py-8 safe-area-top safe-area-bottom",children:[s.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground mb-2",children:""}),s.jsx("p",{className:"text-muted-foreground",children:""})]}),s.jsxs(E.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onSubmit:c,className:"w-full max-w-md space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsxs(dN,{className:"w-24 h-24 border-4 border-background shadow-xl",children:[s.jsx(uN,{src:u,alt:a.display_name}),s.jsx(hN,{className:"text-2xl bg-gradient-to-br from-primary to-secondary text-white",children:h})]}),s.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center shadow-lg",children:s.jsx(eZ,{className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ee,{htmlFor:"display_name",className:"flex items-center gap-2",children:[s.jsx(Mu,{className:"w-4 h-4"}),""]}),s.jsx(xe,{id:"display_name",name:"display_name",value:a.display_name,onChange:l,placeholder:"",className:"h-12"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ee,{htmlFor:"company_name",className:"flex items-center gap-2",children:[s.jsx(ya,{className:"w-4 h-4"}),""]}),s.jsx(xe,{id:"company_name",name:"company_name",value:a.company_name,onChange:l,placeholder:"",className:"h-12"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ee,{htmlFor:"website_url",className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-4 h-4"}),""]}),s.jsx(xe,{id:"website_url",name:"website_url",type:"url",value:a.website_url,onChange:l,placeholder:"https://example.com",className:"h-12"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ee,{htmlFor:"phone",className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"w-4 h-4"}),""]}),s.jsx(xe,{id:"phone",name:"phone",type:"tel",value:a.phone,onChange:l,placeholder:"0912-345-678",className:"h-12"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ee,{htmlFor:"bio",children:" ()"}),s.jsx(Yn,{id:"bio",name:"bio",value:a.bio,onChange:l,placeholder:"...",rows:3,className:"resize-none"})]})]}),s.jsxs("div",{className:"space-y-3 pt-4",children:[s.jsx(B,{type:"submit",size:"lg",disabled:r,className:"w-full h-14 text-lg font-semibold bg-gradient-to-r from-primary to-secondary hover:opacity-90",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Ge,{className:"w-5 h-5 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:["",s.jsx(Ct,{className:"w-5 h-5 ml-2"})]})}),s.jsx(B,{type:"button",variant:"ghost",size:"lg",onClick:d,className:"w-full h-12 text-muted-foreground",children:""})]})]})]})]})}const Lkt=()=>{const[e]=Im(),t=xn(),n=dee(),{user:r}=Jt(),[i,a]=x.useState(!0),[o,l]=x.useState(null),c=e.get("RtnCode"),d=c==="1",u=c==="0";return x.useEffect(()=>{const m=setTimeout(async()=>{if(!r){a(!1);return}try{await n.invalidateQueries({queryKey:["profile"]});const{data:f,error:p}=await ee.from("profiles").select("points").eq("id",r.id).single();!p&&f&&l(f.points)}catch(f){console.error("Failed to refresh profile:",f)}finally{a(!1)}},1e3);return()=>clearTimeout(m)},[r,n]),d||!u&&!c?s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((h,m)=>s.jsx(E.div,{className:"absolute w-2 h-2 rounded-full bg-primary",style:{left:`${Math.random()*100}%`,top:"-10%",opacity:.6+Math.random()*.4},animate:{y:["0vh","110vh"],x:[0,(Math.random()-.5)*200],rotate:[0,360*(Math.random()>.5?1:-1)]},transition:{duration:3+Math.random()*2,delay:Math.random()*2,repeat:1/0,ease:"linear"}},m))}),s.jsx(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},children:s.jsxs(Y,{className:"w-full max-w-md border-primary/20 shadow-2xl shadow-primary/10",children:[s.jsxs(ue,{className:"text-center pb-2",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2,stiffness:200},className:"mx-auto mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(St,{className:"w-20 h-20 text-primary"}),s.jsx(E.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -inset-2",children:s.jsx(Ye,{className:"w-6 h-6 text-primary absolute -top-1 -right-1"})})]})}),s.jsx(me,{className:"text-2xl font-bold text-foreground",children:""}),s.jsx(dt,{className:"text-muted-foreground",children:""})]}),s.jsxs(Z,{className:"space-y-6",children:[i?s.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[s.jsx(Ge,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"..."})]}):o!==null?s.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-primary/10 rounded-lg p-4 text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:""}),s.jsxs("p",{className:"text-3xl font-bold text-primary",children:[o.toLocaleString()," "]})]}):null,s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(B,{size:"lg",className:"w-full",onClick:()=>t("/dashboard"),children:""}),s.jsx(B,{variant:"outline",onClick:()=>t("/"),children:""})]})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsx(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.5},children:s.jsxs(Y,{className:"w-full max-w-md border-destructive/20",children:[s.jsxs(ue,{className:"text-center pb-2",children:[s.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"mx-auto mb-4",children:s.jsx(Oi,{className:"w-20 h-20 text-destructive"})}),s.jsx(me,{className:"text-2xl font-bold text-foreground",children:""}),s.jsx(dt,{className:"text-muted-foreground",children:""})]}),s.jsxs(Z,{className:"space-y-6",children:[s.jsx("div",{className:"bg-destructive/10 rounded-lg p-4 text-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:""})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(B,{size:"lg",className:"w-full",onClick:()=>t("/pricing"),children:""}),s.jsx(B,{variant:"outline",onClick:()=>t("/contact"),children:""})]})]})]})})})},$kt=new _2e({defaultOptions:{queries:{retry:3,retryDelay:e=>Math.min(1e3*2**e,1e4),staleTime:5*60*1e3},mutations:{retry:2,retryDelay:e=>Math.min(1e3*2**e,5e3)}}}),Fkt=({children:e})=>(x.useEffect(()=>{const t=r=>{console.error("Unhandled rejection:",r.reason),q.error(""),r.preventDefault()},n=r=>{console.error("Unhandled error:",r.error)};return window.addEventListener("unhandledrejection",t),window.addEventListener("error",n),()=>{window.removeEventListener("unhandledrejection",t),window.removeEventListener("error",n)}},[]),s.jsx(s.Fragment,{children:e})),Bkt=()=>s.jsx(aVe,{children:s.jsx(A2e,{client:$kt,children:s.jsx(o2e,{children:s.jsxs(Fkt,{children:[s.jsx(WCe,{}),s.jsx(SEe,{}),s.jsx(lVe,{}),s.jsx(UAe,{children:s.jsx(_Oe,{children:s.jsxs(OOe,{enableProtection:!0,children:[s.jsxs(OAe,{children:[s.jsx(Fe,{path:"/",element:s.jsx(Rqe,{})}),s.jsx(Fe,{path:"/home",element:s.jsx(cHe,{})}),s.jsx(Fe,{path:"/builder",element:s.jsx(PWe,{})}),s.jsx(Fe,{path:"/projects",element:s.jsx(uHe,{})}),s.jsx(Fe,{path:"/templates",element:s.jsx(hHe,{})}),s.jsx(Fe,{path:"/pricing",element:s.jsx(OHe,{})}),s.jsx(Fe,{path:"/cases",element:s.jsx(DHe,{})}),s.jsx(Fe,{path:"/about",element:s.jsx(FHe,{})}),s.jsx(Fe,{path:"/services",element:s.jsx(RKe,{})}),s.jsx(Fe,{path:"/blog",element:s.jsx(DKe,{})}),s.jsx(Fe,{path:"/contact",element:s.jsx(UKe,{})}),s.jsx(Fe,{path:"/faq",element:s.jsx(VKe,{})}),s.jsx(Fe,{path:"/terms",element:s.jsx(UHe,{})}),s.jsx(Fe,{path:"/privacy",element:s.jsx(zHe,{})}),s.jsx(Fe,{path:"/login",element:s.jsx(JHe,{})}),s.jsx(Fe,{path:"/signup",element:s.jsx(_Ke,{})}),s.jsx(Fe,{path:"/auth/callback",element:s.jsx(nkt,{})}),s.jsx(Fe,{path:"/checkout",element:s.jsx(PKe,{})}),s.jsx(Fe,{path:"/payment/result",element:s.jsx(Lkt,{})}),s.jsx(Fe,{path:"/tools",element:s.jsx(FYe,{})}),s.jsx(Fe,{path:"/test/:token",element:s.jsx(IXe,{})}),s.jsx(Fe,{path:"/test-payment",element:s.jsx(QNt,{})}),s.jsx(Fe,{path:"/test-connections",element:s.jsx(ekt,{})}),s.jsx(Fe,{path:"/template-demo",element:s.jsx(gkt,{})}),s.jsx(Fe,{path:"/create-website",element:s.jsx(Skt,{})}),s.jsx(Fe,{path:"/remote-control",element:s.jsx(_kt,{})}),s.jsx(Fe,{path:"/assistant",element:s.jsx(_K,{})}),s.jsx(Fe,{path:"/xiaobai",element:s.jsx(_K,{})}),s.jsx(Fe,{path:"/sync-setup",element:s.jsx(qt,{children:s.jsx(Akt,{})})}),s.jsx(Fe,{path:"/welcome",element:s.jsx(Rkt,{})}),s.jsx(Fe,{path:"/tutorial",element:s.jsx(Mkt,{})}),s.jsx(Fe,{path:"/profile-setup",element:s.jsx(Dkt,{})}),s.jsx(Fe,{path:"/dashboard",element:s.jsx(qt,{children:s.jsx(cYe,{})})}),s.jsx(Fe,{path:"/dashboard/websites",element:s.jsx(qt,{children:s.jsx(dYe,{})})}),s.jsx(Fe,{path:"/dashboard/seo",element:s.jsx(qt,{children:s.jsx(fYe,{})})}),s.jsx(Fe,{path:"/dashboard/subscription",element:s.jsx(qt,{children:s.jsx(xYe,{})})}),s.jsx(Fe,{path:"/dashboard/subscriptions",element:s.jsx(qt,{children:s.jsx(_Ye,{})})}),s.jsx(Fe,{path:"/dashboard/notifications",element:s.jsx(qt,{children:s.jsx(TYe,{})})}),s.jsx(Fe,{path:"/dashboard/settings",element:s.jsx(qt,{children:s.jsx(IYe,{})})}),s.jsx(Fe,{path:"/dashboard/settings/api-keys",element:s.jsx(qt,{children:s.jsx(RYe,{})})}),s.jsx(Fe,{path:"/dashboard/points",element:s.jsx(qt,{children:s.jsx(yXe,{})})}),s.jsx(Fe,{path:"/topup",element:s.jsx(qt,{children:s.jsx(zYe,{})})}),s.jsx(Fe,{path:"/merchant",element:s.jsx(qt,{children:s.jsx($Xe,{})})}),s.jsx(Fe,{path:"/merchant/editor",element:s.jsx(qt,{children:s.jsx(VXe,{})})}),s.jsx(Fe,{path:"/merchant/seo",element:s.jsx(qt,{children:s.jsx(HXe,{})})}),s.jsx(Fe,{path:"/merchant/settings",element:s.jsx(qt,{children:s.jsx(KXe,{})})}),s.jsx(Fe,{path:"/merchant/tracking",element:s.jsx(qt,{children:s.jsx(GXe,{})})}),s.jsx(Fe,{path:"/merchant/ads",element:s.jsx(qt,{children:s.jsx(JXe,{})})}),s.jsx(Fe,{path:"/merchant/topup",element:s.jsx(qt,{children:s.jsx(ZXe,{})})}),s.jsx(Fe,{path:"/merchant/domain",element:s.jsx(qt,{children:s.jsx(eJe,{})})}),s.jsx(Fe,{path:"/merchant/hosting",element:s.jsx(qt,{children:s.jsx(sJe,{})})}),s.jsx(Fe,{path:"/merchant/addons",element:s.jsx(qt,{children:s.jsx(oJe,{})})}),s.jsx(Fe,{path:"/merchant/gmb",element:s.jsx(qt,{children:s.jsx(dJe,{})})}),s.jsx(Fe,{path:"/merchant/youtube",element:s.jsx(qt,{children:s.jsx(xJe,{})})}),s.jsx(Fe,{path:"/merchant/ai-bot",element:s.jsx(qt,{children:s.jsx(vJe,{})})}),s.jsx(Fe,{path:"/merchant/health-check",element:s.jsx(qt,{children:s.jsx(NK,{})})}),s.jsx(Fe,{path:"/merchant/backlink-farm",element:s.jsx(qt,{children:s.jsx(kkt,{})})}),s.jsx(Fe,{path:"/health-check",element:s.jsx(qt,{children:s.jsx(NK,{})})}),s.jsx(Fe,{path:"/editor",element:s.jsx(qt,{children:s.jsx(rQe,{})})}),s.jsx(Fe,{path:"/boss",element:s.jsx(qt,{children:s.jsx(Ikt,{})})}),s.jsx(Fe,{path:"/admin/feedback",element:s.jsx(qt,{requireAdmin:!0,children:s.jsx(FNt,{})})}),s.jsx(Fe,{path:"/admin/issues",element:s.jsx(qt,{requireAdmin:!0,children:s.jsx(BNt,{})})}),s.jsx(Fe,{path:"/admin/api-monitor",element:s.jsx(qt,{requireAdmin:!0,children:s.jsx(qNt,{})})}),s.jsx(Fe,{path:"/dev",element:s.jsx(qt,{children:s.jsx(OXe,{})})}),s.jsx(Fe,{path:"/dev/status",element:s.jsx(qt,{children:s.jsx(RXe,{})})}),s.jsx(Fe,{path:"/dev/next-steps",element:s.jsx(qt,{children:s.jsx(DXe,{})})}),s.jsx(Fe,{path:"/dev/recovery",element:s.jsx(qt,{children:s.jsx(LXe,{})})}),s.jsx(Fe,{path:"*",element:s.jsx(tkt,{})})]}),s.jsx(G6e,{}),s.jsx(iVe,{})]})})})]})})})});kke({dsn:"https://1c4866fa32a934ea0e017392749529bf@o4510776474140672.ingest.us.sentry.io/4510776477614080",environment:"production",integrations:[bke(),tke()],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,enabled:!0});JY(document.getElementById("root")).render(s.jsx(V.StrictMode,{children:s.jsx(Bkt,{})}));export{B,We as C,Dl as M,ii as S,An as a,q as b,s as j,E as m,x as r,fqe as u};
