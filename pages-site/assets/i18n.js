/**
 * SEOBAIKE i18n - 國際化語言切換模組
 * 支援：繁體中文（預設）、English、日本語
 * 小路光有限公司 (c) 2026
 */
window.SEOBAIKE_I18N = {
  current: 'zh-TW',

  translations: {
    'zh-TW': {
      'nav.home': '首頁',
      'nav.features': '功能',
      'nav.marketplace': '市集',
      'nav.pricing': '方案',
      'nav.docs': '文件',
      'nav.about': '關於',
      'nav.login': '登入',
      'hero.title.prefix': '',
      'hero.title.highlight': '一句話',
      'hero.title.suffix': '，搞定一切',
      'hero.subtitle': '不用選工具、不用懂 AI。你說，SEOBAIKE 做。',
      'hero.cta1': '開始使用',
      'hero.cta2': '了解更多',
      'demo.title': '看一次就懂',
      'demo.subtitle': '你說話，我們幫你找到最好的 AI 引擎來完成',
      'video.title': '60 秒看懂 SEOBAIKE',
      'video.subtitle': '完整產品展示，從提問到回答，全流程體驗',
      'pillars.title': '為什麼選 SEOBAIKE？',
      'pillars.subtitle': '三個理由，讓你不用再猶豫',
      'pillar.1.title': '零選擇障礙',
      'pillar.1.desc': '別人要你做一堆選擇。我們？你只要說話。',
      'pillar.2.title': '自動匹配',
      'pillar.2.desc': '1,000+ 個 AI 引擎，SEOBAIKE 自動幫你選最快、最準、最省的。',
      'pillar.3.title': '安全保護',
      'pillar.3.desc': '你的資料、你的對話，全程安全加密保護。',
      'cap.title': '能做什麼？',
      'cap.subtitle': '八大能力，一個入口。滑鼠移上去看範例。',
      'cap.chat': '對話',
      'cap.chat.desc': '跟 AI 聊天，像跟朋友一樣',
      'cap.code': '程式碼',
      'cap.code.desc': '寫程式、除錯、最佳化',
      'cap.vision': '視覺',
      'cap.vision.desc': '看圖說故事、分析圖片',
      'cap.reasoning': '推理',
      'cap.reasoning.desc': '數學、邏輯、複雜分析',
      'cap.search': '搜尋',
      'cap.search.desc': '即時搜尋最新資訊',
      'cap.embed': '嵌入',
      'cap.embed.desc': '文件分析、語意理解',
      'cap.image': '圖像',
      'cap.image.desc': 'AI 繪圖、設計',
      'cap.voice': '語音',
      'cap.voice.desc': '語音轉文字、文字轉語音',
      'pricing.title': '選擇適合你的方式',
      'pricing.subtitle': '不管你在哪個階段，我們都有適合你的方案',
      'pricing.free': '體驗版',
      'pricing.personal': '個人版',
      'pricing.pro': '專業版',
      'pricing.enterprise': '企業版',
      'pricing.recommended': '推薦',
      'pricing.more': '了解更多方案',
      'trust.title': '值得信賴',
      'trust.tw': '台灣公司',
      'trust.tw.desc': '合法立案經營',
      'trust.legal': '合法公司',
      'trust.engines': '1,000+ AI 引擎',
      'trust.engines.desc': '自動選最佳方案',
      'trust.privacy': '零第三方干擾',
      'trust.privacy.desc': '你的資料只屬於你',
      'cta.title': '讓 SEOBAIKE 幫你走對的路',
      'cta.subtitle': '不綁卡、不綁約，找到適合你的方式。',
      'cta.btn': '開始你的旅程',
      'footer.company': '小路光有限公司',
      'footer.product': '產品',
      'footer.product.features': '功能總覽',
      'footer.product.pricing': '方案與定價',
      'footer.product.docs': '使用說明',
      'footer.product.changelog': '更新日誌',
      'footer.corp': '公司',
      'footer.corp.about': '關於我們',
      'footer.corp.contact': '聯繫我們',
      'footer.corp.privacy': '隱私權政策',
      'footer.corp.terms': '服務條款',
      'footer.support': '支援',
      'footer.support.start': '快速開始',
      'footer.support.faq': '常見問題',
      'footer.support.contact': '聯繫客服',
      'footer.support.status': '服務狀態'
    },
    'en': {
      'nav.home': 'Home',
      'nav.features': 'Features',
      'nav.marketplace': 'Marketplace',
      'nav.pricing': 'Pricing',
      'nav.docs': 'Docs',
      'nav.about': 'About',
      'nav.login': 'Sign In',
      'hero.title.prefix': '',
      'hero.title.highlight': 'One sentence',
      'hero.title.suffix': '. Everything done.',
      'hero.subtitle': 'No tools to choose. No AI to learn. You speak, SEOBAIKE does.',
      'hero.cta1': 'Get Started',
      'hero.cta2': 'Learn More',
      'demo.title': 'See it once, get it',
      'demo.subtitle': 'You speak, we find the best AI engine to get it done',
      'video.title': 'SEOBAIKE in 60 seconds',
      'video.subtitle': 'Full product demo, from question to answer',
      'pillars.title': 'Why SEOBAIKE?',
      'pillars.subtitle': 'Three reasons to stop hesitating',
      'pillar.1.title': 'Zero choice overload',
      'pillar.1.desc': 'Others make you choose. Us? Just speak.',
      'pillar.2.title': 'Auto-matching',
      'pillar.2.desc': '1,000+ AI engines. SEOBAIKE picks the fastest, most accurate, and most cost-effective one.',
      'pillar.3.title': 'Security first',
      'pillar.3.desc': 'Your data, your conversations, fully encrypted and protected.',
      'cap.title': 'What can it do?',
      'cap.subtitle': 'Eight capabilities, one entry point. Hover to see examples.',
      'cap.chat': 'Chat',
      'cap.chat.desc': 'Talk to AI like talking to a friend',
      'cap.code': 'Code',
      'cap.code.desc': 'Write, debug, and optimize code',
      'cap.vision': 'Vision',
      'cap.vision.desc': 'Describe and analyze images',
      'cap.reasoning': 'Reasoning',
      'cap.reasoning.desc': 'Math, logic, complex analysis',
      'cap.search': 'Search',
      'cap.search.desc': 'Real-time information search',
      'cap.embed': 'Embeddings',
      'cap.embed.desc': 'Document analysis, semantic understanding',
      'cap.image': 'Image',
      'cap.image.desc': 'AI art and design',
      'cap.voice': 'Voice',
      'cap.voice.desc': 'Speech-to-text and text-to-speech',
      'pricing.title': 'Choose your plan',
      'pricing.subtitle': 'Whatever stage you are at, we have a plan for you',
      'pricing.free': 'Free',
      'pricing.personal': 'Personal',
      'pricing.pro': 'Professional',
      'pricing.enterprise': 'Enterprise',
      'pricing.recommended': 'Recommended',
      'pricing.more': 'See all plans',
      'trust.title': 'Trusted',
      'trust.tw': 'Based in Taiwan',
      'trust.tw.desc': 'Legally registered company',
      'trust.legal': 'Legal entity',
      'trust.engines': '1,000+ AI Engines',
      'trust.engines.desc': 'Auto-selects the best option',
      'trust.privacy': 'Zero third-party access',
      'trust.privacy.desc': 'Your data belongs to you',
      'cta.title': 'Let SEOBAIKE guide you right',
      'cta.subtitle': 'No credit card. No contract. Find what works for you.',
      'cta.btn': 'Start your journey',
      'footer.company': 'Hsiao Lu Guang Co., Ltd.',
      'footer.product': 'PRODUCT',
      'footer.product.features': 'Feature Overview',
      'footer.product.pricing': 'Plans & Pricing',
      'footer.product.docs': 'Documentation',
      'footer.product.changelog': 'Changelog',
      'footer.corp': 'COMPANY',
      'footer.corp.about': 'About Us',
      'footer.corp.contact': 'Contact Us',
      'footer.corp.privacy': 'Privacy Policy',
      'footer.corp.terms': 'Terms of Service',
      'footer.support': 'SUPPORT',
      'footer.support.start': 'Quick Start',
      'footer.support.faq': 'FAQ',
      'footer.support.contact': 'Contact Support',
      'footer.support.status': 'Service Status'
    },
    'ja': {
      'nav.home': 'ホーム',
      'nav.features': '機能',
      'nav.marketplace': 'マーケット',
      'nav.pricing': '料金',
      'nav.docs': 'ドキュメント',
      'nav.about': '会社概要',
      'nav.login': 'ログイン',
      'hero.title.prefix': '',
      'hero.title.highlight': '一言で',
      'hero.title.suffix': '、すべて完了',
      'hero.subtitle': 'ツールを選ぶ必要なし。AIを学ぶ必要なし。あなたが話し、SEOBAIKEが実行。',
      'hero.cta1': '始める',
      'hero.cta2': '詳しく見る',
      'demo.title': '一度見ればわかる',
      'demo.subtitle': 'あなたが話すと、最適なAIエンジンが対応します',
      'video.title': '60秒でわかるSEOBAIKE',
      'video.subtitle': '質問から回答まで、製品の全体験をご覧ください',
      'pillars.title': 'なぜSEOBAIKE？',
      'pillars.subtitle': '迷う必要のない3つの理由',
      'pillar.1.title': '選択の悩みゼロ',
      'pillar.1.desc': '他社は選択を強いる。私たちは？話すだけ。',
      'pillar.2.title': '自動マッチング',
      'pillar.2.desc': '1,000以上のAIエンジン。SEOBAIKEが最速・最正確・最安のものを自動選択。',
      'pillar.3.title': 'セキュリティ保護',
      'pillar.3.desc': 'あなたのデータ、会話、すべて暗号化で保護。',
      'cap.title': '何ができる？',
      'cap.subtitle': '8つの能力、1つの入口。マウスオーバーで例を表示。',
      'cap.chat': 'チャット',
      'cap.chat.desc': 'AIと友達のように会話',
      'cap.code': 'コード',
      'cap.code.desc': 'コーディング、デバッグ、最適化',
      'cap.vision': 'ビジョン',
      'cap.vision.desc': '画像の分析と説明',
      'cap.reasoning': '推論',
      'cap.reasoning.desc': '数学、ロジック、複雑な分析',
      'cap.search': '検索',
      'cap.search.desc': 'リアルタイム情報検索',
      'cap.embed': '埋め込み',
      'cap.embed.desc': '文書分析、意味理解',
      'cap.image': '画像生成',
      'cap.image.desc': 'AI描画・デザイン',
      'cap.voice': '音声',
      'cap.voice.desc': '音声テキスト変換',
      'pricing.title': 'あなたに合ったプランを',
      'pricing.subtitle': 'どのステージでも、最適なプランをご用意',
      'pricing.free': '無料プラン',
      'pricing.personal': '個人プラン',
      'pricing.pro': 'プロプラン',
      'pricing.enterprise': '企業プラン',
      'pricing.recommended': 'おすすめ',
      'pricing.more': 'すべてのプランを見る',
      'trust.title': '信頼の証',
      'trust.tw': '台湾企業',
      'trust.tw.desc': '正規登録企業',
      'trust.legal': '法人企業',
      'trust.engines': '1,000+ AIエンジン',
      'trust.engines.desc': '最適なものを自動選択',
      'trust.privacy': '第三者アクセスゼロ',
      'trust.privacy.desc': 'あなたのデータはあなたのもの',
      'cta.title': 'SEOBAIKEで正しい道を',
      'cta.subtitle': 'クレジットカード不要。契約不要。あなたに合った方法を。',
      'cta.btn': '旅を始める',
      'footer.company': '小路光有限会社',
      'footer.product': '製品',
      'footer.product.features': '機能一覧',
      'footer.product.pricing': 'プラン・料金',
      'footer.product.docs': 'ドキュメント',
      'footer.product.changelog': '更新履歴',
      'footer.corp': '会社',
      'footer.corp.about': '会社概要',
      'footer.corp.contact': 'お問い合わせ',
      'footer.corp.privacy': 'プライバシーポリシー',
      'footer.corp.terms': '利用規約',
      'footer.support': 'サポート',
      'footer.support.start': 'クイックスタート',
      'footer.support.faq': 'よくある質問',
      'footer.support.contact': 'サポート連絡',
      'footer.support.status': 'サービス状態'
    }
  },

  /**
   * 取得翻譯文字
   * @param {string} key - 翻譯鍵值
   * @returns {string} 翻譯後的文字
   */
  t: function(key) {
    return (this.translations[this.current] && this.translations[this.current][key])
      || (this.translations['zh-TW'] && this.translations['zh-TW'][key])
      || key;
  },

  /**
   * 切換語言
   * @param {string} lang - 目標語言代碼 ('zh-TW' | 'en' | 'ja')
   */
  switchLang: function(lang) {
    if (!this.translations[lang]) return;
    this.current = lang;
    try { localStorage.setItem('seobaike_lang', lang); } catch(e) {}

    // 設定 html lang 屬性
    var langMap = { 'zh-TW': 'zh-TW', 'en': 'en', 'ja': 'ja' };
    document.documentElement.lang = langMap[lang] || 'zh-TW';

    // 更新所有有 data-i18n 屬性的元素
    var self = this;
    document.querySelectorAll('[data-i18n]').forEach(function(el) {
      el.textContent = self.t(el.dataset.i18n);
    });

    // 更新所有有 data-i18n-html 屬性的元素（支援 innerHTML）
    document.querySelectorAll('[data-i18n-html]').forEach(function(el) {
      var keys = el.dataset.i18nHtml.split(',');
      if (keys.length === 3) {
        el.innerHTML = self.t(keys[0]) + '<em>' + self.t(keys[1]) + '</em>' + self.t(keys[2]);
      }
    });

    // 更新語言切換按鈕的 active 狀態
    document.querySelectorAll('.lang-btn').forEach(function(b) {
      if (b.dataset.lang === lang) {
        b.classList.add('active');
      } else {
        b.classList.remove('active');
      }
    });

    // 觸發自訂事件，方便其他元件監聽
    try {
      document.dispatchEvent(new CustomEvent('seobaike:langchange', { detail: { lang: lang } }));
    } catch(e) {}
  },

  /**
   * 初始化 — 從 localStorage 讀取上次選擇的語言
   */
  init: function() {
    var saved = null;
    try { saved = localStorage.getItem('seobaike_lang'); } catch(e) {}
    if (saved && this.translations[saved]) {
      this.switchLang(saved);
    }
  }
};
