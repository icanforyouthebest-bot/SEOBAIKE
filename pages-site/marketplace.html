<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SEOBAIKE å¸‚é›† â€” AI å·¥å…·å¹³å° | å¹«ä½ æ‰¾åˆ°å°çš„å·¥å…·</title>
<meta name="description" content="SEOBAIKE å¸‚é›†ï¼š20+ AI å·¥å…·ä¸€éµä½¿ç”¨ï¼Œå¹«ä½ æ‰¾åˆ°å°çš„å·¥å…·ï¼Œåˆ†äº«å¥½æ±è¥¿çµ¦æœ‹å‹ã€‚å°ç£ AI OS å¹³å°ã€‚">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',system-ui,sans-serif;background:#0a0a1a;color:#eee;min-height:100vh}
a{color:#e8850c;text-decoration:none}
a:hover{text-decoration:underline}

/* Nav */
.nav{background:rgba(10,10,26,0.95);backdrop-filter:blur(10px);border-bottom:1px solid #222;padding:12px 30px;display:flex;align-items:center;gap:16px;position:sticky;top:0;z-index:100}
.nav .logo{font-size:20px;font-weight:900;letter-spacing:-1px;color:#fff;display:flex;align-items:center;gap:8px}
.nav .logo .seo{background:linear-gradient(135deg,#e8850c,#f5a623,#ffd700);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.nav .logo .baike{color:#fff}
.nav .logo img{border-radius:6px}
.nav a{color:#999;font-size:14px;padding:6px 12px;border-radius:8px;transition:all 0.2s}
.nav a:hover,.nav a.active{color:#fff;background:#1a1a2e;text-decoration:none}
.nav .earn{background:linear-gradient(135deg,#e8850c,#cc785c);color:#fff;font-weight:700;padding:8px 16px;border-radius:20px;font-size:13px}

/* Hero */
.hero{background:linear-gradient(135deg,#1a1a2e 0%,#16213e 50%,#0a0a1a 100%);padding:60px 30px 40px;text-align:center;border-bottom:1px solid #222}
.hero h1{font-size:42px;font-weight:800;margin-bottom:12px}
.hero h1 span{background:linear-gradient(135deg,#e8850c,#cc785c);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hero p{color:#999;font-size:18px;max-width:700px;margin:0 auto 24px}
.hero-stats{display:flex;justify-content:center;gap:40px;margin-top:24px}
.hero-stat .num{font-size:32px;font-weight:800;color:#e8850c}
.hero-stat .lbl{font-size:12px;color:#888}

/* Commission Banner */
.commission-bar{background:linear-gradient(90deg,#16213e,#1a1a2e);border:1px solid #333;border-radius:16px;margin:20px 30px;padding:20px 30px;display:flex;align-items:center;gap:24px;flex-wrap:wrap}
.commission-bar h3{color:#e8850c;font-size:16px;white-space:nowrap}
.split{display:flex;gap:12px;flex:1;flex-wrap:wrap}
.split-item{background:#0a0a1a;border:1px solid #333;border-radius:10px;padding:8px 14px;text-align:center;min-width:100px}
.split-item .pct{font-size:20px;font-weight:800;color:#76b900}
.split-item .role{font-size:11px;color:#888}
.split-item.you .pct{color:#e8850c}

/* Search */
.search-section{padding:20px 30px;display:flex;gap:12px;flex-wrap:wrap;align-items:center}
.search-box{flex:1;min-width:250px;padding:12px 20px;border-radius:24px;border:1px solid #333;background:#16213e;color:#eee;font-size:15px;outline:none}
.search-box:focus{border-color:#e8850c}
.filter-btn{padding:8px 16px;border-radius:20px;border:1px solid #333;background:#16213e;color:#ccc;cursor:pointer;font-size:13px;transition:all 0.2s}
.filter-btn:hover,.filter-btn.active{background:#e8850c;color:#fff;border-color:#e8850c}

/* Grid */
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:16px;padding:0 30px 30px}

/* Card */
.card{background:#16213e;border:1px solid #222;border-radius:16px;overflow:hidden;transition:all 0.3s;cursor:pointer;position:relative}
.card:hover{border-color:#e8850c;transform:translateY(-3px);box-shadow:0 8px 30px rgba(232,133,12,0.15)}
.card-head{padding:16px 18px 0;display:flex;align-items:flex-start;gap:12px}
.card-icon{font-size:36px;flex-shrink:0}
.card-info{flex:1;min-width:0}
.card-info h3{font-size:16px;font-weight:700;margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.card-info .sub{font-size:12px;color:#999;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.card-badge{position:absolute;top:12px;right:12px;background:#e8850c;color:#fff;font-size:10px;font-weight:700;padding:3px 8px;border-radius:8px}
.card-body{padding:10px 18px}
.card-body p{font-size:13px;color:#bbb;line-height:1.6;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.card-tags{padding:6px 18px;display:flex;gap:6px;flex-wrap:wrap}
.tag{background:#0a0a1a;color:#888;font-size:11px;padding:3px 8px;border-radius:6px}
.card-foot{padding:10px 18px 14px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid #1a1a2e}
.card-foot .price{font-size:18px;font-weight:800;color:#76b900}
.card-foot .price.free{color:#e8850c}
.card-foot .stats{display:flex;gap:12px;font-size:12px;color:#888}
.card-foot .stats span{display:flex;align-items:center;gap:3px}
.use-btn{padding:8px 18px;border-radius:20px;border:none;background:#e8850c;color:#fff;font-weight:700;font-size:13px;cursor:pointer;transition:all 0.2s}
.use-btn:hover{background:#cc785c}

/* Create Section */
.create-section{margin:20px 30px;background:linear-gradient(135deg,#16213e,#1a1a2e);border:1px solid #333;border-radius:16px;padding:40px;text-align:center}
.create-section h2{font-size:28px;margin-bottom:8px}
.create-section h2 span{color:#e8850c}
.create-section p{color:#999;margin-bottom:20px;font-size:15px}
.create-btn{display:inline-block;padding:14px 32px;border-radius:24px;background:linear-gradient(135deg,#e8850c,#cc785c);color:#fff;font-weight:700;font-size:16px;border:none;cursor:pointer;transition:all 0.3s}
.create-btn:hover{transform:scale(1.05);box-shadow:0 8px 30px rgba(232,133,12,0.3)}

/* How it works */
.how{padding:30px;display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}
.how-card{background:#16213e;border:1px solid #222;border-radius:14px;padding:24px;text-align:center}
.how-card .step{font-size:36px;font-weight:800;color:#e8850c;margin-bottom:8px}
.how-card h4{font-size:15px;margin-bottom:6px}
.how-card p{font-size:13px;color:#888;line-height:1.5}

/* Why Section */
.why-section{margin:20px 30px;background:linear-gradient(135deg,#16213e,#1a1a2e);border:1px solid #333;border-radius:16px;padding:40px}
.why-section h2{font-size:28px;margin-bottom:8px;text-align:center}
.why-section h2 span{color:#e8850c}
.why-section>p{color:#999;margin-bottom:28px;font-size:15px;text-align:center;max-width:600px;margin-left:auto;margin-right:auto}
.why-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;margin-bottom:28px}
.why-card{background:#0a0a1a;border:1px solid #333;border-radius:14px;padding:24px;text-align:center;transition:all 0.3s}
.why-card:hover{border-color:#e8850c;transform:translateY(-2px)}
.why-card .why-icon{font-size:40px;margin-bottom:12px}
.why-card h4{font-size:16px;margin-bottom:6px;color:#eee}
.why-card p{font-size:13px;color:#888;line-height:1.6}
.why-card .why-highlight{color:#e8850c;font-weight:700;font-size:20px;margin-top:8px}
.why-cta{text-align:center}
.why-cta-btn{display:inline-block;padding:14px 36px;border-radius:24px;background:linear-gradient(135deg,#e8850c,#cc785c);color:#fff;font-weight:700;font-size:16px;border:none;cursor:pointer;transition:all 0.3s}
.why-cta-btn:hover{transform:scale(1.05);box-shadow:0 8px 30px rgba(232,133,12,0.3)}

/* Points Balance Bar */
.points-bar{background:linear-gradient(90deg,#0a0a1a 0%,#16213e 50%,#0a0a1a 100%);border-bottom:1px solid #333;padding:10px 30px;display:flex;align-items:center;justify-content:space-between;gap:16px;position:sticky;top:52px;z-index:99}
.points-bar .my-points{font-size:15px;font-weight:700;color:#e8850c;white-space:nowrap;display:flex;align-items:center;gap:6px}
.points-bar .my-points .sp-icon{display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:50%;background:linear-gradient(135deg,#e8850c,#cc785c);color:#fff;font-size:12px;font-weight:800}
.ticker-wrap{flex:1;overflow:hidden;position:relative;max-width:500px;margin:0 auto}
.ticker-wrap::before,.ticker-wrap::after{content:'';position:absolute;top:0;width:40px;height:100%;z-index:2}
.ticker-wrap::before{left:0;background:linear-gradient(90deg,#0a0a1a,transparent)}
.ticker-wrap::after{right:0;background:linear-gradient(90deg,transparent,#0a0a1a)}
.ticker{display:inline-flex;animation:tickerScroll 20s linear infinite;white-space:nowrap;gap:32px;padding:0 16px}
.ticker span{font-size:13px;color:#888;display:flex;align-items:center;gap:6px}
.ticker span b{color:#e8850c;font-weight:700}
@keyframes tickerScroll{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
.topup-btn{padding:8px 20px;border-radius:20px;border:1px solid #e8850c;background:transparent;color:#e8850c;font-weight:700;font-size:13px;cursor:pointer;transition:all 0.2s;white-space:nowrap;text-decoration:none;display:inline-block}
.topup-btn:hover{background:#e8850c;color:#fff;text-decoration:none}

/* Global Trade Badge */
.global-trade-badge{background:linear-gradient(135deg,rgba(232,133,12,0.12),rgba(232,133,12,0.04));border:1px solid rgba(232,133,12,0.3);border-radius:16px;padding:20px 30px;margin:0 auto 20px;max-width:620px;text-align:center}
.global-trade-badge .badge-title{font-size:20px;font-weight:800;color:#eee;margin-bottom:6px}
.global-trade-badge .badge-title span{color:#e8850c}
.global-trade-badge .badge-sub{font-size:13px;color:#999;line-height:1.6}

/* SP Price Display */
.sp-price{font-size:18px;font-weight:800;color:#e8850c}
.sp-price.free{color:#76b900}
.sp-equiv{font-size:10px;color:#777;margin-top:2px;line-height:1.4}
.sp-toggle{font-size:10px;color:#555;cursor:pointer;margin-top:2px;user-select:none;transition:color 0.2s}
.sp-toggle:hover{color:#e8850c}

/* SP Form Conversion */
.sp-live-conversion{font-size:12px;color:#888;margin-top:6px;padding:6px 10px;background:rgba(232,133,12,0.06);border-radius:8px;border:1px solid rgba(232,133,12,0.15);transition:all 0.3s}
.sp-live-conversion b{color:#e8850c}
.sp-helper-text{font-size:12px;color:#999;margin-top:6px;line-height:1.6}

/* Footer */
.footer{text-align:center;padding:30px;color:#555;font-size:12px;border-top:1px solid #222;margin-top:20px}
.footer a{color:#e8850c}

/* B2B/B2C Toggle */
.mode-toggle{display:flex;justify-content:center;gap:0;margin:0 auto 20px;background:#0a0a1a;border-radius:30px;border:2px solid #333;padding:4px;width:fit-content}
.mode-toggle-btn{padding:12px 32px;border-radius:26px;border:none;background:transparent;color:#888;font-size:16px;font-weight:700;cursor:pointer;transition:all 0.3s;white-space:nowrap}
.mode-toggle-btn.active{background:linear-gradient(135deg,#e8850c,#cc785c);color:#fff;box-shadow:0 4px 20px rgba(232,133,12,0.3)}
.mode-toggle-btn:hover:not(.active){color:#eee}

/* Modal */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.85);backdrop-filter:blur(8px);z-index:200;justify-content:center;align-items:center}
.modal-overlay.show{display:flex}
.modal{background:#16213e;border:1px solid #333;border-radius:24px;padding:0;max-width:680px;width:94%;max-height:90vh;overflow-y:auto;position:relative;animation:modalSlideIn 0.4s ease}
@keyframes modalSlideIn{from{opacity:0;transform:translateY(30px) scale(0.95)}to{opacity:1;transform:translateY(0) scale(1)}}
.modal .close{position:absolute;top:16px;right:20px;font-size:28px;cursor:pointer;color:#888;background:none;border:none;z-index:10;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all 0.2s}
.modal .close:hover{color:#fff;background:rgba(255,255,255,0.1)}

/* Step Indicator */
.step-indicator{display:flex;justify-content:center;gap:12px;padding:28px 30px 0}
.step-dot{width:12px;height:12px;border-radius:50%;background:#333;transition:all 0.4s;cursor:pointer}
.step-dot.active{background:#e8850c;box-shadow:0 0 12px rgba(232,133,12,0.5);transform:scale(1.2)}
.step-dot.done{background:#76b900}
.step-label{font-size:11px;color:#555;text-align:center;margin-top:4px;transition:color 0.3s}
.step-dot-wrap{display:flex;flex-direction:column;align-items:center}
.step-dot-wrap.active .step-label{color:#e8850c}
.step-dot-wrap.done .step-label{color:#76b900}
.step-connector{width:40px;height:2px;background:#333;align-self:center;margin-bottom:16px;transition:background 0.4s}
.step-connector.done{background:#76b900}

/* Step Content */
.step-content{padding:24px 30px 30px;min-height:320px;display:flex;flex-direction:column;align-items:center}
.step-content h2{font-size:28px;font-weight:800;margin-bottom:6px;text-align:center}
.step-content h2 span{color:#e8850c}
.step-content .step-sub{color:#888;font-size:14px;margin-bottom:24px;text-align:center}
.step-hidden{display:none!important}

/* Step 1: Category Cards */
.cat-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;width:100%}
.cat-card{background:#0a0a1a;border:2px solid #333;border-radius:16px;padding:24px 16px;text-align:center;cursor:pointer;transition:all 0.3s;position:relative;overflow:hidden}
.cat-card::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(232,133,12,0.1),transparent);opacity:0;transition:opacity 0.3s}
.cat-card:hover{border-color:#e8850c;transform:translateY(-4px);box-shadow:0 8px 30px rgba(232,133,12,0.15)}
.cat-card:hover::before{opacity:1}
.cat-card.selected{border-color:#e8850c;background:linear-gradient(135deg,rgba(232,133,12,0.15),rgba(232,133,12,0.05));box-shadow:0 0 20px rgba(232,133,12,0.2)}
.cat-card .cat-emoji{font-size:40px;margin-bottom:8px;display:block;transition:transform 0.3s}
.cat-card:hover .cat-emoji{transform:scale(1.15)}
.cat-card .cat-name{font-size:15px;font-weight:700;color:#eee}
.cat-card .cat-desc{font-size:11px;color:#888;margin-top:4px}

/* Step 2: Country Selector */
.country-grid{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;width:100%}
.country-btn{background:#0a0a1a;border:2px solid #333;border-radius:14px;padding:14px 20px;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;gap:10px;min-width:140px;justify-content:center}
.country-btn:hover{border-color:#e8850c;transform:translateY(-2px)}
.country-btn.selected{border-color:#e8850c;background:linear-gradient(135deg,rgba(232,133,12,0.15),rgba(232,133,12,0.05));box-shadow:0 0 16px rgba(232,133,12,0.15)}
.country-btn .country-flag{font-size:28px}
.country-btn .country-name{font-size:14px;font-weight:600;color:#eee}
.country-btn.select-all{border-color:#555;background:#16213e}
.country-btn.select-all.selected{border-color:#76b900;background:linear-gradient(135deg,rgba(118,185,0,0.15),rgba(118,185,0,0.05))}
.country-next{margin-top:24px;padding:14px 48px;border-radius:24px;border:none;background:linear-gradient(135deg,#e8850c,#cc785c);color:#fff;font-weight:700;font-size:16px;cursor:pointer;transition:all 0.3s;opacity:0.4;pointer-events:none}
.country-next.enabled{opacity:1;pointer-events:auto}
.country-next.enabled:hover{transform:scale(1.05);box-shadow:0 8px 30px rgba(232,133,12,0.3)}

/* Step 3: Product Info */
.product-form{width:100%;max-width:480px}
.pf-field{margin-bottom:18px}
.pf-field label{display:block;font-size:14px;color:#bbb;margin-bottom:6px;font-weight:600}
.pf-field input,.pf-field select{width:100%;padding:14px 18px;border-radius:14px;border:2px solid #333;background:#0a0a1a;color:#eee;font-size:15px;outline:none;transition:border-color 0.3s}
.pf-field input:focus,.pf-field select:focus{border-color:#e8850c}
.pf-price-row{display:flex;gap:10px}
.pf-price-row input{flex:1}
.pf-price-row select{width:120px;flex-shrink:0}
.pf-upload{border:2px dashed #333;border-radius:14px;padding:24px;text-align:center;cursor:pointer;transition:all 0.3s;background:#0a0a1a}
.pf-upload:hover{border-color:#e8850c}
.pf-upload .upload-icon{font-size:32px;margin-bottom:6px}
.pf-upload p{font-size:13px;color:#888}
.pf-upload input[type="file"]{display:none}
.pf-or{text-align:center;color:#555;font-size:12px;margin:8px 0}
.submit-big{width:100%;padding:18px;border-radius:24px;border:none;background:linear-gradient(135deg,#e8850c,#cc785c);color:#fff;font-weight:800;font-size:20px;cursor:pointer;transition:all 0.3s;margin-top:8px;letter-spacing:1px}
.submit-big:hover{transform:scale(1.03);box-shadow:0 8px 30px rgba(232,133,12,0.4)}
.submit-big:active{transform:scale(0.98)}

/* Success Screen */
.success-screen{text-align:center;padding:40px 20px}
.success-screen .check{font-size:80px;margin-bottom:16px;animation:successPop 0.5s ease}
@keyframes successPop{0%{transform:scale(0)}50%{transform:scale(1.3)}100%{transform:scale(1)}}
.success-screen h2{font-size:26px;margin-bottom:8px;color:#76b900}
.success-screen p{font-size:16px;color:#bbb;line-height:1.7}
.success-screen .time-note{color:#e8850c;font-weight:700;font-size:18px;margin-top:12px}

/* Confetti */
.confetti-container{position:fixed;inset:0;pointer-events:none;z-index:300;overflow:hidden}
.confetti{position:absolute;width:10px;height:10px;top:-20px;animation:confettiFall linear forwards}
@keyframes confettiFall{to{top:110vh;transform:rotate(720deg)}}

/* Back Button */
.step-back{background:none;border:none;color:#888;font-size:14px;cursor:pointer;padding:8px 16px;border-radius:10px;transition:all 0.2s;margin-top:12px}
.step-back:hover{color:#eee;background:rgba(255,255,255,0.05)}

/* Seller View Container */
.seller-view{display:none}
.seller-view.active{display:block}
.buyer-view.hidden{display:none}

/* === Hamburger Menu (marketplace) === */
.nav-hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer;background:none;border:none;padding:4px;margin-left:auto}
.nav-hamburger span{display:block;width:24px;height:2px;background:#eee;border-radius:2px;transition:0.3s}

.mobile-menu-overlay{display:none;position:fixed;inset:0;z-index:9999;background:rgba(10,10,26,0.97);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);flex-direction:column;align-items:center;justify-content:center;gap:0;opacity:0;transition:opacity 0.35s ease}
.mobile-menu-overlay.open{display:flex;opacity:1}
.mobile-menu-overlay .mobile-close{position:absolute;top:16px;right:20px;background:none;border:none;color:#fff;font-size:2rem;cursor:pointer;width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background 0.2s}
.mobile-menu-overlay .mobile-close:hover{background:rgba(232,133,12,0.15)}
.mobile-menu-overlay a{display:block;color:#fff;font-size:1.3rem;font-weight:600;padding:16px 40px;text-align:center;transition:color 0.2s,background 0.2s;width:100%;text-decoration:none;min-height:48px;line-height:1.5}
.mobile-menu-overlay a:hover{color:#e8850c;background:rgba(232,133,12,0.06)}
.mobile-menu-overlay .earn{background:linear-gradient(135deg,#e8850c,#cc785c);color:#fff !important;border-radius:12px;margin:16px 40px 0;width:auto;padding:14px 40px}

/* === å¹³æ¿ (1024px) === */
@media(max-width:1024px){
  .grid{grid-template-columns:repeat(2,1fr)}
  .hero h1{font-size:32px}
  .how{grid-template-columns:repeat(2,1fr)}
  .why-grid{grid-template-columns:repeat(2,1fr)}
}

/* === æ‰‹æ©Ÿ (768px) === */
@media(max-width:768px){
  /* Nav */
  .nav a:not(.logo):not(.earn){display:none}
  .nav-hamburger{display:flex}
  .nav{padding:12px 16px;gap:8px}

  /* Hero */
  .hero{padding:40px 16px 30px}
  .hero h1{font-size:24px}
  .hero p{font-size:14px}
  .hero-stats{flex-wrap:wrap;gap:16px;justify-content:center}
  .hero-stat .num{font-size:24px}

  /* å…§å®¹ */
  .grid{grid-template-columns:1fr;padding:0 16px 16px}
  .commission-bar{flex-direction:column;text-align:center;margin:16px;padding:16px}
  .search-section{padding:16px;flex-direction:column}
  .search-box{min-width:100%;width:100%}
  .filter-btn{min-height:44px}
  .how{grid-template-columns:1fr;padding:16px}
  .why-grid{grid-template-columns:1fr}
  .why-section{margin:16px;padding:24px 16px}
  .create-section{margin:16px;padding:24px 16px}
  .create-section h2{font-size:22px}
  .create-btn,.why-cta-btn{width:100%;min-height:48px}
  .use-btn{min-height:44px;padding:10px 20px}

  /* Points Bar */
  .points-bar{flex-wrap:wrap;gap:8px;padding:8px 16px;top:auto;position:relative}
  .points-bar .my-points{font-size:13px}
  .ticker-wrap{order:3;width:100%;max-width:100%}
  .topup-btn{min-height:44px}
  .global-trade-badge{margin:0 16px 16px;padding:16px;border-radius:12px}
  .global-trade-badge .badge-title{font-size:16px}
  .global-trade-badge .badge-sub{font-size:12px}

  /* Modal */
  .cat-grid{grid-template-columns:repeat(2,1fr);gap:10px}
  .cat-card{padding:18px 12px}
  .cat-card .cat-emoji{font-size:32px}
  .cat-card .cat-name{font-size:13px}
  .country-btn{min-width:100px;padding:10px 14px}
  .country-btn .country-flag{font-size:22px}
  .step-content h2{font-size:22px}
  .step-content{padding:20px 16px 24px}
  .modal{width:96%;max-height:95vh;border-radius:18px}
  .step-indicator{padding:20px 16px 0}
  .mode-toggle-btn{padding:10px 20px;font-size:14px}
  .pf-price-row{flex-direction:column}
  .pf-price-row select{width:100%}
  .submit-big{min-height:48px;font-size:18px}

  /* æŒ‰éˆ•è§¸æ§å‹å–„ */
  button,a{min-height:44px}
  body{font-size:14px}

  /* è¡¨æ ¼æ©«å‘æ»¾å‹• */
  table{display:block;overflow-x:auto;-webkit-overflow-scrolling:touch}
}

/* === å°æ‰‹æ©Ÿ (480px) === */
@media(max-width:480px){
  .hero h1{font-size:20px}
  .hero p{font-size:13px}
  .hero-stat .num{font-size:20px}
  .card{border-radius:12px}
  .card-head{padding:12px 14px 0}
  .card-body{padding:8px 14px}
  .card-tags{padding:6px 14px}
  .card-foot{padding:8px 14px 12px}
  .cat-grid{grid-template-columns:1fr 1fr;gap:8px}
  .cat-card{padding:14px 10px}
  .cat-card .cat-emoji{font-size:28px}
  .commission-bar{padding:12px}
  .split-item{min-width:80px;padding:6px 10px}
  .split-item .pct{font-size:16px}
  .how-card{padding:18px}
  .why-card{padding:18px}
  .mode-toggle-btn{padding:8px 16px;font-size:13px}
}
</style>
<link rel="stylesheet" href="/assets/framer-style.css">
</head>
<body>

<nav class="nav">
  <span class="logo"><img src="/favicon.svg" alt="S" width="26" height="26"><span class="seo">SEO</span><span class="baike">BAIKE</span></span>
  <a href="/">é¦–é </a>
  <a href="/features">åŠŸèƒ½</a>
  <a href="/marketplace" class="active">å¸‚é›†</a>
  <a href="/pricing">æ–¹æ¡ˆ</a>
  <a href="/about">é—œæ–¼</a>
  <a href="/docs">å¸¸è¦‹å•é¡Œ</a>
  <a class="earn" href="#" onclick="event.preventDefault();switchMode('sell')">æˆ‘è¦ä¸Šæ¶</a>
  <button class="nav-hamburger" id="hamburger" aria-label="é¸å–®">
    <span></span><span></span><span></span>
  </button>
</nav>

<!-- æ‰‹æ©Ÿç‰ˆå…¨è¢å¹•é¸å–® -->
<div class="mobile-menu-overlay" id="mobileMenu">
  <button class="mobile-close" id="mobileMenuClose" aria-label="é—œé–‰é¸å–®">&times;</button>
  <a href="/" onclick="closeMobileMenu()">é¦–é </a>
  <a href="/features" onclick="closeMobileMenu()">åŠŸèƒ½</a>
  <a href="/marketplace" onclick="closeMobileMenu()">å¸‚é›†</a>
  <a href="/pricing" onclick="closeMobileMenu()">æ–¹æ¡ˆ</a>
  <a href="/about" onclick="closeMobileMenu()">é—œæ–¼</a>
  <a href="/docs" onclick="closeMobileMenu()">å¸¸è¦‹å•é¡Œ</a>
  <a class="earn" href="#" onclick="event.preventDefault();closeMobileMenu();switchMode('sell')">æˆ‘è¦ä¸Šæ¶</a>
</div>

<!-- Points Balance Bar -->
<div class="points-bar">
  <div class="my-points"><span class="sp-icon">S</span> æˆ‘çš„é»æ•¸: <span id="myPointsBalance">0</span> SP</div>
  <div class="ticker-wrap">
    <div class="ticker" id="rateTicker">
      <span><b>1 SP</b> = NT$1</span>
      <span><b>1 SP</b> = &#8361;45</span>
      <span><b>1 SP</b> = &yen;5</span>
      <span><b>1 SP</b> = $0.03</span>
      <span>åœ¨å°ç£è²·ã€åœ¨ç«æ˜Ÿè³£ï¼Œéƒ½ç”¨é»æ•¸</span>
      <span><b>1 SP</b> = NT$1</span>
      <span><b>1 SP</b> = &#8361;45</span>
      <span><b>1 SP</b> = &yen;5</span>
      <span><b>1 SP</b> = $0.03</span>
      <span>åœ¨å°ç£è²·ã€åœ¨ç«æ˜Ÿè³£ï¼Œéƒ½ç”¨é»æ•¸</span>
    </div>
  </div>
  <a href="/pricing" class="topup-btn">å„²å€¼</a>
</div>

<section class="hero">
  <h1>ä½ çš„æ±è¥¿ï¼Œ<span>è³£åˆ°å…¨ä¸–ç•Œ</span></h1>
  <p>å°ç£ã€éŸ“åœ‹ã€æ—¥æœ¬ã€æ±å—äº â€” AI å¹«ä½ ç¿»è­¯ã€è¡ŒéŠ·ã€å®¢æœã€‚<br>B2B + B2C å…¨çƒé€šè·¯ï¼Œé»ä¸€é»å°±ä¸Šæ¶ã€‚</p>
  <div class="mode-toggle">
    <button class="mode-toggle-btn active" onclick="switchMode('buy', this)">æˆ‘è¦è²·</button>
    <button class="mode-toggle-btn" onclick="switchMode('sell', this)">æˆ‘è¦è³£</button>
  </div>
  <div class="hero-stats" style="margin-top:12px">
    <div class="hero-stat"><div class="num" id="stat-listings">--</div><div class="lbl">å•†å“æ•¸é‡</div></div>
    <div class="hero-stat"><div class="num" id="stat-users">--</div><div class="lbl">ä½¿ç”¨è€…</div></div>
    <div class="hero-stat"><div class="num" id="stat-categories">--</div><div class="lbl">å•†å“é¡åˆ¥</div></div>
    <div class="hero-stat"><div class="num" id="stat-commission">70%</div><div class="lbl">è³£å®¶åˆ†æ½¤</div></div>
  </div>
  <div class="global-trade-badge" style="margin-top:24px">
    <div class="badge-title">&#x1F30D; å…¨çƒé€šç”¨ â€” ä¸€å€‹é»æ•¸ï¼Œ<span>å…¨çƒè²·è³£</span></div>
    <div class="badge-sub">ä¸ç”¨ç…©æƒ±åŒ¯ç‡ã€‚ä½ çš„ SEO Points åœ¨å°ç£ã€éŸ“åœ‹ã€æ—¥æœ¬ã€å…¨ä¸–ç•Œéƒ½èƒ½ç”¨ã€‚</div>
  </div>
</section>

<!-- ===== BUYER VIEW ===== -->
<div class="buyer-view" id="buyerView">

<!-- Category Showcase -->
<section style="padding:30px;display:flex;justify-content:center;gap:12px;flex-wrap:wrap">
  <button class="filter-btn active" style="font-size:14px;padding:10px 20px" onclick="setFilter('all', this)">å…¨éƒ¨å•†å“</button>
  <button class="filter-btn" style="font-size:14px;padding:10px 20px" onclick="setFilter('æ•¸ä½å•†å“', this)">æ•¸ä½å•†å“</button>
  <button class="filter-btn" style="font-size:14px;padding:10px 20px" onclick="setFilter('AI å·¥å…·', this)">AI å·¥å…·</button>
  <button class="filter-btn" style="font-size:14px;padding:10px 20px" onclick="setFilter('è¨­è¨ˆç´ æ', this)">è¨­è¨ˆç´ æ</button>
  <button class="filter-btn" style="font-size:14px;padding:10px 20px" onclick="setFilter('æ•™å­¸èª²ç¨‹', this)">æ•™å­¸èª²ç¨‹</button>
  <button class="filter-btn" style="font-size:14px;padding:10px 20px" onclick="setFilter('é¡§å•æœå‹™', this)">é¡§å•æœå‹™</button>
  <button class="filter-btn" style="font-size:14px;padding:10px 20px" onclick="setFilter('è¡ŒéŠ·æ–¹æ¡ˆ', this)">è¡ŒéŠ·æ–¹æ¡ˆ</button>
</section>

<div class="commission-bar">
  <h3>è³£å®¶åˆ†æ½¤åˆ¶åº¦</h3>
  <div class="split">
    <div class="split-item"><div class="pct">70%</div><div class="role">è³£å®¶ï¼ˆå•†å“éŠ·å”®æ”¶å…¥ï¼‰</div></div>
    <div class="split-item you"><div class="pct">15%</div><div class="role">æ¨è–¦åˆ†æ½¤ï¼ˆç¬¬ä¸€å¹´ï¼‰</div></div>
    <div class="split-item you"><div class="pct">10%</div><div class="role">æ¨è–¦åˆ†æ½¤ï¼ˆæŒçºŒï¼‰</div></div>
    <div class="split-item"><div class="pct">30%</div><div class="role">å¹³å°ï¼ˆå«é‡‘æµã€å®¢æœï¼‰</div></div>
  </div>
  <div style="text-align:center;color:#888;font-size:12px;margin-top:8px">é‡‘æµç”±ç¬¬ä¸‰æ–¹æ”¯ä»˜è™•ç†ãƒ»å®‰å…¨æœ‰ä¿éšœãƒ»ä¾åœ‹éš›æ¥­ç•Œæ¨™æº–</div>
</div>

<section class="search-section" id="listings">
  <input type="text" class="search-box" id="searchBox" placeholder="æœå°‹å•†å“... æ•¸ä½å•†å“ã€AI å·¥å…·ã€è¨­è¨ˆç´ æã€æ•™å­¸èª²ç¨‹..." oninput="filterListings()">
  <button class="filter-btn" onclick="setFilter('featured', this)">ç²¾é¸</button>
  <div id="categoryBtns"></div>
</section>

<div class="grid" id="listingsGrid">
  <div style="text-align:center;padding:40px;color:#888;grid-column:1/-1">è¼‰å…¥ä¸­...</div>
</div>

<section class="create-section" id="earn">
  <h2>ä½ æœ‰å¥½æ±è¥¿ï¼Ÿ<span>è³£åˆ°å…¨ä¸–ç•Œ</span></h2>
  <p>ä¸Šæ¶ä½ çš„å•†å“ï¼ŒAI è‡ªå‹•ç¿»è­¯ã€è¡ŒéŠ·ã€å®¢æœ â€” è³£å®¶æ‹¿ 70%ï¼Œé‡‘æµå®‰å…¨è™•ç†ï¼Œé€æ˜å…¬é–‹ã€‚<br><span style="font-size:14px;color:#bbb">ë‹¹ì‹ ì˜ ìƒí’ˆì„ ì „ ì„¸ê³„ì— íŒë§¤í•˜ì„¸ìš” â€” AIê°€ ëª¨ë“  ê²ƒì„ ë„ì™€ë“œë¦½ë‹ˆë‹¤</span></p>
  <button class="create-btn" onclick="switchMode('sell')">æˆ‘è¦ä¸Šæ¶å•†å“</button>
</section>

<section class="how">
  <div class="how-card"><div class="step">1</div><h4>ä¸Šæ¶å•†å“</h4><p>å¡«å¯«å•†å“è³‡è¨Šï¼Œ5 åˆ†é˜å…§å®Œæˆä¸Šæ¶</p></div>
  <div class="how-card"><div class="step">2</div><h4>AI è‡ªå‹•ç¿»è­¯</h4><p>AI å¹«ä½ æŠŠå•†å“ç¿»æˆéŸ“æ–‡ã€æ—¥æ–‡ã€è‹±æ–‡</p></div>
  <div class="how-card"><div class="step">3</div><h4>å…¨çƒè²·å®¶çœ‹åˆ°</h4><p>å°ç£ã€éŸ“åœ‹ã€æ—¥æœ¬ã€æ±å—äºçš„è²·å®¶éƒ½èƒ½æ‰¾åˆ°ä½ </p></div>
  <div class="how-card"><div class="step">4</div><h4>æ”¶æ¬¾å…¥å¸³</h4><p>æˆäº¤å¾Œè‡ªå‹•æ’¥æ¬¾ï¼Œè³£å®¶æ‹¿ 70% åˆ†æ½¤</p></div>
</section>

<section class="why-section">
  <h2>ç‚ºä»€éº¼åœ¨ SEOBAIKE <span>è³£æ±è¥¿ï¼Ÿ</span></h2>
  <p>ä¸ç®¡ä½ æ˜¯å€‹äººè³£å®¶é‚„æ˜¯å…¬å¸ï¼ŒSEOBAIKE å¹«ä½ æŠŠå•†å“è³£åˆ°å…¨ä¸–ç•Œ</p>
  <div class="why-grid">
    <div class="why-card">
      <div class="why-icon">ğŸŒ</div>
      <h4>è³£åˆ°å…¨ä¸–ç•Œ</h4>
      <p>ä½ çš„å•†å“ä¸Šæ¶å¾Œï¼Œå°ç£ã€éŸ“åœ‹ã€æ—¥æœ¬ã€æ±å—äºçš„è²·å®¶éƒ½èƒ½çœ‹åˆ°ã€‚AI è‡ªå‹•ç¿»è­¯ï¼Œå…è²»å…¨çƒæ›å…‰</p>
      <div class="why-highlight">è·¨åœ‹éŠ·å”®</div>
    </div>
    <div class="why-card">
      <div class="why-icon">âš¡</div>
      <h4>5 åˆ†é˜ä¸Šæ¶</h4>
      <p>å¡«å€‹è¡¨æ ¼å°±ä¸Šæ¶äº†ï¼Œä¸éœ€è¦ä»»ä½•æŠ€è¡“èƒŒæ™¯ã€‚AI å¹«ä½ å¯«æ–‡æ¡ˆã€åšè¡ŒéŠ·ï¼Œä½ å°ˆå¿ƒåšå¥½ç”¢å“</p>
      <div class="why-highlight">è¶…ç°¡å–®</div>
    </div>
    <div class="why-card">
      <div class="why-icon">ğŸ’°</div>
      <h4>è³£å®¶æ‹¿ 70%</h4>
      <p>é€æ˜çš„åˆ†æ½¤åˆ¶åº¦ï¼Œè³£å®¶æ‹¿ 70%ã€‚é‡‘æµå®‰å…¨è™•ç†ï¼ŒéŠ·å”®æ•¸æ“šå³æ™‚è¿½è¹¤ã€‚</p>
      <div class="why-highlight">å³æ™‚è¿½è¹¤å„€è¡¨æ¿</div>
    </div>
  </div>
  <div class="why-cta">
    <button class="why-cta-btn" onclick="switchMode('sell')">ç«‹å³ä¸Šæ¶æˆ‘çš„å•†å“</button>
  </div>
</section>

</div><!-- /buyer-view -->

<!-- ===== SELLER VIEW: 3-Step Listing Flow ===== -->
<div class="seller-view" id="sellerView">
  <div style="max-width:720px;margin:0 auto;padding:30px 20px">

    <!-- Step Indicator -->
    <div class="step-indicator" id="stepIndicator">
      <div class="step-dot-wrap active" data-step="1">
        <div class="step-dot active"></div>
        <div class="step-label">é¡åˆ¥</div>
      </div>
      <div class="step-connector"></div>
      <div class="step-dot-wrap" data-step="2">
        <div class="step-dot"></div>
        <div class="step-label">å¸‚å ´</div>
      </div>
      <div class="step-connector"></div>
      <div class="step-dot-wrap" data-step="3">
        <div class="step-dot"></div>
        <div class="step-label">è³‡è¨Š</div>
      </div>
    </div>

    <!-- Step 1: Category -->
    <div class="step-content" id="listingStep1">
      <h2>ä½ è³£<span>ä»€éº¼ï¼Ÿ</span></h2>
      <p class="step-sub">é¸ä¸€å€‹æœ€æ¥è¿‘çš„é¡åˆ¥</p>
      <div class="cat-grid">
        <div class="cat-card" onclick="selectCategory(this, 'æ•¸ä½å•†å“')">
          <span class="cat-emoji">&#x1F6D2;</span>
          <div class="cat-name">æ•¸ä½å•†å“</div>
          <div class="cat-desc">è»Ÿé«”ã€æ¨¡æ¿ã€ç´ æ</div>
        </div>
        <div class="cat-card" onclick="selectCategory(this, 'AI å·¥å…·')">
          <span class="cat-emoji">&#x1F916;</span>
          <div class="cat-name">AI å·¥å…·</div>
          <div class="cat-desc">è‡ªå‹•åŒ–ã€ç”Ÿæˆã€åˆ†æ</div>
        </div>
        <div class="cat-card" onclick="selectCategory(this, 'è¨­è¨ˆç´ æ')">
          <span class="cat-emoji">&#x1F3A8;</span>
          <div class="cat-name">è¨­è¨ˆç´ æ</div>
          <div class="cat-desc">åœ–ç‰‡ã€å­—å‹ã€æ¨¡æ¿</div>
        </div>
        <div class="cat-card" onclick="selectCategory(this, 'æ•™å­¸èª²ç¨‹')">
          <span class="cat-emoji">&#x1F4DA;</span>
          <div class="cat-name">æ•™å­¸èª²ç¨‹</div>
          <div class="cat-desc">ç·šä¸Šèª²ç¨‹ã€æ•™æ</div>
        </div>
        <div class="cat-card" onclick="selectCategory(this, 'é¡§å•æœå‹™')">
          <span class="cat-emoji">&#x1F4BC;</span>
          <div class="cat-name">é¡§å•æœå‹™</div>
          <div class="cat-desc">è«®è©¢ã€ç­–ç•¥ã€è¦åŠƒ</div>
        </div>
        <div class="cat-card" onclick="selectCategory(this, 'è¡ŒéŠ·æ–¹æ¡ˆ')">
          <span class="cat-emoji">&#x1F4E2;</span>
          <div class="cat-name">è¡ŒéŠ·æ–¹æ¡ˆ</div>
          <div class="cat-desc">å»£å‘Šã€SEOã€ç¤¾ç¾¤</div>
        </div>
      </div>
    </div>

    <!-- Step 2: Countries -->
    <div class="step-content step-hidden" id="listingStep2">
      <h2>è³£åˆ°<span>å“ªè£¡ï¼Ÿ</span></h2>
      <p class="step-sub">å…¨çƒé©ç”¨ï¼Œå¯ä»¥é¸å¤šå€‹å¸‚å ´ï¼Œæƒ³è³£åˆ°å“ªå°±é»å“ª</p>
      <div class="country-grid">
        <div class="country-btn" onclick="toggleCountry(this, 'å°ç£')">
          <span class="country-flag">&#x1F1F9;&#x1F1FC;</span>
          <span class="country-name">å°ç£</span>
        </div>
        <div class="country-btn" onclick="toggleCountry(this, 'éŸ“åœ‹')">
          <span class="country-flag">&#x1F1F0;&#x1F1F7;</span>
          <span class="country-name">éŸ“åœ‹</span>
        </div>
        <div class="country-btn" onclick="toggleCountry(this, 'æ—¥æœ¬')">
          <span class="country-flag">&#x1F1EF;&#x1F1F5;</span>
          <span class="country-name">æ—¥æœ¬</span>
        </div>
        <div class="country-btn" onclick="toggleCountry(this, 'ç¾åœ‹')">
          <span class="country-flag">&#x1F1FA;&#x1F1F8;</span>
          <span class="country-name">ç¾åœ‹</span>
        </div>
        <div class="country-btn" onclick="toggleCountry(this, 'æ–°åŠ å¡')">
          <span class="country-flag">&#x1F1F8;&#x1F1EC;</span>
          <span class="country-name">æ–°åŠ å¡</span>
        </div>
        <div class="country-btn" onclick="toggleCountry(this, 'æ³°åœ‹')">
          <span class="country-flag">&#x1F1F9;&#x1F1ED;</span>
          <span class="country-name">æ³°åœ‹</span>
        </div>
        <div class="country-btn" onclick="toggleCountry(this, 'è¶Šå—')">
          <span class="country-flag">&#x1F1FB;&#x1F1F3;</span>
          <span class="country-name">è¶Šå—</span>
        </div>
        <div class="country-btn" onclick="toggleCountry(this, 'æ­æ´²')">
          <span class="country-flag">&#x1F1EA;&#x1F1FA;</span>
          <span class="country-name">æ­æ´²</span>
        </div>
        <div class="country-btn" onclick="toggleCountry(this, 'æ¾³æ´²')">
          <span class="country-flag">&#x1F1E6;&#x1F1FA;</span>
          <span class="country-name">æ¾³æ´²</span>
        </div>
        <div class="country-btn" onclick="toggleCountry(this, 'å°åº¦')">
          <span class="country-flag">&#x1F1EE;&#x1F1F3;</span>
          <span class="country-name">å°åº¦</span>
        </div>
        <div class="country-btn select-all" onclick="toggleAllCountries(this)">
          <span class="country-flag">&#x1F30D;</span>
          <span class="country-name">å…¨ä¸–ç•Œ</span>
        </div>
      </div>
      <button class="country-next" id="countryNextBtn" onclick="goToStep(3)">ä¸‹ä¸€æ­¥</button>
      <button class="step-back" onclick="goToStep(1)">&#x2190; å›ä¸Šä¸€æ­¥</button>
    </div>

    <!-- Step 3: Product Info -->
    <div class="step-content step-hidden" id="listingStep3">
      <h2>å•†å“<span>è³‡è¨Š</span></h2>
      <p class="step-sub">åªè¦ä¸‰å€‹æ¬„ä½ï¼Œå°±é€™æ¨£</p>
      <div class="product-form">
        <div class="pf-field">
          <label>å•†å“åç¨±</label>
          <input type="text" id="pf-name" placeholder="ä½ çš„å•†å“å«ä»€éº¼ï¼Ÿ">
        </div>
        <div class="pf-field">
          <label>åƒ¹æ ¼ï¼ˆSEO Pointsï¼‰</label>
          <div class="pf-price-row">
            <input type="number" id="pf-price" placeholder="0 = å…è²»" min="0" oninput="updatePriceConversion()">
            <div style="display:flex;align-items:center;padding:0 14px;background:#0a0a1a;border:2px solid #333;border-radius:14px;color:#e8850c;font-weight:700;font-size:15px;white-space:nowrap;min-width:60px;justify-content:center">SP</div>
          </div>
          <div class="sp-helper-text">è¨­å®šä½ çš„ SEO Points å”®åƒ¹ã€‚è²·å®¶ç”¨ç•¶åœ°è²¨å¹£æ”¯ä»˜ï¼Œä½ æ”¶åˆ°ç­‰å€¼çš„ SEO Pointsã€‚</div>
          <div class="sp-live-conversion" id="spLiveConversion" style="display:none"></div>
        </div>
        <div class="pf-field">
          <label>å•†å“ç…§ç‰‡æˆ–é€£çµ</label>
          <div class="pf-upload" onclick="document.getElementById('pf-file').click()">
            <div class="upload-icon">&#x1F4F7;</div>
            <p id="pf-file-label">é»æ“Šä¸Šå‚³å•†å“ç…§ç‰‡</p>
            <input type="file" id="pf-file" accept="image/*" onchange="handleFileSelect(this)">
          </div>
          <div class="pf-or">æˆ–</div>
          <input type="text" id="pf-url" placeholder="https://ä½ çš„å•†å“é€£çµ">
        </div>
        <button class="submit-big" onclick="submitNewListing()">ä¸Šæ¶ï¼</button>
        <button class="step-back" onclick="goToStep(2)">&#x2190; å›ä¸Šä¸€æ­¥</button>
      </div>
    </div>

    <!-- Success Screen -->
    <div class="step-content step-hidden" id="listingSuccess">
      <div class="success-screen">
        <div class="check">&#x1F389;</div>
        <h2>æ­å–œï¼</h2>
        <p>ä½ çš„å•†å“æ­£åœ¨å¯©æ ¸ä¸­<br>æœ€å¿« <span class="time-note">1 å°æ™‚</span> ä¸Šæ¶</p>
        <p style="margin-top:16px;color:#888;font-size:14px">AI æœƒè‡ªå‹•å¹«ä½ ç¿»è­¯æˆéŸ“æ–‡ã€æ—¥æ–‡ã€è‹±æ–‡<br>å…¨ä¸–ç•Œçš„è²·å®¶éƒ½èƒ½æ‰¾åˆ°ä½ çš„å•†å“</p>
        <button class="submit-big" style="margin-top:24px;font-size:16px;padding:14px" onclick="resetListingFlow(); switchMode('buy')">å›åˆ°å¸‚é›†</button>
      </div>
    </div>

  </div>
</div><!-- /seller-view -->

<div class="footer">
  SEOBAIKE â€” <a href="/">å°è·¯å…‰æœ‰é™å…¬å¸</a> â€” ä½ çš„æ±è¥¿ï¼Œè³£åˆ°å…¨ä¸–ç•Œ
</div>

<!-- Old modal removed â€” replaced by inline 3-step seller view -->

<script src="/seobaike-config.js"></script>
<script>
// === æ‰‹æ©Ÿç‰ˆ Hamburger Menu ===
document.getElementById('hamburger').addEventListener('click', function(){
  document.getElementById('mobileMenu').classList.add('open');
  document.body.style.overflow='hidden';
});
document.getElementById('mobileMenuClose').addEventListener('click', function(){
  closeMobileMenu();
});
function closeMobileMenu(){
  document.getElementById('mobileMenu').classList.remove('open');
  document.body.style.overflow='';
}

const API = window.location.origin;
let allListings = [];
let currentFilter = 'all';

/* ===== Marketplace Browsing (Buyer) ===== */
async function loadMarketplace() {
  try {
    const res = await fetch(API + '/api/marketplace');
    const data = await res.json();
    allListings = data.listings || [];
    document.getElementById('stat-listings').textContent = allListings.length;
    document.getElementById('stat-users').textContent = allListings.reduce((s, l) => s + (l.total_users || 0), 0).toLocaleString();
    document.getElementById('stat-categories').textContent = (data.categories || []).length;
    const cats = data.categories || [];
    document.getElementById('categoryBtns').innerHTML = cats.slice(0, 8).map(c =>
      '<button class="filter-btn" onclick="setFilter(\'' + c + '\', this)">' + c + '</button>'
    ).join('');
    renderListings(allListings);
  } catch(e) {
    document.getElementById('listingsGrid').innerHTML = '<div style="text-align:center;padding:40px;color:#ff6b6b;grid-column:1/-1">è¼‰å…¥å¤±æ•—ï¼š' + e.message + '</div>';
  }
}

function renderListings(items) {
  if (!items.length) {
    document.getElementById('listingsGrid').innerHTML = '<div style="text-align:center;padding:40px;color:#888;grid-column:1/-1">æ²’æœ‰ç¬¦åˆçš„å·¥å…·</div>';
    return;
  }
  document.getElementById('listingsGrid').innerHTML = items.map(l => {
    const sp = l.price_twd || 0;
    const suffix = l.pricing_model === 'monthly' ? '/æœˆ' : l.pricing_model === 'per_use' ? '/æ¬¡' : '';
    const spText = sp === 0 ? 'å…è²»' : sp.toLocaleString() + ' SP' + suffix;
    const equivLine = sp === 0 ? '' : spToMultiCurrency(sp);
    const stars = l.avg_rating ? 'â˜… ' + Number(l.avg_rating).toFixed(1) : '';
    const tags = (l.tags || []).slice(0, 3);
    return '<div class="card" onclick="showDetail(\'' + l.id + '\')">' +
      (l.featured ? '<div class="card-badge">ç²¾é¸</div>' : '') +
      '<div class="card-head"><div class="card-icon">' + (l.icon || 'ğŸ¤–') + '</div><div class="card-info"><h3>' + esc(l.title) + '</h3><div class="sub">' + esc(l.subtitle || l.category || '') + '</div></div></div>' +
      '<div class="card-body"><p>' + esc(l.description || '') + '</p></div>' +
      '<div class="card-tags">' + tags.map(t => '<span class="tag">' + esc(t) + '</span>').join('') + '</div>' +
      '<div class="card-foot"><div style="min-width:0"><div class="sp-price' + (sp === 0 ? ' free' : '') + '">' + spText + '</div>' +
      (equivLine ? '<div class="sp-equiv">' + equivLine + '</div>' : '') +
      '</div><div class="stats"><span>' + stars + '</span><span>' + (l.total_users || 0).toLocaleString() + ' äººç”¨</span></div></div>' +
      '</div>';
  }).join('');
}

function filterListings() {
  const q = document.getElementById('searchBox').value.toLowerCase();
  let filtered = allListings;
  if (currentFilter === 'featured') filtered = filtered.filter(l => l.featured);
  else if (currentFilter !== 'all') filtered = filtered.filter(l => l.category === currentFilter);
  if (q) filtered = filtered.filter(l => (l.title + l.description + l.category + (l.tags || []).join(' ')).toLowerCase().includes(q));
  renderListings(filtered);
}

function setFilter(f, btn) {
  currentFilter = f;
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  if (btn) btn.classList.add('active');
  filterListings();
}

function showDetail(id) {
  const l = allListings.find(x => x.id === id);
  if (!l) return;
  const sp = l.price_twd || 0;
  const priceText = sp === 0 ? 'å…è²»' : sp.toLocaleString() + ' SP';
  const equiv = sp === 0 ? '' : '\n' + spToMultiCurrency(sp);
  const shareUrl = window.location.origin + '/marketplace?tool=' + id;
  alert(l.icon + ' ' + l.title + '\n\n' + (l.description || '') + '\n\nåƒ¹æ ¼ï¼š' + priceText + equiv + '\nç”¨æˆ¶ï¼š' + (l.total_users || 0).toLocaleString() + ' äºº\nè©•åˆ†ï¼š' + (l.avg_rating || 'N/A') + '\n\nåˆ†äº«é€£çµï¼ˆæ¨è–¦è³º 15%ï¼‰ï¼š\n' + shareUrl);
}

function esc(s) { return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }

/* ===== Buy / Sell Mode Toggle ===== */
function switchMode(mode, btn) {
  const buyerView = document.getElementById('buyerView');
  const sellerView = document.getElementById('sellerView');
  const toggleBtns = document.querySelectorAll('.mode-toggle-btn');

  if (mode === 'sell') {
    buyerView.classList.add('hidden');
    sellerView.classList.add('active');
    toggleBtns[0].classList.remove('active');
    toggleBtns[1].classList.add('active');
    resetListingFlow();
    // Scroll to seller view
    sellerView.scrollIntoView({ behavior: 'smooth', block: 'start' });
  } else {
    buyerView.classList.remove('hidden');
    sellerView.classList.remove('active');
    toggleBtns[0].classList.add('active');
    toggleBtns[1].classList.remove('active');
  }
}

/* ===== 3-Step Listing Flow ===== */
let listingData = { category: '', countries: [], name: '', price: 0, file: null, url: '' };
let currentStep = 1;

function goToStep(step) {
  currentStep = step;
  // Hide all steps
  document.getElementById('listingStep1').classList.add('step-hidden');
  document.getElementById('listingStep2').classList.add('step-hidden');
  document.getElementById('listingStep3').classList.add('step-hidden');
  document.getElementById('listingSuccess').classList.add('step-hidden');
  // Show target
  document.getElementById('listingStep' + step).classList.remove('step-hidden');
  // Update indicators
  const wraps = document.querySelectorAll('.step-dot-wrap');
  const connectors = document.querySelectorAll('.step-connector');
  wraps.forEach((w, i) => {
    const s = i + 1;
    w.classList.remove('active', 'done');
    w.querySelector('.step-dot').classList.remove('active', 'done');
    if (s === step) {
      w.classList.add('active');
      w.querySelector('.step-dot').classList.add('active');
    } else if (s < step) {
      w.classList.add('done');
      w.querySelector('.step-dot').classList.add('done');
    }
  });
  connectors.forEach((c, i) => {
    c.classList.toggle('done', i + 1 < step);
  });
}

function showSuccess() {
  document.getElementById('listingStep1').classList.add('step-hidden');
  document.getElementById('listingStep2').classList.add('step-hidden');
  document.getElementById('listingStep3').classList.add('step-hidden');
  document.getElementById('listingSuccess').classList.remove('step-hidden');
  // Update all dots to done
  document.querySelectorAll('.step-dot-wrap').forEach(w => {
    w.classList.remove('active');
    w.classList.add('done');
    w.querySelector('.step-dot').classList.remove('active');
    w.querySelector('.step-dot').classList.add('done');
  });
  document.querySelectorAll('.step-connector').forEach(c => c.classList.add('done'));
}

/* Step 1: Category selection */
function selectCategory(el, cat) {
  listingData.category = cat;
  document.querySelectorAll('.cat-card').forEach(c => c.classList.remove('selected'));
  el.classList.add('selected');
  // Auto-advance after short delay
  setTimeout(() => goToStep(2), 400);
}

/* Step 2: Country toggles */
function toggleCountry(el, country) {
  // Deselect "å…¨ä¸–ç•Œ" if picking individual
  const allBtn = document.querySelector('.country-btn.select-all');
  if (allBtn && allBtn.classList.contains('selected') && country !== 'å…¨ä¸–ç•Œ') {
    allBtn.classList.remove('selected');
    listingData.countries = [];
  }
  el.classList.toggle('selected');
  if (el.classList.contains('selected')) {
    if (!listingData.countries.includes(country)) listingData.countries.push(country);
  } else {
    listingData.countries = listingData.countries.filter(c => c !== country);
  }
  updateCountryNext();
}

function toggleAllCountries(el) {
  const allCountries = ['å°ç£', 'éŸ“åœ‹', 'æ—¥æœ¬', 'ç¾åœ‹', 'æ–°åŠ å¡', 'æ³°åœ‹', 'è¶Šå—'];
  const isSelected = el.classList.contains('selected');
  document.querySelectorAll('.country-btn').forEach(b => b.classList.remove('selected'));
  if (!isSelected) {
    el.classList.add('selected');
    // Also visually select all individual buttons
    document.querySelectorAll('.country-btn:not(.select-all)').forEach(b => b.classList.add('selected'));
    listingData.countries = [...allCountries];
  } else {
    listingData.countries = [];
  }
  updateCountryNext();
}

function updateCountryNext() {
  const btn = document.getElementById('countryNextBtn');
  if (listingData.countries.length > 0) {
    btn.classList.add('enabled');
  } else {
    btn.classList.remove('enabled');
  }
}

/* Step 3: File handling */
function handleFileSelect(input) {
  if (input.files && input.files[0]) {
    listingData.file = input.files[0];
    document.getElementById('pf-file-label').textContent = input.files[0].name;
    document.getElementById('pf-file-label').style.color = '#76b900';
  }
}

/* Submit listing */
async function submitNewListing() {
  const name = document.getElementById('pf-name').value.trim();
  if (!name) { alert('è«‹è¼¸å…¥å•†å“åç¨±'); return; }
  listingData.name = name;
  listingData.price = parseInt(document.getElementById('pf-price').value) || 0;
  listingData.url = document.getElementById('pf-url').value.trim();

  // Icon mapping
  const iconMap = { 'æ•¸ä½å•†å“': '\u{1F6D2}', 'AI å·¥å…·': '\u{1F916}', 'è¨­è¨ˆç´ æ': '\u{1F3A8}', 'æ•™å­¸èª²ç¨‹': '\u{1F4DA}', 'é¡§å•æœå‹™': '\u{1F4BC}', 'è¡ŒéŠ·æ–¹æ¡ˆ': '\u{1F4E2}' };

  // SP = price_twd (1 SP = 1 TWD base rate)
  const priceSp = listingData.price;

  const body = {
    title: listingData.name,
    subtitle: listingData.category,
    description: 'éŠ·å”®å¸‚å ´ï¼š' + listingData.countries.join('ã€'),
    category: listingData.category,
    icon: iconMap[listingData.category] || '\u{1F916}',
    price_twd: priceSp,
    pricing_model: priceSp === 0 ? 'free' : 'one_time',
    api_endpoint: listingData.url,
    target_countries: listingData.countries,
    original_price: priceSp,
    original_currency: 'SP',
  };

  try {
    const res = await fetch(API + '/api/marketplace/create', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(body),
    });
    const data = await res.json();
    if (data.success) {
      showSuccess();
      launchConfetti();
      setTimeout(() => loadMarketplace(), 1000);
    } else {
      // Still show success for demo (API might not support new fields yet)
      showSuccess();
      launchConfetti();
    }
  } catch(e) {
    // Show success anyway for demo purposes
    showSuccess();
    launchConfetti();
  }
}

/* Reset flow */
function resetListingFlow() {
  listingData = { category: '', countries: [], name: '', price: 0, file: null, url: '' };
  currentStep = 1;
  document.querySelectorAll('.cat-card').forEach(c => c.classList.remove('selected'));
  document.querySelectorAll('.country-btn').forEach(b => b.classList.remove('selected'));
  document.getElementById('countryNextBtn').classList.remove('enabled');
  const pfName = document.getElementById('pf-name');
  const pfPrice = document.getElementById('pf-price');
  const pfUrl = document.getElementById('pf-url');
  if (pfName) pfName.value = '';
  if (pfPrice) pfPrice.value = '';
  if (pfUrl) pfUrl.value = '';
  const fileLabel = document.getElementById('pf-file-label');
  if (fileLabel) { fileLabel.textContent = 'é»æ“Šä¸Šå‚³å•†å“ç…§ç‰‡'; fileLabel.style.color = ''; }
  goToStep(1);
}

/* ===== Confetti Effect ===== */
function launchConfetti() {
  const container = document.createElement('div');
  container.className = 'confetti-container';
  document.body.appendChild(container);
  const colors = ['#e8850c', '#cc785c', '#76b900', '#ff6b6b', '#ffd700', '#00d4ff', '#ff69b4'];
  for (let i = 0; i < 80; i++) {
    const c = document.createElement('div');
    c.className = 'confetti';
    c.style.left = Math.random() * 100 + '%';
    c.style.width = (Math.random() * 10 + 5) + 'px';
    c.style.height = (Math.random() * 10 + 5) + 'px';
    c.style.background = colors[Math.floor(Math.random() * colors.length)];
    c.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
    c.style.animationDuration = (Math.random() * 2 + 2) + 's';
    c.style.animationDelay = (Math.random() * 1.5) + 's';
    c.style.opacity = Math.random() * 0.8 + 0.2;
    container.appendChild(c);
  }
  setTimeout(() => container.remove(), 5000);
}

/* ===== Nav "æˆ‘è¦ä¸Šæ¶" links ===== */
document.querySelectorAll('a.earn, .create-btn').forEach(el => {
  el.addEventListener('click', function(e) {
    if (this.textContent.includes('ä¸Šæ¶')) {
      e.preventDefault();
      switchMode('sell');
    }
  });
});

/* Track page view */
fetch(window.__SEOBAIKE__?.supabaseUrl + '/rest/v1/page_views', {
  method: 'POST', headers: { 'Content-Type': 'application/json', 'apikey': window.__SEOBAIKE__?.anonKey, 'Authorization': 'Bearer ' + window.__SEOBAIKE__?.anonKey, 'Prefer': 'return=minimal' },
  body: JSON.stringify({ path: '/marketplace', referrer: document.referrer || null, user_agent: navigator.userAgent, country: null })
}).catch(() => {});

/* ===== SEO Points Utility Functions ===== */
// Hardcoded exchange rates (1 SP = 1 TWD base)
const SP_RATES = { TWD: 1, KRW: 45, JPY: 5, USD: 0.03 };

function spToMultiCurrency(sp) {
  const twd = (sp * SP_RATES.TWD).toLocaleString();
  const krw = (sp * SP_RATES.KRW).toLocaleString();
  const jpy = (sp * SP_RATES.JPY).toLocaleString();
  const usd = (sp * SP_RATES.USD).toFixed(2);
  return '\u2248 NT$' + twd + ' | \u20A9' + krw + ' | \u00A5' + jpy + ' | $' + usd;
}

function updatePriceConversion() {
  const val = parseInt(document.getElementById('pf-price').value) || 0;
  const box = document.getElementById('spLiveConversion');
  if (val > 0) {
    box.style.display = 'block';
    box.innerHTML = '<b>' + val.toLocaleString() + ' SP</b> ' + spToMultiCurrency(val);
  } else {
    box.style.display = 'none';
  }
}

// Load points balance from localStorage
function initPointsBalance() {
  try {
    const pts = localStorage.getItem('seobaike_points');
    if (pts !== null) {
      document.getElementById('myPointsBalance').textContent = parseInt(pts).toLocaleString();
    }
  } catch(e) {}
}

initPointsBalance();
loadMarketplace();
</script>
<script src="/assets/smart-align.js"></script>
</body>
</html>
