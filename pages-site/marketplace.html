<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI 全球市集 — SEOBAIKE | 買家找工具，賣家賣全球</title>
  <meta name="description" content="SEOBAIKE AI 全球市集：買家一站探索多元 AI 工具，賣家把產品賣到全世界。SEO工具、AI對話、圖片生成、翻譯服務、數據分析、內容生成。">
  <meta name="keywords" content="SEOBAIKE,AI 市集,AI 工具,全球市集,SEO工具,AI對話,圖片生成,翻譯服務,數據分析,內容生成">
  <link rel="canonical" href="https://aiforseo.vip/marketplace">
  <meta property="og:title" content="AI 全球市集 — SEOBAIKE | 買家找工具，賣家賣全球">
  <meta property="og:description" content="SEOBAIKE AI 全球市集：買家一站探索多元 AI 工具，賣家把產品賣到全世界。">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://aiforseo.vip/marketplace">
  <meta property="og:image" content="/og-image.png">
  <meta property="og:site_name" content="SEOBAIKE">
  <meta property="og:locale" content="zh_TW">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="AI 全球市集 — SEOBAIKE">
  <meta name="twitter:description" content="買家找工具，賣家賣全球。SEOBAIKE AI 全球市集。">
  <meta name="theme-color" content="#e8850c">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/favicon.svg">
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "AI 全球市集",
    "description": "SEOBAIKE AI 全球市集：買家找工具，賣家賣全球",
    "url": "https://aiforseo.vip/marketplace",
    "publisher": { "@type": "Organization", "name": "小路光有限公司", "taxID": "60475510" }
  }]
  </script>
  <link rel="stylesheet" href="/assets/design-system.css">
  <link rel="stylesheet" href="/assets/premium-fx.css">
  <style>
    /* ── Page-specific styles ── */

    /* Hero */
    .mp-hero {
      position: relative;
      padding: 140px 0 100px;
      text-align: center;
      overflow: hidden;
    }
    .mp-hero::before {
      content: '';
      position: absolute;
      top: -40%;
      left: 50%;
      transform: translateX(-50%);
      width: 800px;
      height: 800px;
      background: radial-gradient(circle, rgba(232,133,12,0.08) 0%, transparent 70%);
      pointer-events: none;
    }
    .mp-hero h1 { margin-bottom: var(--sp-4); }
    .mp-hero .hero-sub {
      font-size: 1.15rem;
      color: var(--text-muted);
      max-width: 560px;
      margin: 0 auto var(--sp-8);
      line-height: 1.7;
    }

    /* Category Browser */
    .cat-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--sp-6);
    }
    .cat-card {
      text-align: center;
      cursor: pointer;
      padding: var(--sp-8) var(--sp-4);
    }
    .cat-card .cat-icon {
      font-size: 2.8rem;
      display: block;
      margin-bottom: var(--sp-3);
      transition: transform var(--duration-normal) var(--ease-spring);
    }
    .cat-card:hover .cat-icon { transform: scale(1.15) translateY(-4px); }
    .cat-card h4 { margin-bottom: var(--sp-1); }
    .cat-card p { font-size: 0.82rem; color: var(--text-muted); }

    /* Search UI */
    .search-wrap {
      display: flex;
      gap: var(--sp-3);
      max-width: 640px;
      margin: 0 auto var(--sp-10);
    }
    .search-wrap .input { border-radius: var(--radius-full); padding-left: var(--sp-6); }
    .search-wrap .btn { flex-shrink: 0; }

    /* Product grid */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--sp-6);
    }
    .product-card { cursor: pointer; }
    .product-card .p-icon { font-size: 2rem; margin-bottom: var(--sp-3); display: block; }
    .product-card .p-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: var(--sp-4);
      padding-top: var(--sp-4);
      border-top: 1px solid var(--border-subtle);
    }
    .product-card .p-price { font-weight: 800; color: var(--gold-200); font-size: 1rem; }
    .product-card .p-price.free { color: var(--success); }
    .product-card .p-stats { font-size: 0.78rem; color: var(--text-muted); }
    .product-card .p-tags { display: flex; gap: var(--sp-2); margin-top: var(--sp-3); flex-wrap: wrap; }
    .product-card .p-tag {
      font-size: 0.7rem;
      padding: 2px 8px;
      border-radius: var(--radius-full);
      background: rgba(255,255,255,0.04);
      color: var(--text-muted);
      border: 1px solid var(--border-subtle);
    }

    /* Seller flow */
    .flow-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: var(--sp-6);
      counter-reset: flow;
    }
    .flow-step { text-align: center; position: relative; }
    .flow-step::before {
      counter-increment: flow;
      content: counter(flow);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: rgba(232,133,12,0.1);
      border: 1px solid rgba(232,133,12,0.25);
      color: var(--gold-200);
      font-weight: 800;
      font-size: 1.1rem;
      margin: 0 auto var(--sp-4);
    }
    .flow-step h4 { margin-bottom: var(--sp-2); }
    .flow-step p { font-size: 0.85rem; color: var(--text-muted); }

    /* Stats */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--sp-6);
    }
    .stat-card {
      text-align: center;
      padding: var(--sp-12) var(--sp-8);
    }
    .stat-card .stat-num {
      font-size: clamp(2.2rem, 4vw, 3.2rem);
      font-weight: 900;
      background: var(--gold-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1.1;
      margin-bottom: var(--sp-2);
    }
    .stat-card .stat-label {
      font-size: 0.92rem;
      color: var(--text-muted);
      font-weight: 500;
    }

    /* Dual CTA */
    .cta-section {
      position: relative;
      text-align: center;
      overflow: hidden;
    }
    .cta-section::before {
      content: '';
      position: absolute;
      bottom: -30%;
      left: 50%;
      transform: translateX(-50%);
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(232,133,12,0.06) 0%, transparent 70%);
      pointer-events: none;
    }
    .cta-buttons {
      display: flex;
      gap: var(--sp-4);
      justify-content: center;
      flex-wrap: wrap;
    }

    /* Commission note */
    .commission-note {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 16px;
      border-radius: var(--radius-full);
      background: rgba(52,208,88,0.06);
      border: 1px solid rgba(52,208,88,0.15);
      font-size: 0.8rem;
      color: var(--success);
      font-weight: 600;
      margin-top: var(--sp-4);
    }

    /* ── Responsive overrides ── */
    @media (max-width: 1024px) {
      .cat-grid { grid-template-columns: repeat(3, 1fr); }
      .product-grid { grid-template-columns: repeat(2, 1fr); }
      .flow-grid { grid-template-columns: repeat(2, 1fr); }
      .stats-grid { grid-template-columns: repeat(3, 1fr); }
    }
    @media (max-width: 768px) {
      .mp-hero { padding: 110px 0 60px; }
      .cat-grid { grid-template-columns: repeat(2, 1fr); }
      .product-grid { grid-template-columns: 1fr; }
      .flow-grid { grid-template-columns: 1fr 1fr; gap: var(--sp-8); }
      .stats-grid { grid-template-columns: 1fr; gap: var(--sp-4); }
      .stat-card { padding: var(--sp-8) var(--sp-6); }
      .search-wrap { flex-direction: column; }
      .search-wrap .btn { width: 100%; }
      .cta-buttons { flex-direction: column; align-items: center; }
      .cta-buttons .btn { width: 100%; max-width: 320px; }
    }
    @media (max-width: 480px) {
      .cat-grid { grid-template-columns: repeat(2, 1fr); gap: var(--sp-3); }
      .cat-card { padding: var(--sp-5) var(--sp-3); }
      .cat-card .cat-icon { font-size: 2rem; }
      .flow-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body class="page-top">

  <!-- ═══════ Nav ═══════ -->
  <nav class="nav" id="mainNav">
    <a href="/" class="nav-brand">
      <img src="/favicon.svg" alt="S" width="34" height="34">
      <span class="seo">SEO</span><span class="baike">BAIKE</span>
    </a>
    <ul class="nav-links">
      <li><a href="/">首頁</a></li>
      <li><a href="/features">功能</a></li>
      <li><a href="/marketplace" class="active">市集</a></li>
      <li><a href="/pricing">方案</a></li>
      <li><a href="/about">關於</a></li>
      <li><a href="/docs">常見問題</a></li>
      <li><a href="/marketplace#sellers" class="nav-cta">我要上架</a></li>
    </ul>
    <button class="nav-hamburger" onclick="toggleMenu()" aria-label="選單">
      <span></span><span></span><span></span>
    </button>
  </nav>

  <!-- Mobile overlay -->
  <div class="mobile-overlay" id="mobileOverlay">
    <button class="mobile-close" onclick="toggleMenu()" aria-label="關閉">&times;</button>
    <a href="/" onclick="toggleMenu()">首頁</a>
    <a href="/features" onclick="toggleMenu()">功能</a>
    <a href="/marketplace" onclick="toggleMenu()">市集</a>
    <a href="/pricing" onclick="toggleMenu()">方案</a>
    <a href="/about" onclick="toggleMenu()">關於</a>
    <a href="/docs" onclick="toggleMenu()">常見問題</a>
    <a href="/marketplace#sellers" class="nav-cta" style="margin-top:16px;display:inline-flex;" onclick="toggleMenu()">我要上架</a>
  </div>

  <!-- ═══════ 1. Hero ═══════ -->
  <section class="mp-hero section-lg eruption-bg">
    <div class="container fade-up">
      <div class="section-badge">MARKETPLACE</div>
      <h1 class="volcanic-title">AI <span class="text-gold">全球市集</span></h1>
      <p class="hero-sub">
        買家找工具，賣家賣全球。<br>
        一個平台，連結全世界的 AI 供需。
      </p>
      <div class="cta-buttons">
        <a href="#buyers" class="btn btn-primary btn-lg">探索 AI 工具</a>
        <a href="#sellers" class="btn btn-secondary btn-lg">成為賣家</a>
      </div>
    </div>
  </section>

  <hr class="divider">

  <!-- ═══════ 2. Category Browser ═══════ -->
  <section class="section" id="categories">
    <div class="container">
      <div class="section-header fade-up">
        <div class="section-badge">CATEGORIES</div>
        <h2>探索 AI 工具類別</h2>
        <p>從 SEO 到內容生成，找到你需要的一切</p>
      </div>
      <div class="cat-grid fade-up">
        <div class="card cat-card" onclick="filterByCategory('SEO工具')">
          <span class="cat-icon">&#x1F50D;</span>
          <h4>SEO 工具</h4>
          <p>關鍵字分析、排名追蹤、網站優化</p>
        </div>
        <div class="card cat-card" onclick="filterByCategory('AI對話')">
          <span class="cat-icon">&#x1F4AC;</span>
          <h4>AI 對話</h4>
          <p>聊天機器人、客服自動化、對話引擎</p>
        </div>
        <div class="card cat-card" onclick="filterByCategory('圖片生成')">
          <span class="cat-icon">&#x1F3A8;</span>
          <h4>圖片生成</h4>
          <p>AI 繪圖、設計素材、影像處理</p>
        </div>
        <div class="card cat-card" onclick="filterByCategory('翻譯服務')">
          <span class="cat-icon">&#x1F310;</span>
          <h4>翻譯服務</h4>
          <p>多語翻譯、在地化、字幕生成</p>
        </div>
        <div class="card cat-card" onclick="filterByCategory('數據分析')">
          <span class="cat-icon">&#x1F4CA;</span>
          <h4>數據分析</h4>
          <p>報表生成、趨勢預測、商業智能</p>
        </div>
        <div class="card cat-card" onclick="filterByCategory('內容生成')">
          <span class="cat-icon">&#x270D;&#xFE0F;</span>
          <h4>內容生成</h4>
          <p>文案撰寫、部落格、社群貼文</p>
        </div>
      </div>
    </div>
  </section>

  <hr class="divider">

  <!-- ═══════ 3. For Buyers ═══════ -->
  <section class="section" id="buyers">
    <div class="container">
      <div class="section-header fade-up">
        <div class="section-badge">FOR BUYERS</div>
        <h2>找到你需要的 <span class="text-gold">AI 工具</span></h2>
        <p>搜尋、比較、一鍵使用 — 全球多元的 AI 工具都在這裡</p>
      </div>

      <!-- Search UI -->
      <div class="search-wrap fade-up">
        <input type="text" class="input" id="searchBox" placeholder="搜尋 AI 工具... SEO、翻譯、圖片生成..." oninput="filterListings()">
        <button class="btn btn-primary" onclick="filterListings()">搜尋</button>
      </div>

      <!-- Filter tags -->
      <div class="flex-center gap-4 fade-up mb-8" style="flex-wrap:wrap;">
        <button class="btn btn-sm btn-secondary" style="border-color:var(--border-active);color:var(--text-primary);" onclick="setFilter('all', this)">全部</button>
        <button class="btn btn-sm btn-ghost" onclick="setFilter('featured', this)">精選</button>
        <div id="categoryBtns" style="display:inline-flex;gap:8px;flex-wrap:wrap;"></div>
      </div>

      <!-- Product grid (dynamically populated) -->
      <div class="product-grid fade-up" id="listingsGrid">
        <div class="card" style="grid-column:1/-1;text-align:center;padding:var(--sp-12);">
          <p class="text-muted">正在載入市集商品...</p>
        </div>
      </div>
    </div>
  </section>

  <hr class="divider">

  <!-- ═══════ 4. For Sellers ═══════ -->
  <section class="section" id="sellers">
    <div class="container">
      <div class="section-header fade-up">
        <div class="section-badge">FOR SELLERS</div>
        <h2>把你的產品 <span class="text-gold">賣到全世界</span></h2>
        <p>上架你的 AI 工具或數位商品，讓全球買家看到你</p>
      </div>

      <div class="flow-grid fade-up">
        <div class="flow-step">
          <h4>註冊賣家帳號</h4>
          <p>填寫基本資料，完成賣家認證</p>
        </div>
        <div class="flow-step">
          <h4>建立商品頁面</h4>
          <p>上傳商品資訊，AI 自動優化描述</p>
        </div>
        <div class="flow-step">
          <h4>AI 多語翻譯</h4>
          <p>系統自動翻譯成韓文、日文、英文等語言</p>
        </div>
        <div class="flow-step">
          <h4>全球收款</h4>
          <p>買家下單，依合約撥款。安全透明</p>
        </div>
      </div>

      <div class="text-center mt-8 fade-up">
        <div class="commission-note">分潤依合約約定，所有交易透明可查</div>
      </div>

      <div class="text-center mt-8 fade-up">
        <a href="/login" class="btn btn-primary btn-lg">開始上架</a>
      </div>
    </div>
  </section>

  <hr class="divider">

  <!-- ═══════ 5. Stats ═══════ -->
  <section class="section-sm">
    <div class="container">
      <div class="stats-grid fade-up">
        <div class="card stat-card">
          <div class="stat-num" id="stat-listings">--</div>
          <div class="stat-label">市集商品數</div>
        </div>
        <div class="card stat-card">
          <div class="stat-num" id="stat-sellers">--</div>
          <div class="stat-label">活躍賣家數</div>
        </div>
        <div class="card stat-card">
          <div class="stat-num">30+</div>
          <div class="stat-label">服務國家數</div>
        </div>
      </div>
    </div>
  </section>

  <hr class="divider">

  <!-- ═══════ 6. CTA ═══════ -->
  <section class="section-lg cta-section">
    <div class="container fade-up">
      <div class="section-header">
        <h2>準備好了嗎？</h2>
        <p>不管你是要找工具還是賣產品，SEOBAIKE 市集都歡迎你</p>
      </div>
      <div class="cta-buttons">
        <a href="#buyers" class="btn btn-primary btn-lg">逛市集</a>
        <a href="#sellers" class="btn btn-secondary btn-lg">成為賣家</a>
      </div>
    </div>
  </section>

  <!-- ═══════ Footer ═══════ -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <a href="/" class="nav-brand" style="font-size:1.4rem;margin-bottom:16px;">
            <img src="/favicon.svg" alt="S" width="28" height="28">
            <span class="seo">SEO</span><span class="baike">BAIKE</span>
          </a>
          <p>AI 驅動的全球市集。你的產品，全世界都能買到。<br>由小路光有限公司（統編 60475510）開發與維運。</p>
        </div>
        <div class="footer-col">
          <h4>產品</h4>
          <a href="/features">功能總覽</a>
          <a href="/pricing">方案與定價</a>
          <a href="/marketplace">逛市集</a>
          <a href="/docs">常見問題</a>
        </div>
        <div class="footer-col">
          <h4>公司</h4>
          <a href="/about">關於我們</a>
          <a href="/contact">聯繫我們</a>
          <a href="/privacy">隱私權政策</a>
          <a href="/terms">服務條款</a>
        </div>
        <div class="footer-col">
          <h4>支援</h4>
          <a href="/docs">使用說明</a>
          <a href="/contact">聯繫客服</a>
          <a href="/status">服務狀態</a>
          <a href="/blog">部落格</a>
        </div>
      </div>
      <div class="footer-bottom">
        <div>&copy; 2026 小路光有限公司（統編 60475510）</div>
        <div>aiforseo.vip</div>
      </div>
      <div class="footer-disclaimer">
        本平台由小路光有限公司（統編 60475510）營運。AI 服務結果僅供參考，不構成任何形式之保證或承諾。使用本服務即表示同意<a href="/terms">服務條款</a>及<a href="/privacy">隱私權政策</a>。台灣專利申請案號 115100981。
      </div>
    </div>
  </footer>

  <!-- ═══════ Scripts ═══════ -->
  <script src="/seobaike-config.js"></script>
  <script>
    /* ─── Design System: Fade-up observer ─── */
    (function() {
      var obs = new IntersectionObserver(function(entries) {
        entries.forEach(function(e) { if (e.isIntersecting) e.target.classList.add('visible'); });
      }, { threshold: 0.08 });
      document.querySelectorAll('.fade-up').forEach(function(el) { obs.observe(el); });
    })();

    /* ─── Nav scroll effect ─── */
    window.addEventListener('scroll', function() {
      var nav = document.getElementById('mainNav');
      if (nav) nav.classList.toggle('scrolled', window.scrollY > 20);
    }, { passive: true });

    /* ─── Hamburger menu ─── */
    function toggleMenu() {
      var ham = document.querySelector('.nav-hamburger');
      var overlay = document.getElementById('mobileOverlay');
      if (ham) ham.classList.toggle('active');
      if (overlay) overlay.classList.toggle('open');
      document.body.style.overflow = overlay && overlay.classList.contains('open') ? 'hidden' : '';
    }

    /* ═══════ Marketplace Logic ═══════ */
    var API = window.location.origin;
    var allListings = [];
    var currentFilter = 'all';

    function esc(s) {
      return String(s || '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
    }

    /* Load marketplace data from API */
    async function loadMarketplace() {
      try {
        var res = await fetch(API + '/api/marketplace');
        var data = await res.json();
        allListings = data.listings || [];

        /* Update stats */
        var el1 = document.getElementById('stat-listings');
        var el2 = document.getElementById('stat-sellers');
        if (el1) el1.textContent = allListings.length;

        /* Estimate sellers from unique subtitles or show user count */
        var sellers = new Set(allListings.map(function(l) { return l.subtitle || l.category || ''; }));
        if (el2) el2.textContent = sellers.size || '--';

        /* Build dynamic category filter buttons */
        var cats = data.categories || [];
        var catBtns = document.getElementById('categoryBtns');
        if (catBtns) {
          catBtns.innerHTML = cats.slice(0, 8).map(function(c) {
            return '<button class="btn btn-sm btn-ghost" onclick="setFilter(\'' + c + '\', this)">' + c + '</button>';
          }).join('');
        }

        renderListings(allListings);
      } catch (e) {
        var grid = document.getElementById('listingsGrid');
        if (grid) grid.innerHTML = '<div class="card" style="grid-column:1/-1;text-align:center;padding:var(--sp-12);"><p style="color:var(--danger);">載入失敗：' + esc(e.message) + '</p></div>';
      }
    }

    /* Render product cards */
    function renderListings(items) {
      var grid = document.getElementById('listingsGrid');
      if (!grid) return;

      if (!items.length) {
        grid.innerHTML = '<div class="card" style="grid-column:1/-1;text-align:center;padding:var(--sp-12);"><p class="text-muted">沒有符合的工具</p></div>';
        return;
      }

      grid.innerHTML = items.map(function(l) {
        var sp = l.price_twd || 0;
        var suffix = l.pricing_model === 'monthly' ? '/月' : l.pricing_model === 'per_use' ? '/次' : '';
        var priceText = sp === 0 ? '免費' : sp.toLocaleString() + ' SP' + suffix;
        var stars = l.avg_rating ? '&#9733; ' + Number(l.avg_rating).toFixed(1) : '';
        var tags = (l.tags || []).slice(0, 3);
        var isFree = sp === 0;

        return '<div class="card product-card" onclick="showDetail(\'' + l.id + '\')">' +
          (l.featured ? '<span class="badge badge-gold" style="position:absolute;top:12px;right:12px;">精選</span>' : '') +
          '<span class="p-icon">' + (l.icon || '&#x1F916;') + '</span>' +
          '<h4>' + esc(l.title) + '</h4>' +
          '<p style="font-size:0.85rem;margin-top:4px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;">' + esc(l.description || '') + '</p>' +
          (tags.length ? '<div class="p-tags">' + tags.map(function(t) { return '<span class="p-tag">' + esc(t) + '</span>'; }).join('') + '</div>' : '') +
          '<div class="p-meta">' +
            '<span class="p-price' + (isFree ? ' free' : '') + '">' + priceText + '</span>' +
            '<span class="p-stats">' + (stars ? stars + ' &middot; ' : '') + (l.total_users || 0).toLocaleString() + ' 人使用</span>' +
          '</div>' +
        '</div>';
      }).join('');
    }

    /* Filter and search */
    function filterListings() {
      var q = (document.getElementById('searchBox').value || '').toLowerCase();
      var filtered = allListings;

      if (currentFilter === 'featured') {
        filtered = filtered.filter(function(l) { return l.featured; });
      } else if (currentFilter !== 'all') {
        filtered = filtered.filter(function(l) { return l.category === currentFilter; });
      }

      if (q) {
        filtered = filtered.filter(function(l) {
          return (l.title + l.description + l.category + (l.tags || []).join(' ')).toLowerCase().indexOf(q) !== -1;
        });
      }

      renderListings(filtered);
    }

    function setFilter(f, btn) {
      currentFilter = f;
      /* Reset all filter button styles */
      document.querySelectorAll('#buyers .btn-sm').forEach(function(b) {
        b.classList.remove('btn-secondary');
        b.classList.add('btn-ghost');
        b.style.borderColor = '';
        b.style.color = '';
      });
      if (btn) {
        btn.classList.remove('btn-ghost');
        btn.classList.add('btn-secondary');
        btn.style.borderColor = 'var(--border-active)';
        btn.style.color = 'var(--text-primary)';
      }
      filterListings();
    }

    /* Filter from category card click */
    function filterByCategory(cat) {
      currentFilter = cat;
      document.getElementById('searchBox').value = '';
      filterListings();
      /* Scroll to buyer section */
      var target = document.getElementById('buyers');
      if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    /* Product detail (simple alert for now) */
    function showDetail(id) {
      var l = allListings.find(function(x) { return x.id === id; });
      if (!l) return;
      var sp = l.price_twd || 0;
      var priceText = sp === 0 ? '免費' : sp.toLocaleString() + ' SP';
      var shareUrl = window.location.origin + '/marketplace?tool=' + id;
      alert(
        (l.icon || '') + ' ' + l.title + '\n\n' +
        (l.description || '') + '\n\n' +
        '價格：' + priceText + '\n' +
        '用戶：' + (l.total_users || 0).toLocaleString() + ' 人\n' +
        '評分：' + (l.avg_rating || 'N/A') + '\n\n' +
        '分享連結：\n' + shareUrl
      );
    }

    /* ─── Page View Tracking ─── */
    (function() {
      try {
        var cfg = window.__SEOBAIKE__ || {};
        var sUrl = cfg.supabaseUrl || 'https://vmyrivxxibqydccurxug.supabase.co';
        var sKey = cfg.anonKey || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZteXJpdnh4aWJxeWRjY3VyeHVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwNDAwMjksImV4cCI6MjA4NTYxNjAyOX0.iBV-23LGdm_uKffAExgqSV34-NWoAyv8_-M_cJQZ8Gg';
        fetch(sUrl + '/rest/v1/page_views', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json', 'apikey': sKey, 'Authorization': 'Bearer ' + sKey, 'Prefer': 'return=minimal' },
          body: JSON.stringify({ path: '/marketplace', referrer: document.referrer || null, user_agent: navigator.userAgent })
        }).catch(function() {});
      } catch (e) {}
    })();

    /* ─── Init ─── */
    loadMarketplace();
  </script>
  <script src="/seobaike-widget.js"></script>
  <script src="/assets/premium-fx.js"></script>
</body>
</html>